"use strict";(self.webpackChunkstack_over_clone=self.webpackChunkstack_over_clone||[]).push([[179],{2011:(ut,Se,P)=>{P.d(Se,{Dh:()=>le,GT:()=>J,cc:()=>De,hO:()=>Pe,on:()=>H,pX:()=>se,xv:()=>ae});var a=P(4650),Q=P(9260),N=P(263);ut=P.hmd(ut);const oe=["ngOnDestroy"],se=(Ae,Ie,Le,re={})=>new Proxy(Ae,{get:(ie,pe)=>Le.runOutsideAngular(()=>{var be;if(Ae[pe])return!(null===(be=re?.spy)||void 0===be)&&be.get&&re.spy.get(pe,Ae[pe]),Ae[pe];if(oe.indexOf(pe)>-1)return()=>{};const Ee=Ie.toPromise().then(z=>{const ve=z&&z[pe];return"function"==typeof ve?ve.bind(z):ve&&ve.then?ve.then(je=>Le.run(()=>je)):Le.run(()=>ve)});return new Proxy(()=>{},{get:(z,ve)=>Ee[ve],apply:(z,ve,je)=>Ee.then(ze=>{var mt;const tt=ze&&ze(...je);return!(null===(mt=re?.spy)||void 0===mt)&&mt.apply&&re.spy.apply(pe,je,tt),tt})})})}),J=(Ae,Ie)=>{Ie.forEach(Le=>{Object.getOwnPropertyNames(Le.prototype||Le).forEach(re=>{Object.defineProperty(Ae.prototype,re,Object.getOwnPropertyDescriptor(Le.prototype||Le,re))})})};class _e{constructor(Ie){return Ie}}const le=new a.OlP("angularfire2.app.options"),ae=new a.OlP("angularfire2.app.name");function H(Ae,Ie,Le){const ie="object"==typeof Le&&Le||{};ie.name=ie.name||"string"==typeof Le&&Le||"[DEFAULT]";const be=Q.Z.apps.filter(Ee=>Ee&&Ee.name===ie.name)[0]||Ie.runOutsideAngular(()=>Q.Z.initializeApp(Ae,ie));try{JSON.stringify(Ae)!==JSON.stringify(be.options)&&G("error",`${be.name} Firebase App already initialized with different options${ut.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new _e(be)}const G=(Ae,...Ie)=>{(0,a.X6Q)()&&typeof console<"u"&&console[Ae](...Ie)},K={provide:_e,useFactory:H,deps:[le,a.R0b,[new a.FiY,ae]]};let Pe=(()=>{class Ae{constructor(Le){Q.Z.registerVersion("angularfire",N.q4.full,"core"),Q.Z.registerVersion("angularfire",N.q4.full,"app-compat"),Q.Z.registerVersion("angular",a.q4F.full,Le.toString())}static initializeApp(Le,re){return{ngModule:Ae,providers:[{provide:le,useValue:Le},{provide:ae,useValue:re}]}}}return Ae.\u0275fac=function(Le){return new(Le||Ae)(a.LFG(a.Lbi))},Ae.\u0275mod=a.oAB({type:Ae}),Ae.\u0275inj=a.cJS({providers:[K]}),Ae})();function De(Ae,Ie,Le,re,ie){const[,pe,be]=globalThis.\u0275AngularfireInstanceCache.find(Ee=>Ee[0]===Ae)||[];if(pe)return function qe(Ae,Ie){try{return Ae.toString()===Ie.toString()}catch{return Ae===Ie}}(ie,be)||(ye("error",`${Ie} was already initialized on the ${Le} Firebase App with different settings.${ht?" You may need to reload as Firebase is not HMR aware.":""}`),ye("warn",{is:ie,was:be})),pe;{const Ee=re();return globalThis.\u0275AngularfireInstanceCache.push([Ae,Ee,ie]),Ee}}const ht=!!ut.hot,ye=(Ae,...Ie)=>{(0,a.X6Q)()&&typeof console<"u"&&console[Ae](...Ie)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},263:(ut,Se,P)=>{P.d(Se,{q4:()=>la,iC:()=>Jo,HU:()=>ai,vb:()=>Nd,JM:()=>ua,u3:()=>xn});var a=P(4650),Q=P(259),N=P(5861),oe=P(9681),se=P(2090),J=P(4859),_e=P(1877),le=P(8766);const ae="@firebase/installations",H="0.6.4",G=1e4,K=`w:${H}`,Pe="FIS_v2",De="https://firebaseinstallations.googleapis.com/v1",qe=36e5,Ie=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Le(S){return S instanceof se.ZR&&S.code.includes("request-failed")}function re({projectId:S}){return`${De}/projects/${S}/installations`}function ie(S){return{token:S.token,requestStatus:2,expiresIn:ze(S.expiresIn),creationTime:Date.now()}}function pe(S,I){return be.apply(this,arguments)}function be(){return(be=(0,N.Z)(function*(S,I){const F=(yield I.json()).error;return Ie.create("request-failed",{requestName:S,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function Ee({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function ve(S){return je.apply(this,arguments)}function je(){return(je=(0,N.Z)(function*(S){const I=yield S();return I.status>=500&&I.status<600?S():I})).apply(this,arguments)}function ze(S){return Number(S.replace("s","000"))}function ue(){return(ue=(0,N.Z)(function*({appConfig:S,heartbeatServiceProvider:I},{fid:R}){const F=re(S),X=Ee(S),ne=I.getImmediate({optional:!0});if(ne){const We=yield ne.getHeartbeatsHeader();We&&X.append("x-firebase-client",We)}const at={method:"POST",headers:X,body:JSON.stringify({fid:R,authVersion:Pe,appId:S.appId,sdkVersion:K})},yt=yield ve(()=>fetch(F,at));if(yt.ok){const We=yield yt.json();return{fid:We.fid||R,registrationStatus:2,refreshToken:We.refreshToken,authToken:ie(We.authToken)}}throw yield pe("Create Installation",yt)})).apply(this,arguments)}function ge(S){return new Promise(I=>{setTimeout(I,S)})}const Re=/^[cdef][\w-]{21}$/,Be="";function He(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const R=function ot(S){return function Ce(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return Re.test(R)?R:Be}catch{return Be}}function Je(S){return`${S.appName}!${S.appId}`}const hn=new Map;function St(S,I){const R=Je(S);Lt(R,I),function ti(S,I){const R=function Mn(){return!wn&&"BroadcastChannel"in self&&(wn=new BroadcastChannel("[Firebase] FID Change"),wn.onmessage=S=>{Lt(S.data.key,S.data.fid)}),wn}();R&&R.postMessage({key:S,fid:I}),function Pn(){0===hn.size&&wn&&(wn.close(),wn=null)}()}(R,I)}function Lt(S,I){const R=hn.get(S);if(R)for(const F of R)F(I)}let wn=null;const Mr="firebase-installations-database",hs=1,Rr="firebase-installations-store";let mr=null;function zo(){return mr||(mr=(0,le.X3)(Mr,hs,{upgrade:(S,I)=>{0===I&&S.createObjectStore(Rr)}})),mr}function Rn(S,I){return pr.apply(this,arguments)}function pr(){return(pr=(0,N.Z)(function*(S,I){const R=Je(S),X=(yield zo()).transaction(Rr,"readwrite"),ne=X.objectStore(Rr),ke=yield ne.get(R);return yield ne.put(I,R),yield X.done,(!ke||ke.fid!==I.fid)&&St(S,I.fid),I})).apply(this,arguments)}function vt(S){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,N.Z)(function*(S){const I=Je(S),F=(yield zo()).transaction(Rr,"readwrite");yield F.objectStore(Rr).delete(I),yield F.done})).apply(this,arguments)}function Br(S,I){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,N.Z)(function*(S,I){const R=Je(S),X=(yield zo()).transaction(Rr,"readwrite"),ne=X.objectStore(Rr),ke=yield ne.get(R),at=I(ke);return void 0===at?yield ne.delete(R):yield ne.put(at,R),yield X.done,at&&(!ke||ke.fid!==at.fid)&&St(S,at.fid),at})).apply(this,arguments)}function Vi(S){return fs.apply(this,arguments)}function fs(){return fs=(0,N.Z)(function*(S){let I;const R=yield Br(S.appConfig,F=>{const X=function Ut(S){return Bi(S||{fid:He(),registrationStatus:0})}(F),ne=function xt(S,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(Ie.create("app-offline"))};const R={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},F=function kt(S,I){return ms.apply(this,arguments)}(S,R);return{installationEntry:R,registrationPromise:F}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:Dn(S)}:{installationEntry:I}}(S,X);return I=ne.registrationPromise,ne.installationEntry});return R.fid===Be?{installationEntry:yield I}:{installationEntry:R,registrationPromise:I}}),fs.apply(this,arguments)}function ms(){return ms=(0,N.Z)(function*(S,I){try{const R=yield function tt(S,I){return ue.apply(this,arguments)}(S,I);return Rn(S.appConfig,R)}catch(R){throw Le(R)&&409===R.customData.serverCode?yield vt(S.appConfig):yield Rn(S.appConfig,{fid:I.fid,registrationStatus:0}),R}}),ms.apply(this,arguments)}function Dn(S){return ni.apply(this,arguments)}function ni(){return(ni=(0,N.Z)(function*(S){let I=yield Yi(S.appConfig);for(;1===I.registrationStatus;)yield ge(100),I=yield Yi(S.appConfig);if(0===I.registrationStatus){const{installationEntry:R,registrationPromise:F}=yield Vi(S);return F||R}return I})).apply(this,arguments)}function Yi(S){return Br(S,I=>{if(!I)throw Ie.create("installation-not-found");return Bi(I)})}function Bi(S){return function La(S){return 1===S.registrationStatus&&S.registrationTime+G<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function vo(){return(vo=(0,N.Z)(function*({appConfig:S,heartbeatServiceProvider:I},R){const F=function tn(S,{fid:I}){return`${re(S)}/${I}/authTokens:generate`}(S,R),X=function z(S,{refreshToken:I}){const R=Ee(S);return R.append("Authorization",function mt(S){return`${Pe} ${S}`}(I)),R}(S,R),ne=I.getImmediate({optional:!0});if(ne){const We=yield ne.getHeartbeatsHeader();We&&X.append("x-firebase-client",We)}const at={method:"POST",headers:X,body:JSON.stringify({installation:{sdkVersion:K,appId:S.appId}})},yt=yield ve(()=>fetch(F,at));if(yt.ok)return ie(yield yt.json());throw yield pe("Generate Auth Token",yt)})).apply(this,arguments)}function Qi(S){return eo.apply(this,arguments)}function eo(){return eo=(0,N.Z)(function*(S,I=!1){let R;const F=yield Br(S.appConfig,ne=>{if(!Wt(ne))throw Ie.create("not-registered");const ke=ne.authToken;if(!I&&function Ui(S){return 2===S.requestStatus&&!function $(S){const I=Date.now();return I<S.creationTime||S.creationTime+S.expiresIn<I+qe}(S)}(ke))return ne;if(1===ke.requestStatus)return R=function Ge(S,I){return Te.apply(this,arguments)}(S,I),ne;{if(!navigator.onLine)throw Ie.create("app-offline");const at=function j(S){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:I})}(ne);return R=function Tt(S,I){return Vt.apply(this,arguments)}(S,at),at}});return R?yield R:F.authToken}),eo.apply(this,arguments)}function Te(){return(Te=(0,N.Z)(function*(S,I){let R=yield lt(S.appConfig);for(;1===R.authToken.requestStatus;)yield ge(100),R=yield lt(S.appConfig);const F=R.authToken;return 0===F.requestStatus?Qi(S,I):F})).apply(this,arguments)}function lt(S){return Br(S,I=>{if(!Wt(I))throw Ie.create("not-registered");return function Z(S){return 1===S.requestStatus&&S.requestTime+G<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Vt(){return Vt=(0,N.Z)(function*(S,I){try{const R=yield function pn(S,I){return vo.apply(this,arguments)}(S,I),F=Object.assign(Object.assign({},I),{authToken:R});return yield Rn(S.appConfig,F),R}catch(R){if(!Le(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const F=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Rn(S.appConfig,F)}else yield vt(S.appConfig);throw R}}),Vt.apply(this,arguments)}function Wt(S){return void 0!==S&&2===S.registrationStatus}function te(){return(te=(0,N.Z)(function*(S){const I=S,{installationEntry:R,registrationPromise:F}=yield Vi(I);return F?F.catch(console.error):Qi(I).catch(console.error),R.fid})).apply(this,arguments)}function Xe(){return Xe=(0,N.Z)(function*(S,I=!1){const R=S;return yield function yn(S){return Ln.apply(this,arguments)}(R),(yield Qi(R,I)).token}),Xe.apply(this,arguments)}function Ln(){return(Ln=(0,N.Z)(function*(S){const{registrationPromise:I}=yield Vi(S);I&&(yield I)})).apply(this,arguments)}function Lc(S){return Ie.create("missing-app-config-values",{valueName:S})}const Vc="installations",zn=S=>{const I=S.getProvider("app").getImmediate(),R=function sd(S){if(!S||!S.options)throw Lc("App Configuration");if(!S.name)throw Lc("App Name");const I=["projectId","apiKey","appId"];for(const R of I)if(!S.options[R])throw Lc(R);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(I);return{app:I,appConfig:R,heartbeatServiceProvider:(0,oe._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},ad=S=>{const I=S.getProvider("app").getImmediate(),R=(0,oe._getProvider)(I,Vc).getImmediate();return{getId:()=>function we(S){return te.apply(this,arguments)}(R),getToken:X=>function st(S){return Xe.apply(this,arguments)}(R,X)}};(function cd(){(0,oe._registerComponent)(new J.wA(Vc,zn,"PUBLIC")),(0,oe._registerComponent)(new J.wA("installations-internal",ad,"PRIVATE"))})(),(0,oe.registerVersion)(ae,H),(0,oe.registerVersion)(ae,H,"esm2017");const nn="@firebase/remote-config",ji=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ks{constructor(I,R,F,X){this.client=I,this.storage=R,this.storageCache=F,this.logger=X}isCachedDataFresh(I,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-R,X=F<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${X}.`),X}fetch(I){var R=this;return(0,N.Z)(function*(){const[F,X]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(X&&R.isCachedDataFresh(I.cacheMaxAgeMillis,F))return X;I.eTag=X&&X.eTag;const ne=yield R.client.fetch(I),ke=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ne.status&&ke.push(R.storage.setLastSuccessfulFetchResponse(ne)),yield Promise.all(ke),ne})()}}function qo(S=navigator){return S.languages&&S.languages[0]||S.language}class Ji{constructor(I,R,F,X,ne,ke){this.firebaseInstallations=I,this.sdkVersion=R,this.namespace=F,this.projectId=X,this.apiKey=ne,this.appId=ke}fetch(I){var R=this;return(0,N.Z)(function*(){const[F,X]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),ke=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,at={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},yt={sdk_version:R.sdkVersion,app_instance_id:F,app_instance_id_token:X,app_id:R.appId,language_code:qo()},We={method:"POST",headers:at,body:JSON.stringify(yt)},It=fetch(ke,We),Bt=new Promise((qt,uo)=>{I.signal.addEventListener(()=>{const Hr=new Error("The operation was aborted.");Hr.name="AbortError",uo(Hr)})});let nr;try{yield Promise.race([It,Bt]),nr=yield It}catch(qt){let uo="fetch-client-network";throw"AbortError"===qt?.name&&(uo="fetch-timeout"),ji.create(uo,{originalErrorMessage:qt?.message})}let ce=nr.status;const ci=nr.headers.get("ETag")||void 0;let zr,ir;if(200===nr.status){let qt;try{qt=yield nr.json()}catch(uo){throw ji.create("fetch-client-parse",{originalErrorMessage:uo?.message})}zr=qt.entries,ir=qt.state}if("INSTANCE_STATE_UNSPECIFIED"===ir?ce=500:"NO_CHANGE"===ir?ce=304:("NO_TEMPLATE"===ir||"EMPTY_CONFIG"===ir)&&(zr={}),304!==ce&&200!==ce)throw ji.create("fetch-status",{httpStatus:ce});return{status:ce,eTag:ci,config:zr}})()}}class Xt{constructor(I,R){this.client=I,this.storage=R}fetch(I){var R=this;return(0,N.Z)(function*(){const F=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(I,F)})()}attemptFetch(I,{throttleEndTimeMillis:R,backoffCount:F}){var X=this;return(0,N.Z)(function*(){yield function zi(S,I){return new Promise((R,F)=>{const X=Math.max(I-Date.now(),0),ne=setTimeout(R,X);S.addEventListener(()=>{clearTimeout(ne),F(ji.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,R);try{const ne=yield X.client.fetch(I);return yield X.storage.deleteThrottleMetadata(),ne}catch(ne){if(!function ld(S){if(!(S instanceof se.ZR&&S.customData))return!1;const I=Number(S.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ne))throw ne;const ke={throttleEndTimeMillis:Date.now()+(0,se.$s)(F),backoffCount:F+1};return yield X.storage.setThrottleMetadata(ke),X.attemptFetch(I,ke)}})()}}class Bc{constructor(I,R,F,X,ne){this.app=I,this._client=R,this._storageCache=F,this._storage=X,this._logger=ne,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ys(S,I){const R=S.target.error||void 0;return ji.create(I,{originalErrorMessage:R&&R?.message})}const ri="app_namespace_store";class _r{constructor(I,R,F,X=function _g(){return new Promise((S,I)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=F=>{I(ys(F,"storage-open"))},R.onsuccess=F=>{S(F.target.result)},R.onupgradeneeded=F=>{0===F.oldVersion&&F.target.result.createObjectStore(ri,{keyPath:"compositeKey"})}}catch(R){I(ji.create("storage-open",{originalErrorMessage:R?.message}))}})}()){this.appId=I,this.appName=R,this.namespace=F,this.openDbPromise=X}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var R=this;return(0,N.Z)(function*(){const F=yield R.openDbPromise;return new Promise((X,ne)=>{const at=F.transaction([ri],"readonly").objectStore(ri),yt=R.createCompositeKey(I);try{const We=at.get(yt);We.onerror=It=>{ne(ys(It,"storage-get"))},We.onsuccess=It=>{const Bt=It.target.result;X(Bt?Bt.value:void 0)}}catch(We){ne(ji.create("storage-get",{originalErrorMessage:We?.message}))}})})()}set(I,R){var F=this;return(0,N.Z)(function*(){const X=yield F.openDbPromise;return new Promise((ne,ke)=>{const yt=X.transaction([ri],"readwrite").objectStore(ri),We=F.createCompositeKey(I);try{const It=yt.put({compositeKey:We,value:R});It.onerror=Bt=>{ke(ys(Bt,"storage-set"))},It.onsuccess=()=>{ne()}}catch(It){ke(ji.create("storage-set",{originalErrorMessage:It?.message}))}})})()}delete(I){var R=this;return(0,N.Z)(function*(){const F=yield R.openDbPromise;return new Promise((X,ne)=>{const at=F.transaction([ri],"readwrite").objectStore(ri),yt=R.createCompositeKey(I);try{const We=at.delete(yt);We.onerror=It=>{ne(ys(It,"storage-delete"))},We.onsuccess=()=>{X()}}catch(We){ne(ji.create("storage-delete",{originalErrorMessage:We?.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class yr{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,N.Z)(function*(){const R=I.storage.getLastFetchStatus(),F=I.storage.getLastSuccessfulFetchTimestampMillis(),X=I.storage.getActiveConfig(),ne=yield R;ne&&(I.lastFetchStatus=ne);const ke=yield F;ke&&(I.lastSuccessfulFetchTimestampMillis=ke);const at=yield X;at&&(I.activeConfig=at)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function Hi(){return ah.apply(this,arguments)}function ah(){return(ah=(0,N.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}!function wo(){(0,oe._registerComponent)(new J.wA("remote-config",function S(I,{instanceIdentifier:R}){const F=I.getProvider("app").getImmediate(),X=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ji.create("registration-window");if(!(0,se.hl)())throw ji.create("indexed-db-unavailable");const{projectId:ne,apiKey:ke,appId:at}=F.options;if(!ne)throw ji.create("registration-project-id");if(!ke)throw ji.create("registration-api-key");if(!at)throw ji.create("registration-app-id");const yt=new _r(at,F.name,R=R||"firebase"),We=new yr(yt),It=new _e.Yd(nn);It.logLevel=_e.in.ERROR;const Bt=new Ji(X,oe.SDK_VERSION,R,ne,ke,at),nr=new Xt(Bt,yt),ce=new Ks(nr,yt,We,It),ci=new Bc(F,ce,We,yt,It);return function gs(S){const I=(0,se.m9)(S);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(ci),ci},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(nn,"0.4.4"),(0,oe.registerVersion)(nn,"0.4.4","esm2017")}();const ch="/firebase-messaging-sw.js",xo="/firebase-cloud-messaging-push-scope",vs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ja="https://fcmregistrations.googleapis.com/v1",ud="google.c.a.c_id",ym="google.c.a.c_l",vm="google.c.a.ts",yg="google.c.a.e";var bs=(()=>{return(S=bs||(bs={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",bs;var S})();function io(S){const I=new Uint8Array(S);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function vg(S){const R=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(R),X=new Uint8Array(F.length);for(let ne=0;ne<F.length;++ne)X[ne]=F.charCodeAt(ne);return X}const Zn="fcm_token_details_db",hd=5,Fr="fcm_token_object_Store";function jc(){return jc=(0,N.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ne=>ne.name).includes(Zn))return null;let I=null;return(yield(0,le.X3)(Zn,hd,{upgrade:(F=(0,N.Z)(function*(X,ne,ke,at){var yt;if(ne<2||!X.objectStoreNames.contains(Fr))return;const We=at.objectStore(Fr),It=yield We.index("fcmSenderId").get(S);if(yield We.clear(),It)if(2===ne){const Bt=It;if(!Bt.auth||!Bt.p256dh||!Bt.endpoint)return;I={token:Bt.fcmToken,createTime:null!==(yt=Bt.createTime)&&void 0!==yt?yt:Date.now(),subscriptionOptions:{auth:Bt.auth,p256dh:Bt.p256dh,endpoint:Bt.endpoint,swScope:Bt.swScope,vapidKey:"string"==typeof Bt.vapidKey?Bt.vapidKey:io(Bt.vapidKey)}}}else if(3===ne){const Bt=It;I={token:Bt.fcmToken,createTime:Bt.createTime,subscriptionOptions:{auth:io(Bt.auth),p256dh:io(Bt.p256dh),endpoint:Bt.endpoint,swScope:Bt.swScope,vapidKey:io(Bt.vapidKey)}}}else if(4===ne){const Bt=It;I={token:Bt.fcmToken,createTime:Bt.createTime,subscriptionOptions:{auth:io(Bt.auth),p256dh:io(Bt.p256dh),endpoint:Bt.endpoint,swScope:Bt.swScope,vapidKey:io(Bt.vapidKey)}}}}),function(ne,ke,at,yt){return F.apply(this,arguments)})})).close(),yield(0,le.Lj)(Zn),yield(0,le.Lj)("fcm_vapid_details_db"),yield(0,le.Lj)("undefined"),function lh(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:I}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}(I)?I:null;var F}),jc.apply(this,arguments)}const zc="firebase-messaging-database",bg=1,vr="firebase-messaging-store";let dh=null;function ws(){return dh||(dh=(0,le.X3)(zc,bg,{upgrade:(S,I)=>{0===I&&S.createObjectStore(vr)}})),dh}function za(S){return Xs.apply(this,arguments)}function Xs(){return Xs=(0,N.Z)(function*(S){const I=Zo(S),F=yield(yield ws()).transaction(vr).objectStore(vr).get(I);if(F)return F;{const X=yield function fd(S){return jc.apply(this,arguments)}(S.appConfig.senderId);if(X)return yield Js(S,X),X}}),Xs.apply(this,arguments)}function Js(S,I){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,N.Z)(function*(S,I){const R=Zo(S),X=(yield ws()).transaction(vr,"readwrite");return yield X.objectStore(vr).put(I,R),yield X.done,I})).apply(this,arguments)}function $c(){return($c=(0,N.Z)(function*(S){const I=Zo(S),F=(yield ws()).transaction(vr,"readwrite");yield F.objectStore(vr).delete(I),yield F.done})).apply(this,arguments)}function Zo({appConfig:S}){return S.appId}const cn=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Gc(S,I){return $a.apply(this,arguments)}function $a(){return($a=(0,N.Z)(function*(S,I){const R=yield md(S),F=Ii(I),X={method:"POST",headers:R,body:JSON.stringify(F)};let ne;try{ne=yield(yield fetch(Ga(S.appConfig),X)).json()}catch(ke){throw cn.create("token-subscribe-failed",{errorInfo:ke?.toString()})}if(ne.error)throw cn.create("token-subscribe-failed",{errorInfo:ne.error.message});if(!ne.token)throw cn.create("token-subscribe-no-token");return ne.token})).apply(this,arguments)}function qc(){return(qc=(0,N.Z)(function*(S,I){const R=yield md(S),F=Ii(I.subscriptionOptions),X={method:"PATCH",headers:R,body:JSON.stringify(F)};let ne;try{ne=yield(yield fetch(`${Ga(S.appConfig)}/${I.token}`,X)).json()}catch(ke){throw cn.create("token-update-failed",{errorInfo:ke?.toString()})}if(ne.error)throw cn.create("token-update-failed",{errorInfo:ne.error.message});if(!ne.token)throw cn.create("token-update-no-token");return ne.token})).apply(this,arguments)}function ro(S,I){return $i.apply(this,arguments)}function $i(){return($i=(0,N.Z)(function*(S,I){const F={method:"DELETE",headers:yield md(S)};try{const ne=yield(yield fetch(`${Ga(S.appConfig)}/${I}`,F)).json();if(ne.error)throw cn.create("token-unsubscribe-failed",{errorInfo:ne.error.message})}catch(X){throw cn.create("token-unsubscribe-failed",{errorInfo:X?.toString()})}})).apply(this,arguments)}function Ga({projectId:S}){return`${ja}/projects/${S}/registrations`}function md(S){return oo.apply(this,arguments)}function oo(){return(oo=(0,N.Z)(function*({appConfig:S,installations:I}){const R=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function Ii({p256dh:S,auth:I,endpoint:R,vapidKey:F}){const X={web:{endpoint:R,auth:I,p256dh:S}};return F!==vs&&(X.web.applicationPubKey=F),X}const pd=6048e5;function hh(){return hh=(0,N.Z)(function*(S){const I=yield function _d(S,I){return yd.apply(this,arguments)}(S.swRegistration,S.vapidKey),R={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:I.endpoint,auth:io(I.getKey("auth")),p256dh:io(I.getKey("p256dh"))},F=yield za(S.firebaseDependencies);if(F){if(function vd(S,I){return I.vapidKey===S.vapidKey&&I.endpoint===S.endpoint&&I.auth===S.auth&&I.p256dh===S.p256dh}(F.subscriptionOptions,R))return Date.now()>=F.createTime+pd?function qa(S,I){return Ft.apply(this,arguments)}(S,{token:F.token,createTime:Date.now(),subscriptionOptions:R}):F.token;try{yield ro(S.firebaseDependencies,F.token)}catch(X){console.warn(X)}return Zc(S.firebaseDependencies,R)}return Zc(S.firebaseDependencies,R)}),hh.apply(this,arguments)}function Wc(){return Wc=(0,N.Z)(function*(S){const I=yield za(S.firebaseDependencies);I&&(yield ro(S.firebaseDependencies,I.token),yield function Hc(S){return $c.apply(this,arguments)}(S.firebaseDependencies));const R=yield S.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()}),Wc.apply(this,arguments)}function Ft(){return Ft=(0,N.Z)(function*(S,I){try{const R=yield function Vn(S,I){return qc.apply(this,arguments)}(S.firebaseDependencies,I),F=Object.assign(Object.assign({},I),{token:R,createTime:Date.now()});return yield Js(S.firebaseDependencies,F),R}catch(R){throw yield function Ur(S){return Wc.apply(this,arguments)}(S),R}}),Ft.apply(this,arguments)}function Zc(S,I){return gd.apply(this,arguments)}function gd(){return(gd=(0,N.Z)(function*(S,I){const F={token:yield Gc(S,I),createTime:Date.now(),subscriptionOptions:I};return yield Js(S,F),F.token})).apply(this,arguments)}function yd(){return(yd=(0,N.Z)(function*(S,I){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:vg(I)})})).apply(this,arguments)}function fh(S){const I={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function bd(S,I){if(!I.notification)return;S.notification={};const R=I.notification.title;R&&(S.notification.title=R);const F=I.notification.body;F&&(S.notification.body=F);const X=I.notification.image;X&&(S.notification.image=X);const ne=I.notification.icon;ne&&(S.notification.icon=ne)}(I,S),function Hn(S,I){I.data&&(S.data=I.data)}(I,S),function Me(S,I){var R,F,X,ne,ke;if(!(I.fcmOptions||null!==(R=I.notification)&&void 0!==R&&R.click_action))return;S.fcmOptions={};const at=null!==(X=null===(F=I.fcmOptions)||void 0===F?void 0:F.link)&&void 0!==X?X:null===(ne=I.notification)||void 0===ne?void 0:ne.click_action;at&&(S.fcmOptions.link=at);const yt=null===(ke=I.fcmOptions)||void 0===ke?void 0:ke.analytics_label;yt&&(S.fcmOptions.analyticsLabel=yt)}(I,S),I}function mh(S,I){const R=[];for(let F=0;F<S.length;F++)R.push(S.charAt(F)),F<I.length&&R.push(I.charAt(F));return R.join("")}function Kn(S){return cn.create("missing-app-config-values",{valueName:S})}mh("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),mh("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class wm{constructor(I,R,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const X=function bm(S){if(!S||!S.options)throw Kn("App Configuration Object");if(!S.name)throw Kn("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:R}=S;for(const F of I)if(!R[F])throw Kn(F);return{appName:S.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:X,installations:R,analyticsProvider:F}}_delete(){return Promise.resolve()}}function Ko(S){return jr.apply(this,arguments)}function jr(){return(jr=(0,N.Z)(function*(S){try{S.swRegistration=yield navigator.serviceWorker.register(ch,{scope:xo}),S.swRegistration.update().catch(()=>{})}catch(I){throw cn.create("failed-service-worker-registration",{browserErrorMessage:I?.message})}})).apply(this,arguments)}function Yc(){return(Yc=(0,N.Z)(function*(S,I){if(!I&&!S.swRegistration&&(yield Ko(S)),I||!S.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw cn.create("invalid-sw-registration");S.swRegistration=I}})).apply(this,arguments)}function ph(){return(ph=(0,N.Z)(function*(S,I){I?S.vapidKey=I:S.vapidKey||(S.vapidKey=vs)})).apply(this,arguments)}function oi(){return oi=(0,N.Z)(function*(S,I){if(!navigator)throw cn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw cn.create("permission-blocked");return yield function Qc(S,I){return ph.apply(this,arguments)}(S,I?.vapidKey),yield function Kc(S,I){return Yc.apply(this,arguments)}(S,I?.serviceWorkerRegistration),function xs(S){return hh.apply(this,arguments)}(S)}),oi.apply(this,arguments)}function wd(){return(wd=(0,N.Z)(function*(S,I,R){const F=function Es(S){switch(S){case bs.NOTIFICATION_CLICKED:return"notification_open";case bs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(I);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:R[ud],message_name:R[ym],message_time:R[vm],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Xc(){return Xc=(0,N.Z)(function*(S,I){const R=I.data;if(!R.isFirebaseMessaging)return;S.onMessageHandler&&R.messageType===bs.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(fh(R)):S.onMessageHandler.next(fh(R)));const F=R.data;(function Jt(S){return"object"==typeof S&&!!S&&ud in S})(F)&&"1"===F[yg]&&(yield function Gi(S,I,R){return wd.apply(this,arguments)}(S,R.messageType,F))}),Xc.apply(this,arguments)}const xd="@firebase/messaging",xm=S=>{const I=new wm(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function so(S,I){return Xc.apply(this,arguments)}(I,R)),I},Eo=S=>{const I=S.getProvider("messaging").getImmediate();return{getToken:F=>function Wa(S,I){return oi.apply(this,arguments)}(I,F)}};function gh(){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,N.Z)(function*(){try{yield(0,se.eu)()}catch{return!1}return typeof window<"u"&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Cd(){(0,oe._registerComponent)(new J.wA("messaging",xm,"PUBLIC")),(0,oe._registerComponent)(new J.wA("messaging-internal",Eo,"PRIVATE")),(0,oe.registerVersion)(xd,"0.12.4"),(0,oe.registerVersion)(xd,"0.12.4","esm2017")}();const yh="analytics",Eg="firebase_id",er="origin",Yo=6e4,gn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",el="https://www.googletagmanager.com/gtag/js",Ri=new _e.Yd("@firebase/analytics");function vh(S){return Promise.all(S.map(I=>I.catch(R=>R)))}function Cs(){return(Cs=(0,N.Z)(function*(S,I,R,F,X,ne){const ke=F[X];try{if(ke)yield I[ke];else{const yt=(yield vh(R)).find(We=>We.measurementId===X);yt&&(yield I[yt.appId])}}catch(at){Ri.error(at)}S("config",X,ne)})).apply(this,arguments)}function Co(){return(Co=(0,N.Z)(function*(S,I,R,F,X){try{let ne=[];if(X&&X.send_to){let ke=X.send_to;Array.isArray(ke)||(ke=[ke]);const at=yield vh(R);for(const yt of ke){const We=at.find(Bt=>Bt.measurementId===yt),It=We&&I[We.appId];if(!It){ne=[];break}ne.push(It)}}0===ne.length&&(ne=Object.values(I)),yield Promise.all(ne),S("event",F,X||{})}catch(ne){Ri.error(ne)}})).apply(this,arguments)}const Oi=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Za=30,Sm=new class ao{constructor(I={},R=1e3){this.throttleMetadata=I,this.intervalMillis=R}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,R){this.throttleMetadata[I]=R}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Im(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function Ka(){return(Ka=(0,N.Z)(function*(S){var I;const{appId:R,apiKey:F}=S,X={method:"GET",headers:Im(F)},ne=gn.replace("{app-id}",R),ke=yield fetch(ne,X);if(200!==ke.status&&304!==ke.status){let at="";try{const yt=yield ke.json();null!==(I=yt.error)&&void 0!==I&&I.message&&(at=yt.error.message)}catch{}throw Oi.create("config-fetch-failed",{httpStatus:ke.status,responseMessage:at})}return ke.json()})).apply(this,arguments)}function na(){return(na=(0,N.Z)(function*(S,I=Sm,R){const{appId:F,apiKey:X,measurementId:ne}=S.options;if(!F)throw Oi.create("no-app-id");if(!X){if(ne)return{measurementId:ne,appId:F};throw Oi.create("no-api-key")}const ke=I.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},at=new kd;return setTimeout((0,N.Z)(function*(){at.abort()}),void 0!==R?R:Yo),Io({appId:F,apiKey:X,measurementId:ne},ke,at,I)})).apply(this,arguments)}function Io(S,I,R){return ia.apply(this,arguments)}function ia(){return ia=(0,N.Z)(function*(S,{throttleEndTimeMillis:I,backoffCount:R},F,X=Sm){var ne;const{appId:ke,measurementId:at}=S;try{yield function Do(S,I){return new Promise((R,F)=>{const X=Math.max(I-Date.now(),0),ne=setTimeout(R,X);S.addEventListener(()=>{clearTimeout(ne),F(Oi.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(F,I)}catch(yt){if(at)return Ri.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${at} provided in the "measurementId" field in the local Firebase config. [${yt?.message}]`),{appId:ke,measurementId:at};throw yt}try{const yt=yield function Qo(S){return Ka.apply(this,arguments)}(S);return X.deleteThrottleMetadata(ke),yt}catch(yt){const We=yt;if(!function Td(S){if(!(S instanceof se.ZR&&S.customData))return!1;const I=Number(S.customData.httpStatus);return 429===I||500===I||503===I||504===I}(We)){if(X.deleteThrottleMetadata(ke),at)return Ri.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${at} provided in the "measurementId" field in the local Firebase config. [${We?.message}]`),{appId:ke,measurementId:at};throw yt}const It=503===Number(null===(ne=We?.customData)||void 0===ne?void 0:ne.httpStatus)?(0,se.$s)(R,X.intervalMillis,Za):(0,se.$s)(R,X.intervalMillis),Bt={throttleEndTimeMillis:Date.now()+It,backoffCount:R+1};return X.setThrottleMetadata(ke,Bt),Ri.debug(`Calling attemptFetch again in ${It} millis`),Io(S,Bt,F,X)}}),ia.apply(this,arguments)}class kd{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let Ss,ko;function To(){return(To=(0,N.Z)(function*(S,I,R,F,X){if(X&&X.global)S("event",R,F);else{const ne=yield I;S("event",R,Object.assign(Object.assign({},F),{send_to:ne}))}})).apply(this,arguments)}function ec(){return(ec=(0,N.Z)(function*(){if(!(0,se.hl)())return Ri.warn(Oi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(S){return Ri.warn(Oi.create("indexeddb-unavailable",{errorInfo:S?.toString()}).message),!1}return!0})).apply(this,arguments)}function tc(){return tc=(0,N.Z)(function*(S,I,R,F,X,ne,ke){var at;const yt=function si(S){return na.apply(this,arguments)}(S);yt.then(ce=>{R[ce.measurementId]=ce.appId,S.options.measurementId&&ce.measurementId!==S.options.measurementId&&Ri.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${ce.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ce=>Ri.error(ce)),I.push(yt);const We=function Ja(){return ec.apply(this,arguments)}().then(ce=>{if(ce)return F.getId()}),[It,Bt]=yield Promise.all([yt,We]);(function Cm(S){const I=window.document.getElementsByTagName("script");for(const R of Object.values(I))if(R.src&&R.src.includes(el)&&R.src.includes(S))return R;return null})(ne)||function Cg(S,I){const R=document.createElement("script");R.src=`${el}?l=${S}&id=${I}`,R.async=!0,document.head.appendChild(R)}(ne,It.measurementId),ko&&(X("consent","default",ko),function ra(S){ko=S}(void 0)),X("js",new Date);const nr=null!==(at=ke?.config)&&void 0!==at?at:{};return nr[er]="firebase",nr.update=!0,null!=Bt&&(nr[Eg]=Bt),X("config",It.measurementId,nr),Ss&&(X("set",Ss),function Rd(S){Ss=S}(void 0)),It.measurementId}),tc.apply(this,arguments)}class wh{constructor(I){this.app=I}_delete(){return delete lo[this.app.options.appId],Promise.resolve()}}let lo={},nc=[];const tl={};let Od,Ao,Ds="dataLayer",Xo="gtag",Ts=!1;function Fd(S,I,R){!function Tm(){const S=[];if((0,se.ru)()&&S.push("This is a browser extension environment."),(0,se.zI)()||S.push("Cookies are not available."),S.length>0){const I=S.map((F,X)=>`(${X+1}) ${F}`).join(" "),R=Oi.create("invalid-analytics-context",{errorInfo:I});Ri.warn(R.message)}}();const F=S.options.appId;if(!F)throw Oi.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw Oi.create("no-api-key");Ri.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=lo[F])throw Oi.create("already-exists",{id:F});if(!Ts){!function Sg(S){let I=[];Array.isArray(window[S])?I=window[S]:window[S]=I}(Ds);const{wrappedGtag:ne,gtagCore:ke}=function ta(S,I,R,F,X){let ne=function(...ke){window[F].push(arguments)};return window[X]&&"function"==typeof window[X]&&(ne=window[X]),window[X]=function ea(S,I,R,F){function ne(){return ne=(0,N.Z)(function*(ke,at,yt){try{"event"===ke?yield function Dd(S,I,R,F,X){return Co.apply(this,arguments)}(S,I,R,at,yt):"config"===ke?yield function bh(S,I,R,F,X,ne){return Cs.apply(this,arguments)}(S,I,R,F,at,yt):"consent"===ke?S("consent","update",yt):S("set",at)}catch(We){Ri.error(We)}}),ne.apply(this,arguments)}return function X(ke,at,yt){return ne.apply(this,arguments)}}(ne,S,I,R),{gtagCore:ne,wrappedGtag:window[X]}}(lo,nc,tl,Ds,Xo);Ao=ne,Od=ke,Ts=!0}return lo[F]=function oa(S,I,R,F,X,ne,ke){return tc.apply(this,arguments)}(S,nc,tl,I,Od,Ds,R),new wh(S)}function Pd(){return sa.apply(this,arguments)}function sa(){return(sa=(0,N.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}const Mo="@firebase/analytics";!function Dg(){(0,oe._registerComponent)(new J.wA(yh,(I,{options:R})=>Fd(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,oe._registerComponent)(new J.wA("analytics-internal",function S(I){try{const R=I.getProvider(yh).getImmediate();return{logEvent:(F,X,ne)=>function ks(S,I,R,F){S=(0,se.m9)(S),function Dm(S,I,R,F,X){return To.apply(this,arguments)}(Ao,lo[S.app.options.appId],I,R,F).catch(X=>Ri.error(X))}(R,F,X,ne)}}catch(R){throw Oi.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,oe.registerVersion)(Mo,"0.9.4"),(0,oe.registerVersion)(Mo,"0.9.4","esm2017")}();var rl=P(233),km=P(4986),Sh=P(9751),Ih=P(8505),Dh=P(9468),Am=P(5363);const la=new a.GfV("7.5.0"),rc="__angularfire_symbol__analyticsIsSupportedValue",As="__angularfire_symbol__analyticsIsSupported",Bn="__angularfire_symbol__remoteConfigIsSupportedValue",ol="__angularfire_symbol__remoteConfigIsSupported",Ms="__angularfire_symbol__messagingIsSupportedValue",Th="__angularfire_symbol__messagingIsSupported";function ua(S,I,R){if(I){if(1===I.length)return I[0];const ne=I.filter(ke=>ke.app===R);if(1===ne.length)return ne[0]}return R.container.getProvider(S).getImmediate({optional:!0})}globalThis[As]||(globalThis[As]=Pd().then(S=>globalThis[rc]=S).catch(()=>globalThis[rc]=!1)),globalThis[Th]||(globalThis[Th]=gh().then(S=>globalThis[Ms]=S).catch(()=>globalThis[Ms]=!1)),globalThis[ol]||(globalThis[ol]=Hi().then(S=>globalThis[Bn]=S).catch(()=>globalThis[Bn]=!1));const Nd=(S,I)=>{const R=I?[I]:(0,Q.C6)(),F=[];return R.forEach(X=>{X.container.getProvider(S).instances.forEach(ke=>{F.includes(ke)||F.push(ke)})}),F};function Rs(){}class Ld{constructor(I,R=rl.N){this.zone=I,this.delegate=R}now(){return this.delegate.now()}schedule(I,R,F){const X=this.zone;return this.delegate.schedule(function(ke){X.runGuarded(()=>{I.apply(this,[ke])})},R,F)}}class Mm{constructor(I){this.zone=I,this.task=null}call(I,R){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Rs,{},Rs,Rs)),R.pipe((0,Ih.b)({next:F,complete:F,error:F})).subscribe(I).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ai=(()=>{class S{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Ld(Zone.current)),this.insideAngular=R.run(()=>new Ld(Zone.current,km.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(R){return new(R||S)(a.LFG(a.R0b))},S.\u0275prov=a.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function fn(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function Pr(S){return fn().ngZone.run(()=>S())}function Jo(S){return fn(),function Vd(S){return function(R){return(R=R.lift(new Mm(S.ngZone))).pipe((0,Dh.R)(S.outsideAngular),(0,Am.Q)(S.insideAngular))}}(fn())(S)}const oc=(S,I)=>function(){const F=arguments;return I&&setTimeout(()=>{"scheduled"===I.state&&I.invoke()},10),Pr(()=>S.apply(void 0,F))},xn=(S,I)=>function(){let R;const F=arguments;for(let ne=0;ne<arguments.length;ne++)"function"==typeof F[ne]&&(I&&(R||(R=Pr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Rs,{},Rs,Rs)))),F[ne]=oc(F[ne],R));const X=function $t(S){return fn().ngZone.runOutsideAngular(()=>S())}(()=>S.apply(this,F));if(!I){if(X instanceof Sh.y){const ne=fn();return X.pipe((0,Dh.R)(ne.outsideAngular),(0,Am.Q)(ne.insideAngular))}return Pr(()=>X)}return X instanceof Sh.y?X.pipe(Jo):X instanceof Promise?Pr(()=>new Promise((ne,ke)=>X.then(at=>Pr(()=>ne(at)),at=>Pr(()=>ke(at))))):"function"==typeof X&&R?function(){return setTimeout(()=>{R&&"scheduled"===R.state&&R.invoke()},10),X.apply(this,arguments)}:Pr(()=>X)}},2090:(ut,Se,P)=>{P.d(Se,{$s:()=>Tt,BH:()=>pe,G6:()=>Re,L:()=>ae,LL:()=>St,P0:()=>Le,Pz:()=>ie,Sg:()=>be,UG:()=>ve,US:()=>J,ZB:()=>K,ZR:()=>hn,aH:()=>re,b$:()=>mt,eu:()=>He,hl:()=>Be,jU:()=>je,m9:()=>Ui,ne:()=>Ut,pd:()=>Vi,r3:()=>Rr,ru:()=>ze,tV:()=>H,uI:()=>z,vZ:()=>pr,w1:()=>ue,xO:()=>Br,xb:()=>zo,z$:()=>Ee,zI:()=>ot,zd:()=>Nn});const oe=function($){const j=[];let Z=0;for(let we=0;we<$.length;we++){let te=$.charCodeAt(we);te<128?j[Z++]=te:te<2048?(j[Z++]=te>>6|192,j[Z++]=63&te|128):55296==(64512&te)&&we+1<$.length&&56320==(64512&$.charCodeAt(we+1))?(te=65536+((1023&te)<<10)+(1023&$.charCodeAt(++we)),j[Z++]=te>>18|240,j[Z++]=te>>12&63|128,j[Z++]=te>>6&63|128,j[Z++]=63&te|128):(j[Z++]=te>>12|224,j[Z++]=te>>6&63|128,j[Z++]=63&te|128)}return j},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,j){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,we=[];for(let te=0;te<$.length;te+=3){const st=$[te],Xe=te+1<$.length,yn=Xe?$[te+1]:0,Ln=te+2<$.length,jn=Ln?$[te+2]:0;let Xi=(15&yn)<<2|jn>>6,to=63&jn;Ln||(to=64,Xe||(Xi=64)),we.push(Z[st>>2],Z[(3&st)<<4|yn>>4],Z[Xi],Z[to])}return we.join("")},encodeString($,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa($):this.encodeByteArray(oe($),j)},decodeString($,j){return this.HAS_NATIVE_SUPPORT&&!j?atob($):function($){const j=[];let Z=0,we=0;for(;Z<$.length;){const te=$[Z++];if(te<128)j[we++]=String.fromCharCode(te);else if(te>191&&te<224){const st=$[Z++];j[we++]=String.fromCharCode((31&te)<<6|63&st)}else if(te>239&&te<365){const Ln=((7&te)<<18|(63&$[Z++])<<12|(63&$[Z++])<<6|63&$[Z++])-65536;j[we++]=String.fromCharCode(55296+(Ln>>10)),j[we++]=String.fromCharCode(56320+(1023&Ln))}else{const st=$[Z++],Xe=$[Z++];j[we++]=String.fromCharCode((15&te)<<12|(63&st)<<6|63&Xe)}}return j.join("")}(this.decodeStringToByteArray($,j))},decodeStringToByteArray($,j){this.init_();const Z=j?this.charToByteMapWebSafe_:this.charToByteMap_,we=[];for(let te=0;te<$.length;){const st=Z[$.charAt(te++)],yn=te<$.length?Z[$.charAt(te)]:0;++te;const jn=te<$.length?Z[$.charAt(te)]:64;++te;const zt=te<$.length?Z[$.charAt(te)]:64;if(++te,null==st||null==yn||null==jn||null==zt)throw new _e;we.push(st<<2|yn>>4),64!==jn&&(we.push(yn<<4&240|jn>>2),64!==zt&&we.push(jn<<6&192|zt))}return we},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}};class _e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ae=function($){return function($){const j=oe($);return J.encodeByteArray(j,!0)}($).replace(/\./g,"")},H=function($){try{return J.decodeString($,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function K($,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return j}for(const Z in j)!j.hasOwnProperty(Z)||!Pe(Z)||($[Z]=K($[Z],j[Z]));return $}function Pe($){return"__proto__"!==$}const Ae=()=>{try{return function De(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const $=process.env.__FIREBASE_DEFAULTS__;return $?JSON.parse($):void 0})()||(()=>{if(typeof document>"u")return;let $;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const j=$&&H($[1]);return j&&JSON.parse(j)})()}catch($){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`)}},Le=$=>{const j=($=>{var j,Z;return null===(Z=null===(j=Ae())||void 0===j?void 0:j.emulatorHosts)||void 0===Z?void 0:Z[$]})($);if(!j)return;const Z=j.lastIndexOf(":");if(Z<=0||Z+1===j.length)throw new Error(`Invalid host ${j} with no separate hostname and port!`);const we=parseInt(j.substring(Z+1),10);return"["===j[0]?[j.substring(1,Z-1),we]:[j.substring(0,Z),we]},re=()=>{var $;return null===($=Ae())||void 0===$?void 0:$.config},ie=$=>{var j;return null===(j=Ae())||void 0===j?void 0:j[`_${$}`]};class pe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,Z)=>{this.resolve=j,this.reject=Z})}wrapCallback(j){return(Z,we)=>{Z?this.reject(Z):this.resolve(we),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(Z):j(Z,we))}}}function be($,j){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const we=j||"demo-project",te=$.iat||0,st=$.sub||$.user_id;if(!st)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Xe=Object.assign({iss:`https://securetoken.google.com/${we}`,aud:we,iat:te,exp:te+3600,auth_time:te,sub:st,user_id:st,firebase:{sign_in_provider:"custom",identities:{}}},$);return[ae(JSON.stringify({alg:"none",type:"JWT"})),ae(JSON.stringify(Xe)),""].join(".")}function Ee(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function z(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ee())}function ve(){var $;const j=null===($=Ae())||void 0===$?void 0:$.forceEnvironment;if("node"===j)return!0;if("browser"===j)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function je(){return"object"==typeof self&&self.self===self}function ze(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function mt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ue(){const $=Ee();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function Re(){return!ve()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Be(){try{return"object"==typeof indexedDB}catch{return!1}}function He(){return new Promise(($,j)=>{try{let Z=!0;const we="validate-browser-context-for-indexeddb-analytics-module",te=self.indexedDB.open(we);te.onsuccess=()=>{te.result.close(),Z||self.indexedDB.deleteDatabase(we),$(!0)},te.onupgradeneeded=()=>{Z=!1},te.onerror=()=>{var st;j((null===(st=te.error)||void 0===st?void 0:st.message)||"")}}catch(Z){j(Z)}})}function ot(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class hn extends Error{constructor(j,Z,we){super(Z),this.code=j,this.customData=we,this.name="FirebaseError",Object.setPrototypeOf(this,hn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,St.prototype.create)}}class St{constructor(j,Z,we){this.service=j,this.serviceName=Z,this.errors=we}create(j,...Z){const we=Z[0]||{},te=`${this.service}/${j}`,st=this.errors[j],Xe=st?function rn($,j){return $.replace(ct,(Z,we)=>{const te=j[we];return null!=te?String(te):`<${we}?>`})}(st,we):"Error";return new hn(te,`${this.serviceName}: ${Xe} (${te}).`,we)}}const ct=/\{\$([^}]+)}/g;function Rr($,j){return Object.prototype.hasOwnProperty.call($,j)}function zo($){for(const j in $)if(Object.prototype.hasOwnProperty.call($,j))return!1;return!0}function pr($,j){if($===j)return!0;const Z=Object.keys($),we=Object.keys(j);for(const te of Z){if(!we.includes(te))return!1;const st=$[te],Xe=j[te];if(vt(st)&&vt(Xe)){if(!pr(st,Xe))return!1}else if(st!==Xe)return!1}for(const te of we)if(!Z.includes(te))return!1;return!0}function vt($){return null!==$&&"object"==typeof $}function Br($){const j=[];for(const[Z,we]of Object.entries($))Array.isArray(we)?we.forEach(te=>{j.push(encodeURIComponent(Z)+"="+encodeURIComponent(te))}):j.push(encodeURIComponent(Z)+"="+encodeURIComponent(we));return j.length?"&"+j.join("&"):""}function Nn($){const j={};return $.replace(/^\?/,"").split("&").forEach(we=>{if(we){const[te,st]=we.split("=");j[decodeURIComponent(te)]=decodeURIComponent(st)}}),j}function Vi($){const j=$.indexOf("?");if(!j)return"";const Z=$.indexOf("#",j);return $.substring(j,Z>0?Z:void 0)}function Ut($,j){const Z=new xt($,j);return Z.subscribe.bind(Z)}class xt{constructor(j,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{j(this)}).catch(we=>{this.error(we)})}next(j){this.forEachObserver(Z=>{Z.next(j)})}error(j){this.forEachObserver(Z=>{Z.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,Z,we){let te;if(void 0===j&&void 0===Z&&void 0===we)throw new Error("Missing Observer.");te=function ms($,j){if("object"!=typeof $||null===$)return!1;for(const Z of j)if(Z in $&&"function"==typeof $[Z])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:Z,complete:we},void 0===te.next&&(te.next=Dn),void 0===te.error&&(te.error=Dn),void 0===te.complete&&(te.complete=Dn);const st=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?te.error(this.finalError):te.complete()}catch{}}),this.observers.push(te),st}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,j)}sendOne(j,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{Z(this.observers[j])}catch(we){typeof console<"u"&&console.error&&console.error(we)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Dn(){}const eo=1e3,Ge=2,Te=144e5,lt=.5;function Tt($,j=eo,Z=Ge){const we=j*Math.pow(Z,$),te=Math.round(lt*we*(Math.random()-.5)*2);return Math.min(Te,we+te)}function Ui($){return $&&$._delegate?$._delegate:$}},623:(ut,Se,P)=>{var a=P(4650);let Q=null;function N(){return Q}class se{}const J=new a.OlP("DocumentToken");let _e=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function le(){return(0,a.LFG)(H)}()},providedIn:"platform"}),n})();const ae=new a.OlP("Location Initialized");let H=(()=>{class n extends _e{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(e){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){G()?this._history.pushState(e,i,r):this._location.hash=r}replaceState(e,i,r){G()?this._history.replaceState(e,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(J))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function K(){return new H((0,a.LFG)(J))}()},providedIn:"platform"}),n})();function G(){return!!window.history.pushState}function Pe(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function De(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function qe(n){return n&&"?"!==n[0]?"?"+n:n}let ht=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(Ae)},providedIn:"root"}),n})();const ye=new a.OlP("appBaseHref");let Ae=(()=>{class n extends ht{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(J).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Pe(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+qe(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const d=this.prepareExternalUrl(r+qe(s));this._platformLocation.pushState(e,i,d)}replaceState(e,i,r,s){const d=this.prepareExternalUrl(r+qe(s));this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(_e),a.LFG(ye,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ie=(()=>{class n extends ht{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Pe(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let d=this.prepareExternalUrl(r+qe(s));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(e,i,d)}replaceState(e,i,r,s){let d=this.prepareExternalUrl(r+qe(s));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(_e),a.LFG(ye,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Le=(()=>{class n{constructor(e){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function be(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(De(pe(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+qe(i))}normalize(e){return n.stripTrailingSlash(function ie(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,pe(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+qe(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+qe(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=qe,n.joinWithSlash=Pe,n.stripTrailingSlash=De,n.\u0275fac=function(e){return new(e||n)(a.LFG(ht))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function re(){return new Le((0,a.LFG)(ht))}()},providedIn:"root"}),n})();function pe(n){return n.replace(/\/index.html$/,"")}var je=(()=>((je=je||{})[je.Format=0]="Format",je[je.Standalone=1]="Standalone",je))(),ze=(()=>((ze=ze||{})[ze.Narrow=0]="Narrow",ze[ze.Abbreviated=1]="Abbreviated",ze[ze.Wide=2]="Wide",ze[ze.Short=3]="Short",ze))(),mt=(()=>((mt=mt||{})[mt.Short=0]="Short",mt[mt.Medium=1]="Medium",mt[mt.Long=2]="Long",mt[mt.Full=3]="Full",mt))(),tt=(()=>((tt=tt||{})[tt.Decimal=0]="Decimal",tt[tt.Group=1]="Group",tt[tt.List=2]="List",tt[tt.PercentSign=3]="PercentSign",tt[tt.PlusSign=4]="PlusSign",tt[tt.MinusSign=5]="MinusSign",tt[tt.Exponential=6]="Exponential",tt[tt.SuperscriptingExponent=7]="SuperscriptingExponent",tt[tt.PerMille=8]="PerMille",tt[tt.Infinity=9]="Infinity",tt[tt.NaN=10]="NaN",tt[tt.TimeSeparator=11]="TimeSeparator",tt[tt.CurrencyDecimal=12]="CurrencyDecimal",tt[tt.CurrencyGroup=13]="CurrencyGroup",tt))();function hn(n,t){return Rn((0,a.cg1)(n)[a.wAp.DateFormat],t)}function St(n,t){return Rn((0,a.cg1)(n)[a.wAp.TimeFormat],t)}function rn(n,t){return Rn((0,a.cg1)(n)[a.wAp.DateTimeFormat],t)}function ct(n,t){const e=(0,a.cg1)(n),i=e[a.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===tt.CurrencyDecimal)return e[a.wAp.NumberSymbols][tt.Decimal];if(t===tt.CurrencyGroup)return e[a.wAp.NumberSymbols][tt.Group]}return i}function hs(n){if(!n[a.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[a.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Rn(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function pr(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const Nn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Vi={},fs=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ut=(()=>((Ut=Ut||{})[Ut.Short=0]="Short",Ut[Ut.ShortGMT=1]="ShortGMT",Ut[Ut.Long=2]="Long",Ut[Ut.Extended=3]="Extended",Ut))(),xt=(()=>((xt=xt||{})[xt.FullYear=0]="FullYear",xt[xt.Month=1]="Month",xt[xt.Date=2]="Date",xt[xt.Hours=3]="Hours",xt[xt.Minutes=4]="Minutes",xt[xt.Seconds=5]="Seconds",xt[xt.FractionalSeconds=6]="FractionalSeconds",xt[xt.Day=7]="Day",xt))(),kt=(()=>((kt=kt||{})[kt.DayPeriods=0]="DayPeriods",kt[kt.Days=1]="Days",kt[kt.Months=2]="Months",kt[kt.Eras=3]="Eras",kt))();function ms(n,t,e,i){let r=function te(n){if(Xe(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,d=1]=n.split("-").map(f=>+f);return Dn(r,s-1,d)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(Nn))return function st(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const d=Number(n[4]||0)-e,f=Number(n[5]||0)-i,_=Number(n[6]||0),b=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,d,f,_,b),t}(i)}const t=new Date(n);if(!Xe(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=ni(e,t)||t;let f,d=[];for(;t;){if(f=fs.exec(t),!f){d.push(t);break}{d=d.concat(f.slice(1));const E=d.pop();if(!E)break;t=E}}let _=r.getTimezoneOffset();i&&(_=j(i,_),r=function we(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function Z(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(j(t,r)-r))}(r,i,!0));let b="";return d.forEach(E=>{const k=function $(n){if(Ui[n])return Ui[n];let t;switch(n){case"G":case"GG":case"GGG":t=tn(kt.Eras,ze.Abbreviated);break;case"GGGG":t=tn(kt.Eras,ze.Wide);break;case"GGGGG":t=tn(kt.Eras,ze.Narrow);break;case"y":t=pn(xt.FullYear,1,0,!1,!0);break;case"yy":t=pn(xt.FullYear,2,0,!0,!0);break;case"yyy":t=pn(xt.FullYear,3,0,!1,!0);break;case"yyyy":t=pn(xt.FullYear,4,0,!1,!0);break;case"Y":t=Wt(1);break;case"YY":t=Wt(2,!0);break;case"YYY":t=Wt(3);break;case"YYYY":t=Wt(4);break;case"M":case"L":t=pn(xt.Month,1,1);break;case"MM":case"LL":t=pn(xt.Month,2,1);break;case"MMM":t=tn(kt.Months,ze.Abbreviated);break;case"MMMM":t=tn(kt.Months,ze.Wide);break;case"MMMMM":t=tn(kt.Months,ze.Narrow);break;case"LLL":t=tn(kt.Months,ze.Abbreviated,je.Standalone);break;case"LLLL":t=tn(kt.Months,ze.Wide,je.Standalone);break;case"LLLLL":t=tn(kt.Months,ze.Narrow,je.Standalone);break;case"w":t=Vt(1);break;case"ww":t=Vt(2);break;case"W":t=Vt(1,!0);break;case"d":t=pn(xt.Date,1);break;case"dd":t=pn(xt.Date,2);break;case"c":case"cc":t=pn(xt.Day,1);break;case"ccc":t=tn(kt.Days,ze.Abbreviated,je.Standalone);break;case"cccc":t=tn(kt.Days,ze.Wide,je.Standalone);break;case"ccccc":t=tn(kt.Days,ze.Narrow,je.Standalone);break;case"cccccc":t=tn(kt.Days,ze.Short,je.Standalone);break;case"E":case"EE":case"EEE":t=tn(kt.Days,ze.Abbreviated);break;case"EEEE":t=tn(kt.Days,ze.Wide);break;case"EEEEE":t=tn(kt.Days,ze.Narrow);break;case"EEEEEE":t=tn(kt.Days,ze.Short);break;case"a":case"aa":case"aaa":t=tn(kt.DayPeriods,ze.Abbreviated);break;case"aaaa":t=tn(kt.DayPeriods,ze.Wide);break;case"aaaaa":t=tn(kt.DayPeriods,ze.Narrow);break;case"b":case"bb":case"bbb":t=tn(kt.DayPeriods,ze.Abbreviated,je.Standalone,!0);break;case"bbbb":t=tn(kt.DayPeriods,ze.Wide,je.Standalone,!0);break;case"bbbbb":t=tn(kt.DayPeriods,ze.Narrow,je.Standalone,!0);break;case"B":case"BB":case"BBB":t=tn(kt.DayPeriods,ze.Abbreviated,je.Format,!0);break;case"BBBB":t=tn(kt.DayPeriods,ze.Wide,je.Format,!0);break;case"BBBBB":t=tn(kt.DayPeriods,ze.Narrow,je.Format,!0);break;case"h":t=pn(xt.Hours,1,-12);break;case"hh":t=pn(xt.Hours,2,-12);break;case"H":t=pn(xt.Hours,1);break;case"HH":t=pn(xt.Hours,2);break;case"m":t=pn(xt.Minutes,1);break;case"mm":t=pn(xt.Minutes,2);break;case"s":t=pn(xt.Seconds,1);break;case"ss":t=pn(xt.Seconds,2);break;case"S":t=pn(xt.FractionalSeconds,1);break;case"SS":t=pn(xt.FractionalSeconds,2);break;case"SSS":t=pn(xt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=eo(Ut.Short);break;case"ZZZZZ":t=eo(Ut.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=eo(Ut.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=eo(Ut.Long);break;default:return null}return Ui[n]=t,t}(E);b+=k?k(r,e,_):"''"===E?"'":E.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),b}function Dn(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function ni(n,t){const e=function ge(n){return(0,a.cg1)(n)[a.wAp.LocaleId]}(n);if(Vi[e]=Vi[e]||{},Vi[e][t])return Vi[e][t];let i="";switch(t){case"shortDate":i=hn(n,mt.Short);break;case"mediumDate":i=hn(n,mt.Medium);break;case"longDate":i=hn(n,mt.Long);break;case"fullDate":i=hn(n,mt.Full);break;case"shortTime":i=St(n,mt.Short);break;case"mediumTime":i=St(n,mt.Medium);break;case"longTime":i=St(n,mt.Long);break;case"fullTime":i=St(n,mt.Full);break;case"short":const r=ni(n,"shortTime"),s=ni(n,"shortDate");i=Yi(rn(n,mt.Short),[r,s]);break;case"medium":const d=ni(n,"mediumTime"),f=ni(n,"mediumDate");i=Yi(rn(n,mt.Medium),[d,f]);break;case"long":const _=ni(n,"longTime"),b=ni(n,"longDate");i=Yi(rn(n,mt.Long),[_,b]);break;case"full":const E=ni(n,"fullTime"),k=ni(n,"fullDate");i=Yi(rn(n,mt.Full),[E,k])}return i&&(Vi[e][t]=i),i}function Yi(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Bi(n,t,e="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=e));let d=String(n);for(;d.length<t;)d="0"+d;return i&&(d=d.slice(d.length-t)),s+d}function pn(n,t,e=0,i=!1,r=!1){return function(s,d){let f=function vo(n,t){switch(n){case xt.FullYear:return t.getFullYear();case xt.Month:return t.getMonth();case xt.Date:return t.getDate();case xt.Hours:return t.getHours();case xt.Minutes:return t.getMinutes();case xt.Seconds:return t.getSeconds();case xt.FractionalSeconds:return t.getMilliseconds();case xt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||f>-e)&&(f+=e),n===xt.Hours)0===f&&-12===e&&(f=12);else if(n===xt.FractionalSeconds)return function La(n,t){return Bi(n,3).substring(0,t)}(f,t);const _=ct(d,tt.MinusSign);return Bi(f,t,_,i,r)}}function tn(n,t,e=je.Format,i=!1){return function(r,s){return function Qi(n,t,e,i,r,s){switch(e){case kt.Months:return function Be(n,t,e){const i=(0,a.cg1)(n),s=Rn([i[a.wAp.MonthsFormat],i[a.wAp.MonthsStandalone]],t);return Rn(s,e)}(t,r,i)[n.getMonth()];case kt.Days:return function Re(n,t,e){const i=(0,a.cg1)(n),s=Rn([i[a.wAp.DaysFormat],i[a.wAp.DaysStandalone]],t);return Rn(s,e)}(t,r,i)[n.getDay()];case kt.DayPeriods:const d=n.getHours(),f=n.getMinutes();if(s){const b=function Rr(n){const t=(0,a.cg1)(n);return hs(t),(t[a.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?pr(i):[pr(i[0]),pr(i[1])])}(t),E=function mr(n,t,e){const i=(0,a.cg1)(n);hs(i);const s=Rn([i[a.wAp.ExtraData][0],i[a.wAp.ExtraData][1]],t)||[];return Rn(s,e)||[]}(t,r,i),k=b.findIndex(V=>{if(Array.isArray(V)){const[L,U]=V,Y=d>=L.hours&&f>=L.minutes,he=d<U.hours||d===U.hours&&f<U.minutes;if(L.hours<U.hours){if(Y&&he)return!0}else if(Y||he)return!0}else if(V.hours===d&&V.minutes===f)return!0;return!1});if(-1!==k)return E[k]}return function Ce(n,t,e){const i=(0,a.cg1)(n),s=Rn([i[a.wAp.DayPeriodsFormat],i[a.wAp.DayPeriodsStandalone]],t);return Rn(s,e)}(t,r,i)[d<12?0:1];case kt.Eras:return function He(n,t){return Rn((0,a.cg1)(n)[a.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,s,n,t,e,i)}}function eo(n){return function(t,e,i){const r=-1*i,s=ct(e,tt.MinusSign),d=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Ut.Short:return(r>=0?"+":"")+Bi(d,2,s)+Bi(Math.abs(r%60),2,s);case Ut.ShortGMT:return"GMT"+(r>=0?"+":"")+Bi(d,1,s);case Ut.Long:return"GMT"+(r>=0?"+":"")+Bi(d,2,s)+":"+Bi(Math.abs(r%60),2,s);case Ut.Extended:return 0===i?"Z":(r>=0?"+":"")+Bi(d,2,s)+":"+Bi(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const Ge=0,Te=4;function Tt(n){return Dn(n.getFullYear(),n.getMonth(),n.getDate()+(Te-n.getDay()))}function Vt(n,t=!1){return function(e,i){let r;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,d=e.getDate();r=1+Math.floor((d+s)/7)}else{const s=Tt(e),d=function lt(n){const t=Dn(n,Ge,1).getDay();return Dn(n,0,1+(t<=Te?Te:Te+7)-t)}(s.getFullYear()),f=s.getTime()-d.getTime();r=1+Math.round(f/6048e5)}return Bi(r,n,ct(i,tt.MinusSign))}}function Wt(n,t=!1){return function(e,i){return Bi(Tt(e).getFullYear(),n,ct(i,tt.MinusSign),t)}}const Ui={};function j(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function Xe(n){return n instanceof Date&&!isNaN(n.valueOf())}function Va(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}const ps=/\s+/,Or=[];let nt=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=Or,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(ps):Or}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(ps):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,Boolean(e[i]));this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(ps).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class no{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Sn=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,d)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new no(r.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)i.remove(null===s?void 0:s);else if(null!==s){const f=i.get(s);i.move(f,d),gs(f,r)}});for(let r=0,s=i.length;r<s;r++){const f=i.get(r).context;f.index=r,f.count=s,f.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{gs(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function gs(n,t){n.context.$implicit=t.item}let Ei=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Ba,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Kt("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Kt("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Ba{constructor(){this.$implicit=null,this.ngIf=null}}function Kt(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(t)}'.`)}class Zs{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let _s=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Go=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Zs(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(_s,9))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),zi=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:d}=this;this._viewRef=i.createEmbeddedView(r,s,d?{injector:d}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[a.TTD]}),n})();function Xt(n,t){return new a.vHH(2100,!1)}class bo{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class dd{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const Bc=new dd,ys=new bo;let ri=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,a.QGY)(e))return Bc;if((0,a.F4k)(e))return ys;throw Xt()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.sBO,16))},n.\u0275pipe=a.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})();const wo=new a.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Uc=new a.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Wo=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,s){if(null==e||""===e||e!=e)return null;try{return ms(e,i??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(d){throw Xt()}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.soG,16),a.Y36(wo,24),a.Y36(Uc,24))},n.\u0275pipe=a.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),Zn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const hd="browser",Fr="server";function zc(n){return n===Fr}let ws=(()=>{class n{}return n.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new za((0,a.LFG)(J),window)}),n})();class za{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Js(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const d=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(d)return d}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Xs(this.window.history)||Xs(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Xs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Hc{}class Co extends se{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ea extends Co{static makeCurrent(){!function oe(n){Q||(Q=n)}(new ea)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Cm(){return ta=ta||document.querySelector("base"),ta?ta.getAttribute("href"):null}();return null==e?null:function Oi(n){So=So||document.createElement("a"),So.setAttribute("href",n);const t=So.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){ta=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Va(document.cookie,t)}}let So,ta=null;const Za=new a.OlP("TRANSITION_ID"),ao=[{provide:a.ip1,useFactory:function Zy(n,t,e){return()=>{e.get(a.CZH).donePromise.then(()=>{const i=N(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Za,J,a.zs3],multi:!0}];let Im=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Qo=new a.OlP("EventManagerPlugins");let Ka=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const d=r[s];if(d.supports(e))return this._eventNameToPlugin.set(e,d),d}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Qo),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class si{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=N().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let na=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(e){}onStyleAdded(e){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(e,i){const r=this.usageCount;let s=r.get(e)??0;return s+=i,s>0?r.set(e,s):r.delete(e),s}ngOnDestroy(){for(const e of this.getAllStyles())this.onStyleRemoved(e);this.usageCount.clear()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Io=(()=>{class n extends na{constructor(e){super(),this.doc=e,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.forEach(s=>s.remove()),i.delete(e)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}addStyleToHost(e,i){const r=this.doc.createElement("style");r.textContent=i,e.appendChild(r);const s=this.styleRef.get(i);s?s.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(J))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const ia={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Do=/%COMP%/g,Ya=new a.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Qa(n,t){return t.flat(100).map(e=>e.replace(Do,n))}function Xa(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Is=(()=>{class n{constructor(e,i,r,s){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new tr(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(e,i);return r instanceof ec?r.applyToHost(e):r instanceof Ja&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const d=this.eventManager,f=this.sharedStylesHost,_=this.removeStylesOnCompDestory;switch(i.encapsulation){case a.ifc.Emulated:s=new ec(d,f,i,this.appId,_);break;case a.ifc.ShadowDom:return new Rd(d,f,e,i);default:s=new Ja(d,f,i,_)}s.onDestroy=()=>r.delete(i.id),r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Ka),a.LFG(Io),a.LFG(a.AFp),a.LFG(Ya))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class tr{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(ia[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(ra(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(ra(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=ia[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=ia[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(a.JOm.DashCase|a.JOm.Important)?t.style.setProperty(e,i,r&a.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&a.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Xa(i)):this.eventManager.addEventListener(t,e,Xa(i))}}function ra(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Rd extends tr{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Qa(r.id,r.styles);for(const d of s){const f=document.createElement("style");f.textContent=d,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ja extends tr{constructor(t,e,i,r,s=i.id){super(t),this.sharedStylesHost=e,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=Qa(s,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class ec extends Ja{constructor(t,e,i,r,s){const d=r+"-"+i.id;super(t,e,i,s,d),this.contentAttr=function co(n){return"_ngcontent-%COMP%".replace(Do,n)}(d),this.hostAttr=function Ad(n){return"_nghost-%COMP%".replace(Do,n)}(d)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let oa=(()=>{class n extends si{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(J))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const tc=["alt","control","meta","shift"],wh={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lo={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let nc=(()=>{class n extends si{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),d=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(e,s.domEventName,d))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let d="",f=i.indexOf("code");if(f>-1&&(i.splice(f,1),d="code."),tc.forEach(b=>{const E=i.indexOf(b);E>-1&&(i.splice(E,1),d+=b+".")}),d+=s,0!=i.length||0===s.length)return null;const _={};return _.domEventName=r,_.fullKey=d,_}static matchEventFullKeyCode(e,i){let r=wh[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),tc.forEach(d=>{d!==r&&(0,lo[d])(e)&&(s+=d+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(J))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const nl=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:hd},{provide:a.g9A,useValue:function Ts(){ea.makeCurrent()},multi:!0},{provide:J,useFactory:function Tm(){return(0,a.RDi)(document),document},deps:[]}]),xh=new a.OlP(""),Pd=[{provide:a.rWj,useClass:class Sm{addToWindow(t){a.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},a.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(i=>{const r=a.dqk.getAllAngularTestabilities();let s=r.length,d=!1;const f=function(_){d=d||_,s--,0==s&&i(d)};r.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?N().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:a.lri,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]}],sa=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function ic(){return new a.qLn},deps:[]},{provide:Qo,useClass:oa,multi:!0,deps:[J,a.R0b,a.Lbi]},{provide:Qo,useClass:nc,multi:!0,deps:[J]},{provide:Is,useClass:Is,deps:[Ka,Io,a.AFp,Ya]},{provide:a.FYo,useExisting:Is},{provide:na,useExisting:Io},{provide:Io,useClass:Io,deps:[J]},{provide:Ka,useClass:Ka,deps:[Qo,a.R0b]},{provide:Hc,useClass:Im,deps:[]},[]];let aa=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:a.AFp,useValue:e.appId},{provide:Za,useExisting:a.AFp},ao]}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(xh,12))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[...sa,...Pd],imports:[Zn,a.hGG]}),n})(),ks=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(J))},n.\u0275prov=a.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Eh(){return new ks((0,a.LFG)(J))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Nd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):a.LFG(Ld),i},providedIn:"root"}),n})(),Ld=(()=>{class n extends Nd{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case a.q3G.NONE:return i;case a.q3G.HTML:return(0,a.qzn)(i,"HTML")?(0,a.z3N)(i):(0,a.EiD)(this._doc,String(i)).toString();case a.q3G.STYLE:return(0,a.qzn)(i,"Style")?(0,a.z3N)(i):i;case a.q3G.SCRIPT:if((0,a.qzn)(i,"Script"))return(0,a.z3N)(i);throw new Error("unsafe value used in a script context");case a.q3G.URL:return(0,a.qzn)(i,"URL")?(0,a.z3N)(i):(0,a.mCW)(String(i));case a.q3G.RESOURCE_URL:if((0,a.qzn)(i,"ResourceURL"))return(0,a.z3N)(i);throw new Error(`unsafe value used in a resource URL context (see ${a.JZr})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${a.JZr})`)}}bypassSecurityTrustHtml(e){return(0,a.JVY)(e)}bypassSecurityTrustStyle(e){return(0,a.L6k)(e)}bypassSecurityTrustScript(e){return(0,a.eBb)(e)}bypassSecurityTrustUrl(e){return(0,a.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,a.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(J))},n.\u0275prov=a.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Rs(n){return new Ld(n.get(J))}(a.LFG(a.zs3)),i},providedIn:"root"}),n})();var ai=P(4986),fn=P(9751),$t=P(8996),Pr=P(3269);function Ze(...n){const t=(0,Pr.yG)(n);return(0,$t.D)(n,t)}var Tn=P(263),Jo=P(8189);function oc(...n){return function Vd(){return(0,Jo.J)(1)}()((0,$t.D)(n,(0,Pr.yG)(n)))}var xn=P(4482);function S(...n){const t=(0,Pr.yG)(n);return(0,xn.e)((e,i)=>{(t?oc(n,e,t):oc(n,e)).subscribe(i)})}var I=P(5403);function R(){return(0,xn.e)((n,t)=>{let e,i=!1;n.subscribe((0,I.x)(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}var F=P(4004);function ne(n,t){return(0,xn.e)(function X(n,t,e,i,r){return(s,d)=>{let f=e,_=t,b=0;s.subscribe((0,I.x)(d,E=>{const k=b++;_=f?n(_,E,k):(f=!0,E),i&&d.next(_)},r&&(()=>{f&&d.next(_),d.complete()})))}}(n,t,arguments.length>=2,!0))}var ke=P(4671);function at(n,t=ke.y){return n=n??yt,(0,xn.e)((e,i)=>{let r,s=!0;e.subscribe((0,I.x)(i,d=>{const f=t(d);(s||!n(r,f))&&(s=!1,r=f,i.next(d))}))})}function yt(n,t){return n===t}function We(n,t){return(0,xn.e)((e,i)=>{let r=0;e.subscribe((0,I.x)(i,s=>n.call(t,s,r++)&&i.next(s)))})}var gt,It=P(2011),nr=(P(8971),P(3942)),ce=P(5861),ci=P(9681),zr=P(4859),ir=P(1877),qt=P(2090),uo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Hr={},Rm=Rm||{},jt=uo||self;function sl(){}function sc(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function al(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var cl="closure_uid_"+(1e9*Math.random()>>>0),zw=0;function kg(n,t,e){return n.call.apply(n.bind,arguments)}function Yy(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function rr(n,t,e){return(rr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?kg:Yy).apply(null,arguments)}function ac(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Di(n,t){function e(){}e.prototype=t.prototype,n.X=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Wb=function(i,r,s){for(var d=Array(arguments.length-2),f=2;f<arguments.length;f++)d[f-2]=arguments[f];return t.prototype[r].apply(i,d)}}function cc(){this.s=this.s,this.o=this.o}cc.prototype.s=!1,cc.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Ky(n){Object.prototype.hasOwnProperty.call(n,cl)&&n[cl]||(n[cl]=++zw)}(this)},cc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ah=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function Ag(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function Qy(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(sc(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let d=0;d<s;d++)n[r+d]=i[d]}else n.push(i)}}function br(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}br.prototype.h=function(){this.defaultPrevented=!0};var $w=function(){if(!jt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{jt.addEventListener("test",sl,t),jt.removeEventListener("test",sl,t)}catch{}return n}();function Bd(n){return/^[\s\xa0]*$/.test(n)}var Mg=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Mh(n,t){return n<t?-1:n>t?1:0}function ll(){var n=jt.navigator;return n&&(n=n.userAgent)?n:""}function Ro(n){return-1!=ll().indexOf(n)}function Rh(n){return Rh[" "](n),n}Rh[" "]=sl;var Fh,n,es=Ro("Opera"),dl=Ro("Trident")||Ro("MSIE"),Rg=Ro("Edge"),Fm=Rg||dl,Ud=Ro("Gecko")&&!(-1!=ll().toLowerCase().indexOf("webkit")&&!Ro("Edge"))&&!(Ro("Trident")||Ro("MSIE"))&&!Ro("Edge"),Pm=-1!=ll().toLowerCase().indexOf("webkit")&&!Ro("Edge");function Oh(){var n=jt.document;return n?n.documentMode:void 0}e:{var Ph="",Nh=(n=ll(),Ud?/rv:([^\);]+)(\)|;)/.exec(n):Rg?/Edge\/([\d\.]+)/.exec(n):dl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Pm?/WebKit\/(\S+)/.exec(n):es?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Nh&&(Ph=Nh?Nh[1]:""),dl){var jd=Oh();if(null!=jd&&jd>parseFloat(Ph)){Fh=String(jd);break e}}Fh=Ph}var Xy={};var Lm=jt.document&&dl&&(Oh()||parseInt(Fh,10))||void 0;function gi(n,t){if(br.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(Ud){e:{try{Rh(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:zd[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&gi.X.h.call(this)}}Di(gi,br);var zd={2:"touch",3:"pen",4:"mouse"};gi.prototype.h=function(){gi.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var hl="closure_listenable_"+(1e6*Math.random()|0),Vm=0;function Jy(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ha=r,this.key=++Vm,this.ba=this.ea=!1}function Lh(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Os(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function Bm(n){const t={};for(const e in n)t[e]=n[e];return t}const Og="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Hd(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<Og.length;s++)e=Og[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function Vh(n){this.src=n,this.g={},this.h=0}function $d(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=Ah(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(Lh(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function Gd(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ba&&s.listener==t&&s.capture==!!e&&s.ha==i)return r}return-1}Vh.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var d=Gd(n,t,i,r);return-1<d?(t=n[d],e||(t.ea=!1)):((t=new Jy(t,this.src,s,!!i,r)).ea=e,n.push(t)),t};var qd="closure_lm_"+(1e6*Math.random()|0),Wd={};function fl(n,t,e,i,r){if(i&&i.once)return Bh(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)fl(n,t[s],e,i,r);return null}return e=Yd(e),n&&n[hl]?n.N(t,e,al(i)?!!i.capture:!!i,r):Fg(n,t,e,!1,i,r)}function Fg(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var d=al(r)?!!r.capture:!!r,f=Zd(n);if(f||(n[qd]=f=new Vh(n)),(e=f.add(t,e,i,d,s)).proxy)return e;if(i=function Um(){const t=jm;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)$w||(r=d),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(lc(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function Bh(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Bh(n,t[s],e,i,r);return null}return e=Yd(e),n&&n[hl]?n.O(t,e,al(i)?!!i.capture:!!i,r):Fg(n,t,e,!0,i,r)}function Uh(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)Uh(n,t[s],e,i,r);else i=al(i)?!!i.capture:!!i,e=Yd(e),n&&n[hl]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=Gd(s=n.g[t],e,i,r))&&(Lh(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=Zd(n))&&(t=n.g[t.toString()],n=-1,t&&(n=Gd(t,e,i,r)),(e=-1<n?t[n]:null)&&jh(e))}function jh(n){if("number"!=typeof n&&n&&!n.ba){var t=n.src;if(t&&t[hl])$d(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(lc(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=Zd(t))?($d(e,n),0==e.h&&(e.src=null,t[qd]=null)):Lh(n)}}}function lc(n){return n in Wd?Wd[n]:Wd[n]="on"+n}function jm(n,t){if(n.ba)n=!0;else{t=new gi(t,this);var e=n.listener,i=n.ha||n.src;n.ea&&jh(n),n=e.call(i,t)}return n}function Zd(n){return(n=n[qd])instanceof Vh?n:null}var Kd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yd(n){return"function"==typeof n?n:(n[Kd]||(n[Kd]=function(t){return n.handleEvent(t)}),n[Kd])}function Fi(){cc.call(this),this.i=new Vh(this),this.P=this,this.I=null}function Ti(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new br(t,n);else if(t instanceof br)t.target=t.target||n;else{var r=t;Hd(t=new br(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var d=t.g=e[s];r=ml(d,i,!0,t)&&r}if(r=ml(d=t.g=n,i,!0,t)&&r,r=ml(d,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=ml(d=t.g=e[s],i,!1,t)&&r}function ml(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var d=t[s];if(d&&!d.ba&&d.capture==e){var f=d.listener,_=d.ha||d.src;d.ea&&$d(n.i,d),r=!1!==f.call(_,i)&&r}}return r&&!i.defaultPrevented}Di(Fi,cc),Fi.prototype[hl]=!0,Fi.prototype.removeEventListener=function(n,t,e,i){Uh(this,n,t,e,i)},Fi.prototype.M=function(){if(Fi.X.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)Lh(e[i]);delete n.g[t],n.h--}}this.I=null},Fi.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Fi.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var zm=jt.JSON.stringify;function ev(){var n=qm;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var Gm,Hm=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new $m,n=>n.reset());class $m{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Pg(n){jt.setTimeout(()=>{throw n},0)}function Qd(n,t){Gm||function tv(){var n=jt.Promise.resolve(void 0);Gm=function(){n.then(Oo)}}(),Hh||(Gm(),Hh=!0),qm.add(n,t)}var Hh=!1,qm=new class zh{constructor(){this.h=this.g=null}add(t,e){const i=Hm.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function Oo(){for(var n;n=ev();){try{n.h.call(n.g)}catch(e){Pg(e)}var t=Hm;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Hh=!1}function Xd(n,t){Fi.call(this),this.h=n||1,this.g=t||jt,this.j=rr(this.lb,this),this.l=Date.now()}function Jd(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Wm(n,t,e){if("function"==typeof n)e&&(n=rr(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=rr(n.handleEvent,n)}return 2147483647<Number(t)?-1:jt.setTimeout(n,t||0)}function nv(n){n.g=Wm(()=>{n.g=null,n.i&&(n.i=!1,nv(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Di(Xd,Fi),(gt=Xd.prototype).ca=!1,gt.R=null,gt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ti(this,"tick"),this.ca&&(Jd(this),this.start()))}},gt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},gt.M=function(){Xd.X.M.call(this),Jd(this),delete this.g};class $h extends cc{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:nv(this)}M(){super.M(),this.g&&(jt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function eu(n){cc.call(this),this.h=n,this.g={}}Di(eu,cc);var Gh=[];function tu(n,t,e,i){Array.isArray(e)||(e&&(Gh[0]=e.toString()),e=Gh);for(var r=0;r<e.length;r++){var s=fl(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function nu(n){Os(n.g,function(t,e){this.g.hasOwnProperty(e)&&jh(t)},n),n.g={}}function dc(){this.g=!0}function Fs(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function uc(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var d=1;d<r.length;d++)r[d]=""}}}return zm(e)}catch{return t}}(n,e)+(i?" "+i:"")})}eu.prototype.M=function(){eu.X.M.call(this),nu(this)},eu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},dc.prototype.Aa=function(){this.g=!1},dc.prototype.info=function(){};var ts={},qh=null;function ns(){return qh=qh||new Fi}function Wh(n){br.call(this,ts.Pa,n)}function gl(n){const t=ns();Ti(t,new Wh(t))}function Zm(n,t){br.call(this,ts.STAT_EVENT,n),this.stat=t}function xr(n){const t=ns();Ti(t,new Zm(t,n))}function Ps(n,t){br.call(this,ts.Qa,n),this.size=t}function hc(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return jt.setTimeout(function(){n()},t)}ts.Pa="serverreachability",Di(Wh,br),ts.STAT_EVENT="statevent",Di(Zm,br),ts.Qa="timingevent",Di(Ps,br);var iu={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},ru={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function ou(){}function Er(){}ou.prototype.h=null;var $r,fc={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Zh(){br.call(this,"d")}function Km(){br.call(this,"c")}function fa(){}function mc(n,t,e,i){this.l=n,this.j=t,this.m=e,this.U=i||1,this.S=new eu(this),this.O=Ym,this.T=new Xd(n=Fm?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new _l}function _l(){this.i=null,this.g="",this.h=!1}Di(Zh,br),Di(Km,br),Di(fa,ou),fa.prototype.g=function(){return new XMLHttpRequest},fa.prototype.i=function(){return{}},$r=new fa;var Ym=45e3,yl={},su={};function Kh(n,t,e){n.K=1,n.v=is(ho(t)),n.s=e,n.P=!0,ma(n,null)}function ma(n,t){n.F=Date.now(),g(n),n.A=ho(n.v);var e=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),Ww(e.i,"t",i),n.C=0,e=n.l.H,n.h=new _l,n.g=CI(n.l,e?t:null,!n.s),0<n.N&&(n.L=new $h(rr(n.La,n,n.g),n.N)),tu(n.S,n.g,"readystatechange",n.ib),t=n.H?Bm(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,t)):(n.u="GET",n.g.da(n.A,n.u,null,t)),gl(),function Ng(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var d="",f=s.split("&"),_=0;_<f.length;_++){var b=f[_].split("=");if(1<b.length){var E=b[0];b=b[1];var k=E.split("_");d=2<=k.length&&"type"==k[1]?d+(E+"=")+b+"&":d+(E+"=redacted&")}}else d=null;else d=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+d})}(n.j,n.u,n.A,n.m,n.U,n.s)}function Lg(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function y(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=m(n,e),r==su){4==t&&(n.o=4,xr(14),i=!1),Fs(n.j,n.m,null,"[Incomplete Response]");break}if(r==yl){n.o=4,xr(15),Fs(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Fs(n.j,n.m,r,null),me(n,r)}Lg(n)&&r!=su&&r!=yl&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,xr(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.$&&(n.$=!0,(t=n.l).g==n&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+e.length),hv(t),t.K=!0,xr(11))):(Fs(n.j,n.m,e,"[Invalid Chunked Response]"),W(n),O(n))}function m(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?su:(e=Number(t.substring(e,i)),isNaN(e)?yl:(i+=1)+e>t.length?su:(t=t.substr(i,e),n.C=i+e,t))}function g(n){n.V=Date.now()+n.O,w(n,n.O)}function w(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=hc(rr(n.gb,n),t)}function D(n){n.B&&(jt.clearTimeout(n.B),n.B=null)}function O(n){0==n.l.G||n.I||Yg(n.l,n)}function W(n){D(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,Jd(n.T),nu(n.S),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function me(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||li(e.h,n)))if(!n.J&&li(e.h,n)&&3==e.G){try{var i=e.Fa.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;Kg(e),tf(e)}xl(e),xr(18)}}else e.Ba=r[1],0<e.Ba-e.T&&37500>r[2]&&e.L&&0==e.A&&!e.v&&(e.v=hc(rr(e.cb,e),6e3));if(1>=Yw(e.h)&&e.ja){try{e.ja()}catch{}e.ja=void 0}}else El(e,11)}else if((n.J||e.g==n)&&Kg(e),!Bd(t))for(r=e.Fa.g.parse(t),t=0;t<r.length;t++){let b=r[t];if(e.T=b[0],b=b[1],2==e.G)if("c"==b[0]){e.I=b[1],e.ka=b[2];const E=b[3];null!=E&&(e.ma=E,e.j.info("VER="+e.ma));const k=b[4];null!=k&&(e.Ca=k,e.j.info("SVER="+e.Ca));const V=b[5];null!=V&&"number"==typeof V&&0<V&&(e.J=i=1.5*V,e.j.info("backChannelRequestTimeoutMs_="+i)),i=e;const L=n.g;if(L){const U=L.g?L.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(U){var s=i.h;s.g||-1==U.indexOf("spdy")&&-1==U.indexOf("quic")&&-1==U.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(ov(s,s.h),s.h=null))}if(i.D){const Y=L.g?L.g.getResponseHeader("X-HTTP-Session-Id"):null;Y&&(i.za=Y,ln(i.F,i.D,Y))}}e.G=3,e.l&&e.l.xa(),e.$&&(e.P=Date.now()-n.F,e.j.info("Handshake RTT: "+e.P+"ms"));var d=n;if((i=e).sa=fv(i,i.H?i.ka:null,i.V),d.J){Qw(i.h,d);var f=d,_=i.J;_&&f.setTimeout(_),f.B&&(D(f),g(f)),i.g=d}else uv(i);0<e.i.length&&ga(e)}else"stop"!=b[0]&&"close"!=b[0]||El(e,7);else 3==e.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?El(e,7):dv(e):"noop"!=b[0]&&e.l&&e.l.wa(b),e.A=0)}gl()}catch{}}function Dt(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(sc(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function dt(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(sc(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function $e(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(sc(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}(gt=mc.prototype).setTimeout=function(n){this.O=n},gt.ib=function(n){n=n.target;const t=this.L;t&&3==pa(n)?t.l():this.La(n)},gt.La=function(n){try{if(n==this.g)e:{const E=pa(this.g);var t=this.g.Ea();if(this.g.aa(),!(3>E)&&(3!=E||Fm||this.g&&(this.h.h||this.g.fa()||cv(this.g)))){this.I||4!=E||7==t||gl(),D(this);var e=this.g.aa();this.Y=e;t:if(Lg(this)){var i=cv(this.g);n="";var r=i.length,s=4==pa(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){W(this),O(this);var d="";break t}this.h.i=new jt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==e,function pl(n,t,e,i,r,s,d){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+d})}(this.j,this.u,this.A,this.m,this.U,E,e),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bd(f)){var b=f;break t}}b=null}if(!(e=b)){this.i=!1,this.o=3,xr(12),W(this),O(this);break e}Fs(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,me(this,e)}this.P?(y(this,E,d),Fm&&this.i&&3==E&&(tu(this.S,this.T,"tick",this.hb),this.T.start())):(Fs(this.j,this.m,d,null),me(this,d)),4==E&&W(this),this.i&&!this.I&&(4==E?Yg(this.l,this):(this.i=!1,g(this)))}else 400==e&&0<d.indexOf("Unknown SID")?(this.o=3,xr(12)):(this.o=0,xr(13)),W(this),O(this)}}}catch{}},gt.hb=function(){if(this.g){var n=pa(this.g),t=this.g.fa();this.C<t.length&&(D(this),y(this,n,t),this.i&&4!=n&&g(this))}},gt.cancel=function(){this.I=!0,W(this)},gt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function Nr(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(gl(),xr(17)),W(this),this.o=2,O(this)):w(this,this.V-n)};var Et=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wi(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Wi){this.h=void 0!==t?t:n.h,au(this,n.j),this.s=n.s,this.g=n.g,vl(this,n.m),this.l=n.l,t=n.i;var e=new Ug;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),bl(this,e),this.o=n.o}else n&&(e=String(n).match(Et))?(this.h=!!t,au(this,e[1]||"",!0),this.s=pc(e[2]||""),this.g=pc(e[3]||"",!0),vl(this,e[4]),this.l=pc(e[5]||"",!0),bl(this,e[6]||"",!0),this.o=pc(e[7]||"")):(this.h=!!t,this.i=new Ug(null,this.h))}function ho(n){return new Wi(n)}function au(n,t,e){n.j=e?pc(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function vl(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function bl(n,t,e){t instanceof Ug?(n.i=t,function yI(n,t){t&&!n.j&&(cu(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(rv(this,i),Ww(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=gc(t,Qm)),n.i=new Ug(t,n.h))}function ln(n,t,e){n.i.set(t,e)}function is(n){return ln(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function pc(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function gc(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,Yh),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Yh(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Wi.prototype.toString=function(){var n=[],t=this.j;t&&n.push(gc(t,Vg,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(gc(t,Vg,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(gc(e,"/"==e.charAt(0)?Bg:Gw,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",gc(e,iv)),n.join("")};var Vg=/[#\/\?@]/g,Gw=/[#\?:]/g,Bg=/[#\?]/g,Qm=/[#\?@]/g,iv=/#/g;function Ug(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function cu(n){n.g||(n.g=new Map,n.h=0,n.i&&function _i(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function rv(n,t){cu(n),t=Qh(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function qw(n,t){return cu(n),t=Qh(n,t),n.g.has(t)}function Ww(n,t,e){rv(n,t),0<e.length&&(n.i=null,n.g.set(Qh(n,t),Ag(e)),n.h+=e.length)}function Qh(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function Xm(n){this.l=n||Kw,n=jt.PerformanceNavigationTiming?0<(n=jt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(jt.g&&jt.g.Ga&&jt.g.Ga()&&jt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(gt=Ug.prototype).add=function(n,t){cu(this),this.i=null,n=Qh(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},gt.forEach=function(n,t){cu(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},gt.oa=function(){cu(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e},gt.W=function(n){cu(this);let t=[];if("string"==typeof n)qw(this,n)&&(t=t.concat(this.g.get(Qh(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},gt.set=function(n,t){return cu(this),this.i=null,qw(this,n=Qh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},gt.get=function(n,t){return n&&0<(n=this.W(n)).length?String(n[0]):t},gt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),d=this.W(i);for(i=0;i<d.length;i++){var r=s;""!==d[i]&&(r+="="+encodeURIComponent(String(d[i]))),n.push(r)}}return this.i=n.join("&")};var Kw=10;function jg(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Yw(n){return n.h?1:n.g?n.g.size:0}function li(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function ov(n,t){n.g?n.g.add(t):n.h=t}function Qw(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function sv(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return Ag(n.i)}function zg(){}function vI(){this.g=new zg}function bI(n,t,e){const i=e||"";try{Dt(n,function(r,s){let d=r;al(r)&&(d=zm(r)),t.push(i+s+"="+encodeURIComponent(d))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function Hg(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function Xh(n){this.l=n.ac||null,this.j=n.jb||!1}function av(n,t){Fi.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=Xw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Xm.prototype.cancel=function(){if(this.i=sv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},zg.prototype.stringify=function(n){return jt.JSON.stringify(n,void 0)},zg.prototype.parse=function(n){return jt.JSON.parse(n,void 0)},Di(Xh,ou),Xh.prototype.g=function(){return new av(this.l,this.j)},Xh.prototype.i=function(n){return function(){return n}}({}),Di(av,Fi);var Xw=0;function Jh(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function lu(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ef(n)}function ef(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(gt=av.prototype).open=function(n,t){if(this.readyState!=Xw)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,ef(this)},gt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||jt).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},gt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,lu(this)),this.readyState=Xw},gt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ef(this)),this.g&&(this.readyState=3,ef(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof jt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Jh(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},gt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?lu(this):ef(this),3==this.readyState&&Jh(this)}},gt.Va=function(n){this.g&&(this.response=this.responseText=n,lu(this))},gt.Ua=function(n){this.g&&(this.response=n,lu(this))},gt.ga=function(){this.g&&lu(this)},gt.setRequestHeader=function(n,t){this.v.append(n,t)},gt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},gt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(av.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Jw=jt.JSON.parse;function di(n){Fi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ex,this.K=this.L=!1}Di(di,Fi);var ex="",xI=/^https?$/i,tx=["POST","PUT"];function $g(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,EI(n),qg(n)}function EI(n){n.D||(n.D=!0,Ti(n,"complete"),Ti(n,"error"))}function Gg(n){if(n.h&&typeof Rm<"u"&&(!n.C[1]||4!=pa(n)||2!=n.aa()))if(n.v&&4==pa(n))Wm(n.Ha,0,n);else if(Ti(n,"readystatechange"),4==pa(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===f){var r=String(n.H).match(Et)[1]||null;if(!r&&jt.self&&jt.self.location){var s=jt.self.location.protocol;r=s.substr(0,s.length-1)}i=!xI.test(r?r.toLowerCase():"")}e=i}if(e)Ti(n,"complete"),Ti(n,"success");else{n.m=6;try{var d=2<pa(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.aa()+"]",EI(n)}}finally{qg(n)}}}function qg(n,t){if(n.g){Wg(n);const e=n.g,i=n.C[0]?sl:null;n.g=null,n.C=null,t||Ti(n,"ready");try{e.onreadystatechange=i}catch{}}}function Wg(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(jt.clearTimeout(n.A),n.A=null)}function pa(n){return n.g?n.g.readyState:0}function cv(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case ex:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function wl(n){let t="";return Os(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function lv(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=wl(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):ln(n,t,e))}function du(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function Jm(n){this.Ca=0,this.i=[],this.j=new dc,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=du("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=du("baseRetryDelayMs",5e3,n),this.bb=du("retryDelaySeedMs",1e4,n),this.$a=du("forwardChannelMaxRetries",2,n),this.ta=du("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new Xm(n&&n.concurrentRequestLimit),this.Fa=new vI,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function dv(n){if(ep(n),3==n.G){var t=n.U++,e=ho(n.F);ln(e,"SID",n.I),ln(e,"RID",t),ln(e,"TYPE","terminate"),tp(n,e),(t=new mc(n,n.j,t,void 0)).K=2,t.v=is(ho(e)),e=!1,jt.navigator&&jt.navigator.sendBeacon&&(e=jt.navigator.sendBeacon(t.v.toString(),"")),!e&&jt.Image&&((new Image).src=t.v,e=!0),e||(t.g=CI(t.l,null),t.g.da(t.v)),t.F=Date.now(),g(t)}ax(n)}function tf(n){n.g&&(hv(n),n.g.cancel(),n.g=null)}function ep(n){tf(n),n.u&&(jt.clearTimeout(n.u),n.u=null),Kg(n),n.h.cancel(),n.m&&("number"==typeof n.m&&jt.clearTimeout(n.m),n.m=null)}function ga(n){jg(n.h)||n.m||(n.m=!0,Qd(n.Ja,n),n.C=0)}function Zg(n,t){var e;e=t?t.m:n.U++;const i=ho(n.F);ln(i,"SID",n.I),ln(i,"RID",e),ln(i,"AID",n.T),tp(n,i),n.o&&n.s&&lv(i,n.o,n.s),e=new mc(n,n.j,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.i=t.D.concat(n.i)),t=rx(n,e,1e3),e.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),ov(n.h,e),Kh(e,i,t)}function tp(n,t){n.ia&&Os(n.ia,function(e,i){ln(t,i,e)}),n.l&&Dt({},function(e,i){ln(t,i,e)})}function rx(n,t,e){e=Math.min(n.i.length,e);var i=n.l?rr(n.l.Ra,n.l,n):null;e:{var r=n.i;let s=-1;for(;;){const d=["count="+e];-1==s?0<e?(s=r[0].h,d.push("ofs="+s)):s=0:d.push("ofs="+s);let f=!0;for(let _=0;_<e;_++){let b=r[_].h;const E=r[_].g;if(b-=s,0>b)s=Math.max(0,r[_].h-100),f=!1;else try{bI(E,d,"req"+b+"_")}catch{i&&i(E)}}if(f){i=d.join("&");break e}}}return n=n.i.splice(0,e),t.D=n,i}function uv(n){n.g||n.u||(n.Z=1,Qd(n.Ia,n),n.A=0)}function xl(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=hc(rr(n.Ia,n),sx(n,n.A)),n.A++,0))}function hv(n){null!=n.B&&(jt.clearTimeout(n.B),n.B=null)}function ox(n){n.g=new mc(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var t=ho(n.sa);ln(t,"RID","rpc"),ln(t,"SID",n.I),ln(t,"CI",n.L?"0":"1"),ln(t,"AID",n.T),ln(t,"TYPE","xmlhttp"),tp(n,t),n.o&&n.s&&lv(t,n.o,n.s),n.J&&n.g.setTimeout(n.J);var e=n.g;n=n.ka,e.K=1,e.v=is(ho(t)),e.s=null,e.P=!0,ma(e,n)}function Kg(n){null!=n.v&&(jt.clearTimeout(n.v),n.v=null)}function Yg(n,t){var e=null;if(n.g==t){Kg(n),hv(n),n.g=null;var i=2}else{if(!li(n.h,t))return;e=t.D,Qw(n.h,t),i=1}if(0!=n.G)if(n.pa=t.Y,t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;Ti(i=ns(),new Ps(i,e)),ga(n)}else uv(n);else if(3==(r=t.o)||0==r&&0<n.pa||!(1==i&&function ix(n,t){return!(Yw(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=t.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=hc(rr(n.Ja,n,t),sx(n,n.C)),n.C++,0)))}(n,t)||2==i&&xl(n)))switch(e&&0<e.length&&(t=n.h,t.i=t.i.concat(e)),r){case 1:El(n,5);break;case 4:El(n,10);break;case 3:El(n,6);break;default:El(n,2)}}function sx(n,t){let e=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(e*=2),e*t}function El(n,t){if(n.j.info("Error code "+t),2==t){var e=null;n.l&&(e=null);var i=rr(n.kb,n);e||(e=new Wi("//www.google.com/images/cleardot.gif"),jt.location&&"http"==jt.location.protocol||au(e,"https"),is(e)),function wI(n,t){const e=new dc;if(jt.Image){const i=new Image;i.onload=ac(Hg,e,i,"TestLoadImage: loaded",!0,t),i.onerror=ac(Hg,e,i,"TestLoadImage: error",!1,t),i.onabort=ac(Hg,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=ac(Hg,e,i,"TestLoadImage: timeout",!1,t),jt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else xr(2);n.G=0,n.l&&n.l.va(t),ax(n),ep(n)}function ax(n){if(n.G=0,n.la=[],n.l){const t=sv(n.h);(0!=t.length||0!=n.i.length)&&(Qy(n.la,t),Qy(n.la,n.i),n.h.i.length=0,Ag(n.i),n.i.length=0),n.l.ua()}}function fv(n,t,e){var i=e instanceof Wi?ho(e):new Wi(e,void 0);if(""!=i.g)t&&(i.g=t+"."+i.g),vl(i,i.m);else{var r=jt.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new Wi(null,void 0);i&&au(s,i),t&&(s.g=t),r&&vl(s,r),e&&(s.l=e),i=s}return t=n.za,(e=n.D)&&t&&ln(i,e,t),ln(i,"VER",n.ma),tp(n,i),i}function CI(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new di(e&&n.Da&&!n.ra?new Xh({jb:!0}):n.ra)).Ka(n.H),t}function cx(){}function Cl(){if(dl&&!(10<=Number(Lm)))throw Error("Environmental error: no available transport.")}function Fo(n,t){Fi.call(this),this.g=new Jm(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.S=n,(n=t&&t.Yb)&&!Bd(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Bd(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new rf(this)}function uu(n){Zh.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function nf(){Km.call(this),this.status=1}function rf(n){this.g=n}(gt=di.prototype).Ka=function(n){this.L=n},gt.da=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():$r.g(),this.C=function ha(n){return n.h||(n.h=n.i())}(this.u?this.u:$r),this.g.onreadystatechange=rr(this.Ha,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(s){return void $g(this,s)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())e.set(s,i.get(s))}i=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),r=jt.FormData&&n instanceof jt.FormData,!(0<=Ah(tx,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,d]of e)this.g.setRequestHeader(s,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Wg(this),0<this.B&&((this.K=function nx(n){return dl&&function wr(){return function Om(n){var t=Xy;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=Mg(String(Fh)).split("."),e=Mg("9").split("."),i=Math.max(t.length,e.length);for(let d=0;0==n&&d<i;d++){var r=t[d]||"",s=e[d]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=Mh(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||Mh(0==r[2].length,0==s[2].length)||Mh(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rr(this.qa,this)):this.A=Wm(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){$g(this,s)}},gt.qa=function(){typeof Rm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ti(this,"timeout"),this.abort(8))},gt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ti(this,"complete"),Ti(this,"abort"),qg(this))},gt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qg(this,!0)),di.X.M.call(this)},gt.Ha=function(){this.s||(this.F||this.v||this.l?Gg(this):this.fb())},gt.fb=function(){Gg(this)},gt.aa=function(){try{return 2<pa(this)?this.g.status:-1}catch{return-1}},gt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},gt.Sa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),Jw(t)}},gt.Ea=function(){return this.m},gt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(gt=Jm.prototype).ma=8,gt.G=1,gt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new mc(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=Bm(s),Hd(s,this.S)):s=this.S),null!==this.o||this.N||(r.H=s,s=null),this.O)e:{for(var t=0,e=0;e<this.i.length;e++){var i=this.i[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.i.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=rx(this,r,t),ln(e=ho(this.F),"RID",n),ln(e,"CVER",22),this.D&&ln(e,"X-HTTP-Session-Id",this.D),tp(this,e),s&&(this.N?t="headers="+encodeURIComponent(String(wl(s)))+"&"+t:this.o&&lv(e,this.o,s)),ov(this.h,r),this.Ya&&ln(e,"TYPE","init"),this.O?(ln(e,"$req",t),ln(e,"SID","null"),r.Z=!0,Kh(r,e,null)):Kh(r,e,t),this.G=2}}else 3==this.G&&(n?Zg(this,n):0==this.i.length||jg(this.h)||Zg(this))},gt.Ia=function(){if(this.u=null,ox(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=hc(rr(this.eb,this),n)}},gt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,xr(10),tf(this),ox(this))},gt.cb=function(){null!=this.v&&(this.v=null,tf(this),xl(this),xr(19))},gt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),xr(2)):(this.j.info("Failed to ping google.com"),xr(1))},(gt=cx.prototype).xa=function(){},gt.wa=function(){},gt.va=function(){},gt.ua=function(){},gt.Ra=function(){},Cl.prototype.g=function(n,t){return new Fo(n,t)},Di(Fo,Fi),Fo.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;xr(0),n.V=t,n.ia=e||{},n.L=n.Y,n.F=fv(n,null,n.V),ga(n)},Fo.prototype.close=function(){dv(this.g)},Fo.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=zm(n),n=e);t.i.push(new class{constructor(n,t){this.h=n,this.g=t}}(t.ab++,n)),3==t.G&&ga(t)},Fo.prototype.M=function(){this.g.l=null,delete this.j,dv(this.g),delete this.g,Fo.X.M.call(this)},Di(uu,Zh),Di(nf,Km),Di(rf,cx),rf.prototype.xa=function(){Ti(this.g,"a")},rf.prototype.wa=function(n){Ti(this.g,new uu(n))},rf.prototype.va=function(n){Ti(this.g,new nf)},rf.prototype.ua=function(){Ti(this.g,"b")},Cl.prototype.createWebChannel=Cl.prototype.g,Fo.prototype.send=Fo.prototype.u,Fo.prototype.open=Fo.prototype.m,Fo.prototype.close=Fo.prototype.close,iu.NO_ERROR=0,iu.TIMEOUT=8,iu.HTTP_ERROR=6,ru.COMPLETE="complete",Er.EventType=fc,fc.OPEN="a",fc.CLOSE="b",fc.ERROR="c",fc.MESSAGE="d",Fi.prototype.listen=Fi.prototype.N,di.prototype.listenOnce=di.prototype.O,di.prototype.getLastError=di.prototype.Oa,di.prototype.getLastErrorCode=di.prototype.Ea,di.prototype.getStatus=di.prototype.aa,di.prototype.getResponseJson=di.prototype.Sa,di.prototype.getResponseText=di.prototype.fa,di.prototype.send=di.prototype.da,di.prototype.setWithCredentials=di.prototype.Ka;var lx=Hr.createWebChannelTransport=function(){return new Cl},SI=Hr.getStatEventTarget=function(){return ns()},mv=Hr.ErrorCode=iu,II=Hr.EventType=ru,dx=Hr.Event=ts,pv=Hr.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},gv=Hr.FetchXmlHttpFactory=Xh,sf=Hr.WebChannel=Er,DI=Hr.XhrIo=di;const Qg="@firebase/firestore";class yi{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}yi.UNAUTHENTICATED=new yi(null),yi.GOOGLE_CREDENTIALS=new yi("google-credentials-uid"),yi.FIRST_PARTY=new yi("first-party-uid"),yi.MOCK_USER=new yi("mock-user");let af="9.18.0";const Sl=new ir.Yd("@firebase/firestore");function _v(){return Sl.logLevel}function Ne(n,...t){if(Sl.logLevel<=ir.in.DEBUG){const e=t.map(Il);Sl.debug(`Firestore (${af}): ${n}`,...e)}}function ki(n,...t){if(Sl.logLevel<=ir.in.ERROR){const e=t.map(Il);Sl.error(`Firestore (${af}): ${n}`,...e)}}function hu(n,...t){if(Sl.logLevel<=ir.in.WARN){const e=t.map(Il);Sl.warn(`Firestore (${af}): ${n}`,...e)}}function Il(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function it(n="Unexpected state"){const t=`FIRESTORE (${af}) INTERNAL ASSERTION FAILED: `+n;throw ki(t),new Error(t)}function bt(n,t){n||it()}function rt(n,t){return n}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends qt.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class or{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class yv{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ux{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(yi.UNAUTHENTICATED))}shutdown(){}}class AI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class hx{constructor(t){this.t=t,this.currentUser=yi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=b=>this.i!==r?(r=this.i,e(b)):Promise.resolve();let d=new or;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new or,t.enqueueRetryable(()=>s(this.currentUser))};const f=()=>{const b=d;t.enqueueRetryable((0,ce.Z)(function*(){yield b.promise,yield s(i.currentUser)}))},_=b=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(b=>_(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?_(b):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new or)}},0),f()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(bt("string"==typeof i.accessToken),new yv(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return bt(null===t||"string"==typeof t),new yi(t)}}class MI{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r,this.type="FirstParty",this.user=yi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(bt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class RI{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r}getToken(){return Promise.resolve(new MI(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable(()=>e(yi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rs{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OI{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const i=s=>{null!=s.error&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const d=s.token!==this.A;return this.A=s.token,Ne("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?r(s):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(bt("string"==typeof e.token),this.A=e.token,new rs(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function PI(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class fx{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=PI(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%t.length))}return i}}function Zt(n,t){return n<t?-1:n>t?1:0}function cf(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function vv(n){return n+"\0"}class Yn{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Oe(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Oe(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Oe(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Oe(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Yn.fromMillis(Date.now())}static fromDate(t){return Yn.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Yn(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Zt(this.nanoseconds,t.nanoseconds):Zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ct{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Ct(t)}static min(){return new Ct(new Yn(0,0))}static max(){return new Ct(new Yn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class np{constructor(t,e,i){void 0===e?e=0:e>t.length&&it(),void 0===i?i=t.length-e:i>t.length-e&&it(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===np.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof np?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),d=e.get(r);if(s<d)return-1;if(s>d)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class et extends np{construct(t,e,i){return new et(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Oe(fe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new et(e)}static emptyPath(){return new et([])}}const mx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ui extends np{construct(t,e,i){return new ui(t,e,i)}static isValidIdentifier(t){return mx.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ui.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ui(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Oe(fe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let d=!1;for(;r<t.length;){const f=t[r];if("\\"===f){if(r+1===t.length)throw new Oe(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Oe(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=_,r+=2}else"`"===f?(d=!d,r++):"."!==f||d?(i+=f,r++):(s(),r++)}if(s(),d)throw new Oe(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ui(e)}static emptyPath(){return new ui([])}}class Ye{constructor(t){this.path=t}static fromPath(t){return new Ye(et.fromString(t))}static fromName(t){return new Ye(et.fromString(t).popFirst(5))}static empty(){return new Ye(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===et.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return et.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ye(new et(t.slice()))}}class Xg{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function bv(n){return n.fields.find(t=>2===t.kind)}function Dl(n){return n.fields.filter(t=>2!==t.kind)}Xg.UNKNOWN_ID=-1;class ip{constructor(t,e){this.fieldPath=t,this.kind=e}}class rp{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new rp(0,fo.min())}}function VI(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Ct.fromTimestamp(1e9===i?new Yn(e+1,0):new Yn(e,i));return new fo(r,Ye.empty(),t)}function wv(n){return new fo(n.readTime,n.key,-1)}class fo{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new fo(Ct.min(),Ye.empty(),-1)}static max(){return new fo(Ct.max(),Ye.empty(),-1)}}function _c(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Ye.comparator(n.documentKey,t.documentKey),0!==e?e:Zt(n.largestBatchId,t.largestBatchId))}const px="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Jg{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function _a(n){return xv.apply(this,arguments)}function xv(){return xv=(0,ce.Z)(function*(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==px)throw n;Ne("LocalStore","Unexpectedly lost primary lease")}),xv.apply(this,arguments)}class de{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&it(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new de((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof de?e:de.resolve(e)}catch(e){return de.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):de.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):de.reject(e)}static resolve(t){return new de((e,i)=>{e(t)})}static reject(t){return new de((e,i)=>{i(t)})}static waitFor(t){return new de((e,i)=>{let r=0,s=0,d=!1;t.forEach(f=>{++r,f.next(()=>{++s,d&&s===r&&e()},_=>i(_))}),d=!0,s===r&&e()})}static or(t){let e=de.resolve(!1);for(const i of t)e=e.next(r=>r?de.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new de((i,r)=>{const s=t.length,d=new Array(s);let f=0;for(let _=0;_<s;_++){const b=_;e(t[b]).next(E=>{d[b]=E,++f,f===s&&i(d)},E=>r(E))}})}static doWhile(t,e){return new de((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}class Ev{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.P=new or,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{e.error?this.P.reject(new lf(t,e.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=e_(i.target.error);this.P.reject(new lf(t,r))}}static open(t,e,i,r){try{return new Ev(e,t.transaction(r,i))}catch(s){throw new lf(e,s)}}get v(){return this.P.promise}abort(t){t&&this.P.reject(t),this.aborted||(Ne("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new UI(e)}}class ya{constructor(t,e,i){this.name=t,this.version=e,this.S=i,12.2===ya.D((0,qt.z$)())&&ki("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ne("SimpleDb","Removing database:",t),os(window.indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!(0,qt.hl)())return!1;if(ya.N())return!0;const t=(0,qt.z$)(),e=ya.D(t),i=0<e&&e<10,r=ya.k(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static N(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.$)}static M(t,e){return t.store(e)}static D(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(t){var e=this;return(0,ce.Z)(function*(){return e.db||(Ne("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=d=>{i(d.target.result)},s.onblocked=()=>{r(new lf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=d=>{const f=d.target.error;r("VersionError"===f.name?new Oe(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Oe(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new lf(t,f))},s.onupgradeneeded=d=>{Ne("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',d.oldVersion),e.S.F(d.target.result,s.transaction,d.oldVersion,e.version).next(()=>{Ne("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,ce.Z)(function*(){const d="readonly"===e;let f=0;for(;;){++f;try{s.db=yield s.O(t);const _=Ev.open(s.db,t,d?"readonly":"readwrite",i),b=r(_).next(E=>(_.V(),E)).catch(E=>(_.abort(E),de.reject(E))).toPromise();return b.catch(()=>{}),yield _.v,b}catch(_){const b=_,E="FirebaseError"!==b.name&&f<3;if(Ne("SimpleDb","Transaction failed with error:",b.message,"Retrying:",E),s.close(),!E)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class BI{constructor(t){this.q=t,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(t){this.q=t}done(){this.U=!0}j(t){this.K=t}delete(){return os(this.q.delete())}}class lf extends Oe{constructor(t,e){super(fe.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function fu(n){return"IndexedDbTransactionError"===n.name}class UI{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Ne("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Ne("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),os(i)}add(t){return Ne("SimpleDb","ADD",this.store.name,t,t),os(this.store.add(t))}get(t){return os(this.store.get(t)).next(e=>(void 0===e&&(e=null),Ne("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Ne("SimpleDb","DELETE",this.store.name,t),os(this.store.delete(t))}count(){return Ne("SimpleDb","COUNT",this.store.name),os(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.H(r,(d,f)=>{s.push(f)}).next(()=>s)}{const r=this.store.getAll(i.range);return new de((s,d)=>{r.onerror=f=>{d(f.target.error)},r.onsuccess=f=>{s(f.target.result)}})}}J(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new de((r,s)=>{i.onerror=d=>{s(d.target.error)},i.onsuccess=d=>{r(d.target.result)}})}Y(t,e){Ne("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Z=!1;const r=this.cursor(i);return this.H(r,(s,d,f)=>f.delete())}X(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.H(r,e)}tt(t){const e=this.cursor({});return new de((i,r)=>{e.onerror=s=>{const d=e_(s.target.error);r(d)},e.onsuccess=s=>{const d=s.target.result;d?t(d.primaryKey,d.value).next(f=>{f?d.continue():i()}):i()}})}H(t,e){const i=[];return new de((r,s)=>{t.onerror=d=>{s(d.target.error)},t.onsuccess=d=>{const f=d.target.result;if(!f)return void r();const _=new BI(f),b=e(f.primaryKey,f.value,_);if(b instanceof de){const E=b.catch(k=>(_.done(),de.reject(k)));i.push(E)}_.isDone?r():null===_.G?f.continue():f.continue(_.G)}}).next(()=>de.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Z?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function os(n){return new de((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=e_(i.target.error);e(r)}})}let gx=!1;function e_(n){const t=ya.D((0,qt.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return gx||(gx=!0,setTimeout(()=>{throw i},0)),i}}return n}class t_{constructor(t,e){this.asyncQueue=t,this.et=e,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(t){var e=this;Ne("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,ce.Z)(function*(){e.task=null;try{Ne("IndexBackiller",`Documents written: ${yield e.et.st()}`)}catch(i){fu(i)?Ne("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield _a(i)}yield e.nt(6e4)}))}}class jI{constructor(t,e){this.localStore=t,this.persistence=e}st(t=50){var e=this;return(0,ce.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.it(i,t))})()}it(t,e){const i=new Set;let r=e,s=!0;return de.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(d=>{if(null!==d&&!i.has(d))return Ne("IndexBackiller",`Processing collection: ${d}`),this.rt(t,d,r).next(f=>{r-=f,i.add(d)});s=!1})).next(()=>e-r)}rt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(s=>{const d=s.changes;return this.localStore.indexManager.updateIndexEntries(t,d).next(()=>this.ot(r,s)).next(f=>(Ne("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(t,e,f))).next(()=>d.size)}))}ot(t,e){let i=t;return e.changes.forEach((r,s)=>{const d=wv(s);_c(d,i)>0&&(i=d)}),new fo(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let mo=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>i.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}return n.at=-1,n})();class $I{constructor(t,e,i,r,s,d,f,_){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class Tl{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Tl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Tl&&t.projectId===this.projectId&&t.database===this.database}}function Sv(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function mu(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Iv(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function df(n){return null==n}function pu(n){return 0===n&&1/n==-1/0}function GI(n){return"number"==typeof n&&Number.isInteger(n)&&!pu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Dv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class sr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(r){throw r instanceof DOMException?new Dv("Invalid base64 string: "+r):r}}(t);return new sr(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new sr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}sr.EMPTY_BYTE_STRING=new sr("");const uf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yc(n){if(bt(!!n),"string"==typeof n){let t=0;const e=uf.exec(n);if(bt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:vi(n.seconds),nanos:vi(n.nanos)}}function vi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function kl(n){return"string"==typeof n?sr.fromBase64String(n):sr.fromUint8Array(n)}function Tv(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function _x(n){const t=n.mapValue.fields.__previous_value__;return Tv(t)?_x(t):t}function Al(n){const t=yc(n.mapValue.fields.__local_write_time__.timestampValue);return new Yn(t.seconds,t.nanos)}const Po={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},hf={nullValue:"NULL_VALUE"};function Ns(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Tv(n)?4:Av(n)?9007199254740991:10:it()}function ss(n,t){if(n===t)return!0;const e=Ns(n);if(e!==Ns(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Al(n).isEqual(Al(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=yc(i.timestampValue),d=yc(r.timestampValue);return s.seconds===d.seconds&&s.nanos===d.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,kl(n.bytesValue).isEqual(kl(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return vi(i.geoPointValue.latitude)===vi(r.geoPointValue.latitude)&&vi(i.geoPointValue.longitude)===vi(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return vi(i.integerValue)===vi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=vi(i.doubleValue),d=vi(r.doubleValue);return s===d?pu(s)===pu(d):isNaN(s)&&isNaN(d)}return!1}(n,t);case 9:return cf(n.arrayValue.values||[],t.arrayValue.values||[],ss);case 10:return function(i,r){const s=i.mapValue.fields||{},d=r.mapValue.fields||{};if(Sv(s)!==Sv(d))return!1;for(const f in s)if(s.hasOwnProperty(f)&&(void 0===d[f]||!ss(s[f],d[f])))return!1;return!0}(n,t);default:return it()}var r}function Ml(n,t){return void 0!==(n.values||[]).find(e=>ss(e,t))}function vc(n,t){if(n===t)return 0;const e=Ns(n),i=Ns(t);if(e!==i)return Zt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Zt(n.booleanValue,t.booleanValue);case 2:return function(r,s){const d=vi(r.integerValue||r.doubleValue),f=vi(s.integerValue||s.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,t);case 3:return n_(n.timestampValue,t.timestampValue);case 4:return n_(Al(n),Al(t));case 5:return Zt(n.stringValue,t.stringValue);case 6:return function(r,s){const d=kl(r),f=kl(s);return d.compareTo(f)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const d=r.split("/"),f=s.split("/");for(let _=0;_<d.length&&_<f.length;_++){const b=Zt(d[_],f[_]);if(0!==b)return b}return Zt(d.length,f.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const d=Zt(vi(r.latitude),vi(s.latitude));return 0!==d?d:Zt(vi(r.longitude),vi(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const d=r.values||[],f=s.values||[];for(let _=0;_<d.length&&_<f.length;++_){const b=vc(d[_],f[_]);if(b)return b}return Zt(d.length,f.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){if(r===Po.mapValue&&s===Po.mapValue)return 0;if(r===Po.mapValue)return 1;if(s===Po.mapValue)return-1;const d=r.fields||{},f=Object.keys(d),_=s.fields||{},b=Object.keys(_);f.sort(),b.sort();for(let E=0;E<f.length&&E<b.length;++E){const k=Zt(f[E],b[E]);if(0!==k)return k;const V=vc(d[f[E]],_[b[E]]);if(0!==V)return V}return Zt(f.length,b.length)}(n.mapValue,t.mapValue);default:throw it()}}function n_(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Zt(n,t);const e=yc(n),i=yc(t),r=Zt(e.seconds,i.seconds);return 0!==r?r:Zt(e.nanos,i.nanos)}function Rl(n){return op(n)}function op(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=yc(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?kl(n.bytesValue).toBase64():"referenceValue"in n?Ye.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const d of i.values||[])s?s=!1:r+=",",r+=op(d);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",d=!0;for(const f of r)d?d=!1:s+=",",s+=`${f}:${op(i.fields[f])}`;return s+"}"}(n.mapValue):it();var t}function Ol(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function sp(n){return!!n&&"integerValue"in n}function ap(n){return!!n&&"arrayValue"in n}function yx(n){return!!n&&"nullValue"in n}function kv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function i_(n){return!!n&&"mapValue"in n}function ff(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return mu(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=ff(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=ff(n.arrayValue.values[e]);return t}return Object.assign({},n)}function Av(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function WI(n){return"nullValue"in n?hf:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ol(Tl.empty(),Ye.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:it()}function ZI(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ol(Tl.empty(),Ye.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Po:it()}function po(n,t){const e=vc(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function Mv(n,t){const e=vc(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Fl{constructor(t,e){this.position=t,this.inclusive=e}}function KI(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],d=n.position[r];if(i=s.field.isKeyField()?Ye.comparator(Ye.fromName(d.referenceValue),e.key):vc(d,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function r_(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ss(n.position[e],t.position[e]))return!1;return!0}class Rv{}class on extends Rv{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new YI(t,e,i):"array-contains"===e?new XI(t,i):"in"===e?new Ex(t,i):"not-in"===e?new Cx(t,i):"array-contains-any"===e?new JI(t,i):new on(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new QI(t,i):new va(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(vc(e,this.value)):null!==e&&Ns(this.value)===Ns(e)&&this.matchesComparison(vc(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return it()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class In extends Rv{constructor(t,e){super(),this.filters=t,this.op=e,this.ft=null}static create(t,e){return new In(t,e)}matches(t){return mf(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ft||(this.ft=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ft}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.dt(e=>e.isInequality());return null!==t?t.field:null}dt(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function mf(n){return"and"===n.op}function o_(n){return"or"===n.op}function Ov(n){return vx(n)&&mf(n)}function vx(n){for(const t of n.filters)if(t instanceof In)return!1;return!0}function cp(n){if(n instanceof on)return n.field.canonicalString()+n.op.toString()+Rl(n.value);if(Ov(n))return n.filters.map(t=>cp(t)).join(",");{const t=n.filters.map(e=>cp(e)).join(",");return`${n.op}(${t})`}}function bx(n,t){return n instanceof on?(e=n,(i=t)instanceof on&&e.op===i.op&&e.field.isEqual(i.field)&&ss(e.value,i.value)):n instanceof In?function(e,i){return i instanceof In&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((r,s,d)=>r&&bx(s,i.filters[d]),!0)}(n,t):void it();var e,i}function wx(n,t){const e=n.filters.concat(t);return In.create(e,n.op)}function xx(n){return n instanceof on?`${(t=n).field.canonicalString()} ${t.op} ${Rl(t.value)}`:n instanceof In?function(t){return t.op.toString()+" {"+t.getFilters().map(xx).join(" ,")+"}"}(n):"Filter";var t}class YI extends on{constructor(t,e,i){super(t,e,i),this.key=Ye.fromName(i.referenceValue)}matches(t){const e=Ye.comparator(t.key,this.key);return this.matchesComparison(e)}}class QI extends on{constructor(t,e){super(t,"in",e),this.keys=s_(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class va extends on{constructor(t,e){super(t,"not-in",e),this.keys=s_(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function s_(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Ye.fromName(i.referenceValue))}class XI extends on{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return ap(e)&&Ml(e.arrayValue,this.value)}}class Ex extends on{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Ml(this.value.arrayValue,e)}}class Cx extends on{constructor(t,e){super(t,"not-in",e)}matches(t){if(Ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Ml(this.value.arrayValue,e)}}class JI extends on{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!ap(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Ml(this.value.arrayValue,i))}}class pf{constructor(t,e="asc"){this.field=t,this.dir=e}}function eD(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class Qn{constructor(t,e){this.comparator=t,this.root=e||Cr.EMPTY}insert(t,e){return new Qn(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Cr.BLACK,null,null))}remove(t){return new Qn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Cr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new a_(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new a_(this.root,t,this.comparator,!1)}getReverseIterator(){return new a_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new a_(this.root,t,this.comparator,!0)}}class a_{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Cr{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??Cr.RED,this.left=r??Cr.EMPTY,this.right=s??Cr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new Cr(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Cr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Cr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Cr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Cr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw it();const t=this.left.check();if(t!==this.right.check())throw it();return t+(this.isRed()?0:1)}}Cr.EMPTY=null,Cr.RED=!0,Cr.BLACK=!1,Cr.EMPTY=new class{constructor(){this.size=0}get key(){throw it()}get value(){throw it()}get color(){throw it()}get left(){throw it()}get right(){throw it()}copy(n,t,e,i,r){return this}insert(n,t,e){return new Cr(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class vn{constructor(t){this.comparator=t,this.data=new Qn(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new c_(this.data.getIterator())}getIteratorFrom(t){return new c_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof vn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new vn(this.comparator);return e.data=t,e}}class c_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function bc(n){return n.hasNext()?n.getNext():void 0}class No{constructor(t){this.fields=t,t.sort(ui.comparator)}static empty(){return new No([])}unionWith(t){let e=new vn(ui.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new No(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return cf(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class Pi{constructor(t){this.value=t}static empty(){return new Pi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!i_(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=ff(e)}setAll(t){let e=ui.emptyPath(),i={},r=[];t.forEach((d,f)=>{if(!e.isImmediateParentOf(f)){const _=this.getFieldsMap(e);this.applyChanges(_,i,r),i={},r=[],e=f.popLast()}d?i[f.lastSegment()]=ff(d):r.push(f.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());i_(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ss(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];i_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){mu(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new Pi(ff(this.value))}}function tD(n){const t=[];return mu(n.fields,(e,i)=>{const r=new ui([e]);if(i_(i)){const s=tD(i.mapValue).fields;if(0===s.length)t.push(r);else for(const d of s)t.push(r.child(d))}else t.push(r)}),new No(t)}class Un{constructor(t,e,i,r,s,d,f){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=d,this.documentState=f}static newInvalidDocument(t){return new Un(t,0,Ct.min(),Ct.min(),Ct.min(),Pi.empty(),0)}static newFoundDocument(t,e,i,r){return new Un(t,1,e,Ct.min(),i,r,0)}static newNoDocument(t,e){return new Un(t,2,e,Ct.min(),Ct.min(),Pi.empty(),0)}static newUnknownDocument(t,e){return new Un(t,3,e,Ct.min(),Ct.min(),Pi.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Ct.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Pi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Pi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Un&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sx{constructor(t,e=null,i=[],r=[],s=null,d=null,f=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=d,this.endAt=f,this._t=null}}function l_(n,t=null,e=[],i=[],r=null,s=null,d=null){return new Sx(n,t,e,i,r,s,d)}function Pl(n){const t=rt(n);if(null===t._t){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>cp(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),df(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Rl(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Rl(i)).join(",")),t._t=e}return t._t}function gu(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!eD(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!bx(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!r_(n.startAt,t.startAt)&&r_(n.endAt,t.endAt)}function as(n){return Ye.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function _u(n,t){return n.filters.filter(e=>e instanceof on&&e.field.isEqual(t))}function lp(n,t,e){let i=hf,r=!0;for(const s of _u(n,t)){let d=hf,f=!0;switch(s.op){case"<":case"<=":d=WI(s.value);break;case"==":case"in":case">=":d=s.value;break;case">":d=s.value,f=!1;break;case"!=":case"not-in":d=hf}po({value:i,inclusive:r},{value:d,inclusive:f})<0&&(i=d,r=f)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const d=e.position[s];po({value:i,inclusive:r},{value:d,inclusive:e.inclusive})<0&&(i=d,r=e.inclusive);break}return{value:i,inclusive:r}}function gf(n,t,e){let i=Po,r=!0;for(const s of _u(n,t)){let d=Po,f=!0;switch(s.op){case">=":case">":d=ZI(s.value),f=!1;break;case"==":case"in":case"<=":d=s.value;break;case"<":d=s.value,f=!1;break;case"!=":case"not-in":d=Po}Mv({value:i,inclusive:r},{value:d,inclusive:f})>0&&(i=d,r=f)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const d=e.position[s];Mv({value:i,inclusive:r},{value:d,inclusive:e.inclusive})>0&&(i=d,r=e.inclusive);break}return{value:i,inclusive:r}}class wc{constructor(t,e=null,i=[],r=[],s=null,d="F",f=null,_=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=d,this.startAt=f,this.endAt=_,this.wt=null,this.gt=null}}function Fv(n,t,e,i,r,s,d,f){return new wc(n,t,e,i,r,s,d,f)}function yu(n){return new wc(n)}function Ix(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Pv(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Nl(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function Nv(n){return null!==n.collectionGroup}function _f(n){const t=rt(n);if(null===t.wt){t.wt=[];const e=Nl(t),i=Pv(t);if(null!==e&&null===i)e.isKeyField()||t.wt.push(new pf(e)),t.wt.push(new pf(ui.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t.wt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new pf(ui.keyField(),s))}}}return t.wt}function Gr(n){const t=rt(n);if(!t.gt)if("F"===t.limitType)t.gt=l_(t.path,t.collectionGroup,_f(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of _f(t))e.push(new pf(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new Fl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Fl(t.startAt.position,t.startAt.inclusive):null;t.gt=l_(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.gt}function Lv(n,t){t.getFirstInequalityField(),Nl(n);const e=n.filters.concat([t]);return new wc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function d_(n,t,e){return new wc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function dp(n,t){return gu(Gr(n),Gr(t))&&n.limitType===t.limitType}function Dx(n){return`${Pl(Gr(n))}|lt:${n.limitType}`}function Vv(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>xx(i)).join(", ")}]`),df(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Rl(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Rl(i)).join(",")),`Target(${e})`}(Gr(n))}; limitType=${n.limitType})`}function up(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):Ye.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of _f(e))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,s,d){const f=KI(r,s,d);return r.inclusive?f<=0:f<0}(e.startAt,_f(e),i)||e.endAt&&!function(r,s,d){const f=KI(r,s,d);return r.inclusive?f>=0:f>0}(e.endAt,_f(e),i)));var e,i}function Bv(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function u_(n){return(t,e)=>{let i=!1;for(const r of _f(n)){const s=nD(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function nD(n,t,e){const i=n.field.isKeyField()?Ye.comparator(t.key,e.key):function(r,s,d){const f=s.data.field(r),_=d.data.field(r);return null!==f&&null!==_?vc(f,_):it()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return it()}}function h_(n,t){if(n.yt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pu(t)?"-0":t}}function Tx(n){return{integerValue:""+n}}function kx(n,t){return GI(t)?Tx(t):h_(n,t)}class f_{constructor(){this._=void 0}}function iD(n,t,e){return n instanceof yf?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof Ll?Uv(n,t):n instanceof vu?oD(n,t):function(i,r){const s=Ax(i,r),d=sD(s)+sD(i.It);return sp(s)&&sp(i.It)?Tx(d):h_(i.Tt,d)}(n,t)}function rD(n,t,e){return n instanceof Ll?Uv(n,t):n instanceof vu?oD(n,t):e}function Ax(n,t){return n instanceof bu?sp(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class yf extends f_{}class Ll extends f_{constructor(t){super(),this.elements=t}}function Uv(n,t){const e=hp(t);for(const i of n.elements)e.some(r=>ss(r,i))||e.push(i);return{arrayValue:{values:e}}}class vu extends f_{constructor(t){super(),this.elements=t}}function oD(n,t){let e=hp(t);for(const i of n.elements)e=e.filter(r=>!ss(r,i));return{arrayValue:{values:e}}}class bu extends f_{constructor(t,e){super(),this.Tt=t,this.It=e}}function sD(n){return vi(n.integerValue||n.doubleValue)}function hp(n){return ap(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class fp{constructor(t,e){this.field=t,this.transform=e}}class jv{constructor(t,e){this.version=t,this.transformResults=e}}class Xn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Xn}static exists(t){return new Xn(void 0,t)}static updateTime(t){return new Xn(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Lo(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class Vl{}function Sr(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Vs(n.key,Xn.none()):new Ls(n.key,n.data,Xn.none());{const e=n.data,i=Pi.empty();let r=new vn(ui.comparator);for(let s of t.fields)if(!r.has(s)){let d=e.field(s);null===d&&s.length>1&&(s=s.popLast(),d=e.field(s)),null===d?i.delete(s):i.set(s,d),r=r.add(s)}return new go(n.key,i,new No(r.toArray()),Xn.none())}}function wu(n,t,e){n instanceof Ls?function(i,r,s){const d=i.value.clone(),f=Eu(i.fieldTransforms,r,s.transformResults);d.setAll(f),r.convertToFoundDocument(s.version,d).setHasCommittedMutations()}(n,t,e):n instanceof go?function(i,r,s){if(!Lo(i.precondition,r))return void r.convertToUnknownDocument(s.version);const d=Eu(i.fieldTransforms,r,s.transformResults),f=r.data;f.setAll(xu(i)),f.setAll(d),r.convertToFoundDocument(s.version,f).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Bl(n,t,e,i){return n instanceof Ls?function(r,s,d,f){if(!Lo(r.precondition,s))return d;const _=r.value.clone(),b=Cu(r.fieldTransforms,f,s);return _.setAll(b),s.convertToFoundDocument(s.version,_).setHasLocalMutations(),null}(n,t,e,i):n instanceof go?function(r,s,d,f){if(!Lo(r.precondition,s))return d;const _=Cu(r.fieldTransforms,f,s),b=s.data;return b.setAll(xu(r)),b.setAll(_),s.convertToFoundDocument(s.version,b).setHasLocalMutations(),null===d?null:d.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(E=>E.field))}(n,t,e,i):(d=e,Lo(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):d);var s,d}function cs(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=Ax(i.transform,r||null);null!=s&&(null===e&&(e=Pi.empty()),e.set(i.field,s))}return e||null}function m_(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&cf(e,i,(r,s)=>function aD(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Ll&&i instanceof Ll||e instanceof vu&&i instanceof vu?cf(e.elements,i.elements,ss):e instanceof bu&&i instanceof bu?ss(e.It,i.It):e instanceof yf&&i instanceof yf);var e,i}(r,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class Ls extends Vl{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class go extends Vl{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function xu(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function Eu(n,t,e){const i=new Map;bt(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],d=s.transform,f=t.data.field(s.field);i.set(s.field,rD(d,f,e[r]))}return i}function Cu(n,t,e){const i=new Map;for(const r of n){const s=r.transform,d=e.data.field(r.field);i.set(r.field,iD(s,d,t))}return i}class Vs extends Vl{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ul extends Vl{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vf{constructor(t){this.count=t}}var $n,dn;function zv(n){switch(n){default:return it();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function Hv(n){if(void 0===n)return ki("GRPC error has no .code"),fe.UNKNOWN;switch(n){case $n.OK:return fe.OK;case $n.CANCELLED:return fe.CANCELLED;case $n.UNKNOWN:return fe.UNKNOWN;case $n.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case $n.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case $n.INTERNAL:return fe.INTERNAL;case $n.UNAVAILABLE:return fe.UNAVAILABLE;case $n.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case $n.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case $n.NOT_FOUND:return fe.NOT_FOUND;case $n.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case $n.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case $n.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case $n.ABORTED:return fe.ABORTED;case $n.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case $n.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case $n.DATA_LOSS:return fe.DATA_LOSS;default:return it()}}(dn=$n||($n={}))[dn.OK=0]="OK",dn[dn.CANCELLED=1]="CANCELLED",dn[dn.UNKNOWN=2]="UNKNOWN",dn[dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dn[dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dn[dn.NOT_FOUND=5]="NOT_FOUND",dn[dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",dn[dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",dn[dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",dn[dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dn[dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dn[dn.ABORTED=10]="ABORTED",dn[dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",dn[dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",dn[dn.INTERNAL=13]="INTERNAL",dn[dn.UNAVAILABLE=14]="UNAVAILABLE",dn[dn.DATA_LOSS=15]="DATA_LOSS";class xc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){mu(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return Iv(this.inner)}size(){return this.innerSize}}const Mx=new Qn(Ye.comparator);function qr(){return Mx}const $v=new Qn(Ye.comparator);function bf(...n){let t=$v;for(const e of n)t=t.insert(e.key,e);return t}function Gv(n){let t=$v;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function ba(){return wf()}function Rx(){return wf()}function wf(){return new xc(n=>n.toString(),(n,t)=>n.isEqual(t))}const cD=new Qn(Ye.comparator),Ox=new vn(Ye.comparator);function Yt(...n){let t=Ox;for(const e of n)t=t.add(e);return t}const qv=new vn(Zt);function p_(){return qv}class jl{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,zl.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new jl(Ct.min(),r,p_(),qr(),Yt())}}class zl{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new zl(i,e,Yt(),Yt(),Yt())}}class xf{constructor(t,e,i,r){this.Et=t,this.removedTargetIds=e,this.key=i,this.At=r}}class Fx{constructor(t,e){this.targetId=t,this.Rt=e}}class g_{constructor(t,e,i=sr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class __{constructor(){this.Pt=0,this.vt=y_(),this.bt=sr.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}get current(){return this.Vt}get resumeToken(){return this.bt}get Dt(){return 0!==this.Pt}get Ct(){return this.St}xt(t){t.approximateByteSize()>0&&(this.St=!0,this.bt=t)}Nt(){let t=Yt(),e=Yt(),i=Yt();return this.vt.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:it()}}),new zl(this.bt,this.Vt,t,e,i)}kt(){this.St=!1,this.vt=y_()}$t(t,e){this.St=!0,this.vt=this.vt.insert(t,e)}Mt(t){this.St=!0,this.vt=this.vt.remove(t)}Ot(){this.Pt+=1}Ft(){this.Pt-=1}Bt(){this.St=!0,this.Vt=!0}}class Px{constructor(t){this.Lt=t,this.qt=new Map,this.Ut=qr(),this.Kt=Wv(),this.Gt=new vn(Zt)}Qt(t){for(const e of t.Et)t.At&&t.At.isFoundDocument()?this.jt(e,t.At):this.zt(e,t.key,t.At);for(const e of t.removedTargetIds)this.zt(e,t.key,t.At)}Wt(t){this.forEachTarget(t,e=>{const i=this.Ht(e);switch(t.state){case 0:this.Jt(e)&&i.xt(t.resumeToken);break;case 1:i.Ft(),i.Dt||i.kt(),i.xt(t.resumeToken);break;case 2:i.Ft(),i.Dt||this.removeTarget(e);break;case 3:this.Jt(e)&&(i.Bt(),i.xt(t.resumeToken));break;case 4:this.Jt(e)&&(this.Yt(e),i.xt(t.resumeToken));break;default:it()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.qt.forEach((i,r)=>{this.Jt(r)&&e(r)})}Zt(t){const e=t.targetId,i=t.Rt.count,r=this.Xt(e);if(r){const s=r.target;if(as(s))if(0===i){const d=new Ye(s.path);this.zt(e,d,Un.newNoDocument(d,Ct.min()))}else bt(1===i);else this.te(e)!==i&&(this.Yt(e),this.Gt=this.Gt.add(e))}}ee(t){const e=new Map;this.qt.forEach((s,d)=>{const f=this.Xt(d);if(f){if(s.current&&as(f.target)){const _=new Ye(f.target.path);null!==this.Ut.get(_)||this.ne(d,_)||this.zt(d,_,Un.newNoDocument(_,t))}s.Ct&&(e.set(d,s.Nt()),s.kt())}});let i=Yt();this.Kt.forEach((s,d)=>{let f=!0;d.forEachWhile(_=>{const b=this.Xt(_);return!b||2===b.purpose||(f=!1,!1)}),f&&(i=i.add(s))}),this.Ut.forEach((s,d)=>d.setReadTime(t));const r=new jl(t,e,this.Gt,this.Ut,i);return this.Ut=qr(),this.Kt=Wv(),this.Gt=new vn(Zt),r}jt(t,e){if(!this.Jt(t))return;const i=this.ne(t,e.key)?2:0;this.Ht(t).$t(e.key,i),this.Ut=this.Ut.insert(e.key,e),this.Kt=this.Kt.insert(e.key,this.se(e.key).add(t))}zt(t,e,i){if(!this.Jt(t))return;const r=this.Ht(t);this.ne(t,e)?r.$t(e,1):r.Mt(e),this.Kt=this.Kt.insert(e,this.se(e).delete(t)),i&&(this.Ut=this.Ut.insert(e,i))}removeTarget(t){this.qt.delete(t)}te(t){const e=this.Ht(t).Nt();return this.Lt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ot(t){this.Ht(t).Ot()}Ht(t){let e=this.qt.get(t);return e||(e=new __,this.qt.set(t,e)),e}se(t){let e=this.Kt.get(t);return e||(e=new vn(Zt),this.Kt=this.Kt.insert(t,e)),e}Jt(t){const e=null!==this.Xt(t);return e||Ne("WatchChangeAggregator","Detected inactive target",t),e}Xt(t){const e=this.qt.get(t);return e&&e.Dt?null:this.Lt.ie(t)}Yt(t){this.qt.set(t,new __),this.Lt.getRemoteKeysForTarget(t).forEach(e=>{this.zt(t,e,null)})}ne(t,e){return this.Lt.getRemoteKeysForTarget(t).has(e)}}function Wv(){return new Qn(Ye.comparator)}function y_(){return new Qn(Ye.comparator)}const Nx={asc:"ASCENDING",desc:"DESCENDING"},Lx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zv={and:"AND",or:"OR"};class Vx{constructor(t,e){this.databaseId=t,this.yt=e}}function Ef(n,t){return n.yt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Kv(n,t){return n.yt?t.toBase64():t.toUint8Array()}function Bx(n,t){return Ef(n,t.toTimestamp())}function bi(n){return bt(!!n),Ct.fromTimestamp(function(t){const e=yc(t);return new Yn(e.seconds,e.nanos)}(n))}function v_(n,t){return(e=n,new et(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function Ux(n){const t=et.fromString(n);return bt(ib(t)),t}function Cf(n,t){return v_(n.databaseId,t.path)}function Bs(n,t){const e=Ux(t);if(e.get(1)!==n.databaseId.projectId)throw new Oe(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Oe(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Ye(Yv(e))}function b_(n,t){return v_(n.databaseId,t)}function w_(n){const t=Ux(n);return 4===t.length?et.emptyPath():Yv(t)}function Sf(n){return new et(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Yv(n){return bt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Qv(n,t,e){return{name:Cf(n,t),fields:e.value.mapValue.fields}}function Xv(n,t,e){const i=Bs(n,t.name),r=bi(t.updateTime),s=t.createTime?bi(t.createTime):Ct.min(),d=new Pi({mapValue:{fields:t.fields}}),f=Un.newFoundDocument(i,r,s,d);return e&&f.setHasCommittedMutations(),e?f.setHasCommittedMutations():f}function If(n,t){let e;if(t instanceof Ls)e={update:Qv(n,t.key,t.value)};else if(t instanceof Vs)e={delete:Cf(n,t.key)};else if(t instanceof go)e={update:Qv(n,t.key,t.data),updateMask:dD(t.fieldMask)};else{if(!(t instanceof Ul))return it();e={verify:Cf(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const d=s.transform;if(d instanceof yf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ll)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof vu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof bu)return{fieldPath:s.field.canonicalString(),increment:d.It};throw it()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:Bx(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:it()),e;var r}function x_(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Xn.updateTime(bi(r.updateTime)):void 0!==r.exists?Xn.exists(r.exists):Xn.none():Xn.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,d){let f=null;"setToServerValue"in d?(bt("REQUEST_TIME"===d.setToServerValue),f=new yf):"appendMissingElements"in d?f=new Ll(d.appendMissingElements.values||[]):"removeAllFromArray"in d?f=new vu(d.removeAllFromArray.values||[]):"increment"in d?f=new bu(s,d.increment):it();const _=ui.fromServerFormat(d.fieldPath);return new fp(_,f)}(n,r)):[];var r;if(t.update){const r=Bs(n,t.update.name),s=new Pi({mapValue:{fields:t.update.fields}});if(t.updateMask){const d=new No((t.updateMask.fieldPaths||[]).map(b=>ui.fromServerFormat(b)));return new go(r,s,d,e,i)}return new Ls(r,s,e,i)}if(t.delete){const r=Bs(n,t.delete);return new Vs(r,e)}if(t.verify){const r=Bs(n,t.verify);return new Ul(r,e)}return it()}function Ec(n,t){return{documents:[b_(n,t.path)]}}function Jv(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=b_(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=b_(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0!==_.length)return $x(In.create(_,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const s=function(_){if(0!==_.length)return _.map(b=>{return{field:Su((E=b).field),direction:tb(E.dir)};var E})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const d=(b=t.limit,n.yt||df(b)?b:{value:b});var b,f,_;return null!==d&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt={before:(f=t.startAt).inclusive,values:f.position}),t.endAt&&(e.structuredQuery.endAt={before:!(_=t.endAt).inclusive,values:_.position}),e}function Hx(n){let t=w_(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){bt(1===i);const E=e.from[0];E.allDescendants?r=E.collectionId:t=t.child(E.collectionId)}let s=[];e.where&&(s=function(E){const k=Hl(E);return k instanceof In&&Ov(k)?k.getFilters():[k]}(e.where));let d=[];e.orderBy&&(d=e.orderBy.map(E=>{return new pf(mp((k=E).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction));var k}));let f=null;e.limit&&(f=function(E){let k;return k="object"==typeof E?E.value:E,df(k)?null:k}(e.limit));let _=null;var E;e.startAt&&(_=new Fl((E=e.startAt).values||[],!!E.before));let b=null;return e.endAt&&(b=function(E){return new Fl(E.values||[],!E.before)}(e.endAt)),Fv(t,r,d,s,f,"F",_,b)}function Hl(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=mp(t.unaryFilter.field);return on.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=mp(t.unaryFilter.field);return on.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=mp(t.unaryFilter.field);return on.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=mp(t.unaryFilter.field);return on.create(s,"!=",{nullValue:"NULL_VALUE"});default:return it()}}(n):void 0!==n.fieldFilter?on.create(mp((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return it()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return In.create(t.compositeFilter.filters.map(e=>Hl(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return it()}}(t.compositeFilter.op))}(n):it();var t}function tb(n){return Nx[n]}function lD(n){return Lx[n]}function nb(n){return Zv[n]}function Su(n){return{fieldPath:n.canonicalString()}}function mp(n){return ui.fromServerFormat(n.fieldPath)}function $x(n){return n instanceof on?function(t){if("=="===t.op){if(kv(t.value))return{unaryFilter:{field:Su(t.field),op:"IS_NAN"}};if(yx(t.value))return{unaryFilter:{field:Su(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(kv(t.value))return{unaryFilter:{field:Su(t.field),op:"IS_NOT_NAN"}};if(yx(t.value))return{unaryFilter:{field:Su(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Su(t.field),op:lD(t.op),value:t.value}}}(n):n instanceof In?function(t){const e=t.getFilters().map(i=>$x(i));return 1===e.length?e[0]:{compositeFilter:{op:nb(t.op),filters:e}}}(n):it()}function dD(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function ib(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Wr(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=rb(t)),t=Zi(n.get(e),t);return rb(t)}function Zi(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function rb(n){return n+"\x01\x01"}function wa(n){const t=n.length;if(bt(t>=2),2===t)return bt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),et.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const d=n.indexOf("\x01",s);switch((d<0||d>e)&&it(),n.charAt(d+1)){case"\x01":const f=n.substring(s,d);let _;0===r.length?_=f:(r+=f,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(s,d),r+="\0";break;case"\x11":r+=n.substring(s,d+1);break;default:it()}s=d+2}return new et(i)}const Gx=["userId","batchId"];function pp(n,t){return[n,Wr(t)]}function qx(n,t,e){return[n,Wr(t),e]}const Wx={},Zx=["prefixPath","collectionGroup","readTime","documentId"],Df=["prefixPath","collectionGroup","documentId"],uD=["collectionGroup","readTime","prefixPath","documentId"],hD=["canonicalId","targetId"],Kx=["targetId","path"],fD=["path","targetId"],Yx=["collectionId","parent"],_1=["indexId","uid"],ob=["uid","sequenceNumber"],sb=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],xa=["indexId","uid","orderedDocumentKey"],mD=["userId","collectionPath","documentId"],pD=["userId","collectionPath","largestBatchId"],Ea=["userId","collectionGroup","largestBatchId"],ls=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Us=[...ls,"documentOverlays"],ab=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],cb=ab,gD=[...cb,"indexConfiguration","indexState","indexEntries"];class lb extends Jg{constructor(t,e){super(),this.re=t,this.currentSequenceNumber=e}}function ar(n,t){const e=rt(n);return ya.M(e.re,t)}class db{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&wu(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Bl(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Bl(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=Rx();return this.mutations.forEach(r=>{const s=t.get(r.key),d=s.overlayedDocument;let f=this.applyToLocalView(d,s.mutatedFields);f=e.has(r.key)?null:f;const _=Sr(d,f);null!==_&&i.set(r.key,_),d.isValidDocument()||d.convertToNoDocument(Ct.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Yt())}isEqual(t){return this.batchId===t.batchId&&cf(this.mutations,t.mutations,(e,i)=>m_(e,i))&&cf(this.baseMutations,t.baseMutations,(e,i)=>m_(e,i))}}class gp{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){bt(t.mutations.length===i.length);let r=cD;const s=t.mutations;for(let d=0;d<s.length;d++)r=r.insert(s[d].key,i[d].version);return new gp(t,e,i,r)}}class Iu{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class $l{constructor(t,e,i,r,s=Ct.min(),d=Ct.min(),f=sr.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f}withSequenceNumber(t){return new $l(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new $l(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new $l(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class ub{constructor(t){this.oe=t}}function hb(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:_p(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:Cf(r=n.oe,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:Ef(r,s.version.toTimestamp()),createTime:Ef(r,s.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Ca(t.version)};else{if(!t.isUnknownDocument())return it();i.unknownDocument={path:e.path.toArray(),version:Ca(t.version)}}var r,s;return i}function _p(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Ca(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Du(n){const t=new Yn(n.seconds,n.nanoseconds);return Ct.fromTimestamp(t)}function Gl(n,t){const e=(t.baseMutations||[]).map(s=>x_(n.oe,s));for(let s=0;s<t.mutations.length-1;++s)s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(t.mutations[s].updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s);const i=t.mutations.map(s=>x_(n.oe,s)),r=Yn.fromMillis(t.localWriteTimeMs);return new db(t.batchId,r,e,i)}function Tf(n){const t=Du(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Du(n.lastLimboFreeSnapshotVersion):Ct.min();let i;var r;return void 0!==n.query.documents?(bt(1===(r=n.query).documents.length),i=Gr(yu(w_(r.documents[0])))):i=Gr(Hx(n.query)),new $l(i,n.targetId,0,n.lastListenSequenceNumber,t,e,sr.fromBase64String(n.resumeToken))}function C_(n,t){const e=Ca(t.snapshotVersion),i=Ca(t.lastLimboFreeSnapshotVersion);let r;r=as(t.target)?Ec(n.oe,t.target):Jv(n.oe,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Pl(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function kf(n){const t=Hx({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?d_(t,t.limit,"L"):t}function S_(n,t){return new Iu(t.largestBatchId,x_(n.oe,t.overlayMutation))}function fb(n,t){const e=t.path.lastSegment();return[n,Wr(t.path.popLast()),e]}function mb(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:Ca(i.readTime),documentKey:Wr(i.documentKey.path),largestBatchId:i.largestBatchId}}class Qx{getBundleMetadata(t,e){return pb(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Du(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return pb(t).put({bundleId:(i=e).id,createTime:Ca(bi(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return gb(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:kf(r.bundledQuery),readTime:Du(r.readTime)};var r})}saveNamedQuery(t,e){return gb(t).put({name:(i=e).name,readTime:Ca(bi(i.readTime)),bundledQuery:i.bundledQuery});var i}}function pb(n){return ar(n,"bundles")}function gb(n){return ar(n,"namedQueries")}class yp{constructor(t,e){this.Tt=t,this.userId=e}static ue(t,e){return new yp(t,e.uid||"")}getOverlay(t,e){return Af(t).get(fb(this.userId,e)).next(i=>i?S_(this.Tt,i):null)}getOverlays(t,e){const i=ba();return de.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((s,d)=>{const f=new Iu(e,d);r.push(this.ce(t,f))}),de.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(d=>r.add(Wr(d.getCollectionPath())));const s=[];return r.forEach(d=>{const f=IDBKeyRange.bound([this.userId,d,i],[this.userId,d,i+1],!1,!0);s.push(Af(t).Y("collectionPathOverlayIndex",f))}),de.waitFor(s)}getOverlaysForCollection(t,e,i){const r=ba(),s=Wr(e),d=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Af(t).W("collectionPathOverlayIndex",d).next(f=>{for(const _ of f){const b=S_(this.Tt,_);r.set(b.getKey(),b)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=ba();let d;const f=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Af(t).X({index:"collectionGroupOverlayIndex",range:f},(_,b,E)=>{const k=S_(this.Tt,b);s.size()<r||k.largestBatchId===d?(s.set(k.getKey(),k),d=k.largestBatchId):E.done()}).next(()=>s)}ce(t,e){return Af(t).put(function(i,r,s){const[d,f,_]=fb(r,s.mutation.key);return{userId:r,collectionPath:f,documentId:_,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:If(i.oe,s.mutation)}}(this.Tt,this.userId,e))}}function Af(n){return ar(n,"documentOverlays")}class Tu{constructor(){}ae(t,e){this.he(t,e),e.le()}he(t,e){if("nullValue"in t)this.fe(e,5);else if("booleanValue"in t)this.fe(e,10),e.de(t.booleanValue?1:0);else if("integerValue"in t)this.fe(e,15),e.de(vi(t.integerValue));else if("doubleValue"in t){const i=vi(t.doubleValue);isNaN(i)?this.fe(e,13):(this.fe(e,15),pu(i)?e.de(0):e.de(i))}else if("timestampValue"in t){const i=t.timestampValue;this.fe(e,20),"string"==typeof i?e._e(i):(e._e(`${i.seconds||""}`),e.de(i.nanos||0))}else if("stringValue"in t)this.we(t.stringValue,e),this.me(e);else if("bytesValue"in t)this.fe(e,30),e.ge(kl(t.bytesValue)),this.me(e);else if("referenceValue"in t)this.ye(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.fe(e,45),e.de(i.latitude||0),e.de(i.longitude||0)}else"mapValue"in t?Av(t)?this.fe(e,Number.MAX_SAFE_INTEGER):(this.pe(t.mapValue,e),this.me(e)):"arrayValue"in t?(this.Ie(t.arrayValue,e),this.me(e)):it()}we(t,e){this.fe(e,25),this.Te(t,e)}Te(t,e){e._e(t)}pe(t,e){const i=t.fields||{};this.fe(e,55);for(const r of Object.keys(i))this.we(r,e),this.he(i[r],e)}Ie(t,e){const i=t.values||[];this.fe(e,50);for(const r of i)this.he(r,e)}ye(t,e){this.fe(e,37),Ye.fromName(t).path.forEach(i=>{this.fe(e,60),this.Te(i,e)})}fe(t,e){t.de(e)}me(t){t.de(2)}}function yD(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function Xx(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const s=yD(255&e[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(t/8)}Tu.Ee=new Tu;class vD{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ae(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Re(i.value),i=e.next();this.Pe()}ve(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.be(i.value),i=e.next();this.Ve()}Se(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Re(i);else if(i<2048)this.Re(960|i>>>6),this.Re(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Re(480|i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i);else{const r=e.codePointAt(0);this.Re(240|r>>>18),this.Re(128|63&r>>>12),this.Re(128|63&r>>>6),this.Re(128|63&r)}}this.Pe()}De(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{const r=e.codePointAt(0);this.be(240|r>>>18),this.be(128|63&r>>>12),this.be(128|63&r>>>6),this.be(128|63&r)}}this.Ve()}Ce(t){const e=this.xe(t),i=Xx(e);this.Ne(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}ke(t){const e=this.xe(t),i=Xx(e);this.Ne(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}$e(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(t){this.Ne(t.length),this.buffer.set(t,this.position),this.position+=t.length}Be(){return this.buffer.slice(0,this.position)}xe(t){const e=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Re(t){const e=255&t;0===e?(this.Me(0),this.Me(255)):255===e?(this.Me(255),this.Me(0)):this.Me(e)}be(t){const e=255&t;0===e?(this.Fe(0),this.Fe(255)):255===e?(this.Fe(255),this.Fe(0)):this.Fe(t)}Pe(){this.Me(0),this.Me(1)}Ve(){this.Fe(0),this.Fe(1)}Me(t){this.Ne(1),this.buffer[this.position++]=t}Fe(t){this.Ne(1),this.buffer[this.position++]=~t}Ne(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class bD{constructor(t){this.Le=t}ge(t){this.Le.Ae(t)}_e(t){this.Le.Se(t)}de(t){this.Le.Ce(t)}le(){this.Le.$e()}}class wD{constructor(t){this.Le=t}ge(t){this.Le.ve(t)}_e(t){this.Le.De(t)}de(t){this.Le.ke(t)}le(){this.Le.Oe()}}class vp{constructor(){this.Le=new vD,this.qe=new bD(this.Le),this.Ue=new wD(this.Le)}seed(t){this.Le.seed(t)}Ke(t){return 0===t?this.qe:this.Ue}Be(){return this.Le.Be()}reset(){this.Le.reset()}}class ku{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ge(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new ku(this.indexId,this.documentKey,this.arrayValue,i)}}function ql(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=Jx(n.arrayValue,t.arrayValue),0!==e?e:(e=Jx(n.directionalValue,t.directionalValue),0!==e?e:Ye.comparator(n.documentKey,t.documentKey)))}function Jx(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class xD{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Qe=t.orderBy,this.je=[];for(const e of t.filters){const i=e;i.isInequality()?this.ze=i:this.je.push(i)}}We(t){bt(t.collectionGroup===this.collectionId);const e=bv(t);if(void 0!==e&&!this.He(e))return!1;const i=Dl(t);let r=0,s=0;for(;r<i.length&&this.He(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.ze){const d=i[r];if(!this.Je(this.ze,d)||!this.Ye(this.Qe[s++],d))return!1;++r}for(;r<i.length;++r)if(s>=this.Qe.length||!this.Ye(this.Qe[s++],i[r]))return!1;return!0}He(t){for(const e of this.je)if(this.Je(e,t))return!0;return!1}Je(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Ye(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function eE(n){var t,e;if(bt(n instanceof on||n instanceof In),n instanceof on){if(n instanceof Ex){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(s=>on.create(n.field,"==",s)))||[];return In.create(r,"or")}return n}const i=n.filters.map(r=>eE(r));return In.create(i,n.op)}function ED(n){if(0===n.getFilters().length)return[];const t=vb(eE(n));return bt(tE(t)),_b(t)||yb(t)?[t]:t.getFilters()}function _b(n){return n instanceof on}function yb(n){return n instanceof In&&Ov(n)}function tE(n){return _b(n)||yb(n)||function(t){if(t instanceof In&&o_(t)){for(const e of t.getFilters())if(!_b(e)&&!yb(e))return!1;return!0}return!1}(n)}function vb(n){if(bt(n instanceof on||n instanceof In),n instanceof on)return n;if(1===n.filters.length)return vb(n.filters[0]);const t=n.filters.map(i=>vb(i));let e=In.create(t,n.op);return e=bp(e),tE(e)?e:(bt(e instanceof In),bt(mf(e)),bt(e.filters.length>1),e.filters.reduce((i,r)=>bb(i,r)))}function bb(n,t){let e;return bt(n instanceof on||n instanceof In),bt(t instanceof on||t instanceof In),e=n instanceof on?t instanceof on?In.create([n,t],"and"):wb(n,t):t instanceof on?wb(t,n):function(i,r){if(bt(i.filters.length>0&&r.filters.length>0),mf(i)&&mf(r))return wx(i,r.getFilters());const s=o_(i)?i:r,d=o_(i)?r:i,f=s.filters.map(_=>bb(_,d));return In.create(f,"or")}(n,t),bp(e)}function wb(n,t){if(mf(t))return wx(t,n.getFilters());{const e=t.filters.map(i=>bb(n,i));return In.create(e,"or")}}function bp(n){if(bt(n instanceof on||n instanceof In),n instanceof on)return n;const t=n.getFilters();if(1===t.length)return bp(t[0]);if(vx(n))return n;const e=t.map(r=>bp(r)),i=[];return e.forEach(r=>{r instanceof on?i.push(r):r instanceof In&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:In.create(i,n.op)}class nE{constructor(){this.Ze=new I_}addToCollectionParentIndex(t,e){return this.Ze.add(e),de.resolve()}getCollectionParents(t,e){return de.resolve(this.Ze.getEntries(e))}addFieldIndex(t,e){return de.resolve()}deleteFieldIndex(t,e){return de.resolve()}getDocumentsMatchingTarget(t,e){return de.resolve(null)}getIndexType(t,e){return de.resolve(0)}getFieldIndexes(t,e){return de.resolve([])}getNextCollectionGroupToUpdate(t){return de.resolve(null)}getMinOffset(t,e){return de.resolve(fo.min())}getMinOffsetFromCollectionGroup(t,e){return de.resolve(fo.min())}updateCollectionGroup(t,e,i){return de.resolve()}updateIndexEntries(t,e){return de.resolve()}}class I_{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new vn(et.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new vn(et.comparator)).toArray()}}const wp=new Uint8Array(0);class iE{constructor(t,e){this.user=t,this.databaseId=e,this.Xe=new I_,this.tn=new xc(i=>Pl(i),(i,r)=>gu(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Xe.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Xe.add(e)});const s={collectionId:i,parent:Wr(r)};return xb(t).put(s)}return de.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[vv(e),""],!1,!0);return xb(t).W(r).next(s=>{for(const d of s){if(d.collectionId!==e)break;i.push(wa(d.parent))}return i})}addFieldIndex(t,e){const i=xp(t),r={indexId:(d=e).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var d;delete r.indexId;const s=i.add(r);if(e.indexState){const d=Au(t);return s.next(f=>{d.put(mb(f,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const i=xp(t),r=Au(t),s=Mf(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=Mf(t);let r=!0;const s=new Map;return de.forEach(this.en(e),d=>this.nn(t,d).next(f=>{r&&(r=!!f),s.set(d,f)})).next(()=>{if(r){let d=Yt();const f=[];return de.forEach(s,(_,b)=>{var E;Ne("IndexedDbIndexManager",`Using index ${E=_,`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(pt=>`${pt.fieldPath}:${pt.kind}`).join(",")}`} to execute ${Pl(e)}`);const k=function(pt,_t){const Mt=bv(_t);if(void 0===Mt)return null;for(const Nt of _u(pt,Mt.fieldPath))switch(Nt.op){case"array-contains-any":return Nt.value.arrayValue.values||[];case"array-contains":return[Nt.value]}return null}(b,_),V=function(pt,_t){const Mt=new Map;for(const Nt of Dl(_t))for(const _n of _u(pt,Nt.fieldPath))switch(_n.op){case"==":case"in":Mt.set(Nt.fieldPath.canonicalString(),_n.value);break;case"not-in":case"!=":return Mt.set(Nt.fieldPath.canonicalString(),_n.value),Array.from(Mt.values())}return null}(b,_),L=function(pt,_t){const Mt=[];let Nt=!0;for(const _n of Dl(_t)){const Lr=0===_n.kind?lp(pt,_n.fieldPath,pt.startAt):gf(pt,_n.fieldPath,pt.startAt);Mt.push(Lr.value),Nt&&(Nt=Lr.inclusive)}return new Fl(Mt,Nt)}(b,_),U=function(pt,_t){const Mt=[];let Nt=!0;for(const _n of Dl(_t)){const Lr=0===_n.kind?gf(pt,_n.fieldPath,pt.endAt):lp(pt,_n.fieldPath,pt.endAt);Mt.push(Lr.value),Nt&&(Nt=Lr.inclusive)}return new Fl(Mt,Nt)}(b,_),Y=this.sn(_,b,L),he=this.sn(_,b,U),Ue=this.rn(_,b,V),ft=this.on(_.indexId,k,Y,L.inclusive,he,U.inclusive,Ue);return de.forEach(ft,pt=>i.J(pt,e.limit).next(_t=>{_t.forEach(Mt=>{const Nt=Ye.fromSegments(Mt.documentKey);d.has(Nt)||(d=d.add(Nt),f.push(Nt))})}))}).next(()=>f)}return de.resolve(null)})}en(t){let e=this.tn.get(t);return e||(e=0===t.filters.length?[t]:ED(In.create(t.filters,"and")).map(i=>l_(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.tn.set(t,e),e)}on(t,e,i,r,s,d,f){const _=(null!=e?e.length:1)*Math.max(i.length,s.length),b=_/(null!=e?e.length:1),E=[];for(let k=0;k<_;++k){const V=e?this.un(e[k/b]):wp,L=this.cn(t,V,i[k%b],r),U=this.an(t,V,s[k%b],d),Y=f.map(he=>this.cn(t,V,he,!0));E.push(...this.createRange(L,U,Y))}return E}cn(t,e,i,r){const s=new ku(t,Ye.empty(),e,i);return r?s:s.Ge()}an(t,e,i,r){const s=new ku(t,Ye.empty(),e,i);return r?s.Ge():s}nn(t,e){const i=new xD(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let d=null;for(const f of s)i.We(f)&&(!d||f.fields.length>d.fields.length)&&(d=f);return d})}getIndexType(t,e){let i=2;const r=this.en(e);return de.forEach(r,s=>this.nn(t,s).next(d=>{d?0!==i&&d.fields.length<function(f){let _=new vn(ui.comparator),b=!1;for(const E of f.filters)for(const k of E.getFlattenedFilters())k.field.isKeyField()||("array-contains"===k.op||"array-contains-any"===k.op?b=!0:_=_.add(k.field));for(const E of f.orderBy)E.field.isKeyField()||(_=_.add(E.field));return _.size+(b?1:0)}(s)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}hn(t,e){const i=new vp;for(const r of Dl(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const d=i.Ke(r.kind);Tu.Ee.ae(s,d)}return i.Be()}un(t){const e=new vp;return Tu.Ee.ae(t,e.Ke(0)),e.Be()}ln(t,e){const i=new vp;return Tu.Ee.ae(Ol(this.databaseId,e),i.Ke(function(r){const s=Dl(r);return 0===s.length?0:s[s.length-1].kind}(t))),i.Be()}rn(t,e,i){if(null===i)return[];let r=[];r.push(new vp);let s=0;for(const d of Dl(t)){const f=i[s++];for(const _ of r)if(this.fn(e,d.fieldPath)&&ap(f))r=this.dn(r,d,f);else{const b=_.Ke(d.kind);Tu.Ee.ae(f,b)}}return this._n(r)}sn(t,e,i){return this.rn(t,e,i.position)}_n(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Be();return e}dn(t,e,i){const r=[...t],s=[];for(const d of i.arrayValue.values||[])for(const f of r){const _=new vp;_.seed(f.Be()),Tu.Ee.ae(d,_.Ke(e.kind)),s.push(_)}return s}fn(t,e){return!!t.filters.find(i=>i instanceof on&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=xp(t),r=Au(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(s=>{const d=[];return de.forEach(s,f=>r.get([f.indexId,this.uid]).next(_=>{d.push(function(b,E){const k=E?new rp(E.sequenceNumber,new fo(Du(E.readTime),new Ye(wa(E.documentKey)),E.largestBatchId)):rp.empty(),V=b.fields.map(([L,U])=>new ip(ui.fromServerFormat(L),U));return new Xg(b.indexId,b.collectionGroup,V,k)}(f,_))})).next(()=>d)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Zt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=xp(t),s=Au(t);return this.wn(t).next(d=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(f=>de.forEach(f,_=>s.put(mb(_.indexId,this.user,d,i)))))}updateIndexEntries(t,e){const i=new Map;return de.forEach(e,(r,s)=>{const d=i.get(r.collectionGroup);return(d?de.resolve(d):this.getFieldIndexes(t,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),de.forEach(f,_=>this.mn(t,r,_).next(b=>{const E=this.gn(s,_);return b.isEqual(E)?de.resolve():this.yn(t,s,_,b,E)}))))})}pn(t,e,i,r){return Mf(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.ln(i,e.key),documentKey:e.key.path.toArray()})}In(t,e,i,r){return Mf(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.ln(i,e.key),e.key.path.toArray()])}mn(t,e,i){const r=Mf(t);let s=new vn(ql);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.ln(i,e)])},(d,f)=>{s=s.add(new ku(i.indexId,e,f.arrayValue,f.directionalValue))}).next(()=>s)}gn(t,e){let i=new vn(ql);const r=this.hn(e,t);if(null==r)return i;const s=bv(e);if(null!=s){const d=t.data.field(s.fieldPath);if(ap(d))for(const f of d.arrayValue.values||[])i=i.add(new ku(e.indexId,t.key,this.un(f),r))}else i=i.add(new ku(e.indexId,t.key,wp,r));return i}yn(t,e,i,r,s){Ne("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const d=[];return function(f,_,b,E,k){const V=f.getIterator(),L=_.getIterator();let U=bc(V),Y=bc(L);for(;U||Y;){let he=!1,Ue=!1;if(U&&Y){const ft=b(U,Y);ft<0?Ue=!0:ft>0&&(he=!0)}else null!=U?Ue=!0:he=!0;he?(E(Y),Y=bc(L)):Ue?(k(U),U=bc(V)):(U=bc(V),Y=bc(L))}}(r,s,ql,f=>{d.push(this.pn(t,e,i,f))},f=>{d.push(this.In(t,e,i,f))}),de.waitFor(d)}wn(t){let e=1;return Au(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((d,f)=>ql(d,f)).filter((d,f,_)=>!f||0!==ql(d,_[f-1]));const r=[];r.push(t);for(const d of i){const f=ql(d,t),_=ql(d,e);if(0===f)r[0]=t.Ge();else if(f>0&&_<0)r.push(d),r.push(d.Ge());else if(_>0)break}r.push(e);const s=[];for(let d=0;d<r.length;d+=2){if(this.Tn(r[d],r[d+1]))return[];s.push(IDBKeyRange.bound([r[d].indexId,this.uid,r[d].arrayValue,r[d].directionalValue,wp,[]],[r[d+1].indexId,this.uid,r[d+1].arrayValue,r[d+1].directionalValue,wp,[]]))}return s}Tn(t,e){return ql(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(Eb)}getMinOffset(t,e){return de.mapArray(this.en(e),i=>this.nn(t,i).next(r=>r||it())).next(Eb)}}function xb(n){return ar(n,"collectionParents")}function Mf(n){return ar(n,"indexEntries")}function xp(n){return ar(n,"indexConfiguration")}function Au(n){return ar(n,"indexState")}function Eb(n){bt(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;_c(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new fo(t.readTime,t.documentKey,e)}const Wl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class _o{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new _o(t,_o.DEFAULT_COLLECTION_PERCENTILE,_o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function rE(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],d=IDBKeyRange.only(e.batchId);let f=0;const _=i.X({range:d},(E,k,V)=>(f++,V.delete()));s.push(_.next(()=>{bt(1===f)}));const b=[];for(const E of e.mutations){const k=qx(t,E.key.path,e.batchId);s.push(r.delete(k)),b.push(E.key)}return de.waitFor(s).next(()=>b)}function Cc(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw it();t=n.noDocument}return JSON.stringify(t).length}_o.DEFAULT_COLLECTION_PERCENTILE=10,_o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_o.DEFAULT=new _o(41943040,_o.DEFAULT_COLLECTION_PERCENTILE,_o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_o.DISABLED=new _o(-1,0,0);class Cb{constructor(t,e,i,r){this.userId=t,this.Tt=e,this.indexManager=i,this.referenceDelegate=r,this.En={}}static ue(t,e,i,r){bt(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new Cb(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Mu(t).X({index:"userMutationsIndex",range:i},(r,s,d)=>{e=!1,d.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=Ru(t),d=Mu(t);return d.add({}).next(f=>{bt("number"==typeof f);const _=new db(f,e,i,r),b=function(V,L,U){const Y=U.baseMutations.map(Ue=>If(V.oe,Ue)),he=U.mutations.map(Ue=>If(V.oe,Ue));return{userId:L,batchId:U.batchId,localWriteTimeMs:U.localWriteTime.toMillis(),baseMutations:Y,mutations:he}}(this.Tt,this.userId,_),E=[];let k=new vn((V,L)=>Zt(V.canonicalString(),L.canonicalString()));for(const V of r){const L=qx(this.userId,V.key.path,f);k=k.add(V.key.path.popLast()),E.push(d.put(b)),E.push(s.put(L,Wx))}return k.forEach(V=>{E.push(this.indexManager.addToCollectionParentIndex(t,V))}),t.addOnCommittedListener(()=>{this.En[f]=_.keys()}),de.waitFor(E).next(()=>_)})}lookupMutationBatch(t,e){return Mu(t).get(e).next(i=>i?(bt(i.userId===this.userId),Gl(this.Tt,i)):null)}An(t,e){return this.En[e]?de.resolve(this.En[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.En[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Mu(t).X({index:"userMutationsIndex",range:r},(d,f,_)=>{f.userId===this.userId&&(bt(f.batchId>=i),s=Gl(this.Tt,f)),_.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Mu(t).X({index:"userMutationsIndex",range:e,reverse:!0},(r,s,d)=>{i=s.batchId,d.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Mu(t).W("userMutationsIndex",e).next(i=>i.map(r=>Gl(this.Tt,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=pp(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return Ru(t).X({range:r},(d,f,_)=>{const[b,E,k]=d,V=wa(E);if(b===this.userId&&e.path.isEqual(V))return Mu(t).get(k).next(L=>{if(!L)throw it();bt(L.userId===this.userId),s.push(Gl(this.Tt,L))});_.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new vn(Zt);const r=[];return e.forEach(s=>{const d=pp(this.userId,s.path),f=IDBKeyRange.lowerBound(d),_=Ru(t).X({range:f},(b,E,k)=>{const[V,L,U]=b,Y=wa(L);V===this.userId&&s.path.isEqual(Y)?i=i.add(U):k.done()});r.push(_)}),de.waitFor(r).next(()=>this.Rn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=pp(this.userId,i),d=IDBKeyRange.lowerBound(s);let f=new vn(Zt);return Ru(t).X({range:d},(_,b,E)=>{const[k,V,L]=_,U=wa(V);k===this.userId&&i.isPrefixOf(U)?U.length===r&&(f=f.add(L)):E.done()}).next(()=>this.Rn(t,f))}Rn(t,e){const i=[],r=[];return e.forEach(s=>{r.push(Mu(t).get(s).next(d=>{if(null===d)throw it();bt(d.userId===this.userId),i.push(Gl(this.Tt,d))}))}),de.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return rE(t.re,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Pn(e.batchId)}),de.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Pn(t){delete this.En[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return de.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Ru(t).X({range:i},(s,d,f)=>{if(s[0]===this.userId){const _=wa(s[1]);r.push(_)}else f.done()}).next(()=>{bt(0===r.length)})})}containsKey(t,e){return D_(t,this.userId,e)}vn(t){return Sb(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function D_(n,t,e){const i=pp(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let d=!1;return Ru(n).X({range:s,Z:!0},(f,_,b)=>{const[E,k,V]=f;E===t&&k===r&&(d=!0),b.done()}).next(()=>d)}function Mu(n){return ar(n,"mutations")}function Ru(n){return ar(n,"documentMutations")}function Sb(n){return ar(n,"mutationQueues")}class Rf{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Vn(){return new Rf(0)}static Sn(){return new Rf(-1)}}class At{constructor(t,e){this.referenceDelegate=t,this.Tt=e}allocateTargetId(t){return this.Dn(t).next(e=>{const i=new Rf(e.highestTargetId);return e.highestTargetId=i.next(),this.Cn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Dn(t).next(e=>Ct.fromTimestamp(new Yn(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Dn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Dn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Cn(t,r)))}addTargetData(t,e){return this.xn(t,e).next(()=>this.Dn(t).next(i=>(i.targetCount+=1,this.Nn(e,i),this.Cn(t,i))))}updateTargetData(t,e){return this.xn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Of(t).delete(e.targetId)).next(()=>this.Dn(t)).next(i=>(bt(i.targetCount>0),i.targetCount-=1,this.Cn(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return Of(t).X((d,f)=>{const _=Tf(f);_.sequenceNumber<=e&&null===i.get(_.targetId)&&(r++,s.push(this.removeTargetData(t,_)))}).next(()=>de.waitFor(s)).next(()=>r)}forEachTarget(t,e){return Of(t).X((i,r)=>{const s=Tf(r);e(s)})}Dn(t){return oE(t).get("targetGlobalKey").next(e=>(bt(null!==e),e))}Cn(t,e){return oE(t).put("targetGlobalKey",e)}xn(t,e){return Of(t).put(C_(this.Tt,e))}Nn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Dn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Pl(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return Of(t).X({range:r,index:"queryTargetsIndex"},(d,f,_)=>{const b=Tf(f);gu(e,b.target)&&(s=b,_.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=Zl(t);return e.forEach(d=>{const f=Wr(d.path);r.push(s.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(t,i,d))}),de.waitFor(r)}removeMatchingKeys(t,e,i){const r=Zl(t);return de.forEach(e,s=>{const d=Wr(s.path);return de.waitFor([r.delete([i,d]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=Zl(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Zl(t);let s=Yt();return r.X({range:i,Z:!0},(d,f,_)=>{const b=wa(d[1]),E=new Ye(b);s=s.add(E)}).next(()=>s)}containsKey(t,e){const i=Wr(e.path),r=IDBKeyRange.bound([i],[vv(i)],!1,!0);let s=0;return Zl(t).X({index:"documentTargetsIndex",Z:!0,range:r},([d,f],_,b)=>{0!==d&&(s++,b.done())}).next(()=>s>0)}ie(t,e){return Of(t).get(e).next(i=>i?Tf(i):null)}}function Of(n){return ar(n,"targets")}function oE(n){return ar(n,"targetGlobal")}function Zl(n){return ar(n,"targetDocuments")}function Ou([n,t],[e,i]){const r=Zt(n,e);return 0===r?Zt(t,i):r}class CD{constructor(t){this.kn=t,this.buffer=new vn(Ou),this.$n=0}Mn(){return++this.$n}On(t){const e=[t,this.Mn()];if(this.buffer.size<this.kn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();Ou(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class T_{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Fn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Bn(6e4)}stop(){this.Fn&&(this.Fn.cancel(),this.Fn=null)}get started(){return null!==this.Fn}Bn(t){var e=this;Ne("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Fn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,ce.Z)(function*(){e.Fn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){fu(i)?Ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield _a(i)}yield e.Bn(3e5)}))}}class k_{constructor(t,e){this.Ln=t,this.params=e}calculateTargetCount(t,e){return this.Ln.qn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return de.resolve(mo.at);const i=new CD(e);return this.Ln.forEachTarget(t,r=>i.On(r.sequenceNumber)).next(()=>this.Ln.Un(t,r=>i.On(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Ln.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Ln.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(Wl)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Wl):this.Kn(t,e))}getCacheSize(t){return this.Ln.getCacheSize(t)}Kn(t,e){let i,r,s,d,f,_,b;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(k=>(k>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${k}`),r=this.params.maximumSequenceNumbersToCollect):r=k,d=Date.now(),this.nthSequenceNumber(t,r))).next(k=>(i=k,f=Date.now(),this.removeTargets(t,i,e))).next(k=>(s=k,_=Date.now(),this.removeOrphanedDocuments(t,i))).next(k=>(b=Date.now(),_v()<=ir.in.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-E}ms\n\tDetermined least recently used ${r} in `+(f-d)+`ms\n\tRemoved ${s} targets in `+(_-f)+`ms\n\tRemoved ${k} documents in `+(b-_)+`ms\nTotal Duration: ${b-E}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:k})))}}class wi{constructor(t,e){this.db=t,this.garbageCollector=new k_(this,e)}qn(t){const e=this.Gn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Gn(t){let e=0;return this.Un(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Un(t,e){return this.Qn(t,(i,r)=>e(r))}addReference(t,e,i){return Ib(t,i)}removeReference(t,e,i){return Ib(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return Ib(t,e)}jn(t,e){return function(i,r){let s=!1;return Sb(i).tt(d=>D_(i,d,r).next(f=>(f&&(s=!0),de.resolve(!f)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Qn(t,(d,f)=>{if(f<=e){const _=this.jn(t,d).next(b=>{if(!b)return s++,i.getEntry(t,d).next(()=>(i.removeEntry(d,Ct.min()),Zl(t).delete([0,Wr(d.path)])))});r.push(_)}}).next(()=>de.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return Ib(t,e)}Qn(t,e){const i=Zl(t);let r,s=mo.at;return i.X({index:"documentTargetsIndex"},([d,f],{path:_,sequenceNumber:b})=>{0===d?(s!==mo.at&&e(new Ye(wa(r)),s),s=b,r=_):s=mo.at}).next(()=>{s!==mo.at&&e(new Ye(wa(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Ib(n,t){return Zl(n).put((i=n.currentSequenceNumber,{targetId:0,path:Wr(t.path),sequenceNumber:i}));var i}class Db{constructor(){this.changes=new xc(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Un.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?de.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class sE{constructor(t){this.Tt=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Kl(t).put(i)}removeEntry(t,e,i){return Kl(t).delete(function(r,s){const d=r.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],_p(s),d[d.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.zn(t,i)))}getEntry(t,e){let i=Un.newInvalidDocument(e);return Kl(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(Ff(e))},(r,s)=>{i=this.Wn(e,s)}).next(()=>i)}Hn(t,e){let i={size:0,document:Un.newInvalidDocument(e)};return Kl(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(Ff(e))},(r,s)=>{i={document:this.Wn(e,s),size:Cc(s)}}).next(()=>i)}getEntries(t,e){let i=qr();return this.Jn(t,e,(r,s)=>{const d=this.Wn(r,s);i=i.insert(r,d)}).next(()=>i)}Yn(t,e){let i=qr(),r=new Qn(Ye.comparator);return this.Jn(t,e,(s,d)=>{const f=this.Wn(s,d);i=i.insert(s,f),r=r.insert(s,Cc(d))}).next(()=>({documents:i,Zn:r}))}Jn(t,e,i){if(e.isEmpty())return de.resolve();let r=new vn(dE);e.forEach(_=>r=r.add(_));const s=IDBKeyRange.bound(Ff(r.first()),Ff(r.last())),d=r.getIterator();let f=d.getNext();return Kl(t).X({index:"documentKeyIndex",range:s},(_,b,E)=>{const k=Ye.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;f&&dE(f,k)<0;)i(f,null),f=d.getNext();f&&f.isEqual(k)&&(i(f,b),f=d.hasNext()?d.getNext():null),f?E.j(Ff(f)):E.done()}).next(()=>{for(;f;)i(f,null),f=d.hasNext()?d.getNext():null})}getDocumentsMatchingQuery(t,e,i,r){const s=e.path,d=[s.popLast().toArray(),s.lastSegment(),_p(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],f=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Kl(t).W(IDBKeyRange.bound(d,f,!0)).next(_=>{let b=qr();for(const E of _){const k=this.Wn(Ye.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);k.isFoundDocument()&&(up(e,k)||r.has(k.key))&&(b=b.insert(k.key,k))}return b})}getAllFromCollectionGroup(t,e,i,r){let s=qr();const d=lE(e,i),f=lE(e,fo.max());return Kl(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,f,!0)},(_,b,E)=>{const k=this.Wn(Ye.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);s=s.insert(k.key,k),s.size===r&&E.done()}).next(()=>s)}newChangeBuffer(t){return new cE(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return Tb(t).get("remoteDocumentGlobalKey").next(e=>(bt(!!e),e))}zn(t,e){return Tb(t).put("remoteDocumentGlobalKey",e)}Wn(t,e){if(e){const i=function _D(n,t){let e;if(t.document)e=Xv(n.oe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Ye.fromSegments(t.noDocument.path),r=Du(t.noDocument.readTime);e=Un.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return it();{const i=Ye.fromSegments(t.unknownDocument.path),r=Du(t.unknownDocument.version);e=Un.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new Yn(i[0],i[1]);return Ct.fromTimestamp(r)}(t.readTime)),e}(this.Tt,e);if(!i.isNoDocument()||!i.version.isEqual(Ct.min()))return i}return Un.newInvalidDocument(t)}}function aE(n){return new sE(n)}class cE extends Db{constructor(t,e){super(),this.Xn=t,this.trackRemovals=e,this.ts=new xc(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new vn((s,d)=>Zt(s.canonicalString(),d.canonicalString()));return this.changes.forEach((s,d)=>{const f=this.ts.get(s);if(e.push(this.Xn.removeEntry(t,s,f.readTime)),d.isValidDocument()){const _=hb(this.Xn.Tt,d);r=r.add(s.path.popLast());const b=Cc(_);i+=b-f.size,e.push(this.Xn.addEntry(t,s,_))}else if(i-=f.size,this.trackRemovals){const _=hb(this.Xn.Tt,d.convertToNoDocument(Ct.min()));e.push(this.Xn.addEntry(t,s,_))}}),r.forEach(s=>{e.push(this.Xn.indexManager.addToCollectionParentIndex(t,s))}),e.push(this.Xn.updateMetadata(t,i)),de.waitFor(e)}getFromCache(t,e){return this.Xn.Hn(t,e).next(i=>(this.ts.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Xn.Yn(t,e).next(({documents:i,Zn:r})=>(r.forEach((s,d)=>{this.ts.set(s,{size:d,readTime:i.get(s).readTime})}),i))}}function Tb(n){return ar(n,"remoteDocumentGlobal")}function Kl(n){return ar(n,"remoteDocumentsV14")}function Ff(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function lE(n,t){const e=t.documentKey.path.toArray();return[n,_p(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function dE(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(r=Zt(e[s],i[s]),r)return r;return r=Zt(e.length,i.length),r||(r=Zt(e[e.length-2],i[i.length-2]),r||Zt(e[e.length-1],i[i.length-1]))}class SD{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class Pf{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&Bl(i.mutation,r,No.empty(),Yn.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Yt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Yt()){const r=ba();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let d=bf();return s.forEach((f,_)=>{d=d.insert(f,_.overlayedDocument)}),d}))}getOverlayedDocuments(t,e){const i=ba();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Yt()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((d,f)=>{e.set(d,f)})})}computeViews(t,e,i,r){let s=qr();const d=wf(),f=wf();return e.forEach((_,b)=>{const E=i.get(b.key);r.has(b.key)&&(void 0===E||E.mutation instanceof go)?s=s.insert(b.key,b):void 0!==E?(d.set(b.key,E.mutation.getFieldMask()),Bl(E.mutation,b,E.mutation.getFieldMask(),Yn.now())):d.set(b.key,No.empty())}),this.recalculateAndSaveOverlays(t,s).next(_=>(_.forEach((b,E)=>d.set(b,E)),e.forEach((b,E)=>{var k;return f.set(b,new SD(E,null!==(k=d.get(b))&&void 0!==k?k:null))}),f))}recalculateAndSaveOverlays(t,e){const i=wf();let r=new Qn((d,f)=>d-f),s=Yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(d=>{for(const f of d)f.keys().forEach(_=>{const b=e.get(_);if(null===b)return;let E=i.get(_)||No.empty();E=f.applyToLocalView(b,E),i.set(_,E);const k=(r.get(f.batchId)||Yt()).add(_);r=r.insert(f.batchId,k)})}).next(()=>{const d=[],f=r.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),b=_.key,E=_.value,k=Rx();E.forEach(V=>{if(!s.has(V)){const L=Sr(e.get(V),i.get(V));null!==L&&k.set(V,L),s=s.add(V)}}),d.push(this.documentOverlayCache.saveOverlays(t,b,k))}return de.waitFor(d)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return Ye.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):Nv(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const d=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):de.resolve(ba());let f=-1,_=s;return d.next(b=>de.forEach(b,(E,k)=>(f<k.largestBatchId&&(f=k.largestBatchId),s.get(E)?de.resolve():this.remoteDocumentCache.getEntry(t,E).next(V=>{_=_.insert(E,V)}))).next(()=>this.populateOverlays(t,b,s)).next(()=>this.computeViews(t,_,b,Yt())).next(E=>({batchId:f,changes:Gv(E)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Ye(e)).next(i=>{let r=bf();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let s=bf();return this.indexManager.getCollectionParents(t,r).next(d=>de.forEach(d,f=>{const _=(b=e,E=f.child(r),new wc(E,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,E;return this.getDocumentsMatchingCollectionQuery(t,_,i).next(b=>{b.forEach((E,k)=>{s=s.insert(E,k)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,r))).next(s=>{r.forEach((f,_)=>{const b=_.getKey();null===s.get(b)&&(s=s.insert(b,Un.newInvalidDocument(b)))});let d=bf();return s.forEach((f,_)=>{const b=r.get(f);void 0!==b&&Bl(b.mutation,_,No.empty(),Yn.now()),up(e,_)&&(d=d.insert(f,_))}),d})}}class ID{constructor(t){this.Tt=t,this.es=new Map,this.ns=new Map}getBundleMetadata(t,e){return de.resolve(this.es.get(e))}saveBundleMetadata(t,e){var i;return this.es.set(e.id,{id:(i=e).id,version:i.version,createTime:bi(i.createTime)}),de.resolve()}getNamedQuery(t,e){return de.resolve(this.ns.get(e))}saveNamedQuery(t,e){return this.ns.set(e.name,{name:(i=e).name,query:kf(i.bundledQuery),readTime:bi(i.readTime)}),de.resolve();var i}}class DD{constructor(){this.overlays=new Qn(Ye.comparator),this.ss=new Map}getOverlay(t,e){return de.resolve(this.overlays.get(e))}getOverlays(t,e){const i=ba();return de.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.ce(t,e,s)}),de.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.ss.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ss.delete(i)),de.resolve()}getOverlaysForCollection(t,e,i){const r=ba(),s=e.length+1,d=new Ye(e.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const _=f.getNext().value,b=_.getKey();if(!e.isPrefixOf(b.path))break;b.path.length===s&&_.largestBatchId>i&&r.set(_.getKey(),_)}return de.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new Qn((b,E)=>b-E);const d=this.overlays.getIterator();for(;d.hasNext();){const b=d.getNext().value;if(b.getKey().getCollectionGroup()===e&&b.largestBatchId>i){let E=s.get(b.largestBatchId);null===E&&(E=ba(),s=s.insert(b.largestBatchId,E)),E.set(b.getKey(),b)}}const f=ba(),_=s.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((b,E)=>f.set(b,E)),!(f.size()>=r)););return de.resolve(f)}ce(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const d=this.ss.get(r.largestBatchId).delete(i.key);this.ss.set(r.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new Iu(e,i));let s=this.ss.get(e);void 0===s&&(s=Yt(),this.ss.set(e,s)),this.ss.set(e,s.add(i.key))}}class kb{constructor(){this.rs=new vn(Ai.os),this.us=new vn(Ai.cs)}isEmpty(){return this.rs.isEmpty()}addReference(t,e){const i=new Ai(t,e);this.rs=this.rs.add(i),this.us=this.us.add(i)}hs(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.ls(new Ai(t,e))}fs(t,e){t.forEach(i=>this.removeReference(i,e))}ds(t){const e=new Ye(new et([])),i=new Ai(e,t),r=new Ai(e,t+1),s=[];return this.us.forEachInRange([i,r],d=>{this.ls(d),s.push(d.key)}),s}_s(){this.rs.forEach(t=>this.ls(t))}ls(t){this.rs=this.rs.delete(t),this.us=this.us.delete(t)}ws(t){const e=new Ye(new et([])),i=new Ai(e,t),r=new Ai(e,t+1);let s=Yt();return this.us.forEachInRange([i,r],d=>{s=s.add(d.key)}),s}containsKey(t){const e=new Ai(t,0),i=this.rs.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Ai{constructor(t,e){this.key=t,this.gs=e}static os(t,e){return Ye.comparator(t.key,e.key)||Zt(t.gs,e.gs)}static cs(t,e){return Zt(t.gs,e.gs)||Ye.comparator(t.key,e.key)}}class uE{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ys=1,this.ps=new vn(Ai.os)}checkEmpty(t){return de.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.ys;this.ys++;const d=new db(s,e,i,r);this.mutationQueue.push(d);for(const f of r)this.ps=this.ps.add(new Ai(f.key,s)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return de.resolve(d)}lookupMutationBatch(t,e){return de.resolve(this.Is(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Ts(e+1),s=r<0?0:r;return de.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(0===this.mutationQueue.length?-1:this.ys-1)}getAllMutationBatches(t){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Ai(e,0),r=new Ai(e,Number.POSITIVE_INFINITY),s=[];return this.ps.forEachInRange([i,r],d=>{const f=this.Is(d.gs);s.push(f)}),de.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new vn(Zt);return e.forEach(r=>{const s=new Ai(r,0),d=new Ai(r,Number.POSITIVE_INFINITY);this.ps.forEachInRange([s,d],f=>{i=i.add(f.gs)})}),de.resolve(this.Es(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;Ye.isDocumentKey(s)||(s=s.child(""));const d=new Ai(new Ye(s),0);let f=new vn(Zt);return this.ps.forEachWhile(_=>{const b=_.key.path;return!!i.isPrefixOf(b)&&(b.length===r&&(f=f.add(_.gs)),!0)},d),de.resolve(this.Es(f))}Es(t){const e=[];return t.forEach(i=>{const r=this.Is(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){bt(0===this.As(e.batchId,"removed")),this.mutationQueue.shift();let i=this.ps;return de.forEach(e.mutations,r=>{const s=new Ai(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.ps=i})}Pn(t){}containsKey(t,e){const i=new Ai(e,0),r=this.ps.firstAfterOrEqual(i);return de.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return de.resolve()}As(t,e){return this.Ts(t)}Ts(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Is(t){const e=this.Ts(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class hE{constructor(t){this.Rs=t,this.docs=new Qn(Ye.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,d=this.Rs(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:d}),this.size+=d-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return de.resolve(i?i.document.mutableCopy():Un.newInvalidDocument(e))}getEntries(t,e){let i=qr();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Un.newInvalidDocument(r))}),de.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let s=qr();const d=e.path,f=new Ye(d.child("")),_=this.docs.getIteratorFrom(f);for(;_.hasNext();){const{key:b,value:{document:E}}=_.getNext();if(!d.isPrefixOf(b.path))break;b.path.length>d.length+1||_c(wv(E),i)<=0||(r.has(E.key)||up(e,E))&&(s=s.insert(E.key,E.mutableCopy()))}return de.resolve(s)}getAllFromCollectionGroup(t,e,i,r){it()}Ps(t,e){return de.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new fE(this)}getSize(t){return de.resolve(this.size)}}class fE extends Db{constructor(t){super(),this.Xn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Xn.addEntry(t,r)):this.Xn.removeEntry(i)}),de.waitFor(e)}getFromCache(t,e){return this.Xn.getEntry(t,e)}getAllFromCache(t,e){return this.Xn.getEntries(t,e)}}class TD{constructor(t){this.persistence=t,this.vs=new xc(e=>Pl(e),gu),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.bs=0,this.Vs=new kb,this.targetCount=0,this.Ss=Rf.Vn()}forEachTarget(t,e){return this.vs.forEach((i,r)=>e(r)),de.resolve()}getLastRemoteSnapshotVersion(t){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return de.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.Ss.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.bs&&(this.bs=e),de.resolve()}xn(t){this.vs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ss=new Rf(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.xn(e),this.targetCount+=1,de.resolve()}updateTargetData(t,e){return this.xn(e),de.resolve()}removeTargetData(t,e){return this.vs.delete(e.target),this.Vs.ds(e.targetId),this.targetCount-=1,de.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.vs.forEach((d,f)=>{f.sequenceNumber<=e&&null===i.get(f.targetId)&&(this.vs.delete(d),s.push(this.removeMatchingKeysForTargetId(t,f.targetId)),r++)}),de.waitFor(s).next(()=>r)}getTargetCount(t){return de.resolve(this.targetCount)}getTargetData(t,e){const i=this.vs.get(e)||null;return de.resolve(i)}addMatchingKeys(t,e,i){return this.Vs.hs(e,i),de.resolve()}removeMatchingKeys(t,e,i){this.Vs.fs(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(d=>{s.push(r.markPotentiallyOrphaned(t,d))}),de.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Vs.ds(e),de.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Vs.ws(e);return de.resolve(i)}containsKey(t,e){return de.resolve(this.Vs.containsKey(e))}}class Nf{constructor(t,e){this.Ds={},this.overlays={},this.Cs=new mo(0),this.xs=!1,this.xs=!0,this.referenceDelegate=t(this),this.Ns=new TD(this),this.indexManager=new nE,this.remoteDocumentCache=new hE(i=>this.referenceDelegate.ks(i)),this.Tt=new ub(e),this.$s=new ID(this.Tt)}start(){return Promise.resolve()}shutdown(){return this.xs=!1,Promise.resolve()}get started(){return this.xs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new DD,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Ds[t.toKey()];return i||(i=new uE(e,this.referenceDelegate),this.Ds[t.toKey()]=i),i}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$s}runTransaction(t,e,i){Ne("MemoryPersistence","Starting transaction:",t);const r=new Ep(this.Cs.next());return this.referenceDelegate.Ms(),i(r).next(s=>this.referenceDelegate.Os(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Fs(t,e){return de.or(Object.values(this.Ds).map(i=>()=>i.containsKey(t,e)))}}class Ep extends Jg{constructor(t){super(),this.currentSequenceNumber=t}}class A_{constructor(t){this.persistence=t,this.Bs=new kb,this.Ls=null}static qs(t){return new A_(t)}get Us(){if(this.Ls)return this.Ls;throw it()}addReference(t,e,i){return this.Bs.addReference(i,e),this.Us.delete(i.toString()),de.resolve()}removeReference(t,e,i){return this.Bs.removeReference(i,e),this.Us.add(i.toString()),de.resolve()}markPotentiallyOrphaned(t,e){return this.Us.add(e.toString()),de.resolve()}removeTarget(t,e){this.Bs.ds(e.targetId).forEach(r=>this.Us.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Us.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}Ms(){this.Ls=new Set}Os(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.Us,i=>{const r=Ye.fromPath(i);return this.Ks(t,r).next(s=>{s||e.removeEntry(r,Ct.min())})}).next(()=>(this.Ls=null,e.apply(t)))}updateLimboDocument(t,e){return this.Ks(t,e).next(i=>{i?this.Us.delete(e.toString()):this.Us.add(e.toString())})}ks(t){return 0}Ks(t,e){return de.or([()=>de.resolve(this.Bs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Fs(t,e)])}}class kD{constructor(t){this.Tt=t}F(t,e,i,r){const s=new Ev("createOrUpgrade",e);var f;i<1&&r>=1&&(t.createObjectStore("owner"),(f=t).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Gx,{unique:!0}),f.createObjectStore("documentMutations"),mE(t),function(f){f.createObjectStore("remoteDocuments")}(t));let d=de.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(t),mE(t)),d=d.next(()=>function(f){const _=f.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ct.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",b)}(s))),i<4&&r>=4&&(0!==i&&(d=d.next(()=>function(f,_){return _.store("mutations").W().next(b=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Gx,{unique:!0});const E=_.store("mutations"),k=b.map(V=>E.put(V));return de.waitFor(k)})}(t,s))),d=d.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(d=d.next(()=>this.Gs(s))),i<6&&r>=6&&(d=d.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(t),this.Qs(s)))),i<7&&r>=7&&(d=d.next(()=>this.js(s))),i<8&&r>=8&&(d=d.next(()=>this.zs(t,s))),i<9&&r>=9&&(d=d.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(d=d.next(()=>this.Ws(s))),i<11&&r>=11&&(d=d.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(d=d.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:mD});_.createIndex("collectionPathOverlayIndex",pD,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",Ea,{unique:!1})}(t)})),i<13&&r>=13&&(d=d.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:Zx});_.createIndex("documentKeyIndex",Df),_.createIndex("collectionGroupIndex",uD)}(t)).next(()=>this.Hs(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(d=d.next(()=>this.Js(t,s))),i<15&&r>=15&&(d=d.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:_1}).createIndex("sequenceNumberIndex",ob,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:sb}).createIndex("documentKeyIndex",xa,{unique:!1})}(t))),d}Qs(t){let e=0;return t.store("remoteDocuments").X((i,r)=>{e+=Cc(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Gs(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>de.forEach(r,s=>{const d=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",d).next(f=>de.forEach(f,_=>{bt(_.userId===s.userId);const b=Gl(this.Tt,_);return rE(t,s.userId,b).next(()=>{})}))}))}js(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.X((d,f)=>{const _=new et(d),b=[0,Wr(_)];s.push(e.get(b).next(E=>E?de.resolve():e.put({targetId:0,path:Wr(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>de.waitFor(s))})}zs(t,e){t.createObjectStore("collectionParents",{keyPath:Yx});const i=e.store("collectionParents"),r=new I_,s=d=>{if(r.add(d)){const f=d.lastSegment(),_=d.popLast();return i.put({collectionId:f,parent:Wr(_)})}};return e.store("remoteDocuments").X({Z:!0},(d,f)=>{const _=new et(d);return s(_.popLast())}).next(()=>e.store("documentMutations").X({Z:!0},([d,f,_],b)=>{const E=wa(f);return s(E.popLast())}))}Ws(t){const e=t.store("targets");return e.X((i,r)=>{const s=Tf(r),d=C_(this.Tt,s);return e.put(d)})}Hs(t,e){const i=e.store("remoteDocuments"),r=[];return i.X((s,d)=>{const f=e.store("remoteDocumentsV14"),_=(b=d,b.document?new Ye(et.fromString(b.document.name).popFirst(5)):b.noDocument?Ye.fromSegments(b.noDocument.path):b.unknownDocument?Ye.fromSegments(b.unknownDocument.path):it()).path.toArray();var b;const E={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};r.push(f.put(E))}).next(()=>de.waitFor(r))}Js(t,e){const i=e.store("mutations"),r=aE(this.Tt),s=new Nf(A_.qs,this.Tt.oe);return i.W().next(d=>{const f=new Map;return d.forEach(_=>{var b;let E=null!==(b=f.get(_.userId))&&void 0!==b?b:Yt();Gl(this.Tt,_).keys().forEach(k=>E=E.add(k)),f.set(_.userId,E)}),de.forEach(f,(_,b)=>{const E=new yi(b),k=yp.ue(this.Tt,E),V=s.getIndexManager(E),L=Cb.ue(E,this.Tt,V,s.referenceDelegate);return new Pf(r,L,k,V).recalculateAndSaveOverlaysForDocumentKeys(new lb(e,mo.at),_).next()})})}}function mE(n){n.createObjectStore("targetDocuments",{keyPath:Kx}).createIndex("documentTargetsIndex",fD,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",hD,{unique:!0}),n.createObjectStore("targetGlobal")}const M_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class R_{constructor(t,e,i,r,s,d,f,_,b,E,k=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Ys=s,this.window=d,this.document=f,this.Zs=b,this.Xs=E,this.ti=k,this.Cs=null,this.xs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ei=null,this.inForeground=!1,this.ni=null,this.si=null,this.ii=Number.NEGATIVE_INFINITY,this.ri=V=>Promise.resolve(),!R_.C())throw new Oe(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new wi(this,r),this.oi=e+"main",this.Tt=new ub(_),this.ui=new ya(this.oi,this.ti,new kD(this.Tt)),this.Ns=new At(this.referenceDelegate,this.Tt),this.remoteDocumentCache=aE(this.Tt),this.$s=new Qx,this.window&&this.window.localStorage?this.ci=this.window.localStorage:(this.ci=null,!1===E&&ki("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(fe.FAILED_PRECONDITION,M_);return this.hi(),this.li(),this.fi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Ns.getHighestSequenceNumber(t))}).then(t=>{this.Cs=new mo(t,this.Zs)}).then(()=>{this.xs=!0}).catch(t=>(this.ui&&this.ui.close(),Promise.reject(t)))}di(t){var e=this;return this.ri=function(){var i=(0,ce.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ui.L(function(){var e=(0,ce.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Ys.enqueueAndForget((0,ce.Z)(function*(){e.started&&(yield e.ai())})))}ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>O_(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this._i(t).next(e=>{e||(this.isPrimary=!1,this.Ys.enqueueRetryable(()=>this.ri(!1)))})}).next(()=>this.wi(t)).next(e=>this.isPrimary&&!e?this.mi(t).next(()=>!1):!!e&&this.gi(t).next(()=>!0))).catch(t=>{if(fu(t))return Ne("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Ne("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Ys.enqueueRetryable(()=>this.ri(t)),this.isPrimary=t})}_i(t){return Lf(t).get("owner").next(e=>de.resolve(this.yi(e)))}pi(t){return O_(t).delete(this.clientId)}Ii(){var t=this;return(0,ce.Z)(function*(){if(t.isPrimary&&!t.Ti(t.ii,18e5)){t.ii=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=ar(i,"clientMetadata");return r.W().next(s=>{const d=t.Ei(s,18e5),f=s.filter(_=>-1===d.indexOf(_));return de.forEach(f,_=>r.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(t.ci)for(const i of e)t.ci.removeItem(t.Ai(i.clientId))}})()}fi(){this.si=this.Ys.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ai().then(()=>this.Ii()).then(()=>this.fi()))}yi(t){return!!t&&t.ownerId===this.clientId}wi(t){return this.Xs?de.resolve(!0):Lf(t).get("owner").next(e=>{if(null!==e&&this.Ti(e.leaseTimestampMs,5e3)&&!this.Ri(e.ownerId)){if(this.yi(e)&&this.networkEnabled)return!0;if(!this.yi(e)){if(!e.allowTabSynchronization)throw new Oe(fe.FAILED_PRECONDITION,M_);return!1}}return!(!this.networkEnabled||!this.inForeground)||O_(t).W().next(i=>void 0===this.Ei(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&Ne("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,ce.Z)(function*(){t.xs=!1,t.Pi(),t.si&&(t.si.cancel(),t.si=null),t.vi(),t.bi(),yield t.ui.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new lb(e,mo.at);return t.mi(i).next(()=>t.pi(i))}),t.ui.close(),t.Vi()})()}Ei(t,e){return t.filter(i=>this.Ti(i.updateTimeMs,e)&&!this.Ri(i.clientId))}Si(){return this.runTransaction("getActiveClients","readonly",t=>O_(t).W().next(e=>this.Ei(e,18e5).map(i=>i.clientId)))}get started(){return this.xs}getMutationQueue(t,e){return Cb.ue(t,this.Tt,e,this.referenceDelegate)}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new iE(t,this.Tt.oe.databaseId)}getDocumentOverlayCache(t){return yp.ue(this.Tt,t)}getBundleCache(){return this.$s}runTransaction(t,e,i){Ne("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=15===(d=this.ti)?gD:14===d?cb:13===d?ab:12===d?Us:11===d?ls:void it();var d;let f;return this.ui.runTransaction(t,r,s,_=>(f=new lb(_,this.Cs?this.Cs.next():mo.at),"readwrite-primary"===e?this._i(f).next(b=>!!b||this.wi(f)).next(b=>{if(!b)throw ki(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Ys.enqueueRetryable(()=>this.ri(!1)),new Oe(fe.FAILED_PRECONDITION,px);return i(f)}).next(b=>this.gi(f).next(()=>b)):this.Di(f).next(()=>i(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Di(t){return Lf(t).get("owner").next(e=>{if(null!==e&&this.Ti(e.leaseTimestampMs,5e3)&&!this.Ri(e.ownerId)&&!this.yi(e)&&!(this.Xs||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Oe(fe.FAILED_PRECONDITION,M_)})}gi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Lf(t).put("owner",e)}static C(){return ya.C()}mi(t){const e=Lf(t);return e.get("owner").next(i=>this.yi(i)?(Ne("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):de.resolve())}Ti(t,e){const i=Date.now();return!(t<i-e||t>i&&(ki(`Detected an update time that is in the future: ${t} > ${i}`),1))}hi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ni=()=>{this.Ys.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ai()))},this.document.addEventListener("visibilitychange",this.ni),this.inForeground="visible"===this.document.visibilityState)}vi(){this.ni&&(this.document.removeEventListener("visibilitychange",this.ni),this.ni=null)}li(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ei=()=>{this.Pi();const e=/(?:Version|Mobile)\/1[456]/;(0,qt.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Ys.enterRestrictedMode(!0),this.Ys.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ei))}bi(){this.ei&&(this.window.removeEventListener("pagehide",this.ei),this.ei=null)}Ri(t){var e;try{const i=null!==(null===(e=this.ci)||void 0===e?void 0:e.getItem(this.Ai(t)));return Ne("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return ki("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Pi(){if(this.ci)try{this.ci.setItem(this.Ai(this.clientId),String(Date.now()))}catch(t){ki("Failed to set zombie client id.",t)}}Vi(){if(this.ci)try{this.ci.removeItem(this.Ai(this.clientId))}catch{}}Ai(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Lf(n){return ar(n,"owner")}function O_(n){return ar(n,"clientMetadata")}function F_(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class Ab{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Ci=i,this.xi=r}static Ni(t,e){let i=Yt(),r=Yt();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Ab(t,e.fromCache,i,r)}}class pE{constructor(){this.ki=!1}initialize(t,e){this.$i=t,this.indexManager=e,this.ki=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Mi(t,e).next(s=>s||this.Oi(t,e,r,i)).next(s=>s||this.Fi(t,e))}Mi(t,e){if(Ix(e))return de.resolve(null);let i=Gr(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=d_(e,null,"F"),i=Gr(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const d=Yt(...s);return this.$i.getDocuments(t,d).next(f=>this.indexManager.getMinOffset(t,i).next(_=>{const b=this.Bi(e,f);return this.Li(e,b,d,_.readTime)?this.Mi(t,d_(e,null,"F")):this.qi(t,b,e,_)}))})))}Oi(t,e,i,r){return Ix(e)||r.isEqual(Ct.min())?this.Fi(t,e):this.$i.getDocuments(t,i).next(s=>{const d=this.Bi(e,s);return this.Li(e,d,i,r)?this.Fi(t,e):(_v()<=ir.in.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Vv(e)),this.qi(t,d,e,VI(r,-1)))})}Bi(t,e){let i=new vn(u_(t));return e.forEach((r,s)=>{up(t,s)&&(i=i.add(s))}),i}Li(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Fi(t,e){return _v()<=ir.in.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",Vv(e)),this.$i.getDocumentsMatchingQuery(t,e,fo.min())}qi(t,e,i,r){return this.$i.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(d=>{s=s.insert(d.key,d)}),s))}}class y1{constructor(t,e,i,r){this.persistence=t,this.Ui=e,this.Tt=r,this.Ki=new Qn(Zt),this.Gi=new xc(s=>Pl(s),gu),this.Qi=new Map,this.ji=t.getRemoteDocumentCache(),this.Ns=t.getTargetCache(),this.$s=t.getBundleCache(),this.zi(i)}zi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Pf(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ki))}}function AD(n,t,e,i){return new y1(n,t,e,i)}function MD(n,t){return gE.apply(this,arguments)}function gE(){return gE=(0,ce.Z)(function*(n,t){const e=rt(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.zi(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const d=[],f=[];let _=Yt();for(const b of r){d.push(b.batchId);for(const E of b.mutations)_=_.add(E.key)}for(const b of s){f.push(b.batchId);for(const E of b.mutations)_=_.add(E.key)}return e.localDocuments.getDocuments(i,_).next(b=>({Wi:b,removedBatchIds:d,addedBatchIds:f}))})})}),gE.apply(this,arguments)}function Cp(n){const t=rt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ns.getLastRemoteSnapshotVersion(e))}function yE(n,t,e){let i=Yt(),r=Yt();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let d=qr();return e.forEach((f,_)=>{const b=s.get(f);_.isFoundDocument()!==b.isFoundDocument()&&(r=r.add(f)),_.isNoDocument()&&_.version.isEqual(Ct.min())?(t.removeEntry(f,_.readTime),d=d.insert(f,_)):!b.isValidDocument()||_.version.compareTo(b.version)>0||0===_.version.compareTo(b.version)&&b.hasPendingWrites?(t.addEntry(_),d=d.insert(f,_)):Ne("LocalStore","Ignoring outdated watch update for ",f,". Current version:",b.version," Watch version:",_.version)}),{Hi:d,Ji:r}})}function vE(n,t){const e=rt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Sa(n,t){const e=rt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Ns.getTargetData(i,t).next(s=>s?(r=s,de.resolve(r)):e.Ns.allocateTargetId(i).next(d=>(r=new $l(t,d,0,i.currentSequenceNumber),e.Ns.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ki.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ki=e.Ki.insert(i.targetId,i),e.Gi.set(t,i.targetId)),i})}function Vf(n,t,e){return Mb.apply(this,arguments)}function Mb(){return Mb=(0,ce.Z)(function*(n,t,e){const i=rt(n),r=i.Ki.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,d=>i.persistence.referenceDelegate.removeTarget(d,r)))}catch(d){if(!fu(d))throw d;Ne("LocalStore",`Failed to update sequence numbers for target ${t}: ${d}`)}i.Ki=i.Ki.remove(t),i.Gi.delete(r.target)}),Mb.apply(this,arguments)}function P_(n,t,e){const i=rt(n);let r=Ct.min(),s=Yt();return i.persistence.runTransaction("Execute query","readonly",d=>function(f,_,b){const E=rt(f),k=E.Gi.get(b);return void 0!==k?de.resolve(E.Ki.get(k)):E.Ns.getTargetData(_,b)}(i,d,Gr(t)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.Ns.getMatchingKeysForTargetId(d,f.targetId).next(_=>{s=_})}).next(()=>i.Ui.getDocumentsMatchingQuery(d,t,e?r:Ct.min(),e?s:Yt())).next(f=>(wE(i,Bv(t),f),{documents:f,Yi:s})))}function bE(n,t){const e=rt(n),i=rt(e.Ns),r=e.Ki.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i.ie(s,t).next(d=>d?d.target:null))}function OD(n,t){const e=rt(n),i=e.Qi.get(t)||Ct.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.ji.getAllFromCollectionGroup(r,t,VI(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(wE(e,t,r),r))}function wE(n,t,e){let i=n.Qi.get(t)||Ct.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Qi.set(t,i)}function Rb(){return Rb=(0,ce.Z)(function*(n,t,e,i){const r=rt(n);let s=Yt(),d=qr();for(const b of e){const E=t.Zi(b.metadata.name);b.document&&(s=s.add(E));const k=t.Xi(b);k.setReadTime(t.tr(b.metadata.readTime)),d=d.insert(E,k)}const f=r.ji.newChangeBuffer({trackRemovals:!0}),_=yield Sa(r,(b=i,Gr(yu(et.fromString(`__bundle__/docs/${b}`)))));var b;return r.persistence.runTransaction("Apply bundle documents","readwrite",b=>yE(b,f,d).next(E=>(f.apply(b),E)).next(E=>r.Ns.removeMatchingKeysForTargetId(b,_.targetId).next(()=>r.Ns.addMatchingKeys(b,s,_.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(b,E.Hi,E.Ji)).next(()=>E.Hi)))}),Rb.apply(this,arguments)}function FD(n,t){return Fu.apply(this,arguments)}function Fu(){return Fu=(0,ce.Z)(function*(n,t,e=Yt()){const i=yield Sa(n,Gr(kf(t.bundledQuery))),r=rt(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const d=bi(t.readTime);if(i.snapshotVersion.compareTo(d)>=0)return r.$s.saveNamedQuery(s,t);const f=i.withResumeToken(sr.EMPTY_BYTE_STRING,d);return r.Ki=r.Ki.insert(f.targetId,f),r.Ns.updateTargetData(s,f).next(()=>r.Ns.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Ns.addMatchingKeys(s,e,i.targetId)).next(()=>r.$s.saveNamedQuery(s,t))})}),Fu.apply(this,arguments)}function EE(n,t){return`firestore_clients_${n}_${t}`}function Ob(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function Fb(n,t){return`firestore_targets_${n}_${t}`}class Sp{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static er(t,e,i){const r=JSON.parse(i);let s,d="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return d&&r.error&&(d="string"==typeof r.error.message&&"string"==typeof r.error.code,d&&(s=new Oe(r.error.code,r.error.message))),d?new Sp(t,e,r.state,s):(ki("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}nr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Ip{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static er(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Oe(i.error.code,i.error.message))),s?new Ip(t,i.state,r):(ki("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}nr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Dp{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static er(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=p_();for(let d=0;r&&d<i.activeTargetIds.length;++d)r=GI(i.activeTargetIds[d]),s=s.add(i.activeTargetIds[d]);return r?new Dp(t,s):(ki("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class Pb{constructor(t,e){this.clientId=t,this.onlineState=e}static er(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new Pb(e.clientId,e.onlineState):(ki("SharedClientState",`Failed to parse online state: ${t}`),null)}}class Tp{constructor(){this.activeTargetIds=p_()}sr(t){this.activeTargetIds=this.activeTargetIds.add(t)}ir(t){this.activeTargetIds=this.activeTargetIds.delete(t)}nr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Nb{constructor(t,e,i,r,s){this.window=t,this.Ys=e,this.persistenceKey=i,this.rr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ur=this.cr.bind(this),this.ar=new Qn(Zt),this.started=!1,this.hr=[];const d=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.lr=EE(this.persistenceKey,this.rr),this.dr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.rr,new Tp),this._r=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.wr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.mr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.gr=`firestore_online_state_${this.persistenceKey}`,this.yr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.ur)}static C(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,ce.Z)(function*(){const e=yield t.syncEngine.Si();for(const r of e){if(r===t.rr)continue;const s=t.getItem(EE(t.persistenceKey,r));if(s){const d=Dp.er(r,s);d&&(t.ar=t.ar.insert(d.clientId,d))}}t.pr();const i=t.storage.getItem(t.gr);if(i){const r=t.Ir(i);r&&t.Tr(r)}for(const r of t.hr)t.cr(r);t.hr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.dr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Er(this.ar)}isActiveQueryTarget(t){let e=!1;return this.ar.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Ar(t,"pending")}updateMutationState(t,e,i){this.Ar(t,e,i),this.Rr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(Fb(this.persistenceKey,t));if(i){const r=Ip.er(t,i);r&&(e=r.state)}}return this.Pr.sr(t),this.pr(),e}removeLocalQueryTarget(t){this.Pr.ir(t),this.pr()}isLocalQueryTarget(t){return this.Pr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(Fb(this.persistenceKey,t))}updateQueryState(t,e,i){this.vr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Rr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.br(t)}notifyBundleLoaded(t){this.Vr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ur),this.removeItem(this.lr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Ne("SharedClientState","READ",t,e),e}setItem(t,e){Ne("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Ne("SharedClientState","REMOVE",t),this.storage.removeItem(t)}cr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Ne("SharedClientState","EVENT",i.key,i.newValue),i.key===this.lr)return void ki("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ys.enqueueRetryable((0,ce.Z)(function*(){if(e.started){if(null!==i.key)if(e._r.test(i.key)){if(null==i.newValue){const r=e.Sr(i.key);return e.Dr(r,null)}{const r=e.Cr(i.key,i.newValue);if(r)return e.Dr(r.clientId,r)}}else if(e.wr.test(i.key)){if(null!==i.newValue){const r=e.Nr(i.key,i.newValue);if(r)return e.kr(r)}}else if(e.mr.test(i.key)){if(null!==i.newValue){const r=e.$r(i.key,i.newValue);if(r)return e.Mr(r)}}else if(i.key===e.gr){if(null!==i.newValue){const r=e.Ir(i.newValue);if(r)return e.Tr(r)}}else if(i.key===e.dr){const r=function(s){let d=mo.at;if(null!=s)try{const f=JSON.parse(s);bt("number"==typeof f),d=f}catch(f){ki("SharedClientState","Failed to read sequence number from WebStorage",f)}return d}(i.newValue);r!==mo.at&&e.sequenceNumberHandler(r)}else if(i.key===e.yr){const r=e.Or(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.Fr(s)))}}else e.hr.push(i)}))}}get Pr(){return this.ar.get(this.rr)}pr(){this.setItem(this.lr,this.Pr.nr())}Ar(t,e,i){const r=new Sp(this.currentUser,t,e,i),s=Ob(this.persistenceKey,this.currentUser,t);this.setItem(s,r.nr())}Rr(t){const e=Ob(this.persistenceKey,this.currentUser,t);this.removeItem(e)}br(t){this.storage.setItem(this.gr,JSON.stringify({clientId:this.rr,onlineState:t}))}vr(t,e,i){const r=Fb(this.persistenceKey,t),s=new Ip(t,e,i);this.setItem(r,s.nr())}Vr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.yr,e)}Sr(t){const e=this._r.exec(t);return e?e[1]:null}Cr(t,e){const i=this.Sr(t);return Dp.er(i,e)}Nr(t,e){const i=this.wr.exec(t),r=Number(i[1]);return Sp.er(new yi(void 0!==i[2]?i[2]:null),r,e)}$r(t,e){const i=this.mr.exec(t),r=Number(i[1]);return Ip.er(r,e)}Ir(t){return Pb.er(t)}Or(t){return JSON.parse(t)}kr(t){var e=this;return(0,ce.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Br(t.batchId,t.state,t.error);Ne("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Mr(t){return this.syncEngine.Lr(t.targetId,t.state,t.error)}Dr(t,e){const i=e?this.ar.insert(t,e):this.ar.remove(t),r=this.Er(this.ar),s=this.Er(i),d=[],f=[];return s.forEach(_=>{r.has(_)||d.push(_)}),r.forEach(_=>{s.has(_)||f.push(_)}),this.syncEngine.qr(d,f).then(()=>{this.ar=i})}Tr(t){this.ar.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Er(t){let e=p_();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class Lb{constructor(){this.Ur=new Tp,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Ur.sr(t),this.Kr[t]||"not-current"}updateQueryState(t,e,i){this.Kr[t]=e}removeLocalQueryTarget(t){this.Ur.ir(t)}isLocalQueryTarget(t){return this.Ur.activeTargetIds.has(t)}clearQueryState(t){delete this.Kr[t]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(t){return this.Ur.activeTargetIds.has(t)}start(){return this.Ur=new Tp,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class CE{Gr(t){}shutdown(){}}class SE{constructor(){this.Qr=()=>this.jr(),this.zr=()=>this.Wr(),this.Hr=[],this.Jr()}Gr(t){this.Hr.push(t)}shutdown(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}Jr(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}jr(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Hr)t(0)}Wr(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Hr)t(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let N_=null;function Vb(){return null===N_?N_=268435456+Math.round(2147483648*Math.random()):N_++,"0x"+N_.toString(16)}const Bb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PD{constructor(t){this.Yr=t.Yr,this.Zr=t.Zr}Xr(t){this.eo=t}no(t){this.so=t}onMessage(t){this.io=t}close(){this.Zr()}send(t){this.Yr(t)}ro(){this.eo()}oo(t){this.so(t)}uo(t){this.io(t)}}const Ir="WebChannelConnection";class ND extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.co=(t.ssl?"https":"http")+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get ho(){return!1}lo(t,e,i,r,s){const d=Vb(),f=this.fo(t,e);Ne("RestConnection",`Sending RPC '${t}' ${d}:`,f,i);const _={};return this._o(_,r,s),this.wo(t,f,_,i).then(b=>(Ne("RestConnection",`Received RPC '${t}' ${d}: `,b),b),b=>{throw hu("RestConnection",`RPC '${t}' ${d} failed with error: `,b,"url: ",f,"request:",i),b})}mo(t,e,i,r,s,d){return this.lo(t,e,i,r,s)}_o(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+af,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}fo(t,e){return`${this.co}/v1/${e}:${Bb[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}wo(t,e,i,r){const s=Vb();return new Promise((d,f)=>{const _=new DI;_.setWithCredentials(!0),_.listenOnce(II.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case mv.NO_ERROR:const E=_.getResponseJson();Ne(Ir,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(E)),d(E);break;case mv.TIMEOUT:Ne(Ir,`RPC '${t}' ${s} timed out`),f(new Oe(fe.DEADLINE_EXCEEDED,"Request time out"));break;case mv.HTTP_ERROR:const k=_.getStatus();if(Ne(Ir,`RPC '${t}' ${s} failed with status:`,k,"response text:",_.getResponseText()),k>0){let V=_.getResponseJson();Array.isArray(V)&&(V=V[0]);const L=V?.error;if(L&&L.status&&L.message){const U=function(Y){const he=Y.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(he)>=0?he:fe.UNKNOWN}(L.status);f(new Oe(U,L.message))}else f(new Oe(fe.UNKNOWN,"Server responded with status "+_.getStatus()))}else f(new Oe(fe.UNAVAILABLE,"Connection failed."));break;default:it()}}finally{Ne(Ir,`RPC '${t}' ${s} completed.`)}});const b=JSON.stringify(r);Ne(Ir,`RPC '${t}' ${s} sending request:`,r),_.send(e,"POST",b,i,15)})}yo(t,e,i){const r=Vb(),s=[this.co,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=lx(),f=SI(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(_.xmlHttpFactory=new gv({})),this._o(_.initMessageHeaders,e,i),_.encodeInitMessageHeaders=!0;const b=s.join("");Ne(Ir,`Creating RPC '${t}' stream ${r}: ${b}`,_);const E=d.createWebChannel(b,_);let k=!1,V=!1;const L=new PD({Yr:Y=>{V?Ne(Ir,`Not sending because RPC '${t}' stream ${r} is closed:`,Y):(k||(Ne(Ir,`Opening RPC '${t}' stream ${r} transport.`),E.open(),k=!0),Ne(Ir,`RPC '${t}' stream ${r} sending:`,Y),E.send(Y))},Zr:()=>E.close()}),U=(Y,he,Ue)=>{Y.listen(he,ft=>{try{Ue(ft)}catch(pt){setTimeout(()=>{throw pt},0)}})};return U(E,sf.EventType.OPEN,()=>{V||Ne(Ir,`RPC '${t}' stream ${r} transport opened.`)}),U(E,sf.EventType.CLOSE,()=>{V||(V=!0,Ne(Ir,`RPC '${t}' stream ${r} transport closed`),L.oo())}),U(E,sf.EventType.ERROR,Y=>{V||(V=!0,hu(Ir,`RPC '${t}' stream ${r} transport errored:`,Y),L.oo(new Oe(fe.UNAVAILABLE,"The operation could not be completed")))}),U(E,sf.EventType.MESSAGE,Y=>{var he;if(!V){const Ue=Y.data[0];bt(!!Ue);const pt=Ue.error||(null===(he=Ue[0])||void 0===he?void 0:he.error);if(pt){Ne(Ir,`RPC '${t}' stream ${r} received error:`,pt);const _t=pt.status;let Mt=function(_n){const Lr=$n[_n];if(void 0!==Lr)return Hv(Lr)}(_t),Nt=pt.message;void 0===Mt&&(Mt=fe.INTERNAL,Nt="Unknown error status: "+_t+" with message "+pt.message),V=!0,L.oo(new Oe(Mt,Nt)),E.close()}else Ne(Ir,`RPC '${t}' stream ${r} received:`,Ue),L.uo(Ue)}}),U(f,dx.STAT_EVENT,Y=>{Y.stat===pv.PROXY?Ne(Ir,`RPC '${t}' stream ${r} detected buffering proxy`):Y.stat===pv.NOPROXY&&Ne(Ir,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{L.ro()},0),L}}function IE(){return typeof window<"u"?window:null}function L_(){return typeof document<"u"?document:null}function kp(n){return new Vx(n,!0)}class Ub{constructor(t,e,i=1e3,r=1.5,s=6e4){this.Ys=t,this.timerId=e,this.po=i,this.Io=r,this.To=s,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}Po(){this.Eo=this.To}vo(t){this.cancel();const e=Math.floor(this.Eo+this.bo()),i=Math.max(0,Date.now()-this.Ro),r=Math.max(0,e-i);r>0&&Ne("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Eo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,r,()=>(this.Ro=Date.now(),t())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}bo(){return(Math.random()-.5)*this.Eo}}class DE{constructor(t,e,i,r,s,d,f,_){this.Ys=t,this.So=i,this.Do=r,this.connection=s,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new Ub(t,e)}$o(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var t=this;return(0,ce.Z)(function*(){t.$o()&&(yield t.close(0))})()}Fo(){this.state=0,this.ko.reset()}Bo(){this.Mo()&&null===this.xo&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,()=>this.Lo()))}qo(t){this.Uo(),this.stream.send(t)}Lo(){var t=this;return(0,ce.Z)(function*(){if(t.Mo())return t.close(0)})()}Uo(){this.xo&&(this.xo.cancel(),this.xo=null)}Ko(){this.No&&(this.No.cancel(),this.No=null)}close(t,e){var i=this;return(0,ce.Z)(function*(){i.Uo(),i.Ko(),i.ko.cancel(),i.Co++,4!==t?i.ko.reset():e&&e.code===fe.RESOURCE_EXHAUSTED?(ki(e.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),i.ko.Po()):e&&e.code===fe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Go(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.no(e)})()}Go(){}auth(){this.state=1;const t=this.Qo(this.Co),e=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Co===e&&this.jo(i,r)},i=>{t(()=>{const r=new Oe(fe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.zo(r)})})}jo(t,e){const i=this.Qo(this.Co);this.stream=this.Wo(t,e),this.stream.Xr(()=>{i(()=>(this.state=2,this.No=this.Ys.enqueueAfterDelay(this.Do,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.no(r=>{i(()=>this.zo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var t=this;this.state=5,this.ko.vo((0,ce.Z)(function*(){t.state=0,t.start()}))}zo(t){return Ne("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Qo(t){return e=>{this.Ys.enqueueAndForget(()=>this.Co===t?e():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LD extends DE{constructor(t,e,i,r,s,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,d),this.Tt=s}Wo(t,e){return this.connection.yo("Listen",t,e)}onMessage(t){this.ko.reset();const e=function zx(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(_=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:it(),r=t.targetChange.targetIds||[],s=function(_,b){return _.yt?(bt(void 0===b||"string"==typeof b),sr.fromBase64String(b||"")):(bt(void 0===b||b instanceof Uint8Array),sr.fromUint8Array(b||new Uint8Array))}(n,t.targetChange.resumeToken),d=t.targetChange.cause,f=d&&function(_){const b=void 0===_.code?fe.UNKNOWN:Hv(_.code);return new Oe(b,_.message||"")}(d);e=new g_(i,r,s,f||null)}else if("documentChange"in t){const i=t.documentChange,r=Bs(n,i.document.name),s=bi(i.document.updateTime),d=i.document.createTime?bi(i.document.createTime):Ct.min(),f=new Pi({mapValue:{fields:i.document.fields}}),_=Un.newFoundDocument(r,s,d,f);e=new xf(i.targetIds||[],i.removedTargetIds||[],_.key,_)}else if("documentDelete"in t){const i=t.documentDelete,r=Bs(n,i.document),s=i.readTime?bi(i.readTime):Ct.min(),d=Un.newNoDocument(r,s);e=new xf([],i.removedTargetIds||[],d.key,d)}else if("documentRemove"in t){const i=t.documentRemove,r=Bs(n,i.document);e=new xf([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return it();{const i=t.filter,s=new vf(i.count||0);e=new Fx(i.targetId,s)}}var _;return e}(this.Tt,t),i=function(r){if(!("targetChange"in r))return Ct.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Ct.min():s.readTime?bi(s.readTime):Ct.min()}(t);return this.listener.Ho(e,i)}Jo(t){const e={};e.database=Sf(this.Tt),e.addTarget=function(r,s){let d;const f=s.target;return d=as(f)?{documents:Ec(r,f)}:{query:Jv(r,f)},d.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?d.resumeToken=Kv(r,s.resumeToken):s.snapshotVersion.compareTo(Ct.min())>0&&(d.readTime=Ef(r,s.snapshotVersion.toTimestamp())),d}(this.Tt,t);const i=function eb(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return it()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.qo(e)}Yo(t){const e={};e.database=Sf(this.Tt),e.removeTarget=t,this.qo(e)}}class VD extends DE{constructor(t,e,i,r,s,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,d),this.Tt=s,this.Zo=!1}get Xo(){return this.Zo}start(){this.Zo=!1,this.lastStreamToken=void 0,super.start()}Go(){this.Zo&&this.tu([])}Wo(t,e){return this.connection.yo("Write",t,e)}onMessage(t){if(bt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Zo){this.ko.reset();const e=function E_(n,t){return n&&n.length>0?(bt(void 0!==t),n.map(e=>function(i,r){let s=bi(i.updateTime?i.updateTime:r);return s.isEqual(Ct.min())&&(s=bi(r)),new jv(s,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=bi(t.commitTime);return this.listener.eu(i,e)}return bt(!t.writeResults||0===t.writeResults.length),this.Zo=!0,this.listener.nu()}su(){const t={};t.database=Sf(this.Tt),this.qo(t)}tu(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>If(this.Tt,i))};this.qo(e)}}class TE extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.Tt=r,this.iu=!1}ru(){if(this.iu)throw new Oe(fe.FAILED_PRECONDITION,"The client has already been terminated.")}lo(t,e,i){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.lo(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Oe(fe.UNKNOWN,r.toString())})}mo(t,e,i,r){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,d])=>this.connection.mo(t,e,i,s,d,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Oe(fe.UNKNOWN,s.toString())})}terminate(){this.iu=!0}}class BD{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}au(){0===this.ou&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.uu=null,this.lu("Backend didn't respond within 10 seconds."),this.hu("Offline"),Promise.resolve())))}fu(t){"Online"===this.state?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.hu("Offline")))}set(t){this.du(),this.ou=0,"Online"===t&&(this.cu=!1),this.hu(t)}hu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}lu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.cu?(ki(e),this.cu=!1):Ne("OnlineStateTracker",e)}du(){null!==this.uu&&(this.uu.cancel(),this.uu=null)}}class AE{constructor(t,e,i,r,s){var d=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=s,this.yu.Gr(f=>{i.enqueueAndForget((0,ce.Z)(function*(){var _;Sc(d)&&(Ne("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,ce.Z)(function*(b){const E=rt(b);E.mu.add(4),yield Bf(E),E.pu.set("Unknown"),E.mu.delete(4),yield Ap(E)}),function(b){return _.apply(this,arguments)})(d))}))}),this.pu=new BD(i,r)}}function Ap(n){return zb.apply(this,arguments)}function zb(){return zb=(0,ce.Z)(function*(n){if(Sc(n))for(const t of n.gu)yield t(!0)}),zb.apply(this,arguments)}function Bf(n){return Mp.apply(this,arguments)}function Mp(){return Mp=(0,ce.Z)(function*(n){for(const t of n.gu)yield t(!1)}),Mp.apply(this,arguments)}function Uf(n,t){const e=rt(n);e.wu.has(t.targetId)||(e.wu.set(t.targetId,t),Op(e)?Hb(e):Nu(e).Mo()&&Rp(e,t))}function jf(n,t){const e=rt(n),i=Nu(e);e.wu.delete(t),i.Mo()&&ME(e,t),0===e.wu.size&&(i.Mo()?i.Bo():Sc(e)&&e.pu.set("Unknown"))}function Rp(n,t){n.Iu.Ot(t.targetId),Nu(n).Jo(t)}function ME(n,t){n.Iu.Ot(t),Nu(n).Yo(t)}function Hb(n){n.Iu=new Px({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),ie:t=>n.wu.get(t)||null}),Nu(n).start(),n.pu.au()}function Op(n){return Sc(n)&&!Nu(n).$o()&&n.wu.size>0}function Sc(n){return 0===rt(n).mu.size}function $b(n){n.Iu=void 0}function zf(n){return V_.apply(this,arguments)}function V_(){return V_=(0,ce.Z)(function*(n){n.wu.forEach((t,e)=>{Rp(n,t)})}),V_.apply(this,arguments)}function UD(n,t){return RE.apply(this,arguments)}function RE(){return RE=(0,ce.Z)(function*(n,t){$b(n),Op(n)?(n.pu.fu(t),Hb(n)):n.pu.set("Unknown")}),RE.apply(this,arguments)}function OE(n,t,e){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,ce.Z)(function*(n,t,e){if(n.pu.set("Online"),t instanceof g_&&2===t.state&&t.cause)try{yield(i=(0,ce.Z)(function*(r,s){const d=s.cause;for(const f of s.targetIds)r.wu.has(f)&&(yield r.remoteSyncer.rejectListen(f,d),r.wu.delete(f),r.Iu.removeTarget(f))}),function(r,s){return i.apply(this,arguments)})(n,t)}catch(i){Ne("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield B_(n,i)}else if(t instanceof xf?n.Iu.Qt(t):t instanceof Fx?n.Iu.Zt(t):n.Iu.Wt(t),!e.isEqual(Ct.min()))try{const i=yield Cp(n.localStore);e.compareTo(i)>=0&&(yield function(r,s){const d=r.Iu.ee(s);return d.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const b=r.wu.get(_);b&&r.wu.set(_,b.withResumeToken(f.resumeToken,s))}}),d.targetMismatches.forEach(f=>{const _=r.wu.get(f);if(!_)return;r.wu.set(f,_.withResumeToken(sr.EMPTY_BYTE_STRING,_.snapshotVersion)),ME(r,f);const b=new $l(_.target,f,1,_.sequenceNumber);Rp(r,b)}),r.remoteSyncer.applyRemoteEvent(d)}(n,e))}catch(i){Ne("RemoteStore","Failed to raise snapshot:",i),yield B_(n,i)}var i}),Fp.apply(this,arguments)}function B_(n,t,e){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,ce.Z)(function*(n,t,e){if(!fu(t))throw t;n.mu.add(1),yield Bf(n),n.pu.set("Offline"),e||(e=()=>Cp(n.localStore)),n.asyncQueue.enqueueRetryable((0,ce.Z)(function*(){Ne("RemoteStore","Retrying IndexedDB access"),yield e(),n.mu.delete(1),yield Ap(n)}))}),Pp.apply(this,arguments)}function FE(n,t){return t().catch(e=>B_(n,e,t))}function Pu(n){return Np.apply(this,arguments)}function Np(){return Np=(0,ce.Z)(function*(n){const t=rt(n),e=Ic(t);let i=t._u.length>0?t._u[t._u.length-1].batchId:-1;for(;PE(t);)try{const r=yield vE(t.localStore,i);if(null===r){0===t._u.length&&e.Bo();break}i=r.batchId,NE(t,r)}catch(r){yield B_(t,r)}Gb(t)&&qb(t)}),Np.apply(this,arguments)}function PE(n){return Sc(n)&&n._u.length<10}function NE(n,t){n._u.push(t);const e=Ic(n);e.Mo()&&e.Xo&&e.tu(t.mutations)}function Gb(n){return Sc(n)&&!Ic(n).$o()&&n._u.length>0}function qb(n){Ic(n).start()}function jD(n){return Wb.apply(this,arguments)}function Wb(){return Wb=(0,ce.Z)(function*(n){Ic(n).su()}),Wb.apply(this,arguments)}function zD(n){return Zb.apply(this,arguments)}function Zb(){return Zb=(0,ce.Z)(function*(n){const t=Ic(n);for(const e of n._u)t.tu(e.mutations)}),Zb.apply(this,arguments)}function LE(n,t,e){return VE.apply(this,arguments)}function VE(){return VE=(0,ce.Z)(function*(n,t,e){const i=n._u.shift(),r=gp.from(i,t,e);yield FE(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Pu(n)}),VE.apply(this,arguments)}function BE(n,t){return Kb.apply(this,arguments)}function Kb(){return Kb=(0,ce.Z)(function*(n,t){var e;t&&Ic(n).Xo&&(yield(e=(0,ce.Z)(function*(i,r){if(zv(s=r.code)&&s!==fe.ABORTED){const d=i._u.shift();Ic(i).Fo(),yield FE(i,()=>i.remoteSyncer.rejectFailedWrite(d.batchId,r)),yield Pu(i)}var s}),function(i,r){return e.apply(this,arguments)})(n,t)),Gb(n)&&qb(n)}),Kb.apply(this,arguments)}function UE(n,t){return jE.apply(this,arguments)}function jE(){return jE=(0,ce.Z)(function*(n,t){const e=rt(n);e.asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials");const i=Sc(e);e.mu.add(3),yield Bf(e),i&&e.pu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.mu.delete(3),yield Ap(e)}),jE.apply(this,arguments)}function Yb(n,t){return Qb.apply(this,arguments)}function Qb(){return Qb=(0,ce.Z)(function*(n,t){const e=rt(n);t?(e.mu.delete(2),yield Ap(e)):t||(e.mu.add(2),yield Bf(e),e.pu.set("Unknown"))}),Qb.apply(this,arguments)}function Nu(n){return n.Tu||(n.Tu=function(t,e,i){const r=rt(t);return r.ru(),new LD(e,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,i)}(n.datastore,n.asyncQueue,{Xr:zf.bind(null,n),no:UD.bind(null,n),Ho:OE.bind(null,n)}),n.gu.push(function(){var t=(0,ce.Z)(function*(e){e?(n.Tu.Fo(),Op(n)?Hb(n):n.pu.set("Unknown")):(yield n.Tu.stop(),$b(n))});return function(e){return t.apply(this,arguments)}}())),n.Tu}function Ic(n){return n.Eu||(n.Eu=function(t,e,i){const r=rt(t);return r.ru(),new VD(e,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,i)}(n.datastore,n.asyncQueue,{Xr:jD.bind(null,n),no:BE.bind(null,n),nu:zD.bind(null,n),eu:LE.bind(null,n)}),n.gu.push(function(){var t=(0,ce.Z)(function*(e){e?(n.Eu.Fo(),yield Pu(n)):(yield n.Eu.stop(),n._u.length>0&&(Ne("RemoteStore",`Stopping write stream with ${n._u.length} pending writes`),n._u=[]))});return function(e){return t.apply(this,arguments)}}())),n.Eu}class Xb{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(t,e,i,r,s){const d=Date.now()+i,f=new Xb(t,e,d,r,s);return f.start(i),f}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(fe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hf(n,t){if(ki("AsyncQueue",`${t}: ${n}`),fu(n))return new Oe(fe.UNAVAILABLE,`${t}: ${n}`);throw n}class $f{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Ye.comparator(e.key,i.key):(e,i)=>Ye.comparator(e.key,i.key),this.keyedMap=bf(),this.sortedSet=new Qn(this.comparator)}static emptySet(t){return new $f(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof $f)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new $f;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class zE{constructor(){this.Au=new Qn(Ye.comparator)}track(t){const e=t.doc.key,i=this.Au.get(e);i?0!==t.type&&3===i.type?this.Au=this.Au.insert(e,t):3===t.type&&1!==i.type?this.Au=this.Au.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Au=this.Au.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Au=this.Au.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Au=this.Au.remove(e):1===t.type&&2===i.type?this.Au=this.Au.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Au=this.Au.insert(e,{type:2,doc:t.doc}):it():this.Au=this.Au.insert(e,t)}Ru(){const t=[];return this.Au.inorderTraversal((e,i)=>{t.push(i)}),t}}class Gf{constructor(t,e,i,r,s,d,f,_,b){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=_,this.hasCachedResults=b}static fromInitialDocuments(t,e,i,r,s){const d=[];return e.forEach(f=>{d.push({type:0,doc:f})}),new Gf(t,e,$f.emptySet(e),d,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&dp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class HD{constructor(){this.Pu=void 0,this.listeners=[]}}class $D{constructor(){this.queries=new xc(t=>Dx(t),dp),this.onlineState="Unknown",this.vu=new Set}}function Jb(n,t){return Lu.apply(this,arguments)}function Lu(){return Lu=(0,ce.Z)(function*(n,t){const e=rt(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new HD),r)try{s.Pu=yield e.onListen(i)}catch(d){const f=Hf(d,`Initialization of query '${Vv(t.query)}' failed`);return void t.onError(f)}e.queries.set(i,s),s.listeners.push(t),t.bu(e.onlineState),s.Pu&&t.Vu(s.Pu)&&z_(e)}),Lu.apply(this,arguments)}function U_(n,t){return j_.apply(this,arguments)}function j_(){return j_=(0,ce.Z)(function*(n,t){const e=rt(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const d=s.listeners.indexOf(t);d>=0&&(s.listeners.splice(d,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),j_.apply(this,arguments)}function HE(n,t){const e=rt(n);let i=!1;for(const r of t){const d=e.queries.get(r.query);if(d){for(const f of d.listeners)f.Vu(r)&&(i=!0);d.Pu=r}}i&&z_(e)}function $E(n,t,e){const i=rt(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function z_(n){n.vu.forEach(t=>{t.next()})}class H_{constructor(t,e,i){this.query=t,this.Su=e,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=i||{}}Vu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Gf(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Du?this.xu(t)&&(this.Su.next(t),e=!0):this.Nu(t,this.onlineState)&&(this.ku(t),e=!0),this.Cu=t,e}onError(t){this.Su.error(t)}bu(t){this.onlineState=t;let e=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,t)&&(this.ku(this.Cu),e=!0),e}Nu(t,e){return!t.fromCache||(!this.options.$u||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}xu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Cu&&this.Cu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}ku(t){t=Gf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Du=!0,this.Su.next(t)}}class GD{constructor(t,e){this.Mu=t,this.byteLength=e}Ou(){return"metadata"in this.Mu}}class qD{constructor(t){this.Tt=t}Zi(t){return Bs(this.Tt,t)}Xi(t){return t.metadata.exists?Xv(this.Tt,t.document,!1):Un.newNoDocument(this.Zi(t.metadata.name),this.tr(t.metadata.readTime))}tr(t){return bi(t)}}class GE{constructor(t,e,i){this.Fu=t,this.localStore=e,this.Tt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=e0(t)}Bu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Mu.namedQuery)this.queries.push(t.Mu.namedQuery);else if(t.Mu.documentMetadata){this.documents.push({metadata:t.Mu.documentMetadata}),t.Mu.documentMetadata.exists||++e;const i=et.fromString(t.Mu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Mu.document&&(this.documents[this.documents.length-1].document=t.Mu.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Lu(t){const e=new Map,i=new qD(this.Tt);for(const r of t)if(r.metadata.queries){const s=i.Zi(r.metadata.name);for(const d of r.metadata.queries){const f=(e.get(d)||Yt()).add(s);e.set(d,f)}}return e}complete(){var t=this;return(0,ce.Z)(function*(){const e=yield function xE(n,t,e,i){return Rb.apply(this,arguments)}(t.localStore,new qD(t.Tt),t.documents,t.Fu.id),i=t.Lu(t.documents);for(const r of t.queries)yield FD(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,qu:t.collectionGroups,Uu:e}})()}}function e0(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class qE{constructor(t){this.key=t}}class WE{constructor(t){this.key=t}}class ZE{constructor(t,e){this.query=t,this.Ku=e,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=Yt(),this.mutatedKeys=Yt(),this.ju=u_(t),this.zu=new $f(this.ju)}get Wu(){return this.Ku}Hu(t,e){const i=e?e.Ju:new zE,r=e?e.zu:this.zu;let s=e?e.mutatedKeys:this.mutatedKeys,d=r,f=!1;const _="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,b="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((E,k)=>{const V=r.get(E),L=up(this.query,k)?k:null,U=!!V&&this.mutatedKeys.has(V.key),Y=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let he=!1;V&&L?V.data.isEqual(L.data)?U!==Y&&(i.track({type:3,doc:L}),he=!0):this.Yu(V,L)||(i.track({type:2,doc:L}),he=!0,(_&&this.ju(L,_)>0||b&&this.ju(L,b)<0)&&(f=!0)):!V&&L?(i.track({type:0,doc:L}),he=!0):V&&!L&&(i.track({type:1,doc:V}),he=!0,(_||b)&&(f=!0)),he&&(L?(d=d.add(L),s=Y?s.add(E):s.delete(E)):(d=d.delete(E),s=s.delete(E)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const E="F"===this.query.limitType?d.last():d.first();d=d.delete(E.key),s=s.delete(E.key),i.track({type:1,doc:E})}return{zu:d,Ju:i,Li:f,mutatedKeys:s}}Yu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.zu;this.zu=t.zu,this.mutatedKeys=t.mutatedKeys;const s=t.Ju.Ru();s.sort((b,E)=>function(k,V){const L=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return it()}};return L(k)-L(V)}(b.type,E.type)||this.ju(b.doc,E.doc)),this.Zu(i);const d=e?this.Xu():[],f=0===this.Qu.size&&this.current?1:0,_=f!==this.Gu;return this.Gu=f,0!==s.length||_?{snapshot:new Gf(this.query,t.zu,r,s,t.mutatedKeys,0===f,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),tc:d}:{tc:d}}bu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new zE,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}ec(t){return!this.Ku.has(t)&&!!this.zu.has(t)&&!this.zu.get(t).hasLocalMutations}Zu(t){t&&(t.addedDocuments.forEach(e=>this.Ku=this.Ku.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ku=this.Ku.delete(e)),this.current=t.current)}Xu(){if(!this.current)return[];const t=this.Qu;this.Qu=Yt(),this.zu.forEach(i=>{this.ec(i.key)&&(this.Qu=this.Qu.add(i.key))});const e=[];return t.forEach(i=>{this.Qu.has(i)||e.push(new WE(i))}),this.Qu.forEach(i=>{t.has(i)||e.push(new qE(i))}),e}nc(t){this.Ku=t.Yi,this.Qu=Yt();const e=this.Hu(t.documents);return this.applyChanges(e,!0)}sc(){return Gf.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,0===this.Gu,this.hasCachedResults)}}class Lp{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class WD{constructor(t){this.key=t,this.ic=!1}}class t0{constructor(t,e,i,r,s,d){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=d,this.rc={},this.oc=new xc(f=>Dx(f),dp),this.uc=new Map,this.cc=new Set,this.ac=new Qn(Ye.comparator),this.hc=new Map,this.lc=new kb,this.fc={},this.dc=new Map,this._c=Rf.Sn(),this.onlineState="Unknown",this.wc=void 0}get isPrimaryClient(){return!0===this.wc}}function Ia(n,t){return n0.apply(this,arguments)}function n0(){return n0=(0,ce.Z)(function*(n,t){const e=h0(n);let i,r;const s=e.oc.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.sc();else{const d=yield Sa(e.localStore,Gr(t));e.isPrimaryClient&&Uf(e.remoteStore,d);const f=e.sharedClientState.addLocalQueryTarget(d.targetId);i=d.targetId,r=yield qf(e,t,i,"current"===f,d.resumeToken)}return r}),n0.apply(this,arguments)}function qf(n,t,e,i,r){return Vu.apply(this,arguments)}function Vu(){return Vu=(0,ce.Z)(function*(n,t,e,i,r){n.mc=(k,V,L)=>{return(U=(0,ce.Z)(function*(Y,he,Ue,ft){let pt=he.view.Hu(Ue);pt.Li&&(pt=yield P_(Y.localStore,he.query,!1).then(({documents:Nt})=>he.view.Hu(Nt,pt)));const _t=ft&&ft.targetChanges.get(he.targetId),Mt=he.view.applyChanges(pt,Y.isPrimaryClient,_t);return l0(Y,he.targetId,Mt.tc),Mt.snapshot}),function(Y,he,Ue,ft){return U.apply(this,arguments)})(n,k,V,L);var U};const s=yield P_(n.localStore,t,!0),d=new ZE(t,s.Yi),f=d.Hu(s.documents),_=zl.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),b=d.applyChanges(f,n.isPrimaryClient,_);l0(n,e,b.tc);const E=new Lp(t,e,d);return n.oc.set(t,E),n.uc.has(e)?n.uc.get(e).push(t):n.uc.set(e,[t]),b.snapshot}),Vu.apply(this,arguments)}function ZD(n,t){return r0.apply(this,arguments)}function r0(){return r0=(0,ce.Z)(function*(n,t){const e=rt(n),i=e.oc.get(t),r=e.uc.get(i.targetId);if(r.length>1)return e.uc.set(i.targetId,r.filter(s=>!dp(s,t))),void e.oc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Vf(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),jf(e.remoteStore,i.targetId),Zf(e,i.targetId)}).catch(_a))):(Zf(e,i.targetId),yield Vf(e.localStore,i.targetId,!0))}),r0.apply(this,arguments)}function Wf(){return Wf=(0,ce.Z)(function*(n,t,e){const i=Y_(n);try{const r=yield function(s,d){const f=rt(s),_=Yn.now(),b=d.reduce((V,L)=>V.add(L.key),Yt());let E,k;return f.persistence.runTransaction("Locally write mutations","readwrite",V=>{let L=qr(),U=Yt();return f.ji.getEntries(V,b).next(Y=>{L=Y,L.forEach((he,Ue)=>{Ue.isValidDocument()||(U=U.add(he))})}).next(()=>f.localDocuments.getOverlayedDocuments(V,L)).next(Y=>{E=Y;const he=[];for(const Ue of d){const ft=cs(Ue,E.get(Ue.key).overlayedDocument);null!=ft&&he.push(new go(Ue.key,ft,tD(ft.value.mapValue),Xn.exists(!0)))}return f.mutationQueue.addMutationBatch(V,_,he,d)}).next(Y=>{k=Y;const he=Y.applyToLocalDocumentSet(E,U);return f.documentOverlayCache.saveOverlays(V,Y.batchId,he)})}).then(()=>({batchId:k.batchId,changes:Gv(E)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,d,f){let _=s.fc[s.currentUser.toKey()];_||(_=new Qn(Zt)),_=_.insert(d,f),s.fc[s.currentUser.toKey()]=_}(i,r.batchId,e),yield Da(i,r.changes),yield Pu(i.remoteStore)}catch(r){const s=Hf(r,"Failed to persist write");e.reject(s)}}),Wf.apply(this,arguments)}function Vp(n,t){return o0.apply(this,arguments)}function o0(){return o0=(0,ce.Z)(function*(n,t){const e=rt(n);try{const i=yield function RD(n,t){const e=rt(n),i=t.snapshotVersion;let r=e.Ki;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const d=e.ji.newChangeBuffer({trackRemovals:!0});r=e.Ki;const f=[];t.targetChanges.forEach((E,k)=>{const V=r.get(k);if(!V)return;f.push(e.Ns.removeMatchingKeys(s,E.removedDocuments,k).next(()=>e.Ns.addMatchingKeys(s,E.addedDocuments,k)));let L=V.withSequenceNumber(s.currentSequenceNumber);var U,Y,he;t.targetMismatches.has(k)?L=L.withResumeToken(sr.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,i)),r=r.insert(k,L),Y=L,he=E,(0===(U=V).resumeToken.approximateByteSize()||Y.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8||he.addedDocuments.size+he.modifiedDocuments.size+he.removedDocuments.size>0)&&f.push(e.Ns.updateTargetData(s,L))});let _=qr(),b=Yt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&f.push(e.persistence.referenceDelegate.updateLimboDocument(s,E))}),f.push(yE(s,d,t.documentUpdates).next(E=>{_=E.Hi,b=E.Ji})),!i.isEqual(Ct.min())){const E=e.Ns.getLastRemoteSnapshotVersion(s).next(k=>e.Ns.setTargetsMetadata(s,s.currentSequenceNumber,i));f.push(E)}return de.waitFor(f).next(()=>d.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,_,b)).next(()=>_)}).then(s=>(e.Ki=r,s))}(e.localStore,t);t.targetChanges.forEach((r,s)=>{const d=e.hc.get(s);d&&(bt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?d.ic=!0:r.modifiedDocuments.size>0?bt(d.ic):r.removedDocuments.size>0&&(bt(d.ic),d.ic=!1))}),yield Da(e,i,t)}catch(i){yield _a(i)}}),o0.apply(this,arguments)}function KE(n,t,e){const i=rt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.oc.forEach((s,d)=>{const f=d.view.bu(t);f.snapshot&&r.push(f.snapshot)}),function(s,d){const f=rt(s);f.onlineState=d;let _=!1;f.queries.forEach((b,E)=>{for(const k of E.listeners)k.bu(d)&&(_=!0)}),_&&z_(f)}(i.eventManager,t),r.length&&i.rc.Ho(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function YE(n,t,e){return $_.apply(this,arguments)}function $_(){return $_=(0,ce.Z)(function*(n,t,e){const i=rt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.hc.get(t),s=r&&r.key;if(s){let d=new Qn(Ye.comparator);d=d.insert(s,Un.newNoDocument(s,Ct.min()));const f=Yt().add(s),_=new jl(Ct.min(),new Map,new vn(Zt),d,f);yield Vp(i,_),i.ac=i.ac.remove(s),i.hc.delete(t),zp(i)}else yield Vf(i.localStore,t,!1).then(()=>Zf(i,t,e)).catch(_a)}),$_.apply(this,arguments)}function s0(n,t){return G_.apply(this,arguments)}function G_(){return G_=(0,ce.Z)(function*(n,t){const e=rt(n),i=t.batch.batchId;try{const r=yield function _E(n,t){const e=rt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.ji.newChangeBuffer({trackRemovals:!0});return function(d,f,_,b){const E=_.batch,k=E.keys();let V=de.resolve();return k.forEach(L=>{V=V.next(()=>b.getEntry(f,L)).next(U=>{const Y=_.docVersions.get(L);bt(null!==Y),U.version.compareTo(Y)<0&&(E.applyToRemoteDocument(U,_),U.isValidDocument()&&(U.setReadTime(_.commitVersion),b.addEntry(U)))})}),V.next(()=>d.mutationQueue.removeMutationBatch(f,E))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let f=Yt();for(let _=0;_<d.mutationResults.length;++_)d.mutationResults[_].transformResults.length>0&&(f=f.add(d.batch.mutations[_].key));return f}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);c0(e,i,null),jp(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Da(e,r)}catch(r){yield _a(r)}}),G_.apply(this,arguments)}function a0(n,t,e){return Bp.apply(this,arguments)}function Bp(){return Bp=(0,ce.Z)(function*(n,t,e){const i=rt(n);try{const r=yield function(s,d){const f=rt(s);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return f.mutationQueue.lookupMutationBatch(_,d).next(E=>(bt(null!==E),b=E.keys(),f.mutationQueue.removeMutationBatch(_,E))).next(()=>f.mutationQueue.performConsistencyCheck(_)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(_,b,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b)).next(()=>f.localDocuments.getDocuments(_,b))})}(i.localStore,t);c0(i,t,e),jp(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Da(i,r)}catch(r){yield _a(r)}}),Bp.apply(this,arguments)}function Up(){return Up=(0,ce.Z)(function*(n,t){const e=rt(n);Sc(e.remoteStore)||Ne("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const d=rt(s);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>d.mutationQueue.getHighestUnacknowledgedBatchId(f))}(e.localStore);if(-1===i)return void t.resolve();const r=e.dc.get(i)||[];r.push(t),e.dc.set(i,r)}catch(i){const r=Hf(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),Up.apply(this,arguments)}function jp(n,t){(n.dc.get(t)||[]).forEach(e=>{e.resolve()}),n.dc.delete(t)}function c0(n,t,e){const i=rt(n);let r=i.fc[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.fc[i.currentUser.toKey()]=r}}function Zf(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.uc.get(t))n.oc.delete(i),e&&n.rc.gc(i,e);n.uc.delete(t),n.isPrimaryClient&&n.lc.ds(t).forEach(i=>{n.lc.containsKey(i)||XE(n,i)})}function XE(n,t){n.cc.delete(t.path.canonicalString());const e=n.ac.get(t);null!==e&&(jf(n.remoteStore,e),n.ac=n.ac.remove(t),n.hc.delete(e),zp(n))}function l0(n,t,e){for(const i of e)i instanceof qE?(n.lc.addReference(i.key,t),JE(n,i)):i instanceof WE?(Ne("SyncEngine","Document no longer in limbo: "+i.key),n.lc.removeReference(i.key,t),n.lc.containsKey(i.key)||XE(n,i.key)):it()}function JE(n,t){const e=t.key,i=e.path.canonicalString();n.ac.get(e)||n.cc.has(i)||(Ne("SyncEngine","New document in limbo: "+e),n.cc.add(i),zp(n))}function zp(n){for(;n.cc.size>0&&n.ac.size<n.maxConcurrentLimboResolutions;){const t=n.cc.values().next().value;n.cc.delete(t);const e=new Ye(et.fromString(t)),i=n._c.next();n.hc.set(i,new WD(e)),n.ac=n.ac.insert(e,i),Uf(n.remoteStore,new $l(Gr(yu(e.path)),i,2,mo.at))}}function Da(n,t,e){return q_.apply(this,arguments)}function q_(){return q_=(0,ce.Z)(function*(n,t,e){const i=rt(n),r=[],s=[],d=[];var f;i.oc.isEmpty()||(i.oc.forEach((f,_)=>{d.push(i.mc(_,t,e).then(b=>{if((b||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,b?.fromCache?"not-current":"current"),b){r.push(b);const E=Ab.Ni(_.targetId,b);s.push(E)}}))}),yield Promise.all(d),i.rc.Ho(r),yield(f=(0,ce.Z)(function*(_,b){const E=rt(_);try{yield E.persistence.runTransaction("notifyLocalViewChanges","readwrite",k=>de.forEach(b,V=>de.forEach(V.Ci,L=>E.persistence.referenceDelegate.addReference(k,V.targetId,L)).next(()=>de.forEach(V.xi,L=>E.persistence.referenceDelegate.removeReference(k,V.targetId,L)))))}catch(k){if(!fu(k))throw k;Ne("LocalStore","Failed to update sequence numbers: "+k)}for(const k of b){const V=k.targetId;if(!k.fromCache){const L=E.Ki.get(V),Y=L.withLastLimboFreeSnapshotVersion(L.snapshotVersion);E.Ki=E.Ki.insert(V,Y)}}}),function(_,b){return f.apply(this,arguments)})(i.localStore,s))}),q_.apply(this,arguments)}function eC(n,t){return W_.apply(this,arguments)}function W_(){return W_=(0,ce.Z)(function*(n,t){const e=rt(n);if(!e.currentUser.isEqual(t)){Ne("SyncEngine","User change. New user:",t.toKey());const i=yield MD(e.localStore,t);e.currentUser=t,(r=e).dc.forEach(d=>{d.forEach(f=>{f.reject(new Oe(fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.dc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Da(e,i.Wi)}var r}),W_.apply(this,arguments)}function YD(n,t){const e=rt(n),i=e.hc.get(t);if(i&&i.ic)return Yt().add(i.key);{let r=Yt();const s=e.uc.get(t);if(!s)return r;for(const d of s){const f=e.oc.get(d);r=r.unionWith(f.view.Wu)}return r}}function tC(n,t){return Z_.apply(this,arguments)}function Z_(){return Z_=(0,ce.Z)(function*(n,t){const e=rt(n),i=yield P_(e.localStore,t.query,!0),r=t.view.nc(i);return e.isPrimaryClient&&l0(e,t.targetId,r.tc),r}),Z_.apply(this,arguments)}function QD(n,t){return K_.apply(this,arguments)}function K_(){return K_=(0,ce.Z)(function*(n,t){const e=rt(n);return OD(e.localStore,t).then(i=>Da(e,i))}),K_.apply(this,arguments)}function nC(n,t,e,i){return Dr.apply(this,arguments)}function Dr(){return Dr=(0,ce.Z)(function*(n,t,e,i){const r=rt(n),s=yield function(d,f){const _=rt(d),b=rt(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",E=>b.An(E,f).next(k=>k?_.localDocuments.getDocuments(E,k):de.resolve(null)))}(r.localStore,t);var f;null!==s?("pending"===e?yield Pu(r.remoteStore):"acknowledged"===e||"rejected"===e?(c0(r,t,i||null),jp(r,t),f=t,rt(rt(r.localStore).mutationQueue).Pn(f)):it(),yield Da(r,s)):Ne("SyncEngine","Cannot apply mutation batch with id: "+t)}),Dr.apply(this,arguments)}function d0(){return d0=(0,ce.Z)(function*(n,t){const e=rt(n);if(h0(e),Y_(e),!0===t&&!0!==e.wc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield iC(e,i.toArray());e.wc=!0,yield Yb(e.remoteStore,!0);for(const s of r)Uf(e.remoteStore,s)}else if(!1===t&&!1!==e.wc){const i=[];let r=Promise.resolve();e.uc.forEach((s,d)=>{e.sharedClientState.isLocalQueryTarget(d)?i.push(d):r=r.then(()=>(Zf(e,d),Vf(e.localStore,d,!0))),jf(e.remoteStore,d)}),yield r,yield iC(e,i),function(s){const d=rt(s);d.hc.forEach((f,_)=>{jf(d.remoteStore,_)}),d.lc._s(),d.hc=new Map,d.ac=new Qn(Ye.comparator)}(e),e.wc=!1,yield Yb(e.remoteStore,!1)}}),d0.apply(this,arguments)}function iC(n,t,e){return rC.apply(this,arguments)}function rC(){return rC=(0,ce.Z)(function*(n,t,e){const i=rt(n),r=[],s=[];for(const d of t){let f;const _=i.uc.get(d);if(_&&0!==_.length){f=yield Sa(i.localStore,Gr(_[0]));for(const b of _){const E=i.oc.get(b),k=yield tC(i,E);k.snapshot&&s.push(k.snapshot)}}else{const b=yield bE(i.localStore,d);f=yield Sa(i.localStore,b),yield qf(i,XD(b),d,!1,f.resumeToken)}r.push(f)}return i.rc.Ho(s),r}),rC.apply(this,arguments)}function XD(n){return Fv(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function oC(n){const t=rt(n);return rt(rt(t.localStore).persistence).Si()}function u0(n,t,e,i){return Bu.apply(this,arguments)}function Bu(){return Bu=(0,ce.Z)(function*(n,t,e,i){const r=rt(n);if(r.wc)return void Ne("SyncEngine","Ignoring unexpected query state notification.");const s=r.uc.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const d=yield OD(r.localStore,Bv(s[0])),f=jl.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,sr.EMPTY_BYTE_STRING);yield Da(r,d,f);break}case"rejected":yield Vf(r.localStore,t,!0),Zf(r,t,i);break;default:it()}}),Bu.apply(this,arguments)}function JD(n,t,e){return Hp.apply(this,arguments)}function Hp(){return Hp=(0,ce.Z)(function*(n,t,e){const i=h0(n);if(i.wc){for(const r of t){if(i.uc.has(r)){Ne("SyncEngine","Adding an already active target "+r);continue}const s=yield bE(i.localStore,r),d=yield Sa(i.localStore,s);yield qf(i,XD(s),d.targetId,!1,d.resumeToken),Uf(i.remoteStore,d)}for(const r of e)i.uc.has(r)&&(yield Vf(i.localStore,r,!1).then(()=>{jf(i.remoteStore,r),Zf(i,r)}).catch(_a))}}),Hp.apply(this,arguments)}function h0(n){const t=rt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=Vp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=YD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=YE.bind(null,t),t.rc.Ho=HE.bind(null,t.eventManager),t.rc.gc=$E.bind(null,t.eventManager),t}function Y_(n){const t=rt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=s0.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=a0.bind(null,t),t}class sC{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,ce.Z)(function*(){e.Tt=kp(t.databaseInfo.databaseId),e.sharedClientState=e.Ic(t),e.persistence=e.Tc(t),yield e.persistence.start(),e.localStore=e.Ec(t),e.gcScheduler=e.Ac(t,e.localStore),e.indexBackfillerScheduler=e.Rc(t,e.localStore)})()}Ac(t,e){return null}Rc(t,e){return null}Ec(t){return AD(this.persistence,new pE,t.initialUser,this.Tt)}Tc(t){return new Nf(A_.qs,this.Tt)}Ic(t){return new Lb}terminate(){var t=this;return(0,ce.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class aC extends sC{constructor(t,e,i){super(),this.Pc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,ce.Z)(function*(){yield e().call(i,t),yield i.Pc.initialize(i,t),yield Y_(i.Pc.syncEngine),yield Pu(i.Pc.remoteStore),yield i.persistence.di(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ec(t){return AD(this.persistence,new pE,t.initialUser,this.Tt)}Ac(t,e){return new T_(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Rc(t,e){const i=new jI(e,this.persistence);return new t_(t.asyncQueue,i)}Tc(t){const e=F_(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?_o.withCacheSize(this.cacheSizeBytes):_o.DEFAULT;return new R_(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,IE(),L_(),this.Tt,this.sharedClientState,!!this.forceOwnership)}Ic(t){return new Lb}}class f0 extends aC{constructor(t,e){super(t,e,!1),this.Pc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,ce.Z)(function*(){yield e().call(i,t);const r=i.Pc.syncEngine;i.sharedClientState instanceof Nb&&(i.sharedClientState.syncEngine={Br:nC.bind(null,r),Lr:u0.bind(null,r),qr:JD.bind(null,r),Si:oC.bind(null,r),Fr:QD.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.di(function(){var s=(0,ce.Z)(function*(d){yield function Kf(n,t){return d0.apply(this,arguments)}(i.Pc.syncEngine,d),i.gcScheduler&&(d&&!i.gcScheduler.started?i.gcScheduler.start():d||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(d&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():d||i.indexBackfillerScheduler.stop())});return function(d){return s.apply(this,arguments)}}())})()}Ic(t){const e=IE();if(!Nb.C(e))throw new Oe(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=F_(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Nb(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class Q_{initialize(t,e){var i=this;return(0,ce.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>KE(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=eC.bind(null,i.syncEngine),yield Yb(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new $D}createDatastore(t){const e=kp(t.databaseInfo.databaseId),i=new ND(t.databaseInfo);return new TE(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=f=>KE(this.syncEngine,f,0),d=SE.C()?new SE:new CE,new AE(e,i,r,s,d);var e,i,r,s,d}createSyncEngine(t,e){return function(i,r,s,d,f,_,b){const E=new t0(i,r,s,d,f,_);return b&&(E.wc=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,ce.Z)(function*(e){const i=rt(e);Ne("RemoteStore","RemoteStore shutting down."),i.mu.add(5),yield Bf(i),i.yu.shutdown(),i.pu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function m0(n,t=10240){let e=0;return{read:()=>(0,ce.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,ce.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Uu{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.vc(this.observer.next,t)}error(t){this.observer.error?this.vc(this.observer.error,t):ki("Uncaught Error in snapshot listener:",t.toString())}bc(){this.muted=!0}vc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class p0{constructor(t,e){this.Vc=t,this.Tt=e,this.metadata=new or,this.buffer=new Uint8Array,this.Sc=new TextDecoder("utf-8"),this.Dc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.Mu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Mu)}`))},i=>this.metadata.reject(i))}close(){return this.Vc.cancel()}getMetadata(){var t=this;return(0,ce.Z)(function*(){return t.metadata.promise})()}yc(){var t=this;return(0,ce.Z)(function*(){return yield t.getMetadata(),t.Dc()})()}Dc(){var t=this;return(0,ce.Z)(function*(){const e=yield t.Cc();if(null===e)return null;const i=t.Sc.decode(e),r=Number(i);isNaN(r)&&t.xc(`length string (${i}) is not valid number`);const s=yield t.Nc(r);return new GD(JSON.parse(s),e.length+r)})()}kc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Cc(){var t=this;return(0,ce.Z)(function*(){for(;t.kc()<0&&!(yield t.$c()););if(0===t.buffer.length)return null;const e=t.kc();e<0&&t.xc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Nc(t){var e=this;return(0,ce.Z)(function*(){for(;e.buffer.length<t;)(yield e.$c())&&e.xc("Reached the end of bundle when more is expected.");const i=e.Sc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}xc(t){throw this.Vc.cancel(),new Error(`Invalid bundle format: ${t}`)}$c(){var t=this;return(0,ce.Z)(function*(){const e=yield t.Vc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class v1{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,ce.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Oe(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,ce.Z)(function*(s,d){const f=rt(s),_=Sf(f.Tt)+"/documents",b={documents:d.map(L=>Cf(f.Tt,L))},E=yield f.mo("BatchGetDocuments",_,b,d.length),k=new Map;E.forEach(L=>{const U=function jx(n,t){return"found"in t?function(e,i){bt(!!i.found);const r=Bs(e,i.found.name),s=bi(i.found.updateTime),d=i.found.createTime?bi(i.found.createTime):Ct.min(),f=new Pi({mapValue:{fields:i.found.fields}});return Un.newFoundDocument(r,s,d,f)}(n,t):"missing"in t?function(e,i){bt(!!i.missing),bt(!!i.readTime);const r=Bs(e,i.missing),s=bi(i.readTime);return Un.newNoDocument(r,s)}(n,t):it()}(f.Tt,L);k.set(U.key.toString(),U)});const V=[];return d.forEach(L=>{const U=k.get(L.toString());bt(!!U),V.push(U)}),V}),function(s,d){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Vs(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,ce.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=Ye.fromPath(r);t.mutations.push(new Ul(s,t.precondition(s)))}),yield(i=(0,ce.Z)(function*(r,s){const d=rt(r),f=Sf(d.Tt)+"/documents",_={writes:s.map(b=>If(d.Tt,b))};yield d.lo("Commit",f,_)}),function(r,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw it();e=Ct.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Oe(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Ct.min())?Xn.exists(!1):Xn.updateTime(e):Xn.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Ct.min()))throw new Oe(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xn.updateTime(e)}return Xn.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class cC{constructor(t,e,i,r,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=s,this.Mc=i.maxAttempts,this.ko=new Ub(this.asyncQueue,"transaction_retry")}run(){this.Mc-=1,this.Oc()}Oc(){var t=this;this.ko.vo((0,ce.Z)(function*(){const e=new v1(t.datastore),i=t.Fc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.Bc(s)}))}).catch(r=>{t.Bc(r)})}))}Fc(t){try{const e=this.updateFunction(t);return!df(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Bc(t){this.Mc>0&&this.Lc(t)?(this.Mc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(t)}Lc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!zv(e)}return!1}}class tT{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=yi.UNAUTHENTICATED,this.clientId=fx.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var d=(0,ce.Z)(function*(f){Ne("FirestoreClient","Received user=",f.uid),yield s.authCredentialListener(f),s.user=f});return function(f){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(i,d=>(Ne("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var t=this;return(0,ce.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ce.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Hf(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function g0(n,t){return Yl.apply(this,arguments)}function Yl(){return Yl=(0,ce.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,ce.Z)(function*(s){i.isEqual(s)||(yield MD(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),Yl.apply(this,arguments)}function lC(n,t){return X_.apply(this,arguments)}function X_(){return X_=(0,ce.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield $p(n);Ne("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>UE(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>UE(t.remoteStore,s)),n.onlineComponents=t}),X_.apply(this,arguments)}function $p(n){return dC.apply(this,arguments)}function dC(){return dC=(0,ce.Z)(function*(n){return n.offlineComponents||(Ne("FirestoreClient","Using default OfflineComponentProvider"),yield g0(n,new sC)),n.offlineComponents}),dC.apply(this,arguments)}function J_(n){return uC.apply(this,arguments)}function uC(){return uC=(0,ce.Z)(function*(n){return n.onlineComponents||(Ne("FirestoreClient","Using default OnlineComponentProvider"),yield lC(n,new Q_)),n.onlineComponents}),uC.apply(this,arguments)}function hC(n){return $p(n).then(t=>t.persistence)}function ey(n){return $p(n).then(t=>t.localStore)}function _0(n){return J_(n).then(t=>t.remoteStore)}function ty(n){return J_(n).then(t=>t.syncEngine)}function Yf(n){return ny.apply(this,arguments)}function ny(){return ny=(0,ce.Z)(function*(n){const t=yield J_(n),e=t.eventManager;return e.onListen=Ia.bind(null,t.syncEngine),e.onUnlisten=ZD.bind(null,t.syncEngine),e}),ny.apply(this,arguments)}function v0(n,t,e={}){const i=new or;return n.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function(r,s,d,f,_){const b=new Uu({next:k=>{s.enqueueAndForget(()=>U_(r,E));const V=k.docs.has(d);!V&&k.fromCache?_.reject(new Oe(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&k.fromCache&&f&&"server"===f.source?_.reject(new Oe(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(k)},error:k=>_.reject(k)}),E=new H_(yu(d.path),b,{includeMetadataChanges:!0,$u:!0});return Jb(r,E)}(yield Yf(n),n.asyncQueue,t,e,i)})),i.promise}function b0(n,t,e={}){const i=new or;return n.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function(r,s,d,f,_){const b=new Uu({next:k=>{s.enqueueAndForget(()=>U_(r,E)),k.fromCache&&"server"===f.source?_.reject(new Oe(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(k)},error:k=>_.reject(k)}),E=new H_(d,b,{includeMetadataChanges:!0,$u:!0});return Jb(r,E)}(yield Yf(n),n.asyncQueue,t,e,i)})),i.promise}const _C=new Map;function w0(n,t,e){if(!e)throw new Oe(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function oT(n,t,e,i){if(!0===t&&!0===i)throw new Oe(fe.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function x0(n){if(!Ye.isDocumentKey(n))throw new Oe(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function sT(n){if(Ye.isDocumentKey(n))throw new Oe(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function E0(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":it()}function un(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Oe(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=E0(n);throw new Oe(fe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function aT(n,t){if(t<=0)throw new Oe(fe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class cT{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Oe(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Oe(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,oT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class iy{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Oe(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Oe(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cT(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new ux;switch(e.type){case"gapi":return new RI(e.client,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Oe(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=_C.get(t);e&&(Ne("ComponentProvider","Removing Datastore"),_C.delete(t),e.terminate())}(this),Promise.resolve()}}function lT(n,t,e,i={}){var r;const s=(n=un(n,iy))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&hu("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let d,f;if("string"==typeof i.mockUserToken)d=i.mockUserToken,f=yi.MOCK_USER;else{d=(0,qt.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Oe(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new yi(_)}n._authCredentials=new AI(new yv(d,f))}}class Jn{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Jn(this.firestore,t,this._key)}}class Ni{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Ni(this.firestore,t,this._query)}}class Dc extends Ni{constructor(t,e,i){super(t,e,yu(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Jn(this.firestore,null,new Ye(t))}withConverter(t){return new Dc(this.firestore,t,this._path)}}function C0(n,t,...e){if(n=(0,qt.m9)(n),w0("collection","path",t),n instanceof iy){const i=et.fromString(t,...e);return sT(i),new Dc(n,null,i)}{if(!(n instanceof Jn||n instanceof Dc))throw new Oe(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(et.fromString(t,...e));return sT(i),new Dc(n.firestore,null,i)}}function ju(n,t,...e){if(n=(0,qt.m9)(n),1===arguments.length&&(t=fx.R()),w0("doc","path",t),n instanceof iy){const i=et.fromString(t,...e);return x0(i),new Jn(n,null,new Ye(i))}{if(!(n instanceof Jn||n instanceof Dc))throw new Oe(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(et.fromString(t,...e));return x0(i),new Jn(n.firestore,n instanceof Dc?n.converter:null,new Ye(i))}}function S0(n,t){return n=(0,qt.m9)(n),t=(0,qt.m9)(t),(n instanceof Jn||n instanceof Dc)&&(t instanceof Jn||t instanceof Dc)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function yC(n,t){return n=(0,qt.m9)(n),t=(0,qt.m9)(t),n instanceof Ni&&t instanceof Ni&&n.firestore===t.firestore&&dp(n._query,t._query)&&n.converter===t.converter}class I0{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new Ub(this,"async_queue_retry"),this.Hc=()=>{const e=L_();e&&Ne("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ko.Vo()};const t=L_();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Jc(),this.Yc(t)}enterRestrictedMode(t){if(!this.Kc){this.Kc=!0,this.zc=t||!1;const e=L_();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Hc)}}enqueue(t){if(this.Jc(),this.Kc)return new Promise(()=>{});const e=new or;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Uc.push(t),this.Zc()))}Zc(){var t=this;return(0,ce.Z)(function*(){if(0!==t.Uc.length){try{yield t.Uc[0](),t.Uc.shift(),t.ko.reset()}catch(e){if(!fu(e))throw e;Ne("AsyncQueue","Operation failed with retryable error: "+e)}t.Uc.length>0&&t.ko.vo(()=>t.Zc())}})()}Yc(t){const e=this.qc.then(()=>(this.jc=!0,t().catch(i=>{throw this.Qc=i,this.jc=!1,ki("INTERNAL UNHANDLED ERROR: ",function(s){let d=s.message||"";return s.stack&&(d=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),d}(i)),i}).then(i=>(this.jc=!1,i))));return this.qc=e,e}enqueueAfterDelay(t,e,i){this.Jc(),this.Wc.indexOf(t)>-1&&(e=0);const r=Xb.createAndSchedule(this,t,e,i,s=>this.Xc(s));return this.Gc.push(r),r}Jc(){this.Qc&&it()}verifyOperationInProgress(){}ta(){var t=this;return(0,ce.Z)(function*(){let e;do{e=t.qc,yield e}while(e!==t.qc)})()}ea(t){for(const e of this.Gc)if(e.timerId===t)return!0;return!1}na(t){return this.ta().then(()=>{this.Gc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Gc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.ta()})}sa(t){this.Wc.push(t)}Xc(t){const e=this.Gc.indexOf(t);this.Gc.splice(e,1)}}function oy(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class dT{constructor(){this._progressObserver={},this._taskCompletionResolver=new or,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Gn extends iy{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new I0,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||vC(this),this._firestoreClient.terminate()}}function uT(n,t){const e="object"==typeof n?n:(0,ci.getApp)(),i="string"==typeof n?n:t||"(default)",r=(0,ci._getProvider)(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=(0,qt.P0)("firestore");s&&lT(r,...s)}return r}function ei(n){return n._firestoreClient||vC(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function vC(n){var t;const e=n._freezeSettings(),i=(s=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new $I(n._databaseId,s,n._persistenceKey,(f=e).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var s,f;n._firestoreClient=new tT(n._authCredentials,n._appCheckCredentials,n._queue,i)}function hT(n,t,e){const i=new or;return n.asyncQueue.enqueue((0,ce.Z)(function*(){try{yield g0(n,e),yield lC(n,t),i.resolve()}catch(r){const s=r;if(!("FirebaseError"===(d=s).name?d.code===fe.FAILED_PRECONDITION||d.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw s;hu("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s)}var d})).then(()=>i.promise)}function gT(n){if(n._initialized||n._terminated)throw new Oe(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ds{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ds(sr.fromBase64String(t))}catch(e){throw new Oe(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new ds(sr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Tc{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Oe(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ui(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class cr{constructor(t){this._methodName=t}}class sy{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Oe(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Oe(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Zt(this._lat,t._lat)||Zt(this._long,t._long)}}const D0=/^__.*__$/;class yT{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new go(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ls(t,this.data,e,this.fieldTransforms)}}class xC{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new go(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function ay(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw it()}}class Gp{constructor(t,e,i,r,s,d){this.settings=t,this.databaseId=e,this.Tt=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ia(),this.fieldTransforms=s||[],this.fieldMask=d||[]}get path(){return this.settings.path}get ra(){return this.settings.ra}oa(t){return new Gp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ua(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.oa({path:i,ca:!1});return r.aa(t),r}ha(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.oa({path:i,ca:!1});return r.ia(),r}la(t){return this.oa({path:void 0,ca:!0})}fa(t){return Zp(t,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ia(){if(this.path)for(let t=0;t<this.path.length;t++)this.aa(this.path.get(t))}aa(t){if(0===t.length)throw this.fa("Document fields must not be empty");if(ay(this.ra)&&D0.test(t))throw this.fa('Document fields cannot begin and end with "__"')}}class EC{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.Tt=i||kp(t)}wa(t,e,i,r=!1){return new Gp({ra:t,methodName:e,_a:i,path:ui.emptyPath(),ca:!1,da:r},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}function zu(n){const t=n._freezeSettings(),e=kp(n._databaseId);return new EC(n._databaseId,!!t.ignoreUndefinedProperties,e)}function qp(n,t,e,i,r,s={}){const d=n.wa(s.merge||s.mergeFields?2:0,t,e,r);k0("Data must be an object, but it was:",d,i);const f=SC(i,d);let _,b;if(s.merge)_=new No(d.fieldMask),b=d.fieldTransforms;else if(s.mergeFields){const E=[];for(const k of s.mergeFields){const V=Wp(t,k,e);if(!d.contains(V))throw new Oe(fe.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);xT(E,V)||E.push(V)}_=new No(E),b=d.fieldTransforms.filter(k=>_.covers(k.field))}else _=null,b=d.fieldTransforms;return new yT(new Pi(f),_,b)}class Qf extends cr{_toFieldTransform(t){if(2!==t.ra)throw t.fa(1===t.ra?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Qf}}function CC(n,t,e){return new Gp({ra:3,_a:t.settings._a,methodName:n._methodName,ca:e},t.databaseId,t.Tt,t.ignoreUndefinedProperties)}class cy extends cr{_toFieldTransform(t){return new fp(t.path,new yf)}isEqual(t){return t instanceof cy}}class vT extends cr{constructor(t,e){super(t),this.ma=e}_toFieldTransform(t){const e=CC(this,t,!0),i=this.ma.map(s=>Ql(s,e)),r=new Ll(i);return new fp(t.path,r)}isEqual(t){return this===t}}class T0 extends cr{constructor(t,e){super(t),this.ma=e}_toFieldTransform(t){const e=CC(this,t,!0),i=this.ma.map(s=>Ql(s,e)),r=new vu(i);return new fp(t.path,r)}isEqual(t){return this===t}}class kc extends cr{constructor(t,e){super(t),this.ga=e}_toFieldTransform(t){const e=new bu(t.Tt,kx(t.Tt,this.ga));return new fp(t.path,e)}isEqual(t){return this===t}}function Ta(n,t,e,i){const r=n.wa(1,t,e);k0("Data must be an object, but it was:",r,i);const s=[],d=Pi.empty();mu(i,(_,b)=>{const E=uy(t,_,e);b=(0,qt.m9)(b);const k=r.ha(E);if(b instanceof Qf)s.push(E);else{const V=Ql(b,k);null!=V&&(s.push(E),d.set(E,V))}});const f=new No(s);return new xC(d,f,r.fieldTransforms)}function ly(n,t,e,i,r,s){const d=n.wa(1,t,e),f=[Wp(t,i,e)],_=[r];if(s.length%2!=0)throw new Oe(fe.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<s.length;V+=2)f.push(Wp(t,s[V])),_.push(s[V+1]);const b=[],E=Pi.empty();for(let V=f.length-1;V>=0;--V)if(!xT(b,f[V])){const L=f[V];let U=_[V];U=(0,qt.m9)(U);const Y=d.ha(L);if(U instanceof Qf)b.push(L);else{const he=Ql(U,Y);null!=he&&(b.push(L),E.set(L,he))}}const k=new No(b);return new xC(E,k,d.fieldTransforms)}function dy(n,t,e,i=!1){return Ql(e,n.wa(i?4:3,t))}function Ql(n,t){if(bT(n=(0,qt.m9)(n)))return k0("Unsupported field value:",t,n),SC(n,t);if(n instanceof cr)return function(e,i){if(!ay(i.ra))throw i.fa(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.fa(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.ca&&4!==t.ra)throw t.fa("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const d of e){let f=Ql(d,i.la(s));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,qt.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return kx(i.Tt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Yn.fromDate(e);return{timestampValue:Ef(i.Tt,r)}}if(e instanceof Yn){const r=new Yn(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ef(i.Tt,r)}}if(e instanceof sy)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ds)return{bytesValue:Kv(i.Tt,e._byteString)};if(e instanceof Jn){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i.fa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:v_(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.fa(`Unsupported field value: ${E0(e)}`)}(n,t)}function SC(n,t){const e={};return Iv(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):mu(n,(i,r)=>{const s=Ql(r,t.ua(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function bT(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Yn||n instanceof sy||n instanceof ds||n instanceof Jn||n instanceof cr)}function k0(n,t,e){if(!bT(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=E0(e);throw t.fa("an object"===i?n+" a custom object":n+" "+i)}var i}function Wp(n,t,e){if((t=(0,qt.m9)(t))instanceof Tc)return t._internalPath;if("string"==typeof t)return uy(n,t);throw Zp("Field path arguments must be of type string or ",n,!1,void 0,e)}const wT=new RegExp("[~\\*/\\[\\]]");function uy(n,t,e){if(t.search(wT)>=0)throw Zp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Tc(...t.split("."))._internalPath}catch{throw Zp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Zp(n,t,e,i,r){const s=i&&!i.isEmpty(),d=void 0!==r;let f=`Function ${t}() called with invalid data`;e&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(s||d)&&(_+=" (found",s&&(_+=` in field ${i}`),d&&(_+=` in document ${r}`),_+=")"),new Oe(fe.INVALID_ARGUMENT,f+n+_)}function xT(n,t){return n.some(e=>e.isEqual(t))}class Xf{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new ET(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Kp("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class ET extends Xf{data(){return super.data()}}function Kp(n,t){return"string"==typeof t?uy(n,t):t instanceof Tc?t._internalPath:t._delegate._internalPath}function CT(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Oe(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yp{}class Jf extends Yp{}function Ac(n,t,...e){let i=[];t instanceof Yp&&i.push(t),i=i.concat(e),function(r){const s=r.filter(f=>f instanceof Hu).length,d=r.filter(f=>f instanceof em).length;if(s>1||s>0&&d>0)throw new Oe(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class em extends Jf{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new em(t,e,i)}_apply(t){const e=this._parse(t);return MT(t._query,e),new Ni(t.firestore,t.converter,Lv(t._query,e))}_parse(t){const e=zu(t.firestore);return function(r,s,d,f,_,b,E){let k;if(_.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Oe(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){AT(E,b);const V=[];for(const L of E)V.push(kT(f,r,L));k={arrayValue:{values:V}}}else k=kT(f,r,E)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||AT(E,b),k=dy(d,"where",E,"in"===b||"not-in"===b);return on.create(_,b,k)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class Hu extends Yp{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Hu(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:In.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,r){let s=i;const d=r.getFlattenedFilters();for(const f of d)MT(s,f),s=Lv(s,f)}(t._query,e),new Ni(t.firestore,t.converter,Lv(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class hy extends Jf{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new hy(t,e)}_apply(t){const e=function(i,r,s){if(null!==i.startAt)throw new Oe(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Oe(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new pf(r,s);return function(f,_){if(null===Pv(f)){const b=Nl(f);null!==b&&TC(0,b,_.field)}}(i,d),d}(t._query,this._field,this._direction);return new Ni(t.firestore,t.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new wc(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class fy extends Jf{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new fy(t,e,i)}_apply(t){return new Ni(t.firestore,t.converter,d_(t._query,this._limit,this._limitType))}}class R0 extends Jf{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new R0(t,e,i)}_apply(t){const e=TT(t,this.type,this._docOrFields,this._inclusive);return new Ni(t.firestore,t.converter,(r=e,new wc((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class my extends Jf{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new my(t,e,i)}_apply(t){const e=TT(t,this.type,this._docOrFields,this._inclusive);return new Ni(t.firestore,t.converter,(r=e,new wc((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function TT(n,t,e,i){if(e[0]=(0,qt.m9)(e[0]),e[0]instanceof Xf)return function(r,s,d,f,_){if(!f)throw new Oe(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const b=[];for(const E of _f(r))if(E.field.isKeyField())b.push(Ol(s,f.key));else{const k=f.data.field(E.field);if(Tv(k))throw new Oe(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===k){const V=E.field.canonicalString();throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}b.push(k)}return new Fl(b,_)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=zu(n.firestore);return function(s,d,f,_,b,E){const k=s.explicitOrderBy;if(b.length>k.length)throw new Oe(fe.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let L=0;L<b.length;L++){const U=b[L];if(k[L].field.isKeyField()){if("string"!=typeof U)throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof U}`);if(!Nv(s)&&-1!==U.indexOf("/"))throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${U}' contains a slash.`);const Y=s.path.child(et.fromString(U));if(!Ye.isDocumentKey(Y))throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${Y}' is not because it contains an odd number of segments.`);const he=new Ye(Y);V.push(Ol(d,he))}else{const Y=dy(f,_,U);V.push(Y)}}return new Fl(V,E)}(n._query,n.firestore._databaseId,r,t,e,i)}}function kT(n,t,e){if("string"==typeof(e=(0,qt.m9)(e))){if(""===e)throw new Oe(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nv(t)&&-1!==e.indexOf("/"))throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(et.fromString(e));if(!Ye.isDocumentKey(i))throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ol(n,new Ye(i))}if(e instanceof Jn)return Ol(n,e._key);throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${E0(e)}.`)}function AT(n,t){if(!Array.isArray(n)||0===n.length)throw new Oe(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function MT(n,t){if(t.isInequality()){const i=Nl(n),r=t.field;if(null!==i&&!i.isEqual(r))throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=Pv(n);null!==s&&TC(0,r,s)}const e=function(i,r){for(const s of i)for(const d of s.getFlattenedFilters())if(r.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Oe(fe.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function TC(n,t,e){if(!e.isEqual(t))throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class O0{convertValue(t,e="none"){switch(Ns(t)){case 0:return null;case 1:return t.booleanValue;case 2:return vi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(kl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw it()}}convertObject(t,e){const i={};return mu(t.fields,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new sy(vi(t.latitude),vi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=_x(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Al(t));default:return null}}convertTimestamp(t){const e=yc(t);return new Yn(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=et.fromString(t);bt(ib(i));const r=new Tl(i.get(1),i.get(3)),s=new Ye(i.popFirst(5));return r.isEqual(e)||ki(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function py(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class kC extends O0{constructor(t){super(),this.firestore=t}convertBytes(t){return new ds(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Jn(this.firestore,null,e)}}class Mc{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class js extends Xf{constructor(t,e,i,r,s,d){super(t,e,i,r,d),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Xl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(Kp("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Xl extends js{data(t={}){return super.data(t)}}class $u{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Mc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Xl(this._firestore,this._userDataWriter,i.key,i,new Mc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Oe(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(d=>({type:"added",doc:new Xl(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Mc(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(d=>r||3!==d.type).map(d=>{const f=new Xl(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Mc(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,b=-1;return 0!==d.type&&(_=s.indexOf(d.doc.key),s=s.delete(d.doc.key)),1!==d.type&&(s=s.add(d.doc),b=s.indexOf(d.doc.key)),{type:A1(d.type),doc:f,oldIndex:_,newIndex:b}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function A1(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return it()}}function OT(n,t){return n instanceof js&&t instanceof js?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof $u&&t instanceof $u&&n._firestore===t._firestore&&yC(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function MC(n){n=un(n,Jn);const t=un(n.firestore,Gn);return v0(ei(t),n._key).then(e=>gy(t,n,e))}class Rc extends O0{constructor(t){super(),this.firestore=t}convertBytes(t){return new ds(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Jn(this.firestore,null,e)}}function P0(n,t,e){n=un(n,Jn);const i=un(n.firestore,Gn),r=py(n.converter,t,e);return Xp(i,[qp(zu(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Xn.none())])}function N0(n,t,e,...i){n=un(n,Jn);const r=un(n.firestore,Gn),s=zu(r);let d;return d="string"==typeof(t=(0,qt.m9)(t))||t instanceof Tc?ly(s,"updateDoc",n._key,t,e,i):Ta(s,"updateDoc",n._key,t),Xp(r,[d.toMutation(n._key,Xn.exists(!0))])}function L0(n,...t){var e,i,r;n=(0,qt.m9)(n);let s={includeMetadataChanges:!1},d=0;"object"!=typeof t[d]||oy(t[d])||(s=t[d],d++);const f={includeMetadataChanges:s.includeMetadataChanges};if(oy(t[d])){const k=t[d];t[d]=null===(e=k.next)||void 0===e?void 0:e.bind(k),t[d+1]=null===(i=k.error)||void 0===i?void 0:i.bind(k),t[d+2]=null===(r=k.complete)||void 0===r?void 0:r.bind(k)}let _,b,E;if(n instanceof Jn)b=un(n.firestore,Gn),E=yu(n._key.path),_={next:k=>{t[d]&&t[d](gy(b,n,k))},error:t[d+1],complete:t[d+2]};else{const k=un(n,Ni);b=un(k.firestore,Gn),E=k._query;const V=new Rc(b);_={next:L=>{t[d]&&t[d](new $u(b,V,k,L))},error:t[d+1],complete:t[d+2]},CT(n._query)}return function(k,V,L,U){const Y=new Uu(U),he=new H_(V,Y,L);return k.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return Jb(yield Yf(k),he)})),()=>{Y.bc(),k.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return U_(yield Yf(k),he)}))}}(ei(b),E,f,_)}function Xp(n,t){return function(e,i){const r=new or;return e.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function KD(n,t,e){return Wf.apply(this,arguments)}(yield ty(e),i,r)})),r.promise}(ei(n),t)}function gy(n,t,e){const i=e.docs.get(t._key),r=new Rc(n);return new js(n,r,t._key,i,new Mc(e.hasPendingWrites,e.fromCache),t.converter)}const jT={maxAttempts:5};class zT{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=zu(t)}set(t,e,i){this._verifyNotCommitted();const r=Gu(t,this._firestore),s=py(r.converter,e,i),d=qp(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(d.toMutation(r._key,Xn.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=Gu(t,this._firestore);let d;return d="string"==typeof(e=(0,qt.m9)(e))||e instanceof Tc?ly(this._dataReader,"WriteBatch.update",s._key,e,i,r):Ta(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(d.toMutation(s._key,Xn.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Gu(t,this._firestore);return this._mutations=this._mutations.concat(new Vs(e._key,Xn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Gu(n,t){if((n=(0,qt.m9)(n)).firestore!==t)throw new Oe(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class HT extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=zu(t)}get(t){const e=Gu(t,this._firestore),i=new kC(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return it();const s=r[0];if(s.isFoundDocument())return new Xf(this._firestore,i,s.key,s,e.converter);if(s.isNoDocument())return new Xf(this._firestore,i,e._key,null,e.converter);throw it()})}set(t,e,i){const r=Gu(t,this._firestore),s=py(r.converter,e,i),d=qp(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,d),this}update(t,e,i,...r){const s=Gu(t,this._firestore);let d;return d="string"==typeof(e=(0,qt.m9)(e))||e instanceof Tc?ly(this._dataReader,"Transaction.update",s._key,e,i,r):Ta(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,d),this}delete(t){const e=Gu(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Gu(t,this._firestore),i=new Rc(this._firestore);return super.get(t).then(r=>new js(this._firestore,i,e._key,r._document,new Mc(!1,!1),e.converter))}}!function(n,t=!0){af=ci.SDK_VERSION,(0,ci._registerComponent)(new zr.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const s=e.getProvider("app").getImmediate(),d=new Gn(new hx(e.getProvider("auth-internal")),new OI(e.getProvider("app-check-internal")),function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Oe(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tl(f.options.projectId,_)}(s,i),s);return r=Object.assign({useFetchStreams:t},r),d._setSettings(r),d},"PUBLIC").setMultipleInstances(!0)),(0,ci.registerVersion)(Qg,"3.9.0",n),(0,ci.registerVersion)(Qg,"3.9.0","esm2017")}();function FC(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function WT(){if(typeof Uint8Array>"u")throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function o(){if(!function qI(){return typeof atob<"u"}())throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}class c{constructor(t){this._delegate=t}static fromBase64String(t){return o(),new c(ds.fromBase64String(t))}static fromUint8Array(t){return WT(),new c(ds.fromUint8Array(t))}toBase64(){return o(),this._delegate.toBase64()}toUint8Array(){return WT(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function l(n){return function u(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class h{enableIndexedDbPersistence(t,e){return function x1(n,t){gT(n=un(n,Gn));const e=ei(n),i=n._freezeSettings(),r=new Q_;return hT(e,r,new aC(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function E1(n){gT(n=un(n,Gn));const t=ei(n),e=n._freezeSettings(),i=new Q_;return hT(t,i,new f0(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function fT(n){if(n._initialized&&!n._terminated)throw new Oe(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new or;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ce.Z)(function*(){try{yield(e=(0,ce.Z)(function*(i){if(!ya.C())return Promise.resolve();const r=i+"main";yield ya.delete(r)}),function(i){return e.apply(this,arguments)})(F_(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class p{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Tl||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&hu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){lT(this._delegate,t,e,i)}enableNetwork(){return function pT(n){return function fC(n){return n.asyncQueue.enqueue((0,ce.Z)(function*(){const t=yield hC(n),e=yield _0(n);return t.setNetworkEnabled(!0),function(i){const r=rt(i);return r.mu.delete(0),Ap(r)}(e)}))}(ei(n=un(n,Gn)))}(this._delegate)}disableNetwork(){return function C1(n){return function nT(n){return n.asyncQueue.enqueue((0,ce.Z)(function*(){const t=yield hC(n),e=yield _0(n);return t.setNetworkEnabled(!1),(i=(0,ce.Z)(function*(r){const s=rt(r);s.mu.add(0),yield Bf(s),s.pu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(ei(n=un(n,Gn)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,oT("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function mT(n){return function(t){const e=new or;return t.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function QE(n,t){return Up.apply(this,arguments)}(yield ty(t),e)})),e.promise}(ei(n=un(n,Gn)))}(this._delegate)}onSnapshotsInSync(t){return function V0(n,t){return function mC(n,t){const e=new Uu(t);return n.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return i=yield Yf(n),r=e,rt(i).vu.add(r),void r.next();var i,r})),()=>{e.bc(),n.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return i=yield Yf(n),r=e,void rt(i).vu.delete(r);var i,r}))}}(ei(n=un(n,Gn)),oy(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Pt(this,C0(this._delegate,t))}catch(e){throw q(e,"collection()","Firestore.collection()")}}doc(t){try{return new B(this,ju(this._delegate,t))}catch(e){throw q(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Qe(this,function ry(n,t){if(n=un(n,iy),w0("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Oe(fe.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ni(n,null,(e=t,new wc(et.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw q(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function $T(n,t,e){n=un(n,Gn);const i=Object.assign(Object.assign({},jT),e);return function(r){if(r.maxAttempts<1)throw new Oe(fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,d){const f=new or;return r.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){const _=yield function y0(n){return J_(n).then(t=>t.datastore)}(r);new cC(r.asyncQueue,_,d,s,f).run()})),f.promise}(ei(n),r=>t(new HT(n,r)),i)}(this._delegate,e=>t(new C(this,e)))}batch(){return ei(this._delegate),new T(new zT(this._delegate,t=>Xp(this._delegate,t)))}loadBundle(t){return function bC(n,t){const e=ei(n=un(n,Gn)),i=new dT;return function pC(n,t,e,i){const r=function(s,d){let f;return f="string"==typeof s?(new TextEncoder).encode(s):s,_=function(_,b){if(_ instanceof Uint8Array)return m0(_,b);if(_ instanceof ArrayBuffer)return m0(new Uint8Array(_),b);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new p0(_,d);var _}(e,kp(t));n.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){!function eT(n,t,e){const i=rt(n);var r;(r=(0,ce.Z)(function*(s,d,f){try{const _=yield d.getMetadata();if(yield function(V,L){const U=rt(V),Y=bi(L.createTime);return U.persistence.runTransaction("hasNewerBundle","readonly",he=>U.$s.getBundleMetadata(he,L.id)).then(he=>!!he&&he.createTime.compareTo(Y)>=0)}(s.localStore,_))return yield d.close(),f._completeWith({taskState:"Success",documentsLoaded:(V=_).totalDocuments,bytesLoaded:V.totalBytes,totalDocuments:V.totalDocuments,totalBytes:V.totalBytes}),Promise.resolve(new Set);f._updateProgress(e0(_));const b=new GE(_,s.localStore,d.Tt);let E=yield d.yc();for(;E;){const V=yield b.Bu(E);V&&f._updateProgress(V),E=yield d.yc()}const k=yield b.complete();return yield Da(s,k.Uu,void 0),yield function(V,L){const U=rt(V);return U.persistence.runTransaction("Save bundle","readwrite",Y=>U.$s.saveBundleMetadata(Y,L))}(s.localStore,_),f._completeWith(k.progress),Promise.resolve(k.qu)}catch(_){return hu("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var V}),function(s,d,f){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield ty(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function wC(n,t){return function gC(n,t){return n.asyncQueue.enqueue((0,ce.Z)(function*(){return function(e,i){const r=rt(e);return r.persistence.runTransaction("Get named query","readonly",s=>r.$s.getNamedQuery(s,i))}(yield ey(n),t)}))}(ei(n=un(n,Gn)),t).then(e=>e?new Ni(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Qe(this,e):null)}}class v extends O0{constructor(t){super(),this.firestore=t}convertBytes(t){return new c(new ds(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return B.forKey(e,this.firestore,null)}}class C{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new v(t)}get(t){const e=En(t);return this._delegate.get(e).then(i=>new Ve(this._firestore,new js(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=En(t);return i?(FC("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=En(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=En(t);return this._delegate.delete(e),this}}class T{constructor(t){this._delegate=t}set(t,e,i){const r=En(t);return i?(FC("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=En(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=En(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class M{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new Xl(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Ke(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=M.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new M(t,new v(t),e),r.set(e,s)),s}}M.INSTANCES=new WeakMap;class B{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new v(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new B(e,new Jn(e._delegate,i,new Ye(t)))}static forKey(t,e,i){return new B(e,new Jn(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new Pt(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Pt(this.firestore,C0(this._delegate,t))}catch(e){throw q(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,qt.m9)(t))instanceof Jn&&S0(this._delegate,t)}set(t,e){e=FC("DocumentReference.set",e);try{return e?P0(this._delegate,t,e):P0(this._delegate,t)}catch(i){throw q(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?N0(this._delegate,t):N0(this._delegate,t,e,...i)}catch(r){throw q(r,"updateDoc()","DocumentReference.update()")}}delete(){return function VT(n){return Xp(un(n.firestore,Gn),[new Vs(n._key,Xn.none())])}(this._delegate)}onSnapshot(...t){const e=ee(t),i=xe(t,r=>new Ve(this.firestore,new js(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return L0(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function FT(n){n=un(n,Jn);const t=un(n.firestore,Gn),e=ei(t),i=new Rc(t);return function iT(n,t){const e=new or;return n.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return(i=(0,ce.Z)(function*(r,s,d){try{const f=yield function(_,b){const E=rt(_);return E.persistence.runTransaction("read document","readonly",k=>E.localDocuments.getDocument(k,b))}(r,s);f.isFoundDocument()?d.resolve(f):f.isNoDocument()?d.resolve(null):d.reject(new Oe(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=Hf(f,`Failed to get document '${s} from cache`);d.reject(_)}}),function(r,s,d){return i.apply(this,arguments)})(yield ey(n),t,e);var i})),e.promise}(e,n._key).then(r=>new js(t,i,n._key,r,new Mc(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function PT(n){n=un(n,Jn);const t=un(n.firestore,Gn);return v0(ei(t),n._key,{source:"server"}).then(e=>gy(t,n,e))}(this._delegate):MC(this._delegate),e.then(i=>new Ve(this.firestore,new js(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new B(this.firestore,this._delegate.withConverter(t?M.getInstance(this.firestore,t):null))}}function q(n,t,e){return n.message=n.message.replace(t,e),n}function ee(n){for(const t of n)if("object"==typeof t&&!l(t))return t;return{}}function xe(n,t){var e,i;let r;return r=l(n[0])?n[0]:l(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Ve{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new B(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return OT(this._delegate,t._delegate)}}class Ke extends Ve{data(t){const e=this._delegate.data(t);return function kI(n,t){n||it()}(void 0!==e),e}}class Qe{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new v(t)}where(t,e,i){try{return new Qe(this.firestore,Ac(this._delegate,function IC(n,t,e){const i=t,r=Kp("where",n);return em._create(r,i,e)}(t,e,i)))}catch(r){throw q(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Qe(this.firestore,Ac(this._delegate,function ST(n,t="asc"){const e=t,i=Kp("orderBy",n);return hy._create(i,e)}(t,e)))}catch(i){throw q(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Qe(this.firestore,Ac(this._delegate,function I1(n){return aT("limit",n),fy._create("limit",n,"F")}(t)))}catch(e){throw q(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Qe(this.firestore,Ac(this._delegate,function D1(n){return aT("limitToLast",n),fy._create("limitToLast",n,"L")}(t)))}catch(e){throw q(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Qe(this.firestore,Ac(this._delegate,function DC(...n){return R0._create("startAt",n,!0)}(...t)))}catch(e){throw q(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Qe(this.firestore,Ac(this._delegate,function IT(...n){return R0._create("startAfter",n,!1)}(...t)))}catch(e){throw q(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Qe(this.firestore,Ac(this._delegate,function DT(...n){return my._create("endBefore",n,!1)}(...t)))}catch(e){throw q(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Qe(this.firestore,Ac(this._delegate,function T1(...n){return my._create("endAt",n,!0)}(...t)))}catch(e){throw q(e,"endAt()","Query.endAt()")}}isEqual(t){return yC(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function LT(n){n=un(n,Ni);const t=un(n.firestore,Gn),e=ei(t),i=new Rc(t);return function rT(n,t){const e=new or;return n.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return(i=(0,ce.Z)(function*(r,s,d){try{const f=yield P_(r,s,!0),_=new ZE(s,f.Yi),b=_.Hu(f.documents),E=_.applyChanges(b,!1);d.resolve(E.snapshot)}catch(f){const _=Hf(f,`Failed to execute query '${s} against cache`);d.reject(_)}}),function(r,s,d){return i.apply(this,arguments)})(yield ey(n),t,e);var i})),e.promise}(e,n._query).then(r=>new $u(t,i,n,r))}(this._delegate):"server"===t?.source?function RC(n){n=un(n,Ni);const t=un(n.firestore,Gn),e=ei(t),i=new Rc(t);return b0(e,n._query,{source:"server"}).then(r=>new $u(t,i,n,r))}(this._delegate):function NT(n){n=un(n,Ni);const t=un(n.firestore,Gn),e=ei(t),i=new Rc(t);return CT(n._query),b0(e,n._query).then(r=>new $u(t,i,n,r))}(this._delegate),e.then(i=>new Fe(this.firestore,new $u(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=ee(t),i=xe(t,r=>new Fe(this.firestore,new $u(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return L0(this._delegate,e,i)}withConverter(t){return new Qe(this.firestore,this._delegate.withConverter(t?M.getInstance(this.firestore,t):null))}}class Rt{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Ke(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Fe{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Qe(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Ke(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new Rt(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new Ke(this._firestore,i))})}isEqual(t){return OT(this._delegate,t._delegate)}}class Pt extends Qe{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new B(this.firestore,t):null}doc(t){try{return new B(this.firestore,void 0===t?ju(this._delegate):ju(this._delegate,t))}catch(e){throw q(e,"doc()","CollectionReference.doc()")}}add(t){return function BT(n,t){const e=un(n.firestore,Gn),i=ju(n),r=py(n.converter,t);return Xp(e,[qp(zu(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Xn.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new B(this.firestore,e))}isEqual(t){return S0(this._delegate,t._delegate)}withConverter(t){return new Pt(this.firestore,this._delegate.withConverter(t?M.getInstance(this.firestore,t):null))}}function En(n){return un(n,Jn)}class hi{constructor(...t){this._delegate=new Tc(...t)}static documentId(){return new hi(ui.keyField().canonicalString())}isEqual(t){return(t=(0,qt.m9)(t))instanceof Tc&&this._delegate._internalPath.isEqual(t._internalPath)}}class nm{constructor(t){this._delegate=t}static serverTimestamp(){const t=function M1(){return new cy("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new nm(t)}static delete(){const t=function GT(){return new Qf("deleteField")}();return t._methodName="FieldValue.delete",new nm(t)}static arrayUnion(...t){const e=function R1(...n){return new vT("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new nm(e)}static arrayRemove(...t){const e=function O1(...n){return new T0("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new nm(e)}static increment(t){const e=function F1(n){return new kc("increment",n)}(t);return e._methodName="FieldValue.increment",new nm(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const hV={Firestore:p,GeoPoint:sy,Timestamp:Yn,Blob:c,Transaction:C,WriteBatch:T,DocumentReference:B,DocumentSnapshot:Ve,Query:Qe,QueryDocumentSnapshot:Ke,QuerySnapshot:Fe,CollectionReference:Pt,FieldPath:hi,FieldValue:nm,setLogLevel:function x(n){!function TI(n){Sl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function mV(n){(function fV(n,t){n.INTERNAL.registerComponent(new zr.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},hV)))})(n,(t,e)=>new p(t,e,new h)),n.registerVersion("@firebase/firestore-compat","0.3.5")}(nr.Z);var sn=P(7579),qu=P(6451),B0=P(5363),ka=P(8421);function kn(n,t){return(0,xn.e)((e,i)=>{let r=null,s=0,d=!1;const f=()=>d&&!r&&i.complete();e.subscribe((0,I.x)(i,_=>{r?.unsubscribe();let b=0;const E=s++;(0,ka.Xf)(n(_,E)).subscribe(r=(0,I.x)(i,k=>i.next(t?t(_,k,E,b++):k),()=>{r=null,f()}))},()=>{d=!0,f()}))})}var pV=P(6063);class gV extends sn.x{constructor(t=1/0,e=1/0,i=pV.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:d}=this;e||(i.push(t),!r&&i.push(s.now()+d)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let d=0;d<s.length&&!t.closed;d+=i?1:2)t.next(s[d]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const d=e.now();let f=0;for(let _=1;_<i.length&&i[_]<=d;_+=2)f=_;f&&i.splice(0,f+1)}}}var V1=P(3099);function B1(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,V1.B)({connector:()=>new gV(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const PC=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Jl=P(515);function us(n){return n<=0?()=>Jl.E:(0,xn.e)((t,e)=>{let i=0;t.subscribe((0,I.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function NC(n){return(0,xn.e)((t,e)=>{let i=!1;t.subscribe((0,I.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function U1(n=yV){return(0,xn.e)((t,e)=>{let i=!1;t.subscribe((0,I.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function yV(){return new PC}function Wu(n,t){const e=arguments.length>=2;return i=>i.pipe(n?We((r,s)=>n(r,s,i)):ke.y,us(1),e?NC(t):U1(()=>new PC))}var Oc=P(576);function j1(n,t){return(0,Oc.m)(t)?kn(()=>n,t):kn(()=>n)}var ZT=P(9468);P(259);const YT=new Map,H1={activated:!1,tokenObservers:[]},EV={initialized:!1,enabled:!1};function Kr(n){return YT.get(n)||Object.assign({},H1)}function LC(){return EV}const QT="https://content-firebaseappcheck.googleapis.com/v1",DV="exchangeDebugToken",$1={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class kV{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,ce.Z)(function*(){e.stop();try{e.pending=new qt.BH,yield function AV(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new qt.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Vo=new qt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ek(){return ek=(0,ce.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const k=yield r.getHeartbeatsHeader();k&&(i["X-Firebase-Client"]=k)}const s={method:"POST",body:JSON.stringify(t),headers:i};let d,f;try{d=yield fetch(n,s)}catch(k){throw Vo.create("fetch-network-error",{originalErrorMessage:k?.message})}if(200!==d.status)throw Vo.create("fetch-status-error",{httpStatus:d.status});try{f=yield d.json()}catch(k){throw Vo.create("fetch-parse-error",{originalErrorMessage:k?.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Vo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const b=1e3*Number(_[1]),E=Date.now();return{token:f.token,expireTimeMillis:E+b,issuedAtTimeMillis:E}}),ek.apply(this,arguments)}const PV="firebase-app-check-database",NV=1,j0="firebase-app-check-store";let UC=null;function tk(){return tk=(0,ce.Z)(function*(n,t){const i=(yield function W1(){return UC||(UC=new Promise((n,t)=>{try{const e=indexedDB.open(PV,NV);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(Vo.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(j0,{keyPath:"compositeKey"})}}catch(e){t(Vo.create("storage-open",{originalErrorMessage:e?.message}))}}),UC)}()).transaction(j0,"readwrite"),s=i.objectStore(j0).put({compositeKey:n,value:t});return new Promise((d,f)=>{s.onsuccess=_=>{d()},i.onerror=_=>{var b;f(Vo.create("storage-set",{originalErrorMessage:null===(b=_.target.error)||void 0===b?void 0:b.message}))}})}),tk.apply(this,arguments)}const z0=new ir.Yd("@firebase/app-check");function rk(n,t){return(0,qt.hl)()?function VV(n,t){return function Z1(n,t){return tk.apply(this,arguments)}(function Y1(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{z0.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function sk(){return sk=(0,ce.Z)(function*(){const n=LC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),sk.apply(this,arguments)}const $V={error:"UNKNOWN_ERROR"};function GV(n){return qt.US.encodeString(JSON.stringify(n),!1)}function jC(n){return ak.apply(this,arguments)}function ak(){return ak=(0,ce.Z)(function*(n,t=!1){const e=n.app;!function G1(n){if(!Kr(n).activated)throw Vo.create("use-before-activation",{appName:n.name})}(e);const i=Kr(e);let s,r=i.token;if(r&&!_y(r)&&(i.token=void 0,r=void 0),!r){const _=yield i.cachedTokenPromise;_&&(_y(_)?r=_:yield rk(e,void 0))}if(!t&&r&&_y(r))return{token:r.token};let f,d=!1;if(function Q1(){return LC().enabled}()){i.exchangeTokenPromise||(i.exchangeTokenPromise=function JT(n,t){return ek.apply(this,arguments)}(function FV(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`${QT}/projects/${e}/apps/${i}:${DV}?key=${r}`,body:{debug_token:t}}}(e,yield function X1(){return sk.apply(this,arguments)}()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),d=!0);const _=yield i.exchangeTokenPromise;return yield rk(e,_),i.token=_,{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),d=!0),r=yield Kr(e).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?z0.warn(_.message):z0.error(_),s=_}return r?s?f=_y(r)?{token:r.token,internalError:s}:tR(s):(f={token:r.token},i.token=r,yield rk(e,r)):f=tR(s),d&&function eR(n,t){const e=Kr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}(e,f),f}),ak.apply(this,arguments)}function lk(n,t){const e=Kr(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function J1(n){const{app:t}=n,e=Kr(t);let i=e.tokenRefresher;i||(i=function qV(n){const{app:t}=n;return new kV((0,ce.Z)(function*(){let i;if(i=Kr(t).token?yield jC(n,!0):yield jC(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=Kr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},$1.RETRIAL_MIN_WAIT,$1.RETRIAL_MAX_WAIT)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function _y(n){return n.expireTimeMillis-Date.now()>0}function tR(n){return{token:GV($V),error:n}}class WV{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Kr(this.app);for(const e of t)lk(this.app,e.next);return Promise.resolve()}}const lR="app-check-internal";!function aB(){(0,ci._registerComponent)(new zr.wA("app-check",n=>function ZV(n,t){return new WV(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(lR).initialize()})),(0,ci._registerComponent)(new zr.wA(lR,n=>function KV(n){return{getToken:t=>jC(n,t),addTokenListener:t=>function ck(n,t,e,i){const{app:r}=n,s=Kr(r);if(s.tokenObservers=[...s.tokenObservers,{next:e,error:i,type:t}],s.token&&_y(s.token)){const f=s.token;Promise.resolve().then(()=>{e({token:f.token}),J1(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>J1(n))}(n,"INTERNAL",t),removeTokenListener:t=>lk(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ci.registerVersion)("@firebase/app-check","0.6.4")}();class fk{constructor(){return(0,Tn.vb)("app-check")}}typeof window<"u"&&window;var uR=P(9260);const hR=new a.OlP("angularfire2.auth.use-emulator"),fR=new a.OlP("angularfire2.auth.settings"),mR=new a.OlP("angularfire2.auth.tenant-id"),pR=new a.OlP("angularfire2.auth.langugage-code"),gR=new a.OlP("angularfire2.auth.use-device-language"),_R=new a.OlP("angularfire.auth.persistence"),yR=(n,t,e,i,r,s,d,f)=>(0,It.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=t.runOutsideAngular(()=>n.auth());if(e&&_.useEmulator(...e),i&&(_.tenantId=i),_.languageCode=r,s&&_.useDeviceLanguage(),d)for(const[b,E]of Object.entries(d))_.settings[b]=E;return f&&_.setPersistence(f),_},[e,i,r,s,d,f]);let HC=(()=>{class n{constructor(e,i,r,s,d,f,_,b,E,k,V,L){const U=new sn.x,Y=Ze(void 0).pipe((0,B0.Q)(d.outsideAngular),kn(()=>s.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,8971)))),(0,F.U)(()=>(0,It.on)(e,s,i)),(0,F.U)(he=>yR(he,s,f,b,E,k,_,V)),B1({bufferSize:1,refCount:!1}));if(zc(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ze(null);else{Y.pipe(Wu()).subscribe();const Ue=Y.pipe(kn(_t=>_t.getRedirectResult().then(Mt=>Mt,()=>null)),Tn.iC,B1({bufferSize:1,refCount:!1})),ft=Y.pipe(kn(_t=>new fn.y(Mt=>({unsubscribe:s.runOutsideAngular(()=>_t.onAuthStateChanged(Nt=>Mt.next(Nt),Nt=>Mt.error(Nt),()=>Mt.complete()))})))),pt=Y.pipe(kn(_t=>new fn.y(Mt=>({unsubscribe:s.runOutsideAngular(()=>_t.onIdTokenChanged(Nt=>Mt.next(Nt),Nt=>Mt.error(Nt),()=>Mt.complete()))}))));this.authState=Ue.pipe(j1(ft),(0,ZT.R)(d.outsideAngular),(0,B0.Q)(d.insideAngular)),this.user=Ue.pipe(j1(pt),(0,ZT.R)(d.outsideAngular),(0,B0.Q)(d.insideAngular)),this.idToken=this.user.pipe(kn(_t=>_t?(0,$t.D)(_t.getIdToken()):Ze(null))),this.idTokenResult=this.user.pipe(kn(_t=>_t?(0,$t.D)(_t.getIdTokenResult()):Ze(null))),this.credential=(0,qu.T)(Ue,U,this.authState.pipe(We(_t=>!_t))).pipe((0,F.U)(_t=>_t?.user?_t:null),(0,ZT.R)(d.outsideAngular),(0,B0.Q)(d.insideAngular))}return(0,It.pX)(this,Y,s,{spy:{apply:(he,Ue,ft)=>{(he.startsWith("signIn")||he.startsWith("createUser"))&&ft.then(pt=>U.next(pt))}}})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(It.Dh),a.LFG(It.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Tn.HU),a.LFG(hR,8),a.LFG(fR,8),a.LFG(mR,8),a.LFG(pR,8),a.LFG(gR,8),a.LFG(_R,8),a.LFG(fk,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),fB=(()=>{class n{constructor(){uR.Z.registerVersion("angularfire",Tn.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[HC]}),n})();function vR(n,t){return function mB(n,t=ai.z){return new fn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function pk(n,t){return vR(n,t).pipe((0,F.U)(e=>({payload:e,type:"query"})))}function $C(n,t){return pk(n,t).pipe(S(void 0),R(),(0,F.U)(([e,i])=>{const r=i.payload.docChanges(),s=r.map(d=>({type:d.type,payload:d}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((d,f)=>{const _=r.find(E=>E.doc.ref.isEqual(d.ref)),b=e?.payload.docs.find(E=>E.ref.isEqual(d.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(d.metadata)||!_&&b&&JSON.stringify(b.metadata)===JSON.stringify(d.metadata)||s.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:d}})}),s}))}function bR(n,t,e){return $C(n,e).pipe(ne((i,r)=>function gB(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function _B(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return gk(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return gk(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return gk(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),at(),(0,F.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function gk(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function wR(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class xR{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=$C(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,F.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(S(void 0),R(),We(([i,r])=>r.length>0||!i),(0,F.U)(([i,r])=>r),Tn.iC)}auditTrail(t){return this.stateChanges(t).pipe(ne((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=wR(t);return bR(this.query,e,this.afs.schedulers.outsideAngular).pipe(Tn.iC)}valueChanges(t={}){return pk(this.query,this.afs.schedulers.outsideAngular).pipe((0,F.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),Tn.iC)}get(t){return(0,$t.D)(this.query.get(t)).pipe(Tn.iC)}add(t){return this.ref.add(t)}doc(t){return new ER(this.ref.doc(t),this.afs)}}class ER{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=IR(i,e);return new xR(r,s,this.afs)}snapshotChanges(){return function pB(n,t){return vR(n,t).pipe(S(void 0),R(),(0,F.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Tn.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,F.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,$t.D)(this.ref.get(t)).pipe(Tn.iC)}}class yB{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?$C(this.query,this.afs.schedulers.outsideAngular).pipe((0,F.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),We(e=>e.length>0),Tn.iC):$C(this.query,this.afs.schedulers.outsideAngular).pipe(Tn.iC)}auditTrail(t){return this.stateChanges(t).pipe(ne((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=wR(t);return bR(this.query,e,this.afs.schedulers.outsideAngular).pipe(Tn.iC)}valueChanges(t={}){return pk(this.query,this.afs.schedulers.outsideAngular).pipe((0,F.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),Tn.iC)}get(t){return(0,$t.D)(this.query.get(t)).pipe(Tn.iC)}}const CR=new a.OlP("angularfire2.enableFirestorePersistence"),SR=new a.OlP("angularfire2.firestore.persistenceSettings"),vB=new a.OlP("angularfire2.firestore.settings"),bB=new a.OlP("angularfire2.firestore.use-emulator");function IR(n,t=(e=>e)){return{query:t(n),ref:n}}let Zu=(()=>{class n{constructor(e,i,r,s,d,f,_,b,E,k,V,L,U,Y,he,Ue,ft){this.schedulers=_;const pt=(0,It.on)(e,f,i),_t=E;k&&yR(pt,f,V,U,Y,he,L,Ue),[this.firestore,this.persistenceEnabled$]=(0,It.cc)(`${pt.name}.firestore`,"AngularFirestore",pt.name,()=>{const Mt=f.runOutsideAngular(()=>pt.firestore());if(s&&Mt.settings(s),_t&&Mt.useEmulator(..._t),r&&!zc(d)){const Nt=()=>{try{return(0,$t.D)(Mt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(_n){return typeof console<"u"&&console.warn(_n),Ze(!1)}};return[Mt,f.runOutsideAngular(Nt)]}return[Mt,Ze(!1)]},[s,_t,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:d}=IR(r,i),f=this.schedulers.ngZone.run(()=>s);return new xR(f,d,this)}collectionGroup(e,i){const r=i||(d=>d),s=this.firestore.collectionGroup(e);return new yB(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new ER(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(It.Dh),a.LFG(It.xv,8),a.LFG(CR,8),a.LFG(vB,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Tn.HU),a.LFG(SR,8),a.LFG(bB,8),a.LFG(HC,8),a.LFG(hR,8),a.LFG(fR,8),a.LFG(mR,8),a.LFG(pR,8),a.LFG(gR,8),a.LFG(_R,8),a.LFG(fk,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),DR=(()=>{class n{constructor(){uR.Z.registerVersion("angularfire",Tn.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:CR,useValue:!0},{provide:SR,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Zu]}),n})();class Bo extends sn.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var wB=P(233),_k=P(5032);const H0={};function en(n,t){if(H0[n]=(H0[n]||0)+1,"function"==typeof t)return yk(n,(...i)=>({...t(...i),type:n}));switch(t?t._as:"empty"){case"empty":return yk(n,()=>({type:n}));case"props":return yk(n,i=>({...i,type:n}));default:throw new Error("Unexpected config.")}}function yk(n,t){return Object.defineProperty(t,"type",{value:n,writable:!1})}const TR="@ngrx/store/init";let Jp=(()=>{class n extends Bo{constructor(){super({type:TR})}next(e){if("function"==typeof e)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof e>"u")throw new TypeError("Actions must be objects");if(typeof e.type>"u")throw new TypeError("Actions must have a type property");super.next(e)}complete(){}ngOnDestroy(){super.complete()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const IB=[Jp],bk=new a.OlP("@ngrx/store Internal Root Guard"),kR=new a.OlP("@ngrx/store Internal Initial State"),wk=new a.OlP("@ngrx/store Initial State"),AR=new a.OlP("@ngrx/store Reducer Factory"),MR=new a.OlP("@ngrx/store Internal Reducer Factory Provider"),RR=new a.OlP("@ngrx/store Initial Reducers"),xk=new a.OlP("@ngrx/store Internal Initial Reducers"),OR=new a.OlP("@ngrx/store Store Features"),FR=new a.OlP("@ngrx/store Internal Store Reducers"),Ek=new a.OlP("@ngrx/store Internal Feature Reducers"),PR=new a.OlP("@ngrx/store Internal Feature Configs"),Ck=new a.OlP("@ngrx/store Internal Store Features"),NR=new a.OlP("@ngrx/store Internal Feature Reducers Token"),Sk=new a.OlP("@ngrx/store Feature Reducers"),LR=new a.OlP("@ngrx/store User Provided Meta Reducers"),GC=new a.OlP("@ngrx/store Meta Reducers"),VR=new a.OlP("@ngrx/store Internal Resolved Meta Reducers"),BR=new a.OlP("@ngrx/store User Runtime Checks Config"),UR=new a.OlP("@ngrx/store Internal User Runtime Checks Config"),$0=new a.OlP("@ngrx/store Internal Runtime Checks"),G0=new a.OlP("@ngrx/store Check if Action types are unique");function Dk(n,t={}){const e=Object.keys(n),i={};for(let s=0;s<e.length;s++){const d=e[s];"function"==typeof n[d]&&(i[d]=n[d])}const r=Object.keys(i);return function(d,f){d=void 0===d?t:d;let _=!1;const b={};for(let E=0;E<r.length;E++){const k=r[E],L=d[k],U=(0,i[k])(L,f);b[k]=U,_=_||U!==L}return _?b:d}}function zR(...n){return function(t){if(0===n.length)return t;const e=n[n.length-1];return n.slice(0,-1).reduceRight((r,s)=>s(r),e(t))}}function HR(n,t){return Array.isArray(t)&&t.length>0&&(n=zR.apply(null,[...t,n])),(e,i)=>{const r=n(e);return(s,d)=>r(s=void 0===s?i:s,d)}}new a.OlP("@ngrx/store Root Store Provider"),new a.OlP("@ngrx/store Feature State Provider");class qC extends fn.y{}class $R extends Jp{}let q0=(()=>{class n extends Bo{constructor(e,i,r,s){super(s(r,i)),this.dispatcher=e,this.initialState=i,this.reducers=r,this.reducerFactory=s}get currentReducers(){return this.reducers}addFeature(e){this.addFeatures([e])}addFeatures(e){const i=e.reduce((r,{reducers:s,reducerFactory:d,metaReducers:f,initialState:_,key:b})=>{const E="function"==typeof s?function TB(n){const t=Array.isArray(n)&&n.length>0?zR(...n):e=>e;return(e,i)=>(e=t(e),(r,s)=>e(r=void 0===r?i:r,s))}(f)(s,_):HR(d,f)(s,_);return r[b]=E,r},{});this.addReducers(i)}removeFeature(e){this.removeFeatures([e])}removeFeatures(e){this.removeReducers(e.map(i=>i.key))}addReducer(e,i){this.addReducers({[e]:i})}addReducers(e){this.reducers={...this.reducers,...e},this.updateReducers(Object.keys(e))}removeReducer(e){this.removeReducers([e])}removeReducers(e){e.forEach(i=>{this.reducers=function DB(n,t){return Object.keys(n).filter(e=>e!==t).reduce((e,i)=>Object.assign(e,{[i]:n[i]}),{})}(this.reducers,i)}),this.updateReducers(e)}updateReducers(e){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:e})}ngOnDestroy(){this.complete()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG($R),a.LFG(wk),a.LFG(RR),a.LFG(AR))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const AB=[q0,{provide:qC,useExisting:q0},{provide:$R,useExisting:Jp}];let W0=(()=>{class n extends sn.x{ngOnDestroy(){this.complete()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const MB=[W0];class GR extends fn.y{}let qR=(()=>{class n extends Bo{constructor(e,i,r,s){super(s);const f=e.pipe((0,B0.Q)(wB.N)).pipe(function xB(...n){const t=(0,Pr.jO)(n);return(0,xn.e)((e,i)=>{const r=n.length,s=new Array(r);let d=n.map(()=>!1),f=!1;for(let _=0;_<r;_++)(0,ka.Xf)(n[_]).subscribe((0,I.x)(i,b=>{s[_]=b,!f&&!d[_]&&(d[_]=!0,(f=d.every(ke.y))&&(d=null))},_k.Z));e.subscribe((0,I.x)(i,_=>{if(f){const b=[_,...s];i.next(t?t(...b):b)}}))})}(i)),b=f.pipe(ne(RB,{state:s}));this.stateSubscription=b.subscribe(({state:E,action:k})=>{this.next(E),r.next(k)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return n.INIT=TR,n.\u0275fac=function(e){return new(e||n)(a.LFG(Jp),a.LFG(qC),a.LFG(W0),a.LFG(wk))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function RB(n={state:void 0},[t,e]){const{state:i}=n;return{state:e(i,t),action:t}}const OB=[qR,{provide:GR,useExisting:qR}];let Tr=(()=>{class n extends fn.y{constructor(e,i,r){super(),this.actionsObserver=i,this.reducerManager=r,this.source=e}select(e,...i){return qn.call(null,e,...i)(this)}lift(e){const i=new n(this,this.actionsObserver,this.reducerManager);return i.operator=e,i}dispatch(e){this.actionsObserver.next(e)}next(e){this.actionsObserver.next(e)}error(e){this.actionsObserver.error(e)}complete(){this.actionsObserver.complete()}addReducer(e,i){this.reducerManager.addReducer(e,i)}removeReducer(e){this.reducerManager.removeReducer(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(GR),a.LFG(Jp),a.LFG(q0))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const FB=[Tr];function qn(n,t,...e){return function(r){let s;if("string"==typeof n){const d=[t,...e].filter(Boolean);s=r.pipe(function EB(...n){const t=n.length;if(0===t)throw new Error("list of properties cannot be empty.");return(0,F.U)(e=>{let i=e;for(let r=0;r<t;r++){const s=i?.[n[r]];if(!(typeof s<"u"))return;i=s}return i})}(n,...d))}else{if("function"!=typeof n)throw new TypeError(`Unexpected type '${typeof n}' in select operator, expected 'string' or 'function'`);s=r.pipe((0,F.U)(d=>n(d,t)))}return s.pipe(at())}}const Tk="https://ngrx.io/guide/store/configuration/runtime-checks";function WR(n){return void 0===n}function ZR(n){return null===n}function KR(n){return Array.isArray(n)}function YR(n){return"object"==typeof n&&null!==n}function kk(n){return"function"==typeof n}let XR=!1;function Ak(n,t){return n===t}function Mk(n,t=Ak,e=Ak){let s,i=null,r=null;return{memoized:function b(){if(void 0!==s)return s.result;if(!i)return r=n.apply(null,arguments),i=arguments,r;if(!function zB(n,t,e){for(let i=0;i<n.length;i++)if(!e(n[i],t[i]))return!0;return!1}(arguments,i,t))return r;const E=n.apply(null,arguments);return i=arguments,e(r,E)?r:(r=E,E)},reset:function d(){i=null,r=null},setResult:function f(E){s={result:E}},clearResult:function _(){s=void 0}}}function lr(...n){return function $B(n,t={stateFn:HB}){return function(...e){let i=e;if(Array.isArray(i[0])){const[E,...k]=i;i=[...E,...k]}else 1===i.length&&function GB(n){return!!n&&"object"==typeof n&&Object.values(n).every(t=>"function"==typeof t)}(i[0])&&(i=function qB(n){const t=Object.values(n),e=Object.keys(n);return[...t,(...r)=>e.reduce((s,d,f)=>({...s,[d]:r[f]}),{})]}(i[0]));const r=i.slice(0,i.length-1),s=i[i.length-1],d=r.filter(E=>E.release&&"function"==typeof E.release),f=n(function(...E){return s.apply(null,E)}),_=Mk(function(E,k){return t.stateFn.apply(null,[E,r,k,f])});return Object.assign(_.memoized,{release:function b(){_.reset(),f.reset(),d.forEach(E=>E.release())},projector:f.memoized,setResult:_.setResult,clearResult:_.clearResult})}}(Mk)(...n)}function HB(n,t,e,i){if(void 0===e){const s=t.map(d=>d(n));return i.memoized.apply(null,s)}const r=t.map(s=>s(n,e));return i.memoized.apply(null,[...r,e])}function yy(n){return lr(t=>{const e=t[n];return!function jB(){return XR}()&&(0,a.X6Q)()&&!(n in t)&&console.warn(`@ngrx/store: The feature name "${n}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${n}', ...) or StoreModule.forFeature('${n}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),e},t=>t)}function KB(n){return n instanceof a.OlP?(0,a.f3M)(n):n}function YB(n,t){return t.map((e,i)=>{if(n[i]instanceof a.OlP){const r=(0,a.f3M)(n[i]);return{key:e.key,reducerFactory:r.reducerFactory?r.reducerFactory:Dk,metaReducers:r.metaReducers?r.metaReducers:[],initialState:r.initialState}}return e})}function QB(n){return n.map(t=>t instanceof a.OlP?(0,a.f3M)(t):t)}function Rk(n){return"function"==typeof n?n():n}function XB(n,t){return n.concat(t)}function JB(){if((0,a.f3M)(Tr,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Ok(n){Object.freeze(n);const t=kk(n);return Object.getOwnPropertyNames(n).forEach(e=>{if(!e.startsWith("\u0275")&&function UB(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(n,e)&&(!t||"caller"!==e&&"callee"!==e&&"arguments"!==e)){const i=n[e];(YR(i)||kk(i))&&!Object.isFrozen(i)&&Ok(i)}}),n}function Fk(n,t=[]){return(WR(n)||ZR(n))&&0===t.length?{path:["root"],value:n}:Object.keys(n).reduce((i,r)=>{if(i)return i;const s=n[r];return function BB(n){return kk(n)&&n.hasOwnProperty("\u0275cmp")}(s)?i:!(WR(s)||ZR(s)||function LB(n){return"number"==typeof n}(s)||function NB(n){return"boolean"==typeof n}(s)||function PB(n){return"string"==typeof n}(s)||KR(s))&&(function QR(n){if(!function VB(n){return YR(n)&&!KR(n)}(n))return!1;const t=Object.getPrototypeOf(n);return t===Object.prototype||null===t}(s)?Fk(s,[...t,r]):{path:[...t,r],value:s})},!1)}function JR(n,t){if(!1===n)return;const e=n.path.join("."),i=new Error(`Detected unserializable ${t} at "${e}". ${Tk}#strict${t}serializability`);throw i.value=n.value,i.unserializablePath=e,i}function iU(n){return(0,a.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...n}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function rU({strictActionSerializability:n,strictStateSerializability:t}){return e=>n||t?function tU(n,t){return function(e,i){t.action(i)&&JR(Fk(i),"action");const r=n(e,i);return t.state()&&JR(Fk(r),"state"),r}}(e,{action:i=>n&&!Pk(i),state:()=>t}):e}function oU({strictActionImmutability:n,strictStateImmutability:t}){return e=>n||t?function eU(n,t){return function(e,i){const r=t.action(i)?Ok(i):i,s=n(e,r);return t.state()?Ok(s):s}}(e,{action:i=>n&&!Pk(i),state:()=>t}):e}function Pk(n){return n.type.startsWith("@ngrx")}function sU({strictActionWithinNgZone:n}){return t=>n?function nU(n,t){return function(e,i){if(t.action(i)&&!a.R0b.isInAngularZone())throw new Error(`Action '${i.type}' running outside NgZone. ${Tk}#strictactionwithinngzone`);return n(e,i)}}(t,{action:e=>n&&!Pk(e)}):t}function aU(n){return[{provide:UR,useValue:n},{provide:BR,useFactory:cU,deps:[UR]},{provide:$0,deps:[BR],useFactory:iU},{provide:GC,multi:!0,deps:[$0],useFactory:oU},{provide:GC,multi:!0,deps:[$0],useFactory:rU},{provide:GC,multi:!0,deps:[$0],useFactory:sU}]}function eO(){return[{provide:G0,multi:!0,deps:[$0],useFactory:lU}]}function cU(n){return n}function lU(n){if(!n.strictActionTypeUniqueness)return;const t=Object.entries(H0).filter(([,e])=>e>1).map(([e])=>e);if(t.length)throw new Error(`Action types are registered more than once, ${t.map(e=>`"${e}"`).join(", ")}. ${Tk}#strictactiontypeuniqueness`)}function tO(n={},t={}){return[{provide:bk,useFactory:JB},{provide:kR,useValue:t.initialState},{provide:wk,useFactory:Rk,deps:[kR]},{provide:xk,useValue:n},{provide:FR,useExisting:n instanceof a.OlP?n:xk},{provide:RR,deps:[xk,[new a.tBr(FR)]],useFactory:KB},{provide:LR,useValue:t.metaReducers?t.metaReducers:[]},{provide:VR,deps:[GC,LR],useFactory:XB},{provide:MR,useValue:t.reducerFactory?t.reducerFactory:Dk},{provide:AR,deps:[MR,VR],useFactory:HR},IB,AB,MB,OB,FB,aU(t.runtimeChecks),eO()]}function nO(n,t,e={}){return[{provide:PR,multi:!0,useValue:n instanceof Object?{}:e},{provide:OR,multi:!0,useValue:{key:n instanceof Object?n.name:n,reducerFactory:e instanceof a.OlP||!e.reducerFactory?Dk:e.reducerFactory,metaReducers:e instanceof a.OlP||!e.metaReducers?[]:e.metaReducers,initialState:e instanceof a.OlP||!e.initialState?void 0:e.initialState}},{provide:Ck,deps:[PR,OR],useFactory:YB},{provide:Ek,multi:!0,useValue:n instanceof Object?n.reducer:t},{provide:NR,multi:!0,useExisting:t instanceof a.OlP?t:Ek},{provide:Sk,multi:!0,deps:[Ek,[new a.tBr(NR)]],useFactory:QB},eO()]}let WC=(()=>{class n{constructor(e,i,r,s,d,f){}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Jp),a.LFG(qC),a.LFG(W0),a.LFG(Tr),a.LFG(bk,8),a.LFG(G0,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),Nk=(()=>{class n{constructor(e,i,r,s,d){this.features=e,this.featureReducers=i,this.reducerManager=r;const f=e.map((_,b)=>{const k=i.shift()[b];return{..._,reducers:k,initialState:Rk(_.initialState)}});r.addFeatures(f)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Ck),a.LFG(Sk),a.LFG(q0),a.LFG(WC),a.LFG(G0,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),vy=(()=>{class n{static forRoot(e,i){return{ngModule:WC,providers:[...tO(e,i)]}}static forFeature(e,i,r={}){return{ngModule:Nk,providers:[...nO(e,i,r)]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();function An(...n){return{reducer:n.pop(),types:n.map(i=>i.type)}}function Z0(n,...t){const e=new Map;for(const i of t)for(const r of i.types){const s=e.get(r);e.set(r,s?(f,_)=>i.reducer(s(f,_),_):i.reducer)}return function(i=n,r){const s=e.get(r.type);return s?s(i,r):i}}let Vk,Lk=(()=>{class n{constructor(e,i){this.firestore=e,this.store=i}setMapToArray(e){const i=Array.from(e.values());return Array.from(e.keys()).filter((s,d)=>!0===i[d])}createQuestion(e){return this.firestore.collection("questions").doc(e.slug).set(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Zu),a.LFG(Tr))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();try{Vk=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Vk=!1}let by,kr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function lh(n){return n===hd}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Vk)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.Lbi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const iO=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function rO(){if(by)return by;if("object"!=typeof document||!document)return by=new Set(iO),by;let n=document.createElement("input");return by=new Set(iO.filter(t=>(n.setAttribute("type",t),n.type===t))),by}let K0,ZC,eg,Bk;function wy(n){return function mU(){if(null==K0&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>K0=!0}))}finally{K0=K0||!1}return K0}()?n:!!n.capture}function oO(){if(null==eg){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return eg=!1,eg;if("scrollBehavior"in document.documentElement.style)eg=!0;else{const n=Element.prototype.scrollTo;eg=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return eg}function Y0(){if("object"!=typeof document||!document)return 0;if(null==ZC){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),ZC=0,0===n.scrollLeft&&(n.scrollLeft=1,ZC=0===n.scrollLeft?1:2),n.remove()}return ZC}function im(n){return n.composedPath?n.composedPath()[0]:n.target}function Uk(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var Aa=P(727);function Hk(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var Wn=P(8505);function $k(n,t=ai.z){return(0,xn.e)((e,i)=>{let r=null,s=null,d=null;const f=()=>{if(r){r.unsubscribe(),r=null;const b=s;s=null,i.next(b)}};function _(){const b=d+n,E=t.now();if(E<b)return r=this.schedule(void 0,b-E),void i.add(r);f()}e.subscribe((0,I.x)(i,b=>{s=b,d=t.now(),r||(r=t.schedule(_,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{s=r=null}))})}function uO(n){return We((t,e)=>n<=e)}function zs(n){return(0,xn.e)((t,e)=>{(0,ka.Xf)(n).subscribe((0,I.x)(e,()=>e.complete(),_k.Z)),!e.closed&&t.subscribe(e)})}function Fn(n){return null!=n&&"false"!=`${n}`}function Gk(n,t=0){return function RU(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function KC(n){return Array.isArray(n)?n:[n]}function dr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Ku(n){return n instanceof a.SBq?n.nativeElement:n}const{isArray:OU}=Array,{getPrototypeOf:FU,prototype:PU,keys:NU}=Object;function hO(n){if(1===n.length){const t=n[0];if(OU(t))return{args:t,keys:null};if(function LU(n){return n&&"object"==typeof n&&FU(n)===PU}(t)){const e=NU(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:VU}=Array;function qk(n){return(0,F.U)(t=>function BU(n,t){return VU(t)?n(...t):n(t)}(n,t))}function fO(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var UU=P(9672);function Wk(...n){const t=(0,Pr.yG)(n),e=(0,Pr.jO)(n),{args:i,keys:r}=hO(n);if(0===i.length)return(0,$t.D)([],t);const s=new fn.y(function jU(n,t,e=ke.y){return i=>{mO(t,()=>{const{length:r}=n,s=new Array(r);let d=r,f=r;for(let _=0;_<r;_++)mO(t,()=>{const b=(0,$t.D)(n[_],t);let E=!1;b.subscribe((0,I.x)(i,k=>{s[_]=k,E||(E=!0,f--),f||i.next(e(s.slice()))},()=>{--d||i.complete()}))},i)},i)}}(i,t,r?d=>fO(r,d):ke.y));return e?s.pipe(qk(e)):s}function mO(n,t,e){n?(0,UU.f)(e,n,t):t()}const pO=new Set;let xy,zU=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):$U}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function HU(n){if(!pO.has(n))try{xy||(xy=document.createElement("style"),xy.setAttribute("type","text/css"),document.head.appendChild(xy)),xy.sheet&&(xy.sheet.insertRule(`@media ${n} {body{ }}`,0),pO.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(kr))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $U(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let GU=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new sn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return gO(KC(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=Wk(gO(KC(e)).map(d=>this._registerQuery(d).observable));return s=oc(s.pipe(us(1)),s.pipe(uO(1),$k(0))),s.pipe((0,F.U)(d=>{const f={matches:!1,breakpoints:{}};return d.forEach(({matches:_,query:b})=>{f.matches=f.matches||_,f.breakpoints[b]=_}),f}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new fn.y(d=>{const f=_=>this._zone.run(()=>d.next(_));return i.addListener(f),()=>{i.removeListener(f)}}).pipe(S(i),(0,F.U)(({matches:d})=>({query:e,matches:d})),zs(this._destroySubject)),mql:i};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(zU),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gO(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}class ZU{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new sn.x,this._typeaheadSubscription=Aa.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new sn.x,this.change=new sn.x,t instanceof a.n_E&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Wn.b)(e=>this._pressedLetters.push(e)),$k(t),We(()=>this._pressedLetters.length>0),(0,F.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,d=i[s];if(!this._skipPredicateFn(d)&&0===d.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex+this._pageUpAndDown.delta,d=this._getItemsArray().length;this._setActiveItemByIndex(s<d?s:d-1,-1);break}return;default:return void((r||Hk(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof a.n_E?this._items.toArray():this._items}}class vO extends ZU{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}function Zk(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Kk(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const ej=new a.OlP("cdk-input-modality-detector-options"),tj={ignoreKeys:[18,17,224,91,16]},Ey=wy({passive:!0,capture:!0});let nj=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new Bo(null),this._lastTouchMs=0,this._onKeydown=d=>{this._options?.ignoreKeys?.some(f=>f===d.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=im(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Zk(d)?"keyboard":"mouse"),this._mostRecentTarget=im(d))},this._onTouchstart=d=>{Kk(d)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=im(d))},this._options={...tj,...s},this.modalityDetected=this._modality.pipe(uO(1)),this.modalityChanged=this.modalityDetected.pipe(at()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Ey),r.addEventListener("mousedown",this._onMousedown,Ey),r.addEventListener("touchstart",this._onTouchstart,Ey)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ey),document.removeEventListener("mousedown",this._onMousedown,Ey),document.removeEventListener("touchstart",this._onTouchstart,Ey))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(kr),a.LFG(a.R0b),a.LFG(J),a.LFG(ej,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rj=new a.OlP("cdk-focus-monitor-default-options"),YC=wy({passive:!0,capture:!0});let QC=(()=>{class n{constructor(e,i,r,s,d){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new sn.x,this._rootNodeFocusAndBlurListener=f=>{for(let b=im(f);b;b=b.parentElement)"focus"===f.type?this._onFocus(f,b):this._onBlur(f,b)},this._document=s,this._detectionMode=d?.detectionMode||0}monitor(e,i=!1){const r=Ku(e);if(!this._platform.isBrowser||1!==r.nodeType)return Ze(null);const s=function gU(n){if(function pU(){if(null==Bk){const n=typeof document<"u"?document.head:null;Bk=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Bk}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),d=this._elementInfo.get(r);if(d)return i&&(d.checkChildren=!0),d.subject;const f={checkChildren:i,subject:new sn.x,rootNode:s};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(e){const i=Ku(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=Ku(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([f,_])=>this._originChanged(f,i,_)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=im(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,YC),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,YC)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(zs(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,YC),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,YC),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let d=0;d<s.length;d++)if(s[d].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.R0b),a.LFG(kr),a.LFG(nj),a.LFG(J,8),a.LFG(rj,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xO="cdk-high-contrast-black-on-white",EO="cdk-high-contrast-white-on-black",Yk="cdk-high-contrast-active";let oj=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,a.f3M)(GU).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Yk,xO,EO),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(Yk,xO):2===i&&e.add(Yk,EO)}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(kr),a.LFG(J))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Qk{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new sn.x,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(s=>this._markSelected(s)),e.filter(s=>!i.has(s)).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(t){if(this.compareWith){for(let e of this._selection)if(this.compareWith(t,e))return e;return t}return t}}function CO(...n){const t=(0,Pr.jO)(n),{args:e,keys:i}=hO(n),r=new fn.y(s=>{const{length:d}=e;if(!d)return void s.complete();const f=new Array(d);let _=d,b=d;for(let E=0;E<d;E++){let k=!1;(0,ka.Xf)(e[E]).subscribe((0,I.x)(s,V=>{k||(k=!0,b--),f[E]=V},()=>_--,void 0,()=>{(!_||!k)&&(b||s.next(i?fO(i,f):f),s.complete())}))}});return t?r.pipe(qk(t)):r}let SO=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n}),n})(),tg=(()=>{class n extends SO{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const Hs=new a.OlP("NgValueAccessor"),aj={provide:Hs,useExisting:(0,a.Gpc)(()=>ng),multi:!0},lj=new a.OlP("CompositionEventMode");let ng=(()=>{class n extends SO{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function cj(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(lj,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&a.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[a._Bn([aj]),a.qOj]}),n})();const dj=!1;function rm(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function DO(n){return null!=n&&"number"==typeof n.length}const Yr=new a.OlP("NgValidators"),om=new a.OlP("NgAsyncValidators"),uj=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ed{static min(t){return function TO(n){return t=>{if(rm(t.value)||rm(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function kO(n){return t=>{if(rm(t.value)||rm(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function AO(n){return rm(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function MO(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function RO(n){return rm(n.value)||uj.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function OO(n){return t=>rm(t.value)||!DO(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function FO(n){return t=>DO(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function PO(n){if(!n)return XC;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(rm(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return jO(t)}static composeAsync(t){return zO(t)}}function XC(n){return null}function NO(n){return null!=n}function LO(n){const t=(0,a.QGY)(n)?(0,$t.D)(n):n;if(dj&&!(0,a.CqO)(t)){let e="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(e+=" Are you using a synchronous validator where an async validator is expected?"),new a.vHH(-1101,e)}return t}function VO(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function BO(n,t){return t.map(e=>e(n))}function UO(n){return n.map(t=>function hj(n){return!n.validate}(t)?t:e=>t.validate(e))}function jO(n){if(!n)return null;const t=n.filter(NO);return 0==t.length?null:function(e){return VO(BO(e,t))}}function Xk(n){return null!=n?jO(UO(n)):null}function zO(n){if(!n)return null;const t=n.filter(NO);return 0==t.length?null:function(e){return CO(BO(e,t).map(LO)).pipe((0,F.U)(VO))}}function Jk(n){return null!=n?zO(UO(n)):null}function HO(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function $O(n){return n._rawValidators}function GO(n){return n._rawAsyncValidators}function eA(n){return n?Array.isArray(n)?n:[n]:[]}function JC(n,t){return Array.isArray(n)?n.includes(t):n===t}function qO(n,t){const e=eA(t);return eA(n).forEach(r=>{JC(e,r)||e.push(r)}),e}function WO(n,t){return eA(t).filter(e=>!JC(n,e))}class ZO{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Xk(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Jk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Uo extends ZO{get formDirective(){return null}get path(){return null}}class Yu extends ZO{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class KO{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Q0=(()=>{class n extends KO{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Yu,2))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&a.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[a.qOj]}),n})(),X0=(()=>{class n extends KO{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Uo,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&a.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[a.qOj]}),n})();function YO(n,t){return n?`with name: '${t}'`:`at index: ${t}`}const iA=!1,J0="VALID",tS="INVALID",Cy="PENDING",ew="DISABLED";function rA(n){return(nS(n)?n.validators:n)||null}function oA(n,t){return(nS(t)?t.asyncValidators:n)||null}function nS(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function QO(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new a.vHH(1e3,iA?function gj(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(t):"");if(!i[e])throw new a.vHH(1001,iA?function _j(n,t){return`Cannot find form control ${YO(n,t)}`}(t,e):"")}function XO(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new a.vHH(1002,iA?function yj(n,t){return`Must supply a value for form control ${YO(n,t)}`}(t,r):"")})}class iS{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===J0}get invalid(){return this.status===tS}get pending(){return this.status==Cy}get disabled(){return this.status===ew}get enabled(){return this.status!==ew}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(qO(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(qO(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(WO(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(WO(t,this._rawAsyncValidators))}hasValidator(t){return JC(this._rawValidators,t)}hasAsyncValidator(t){return JC(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Cy,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ew,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=J0,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===J0||this.status===Cy)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ew:J0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Cy,this._hasOwnPendingAsyncValidator=!0;const e=LO(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?ew:this.errors?tS:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Cy)?Cy:this._anyControlsHaveStatus(tS)?tS:J0}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){nS(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function vj(n){return Array.isArray(n)?Xk(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function bj(n){return Array.isArray(n)?Jk(n):n||null}(this._rawAsyncValidators)}}class tw extends iS{constructor(t,e,i){super(rA(e),oA(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){XO(this,!0,t),Object.keys(t).forEach(i=>{QO(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class JO extends tw{}const Sy=new a.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>rS}),rS="always";function nw(n,t,e=rS){sA(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function xj(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&eF(n,t)})}(n,t),function Cj(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Ej(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&eF(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function wj(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function sS(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),cS(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function aS(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function sA(n,t){const e=$O(n);null!==t.validator?n.setValidators(HO(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=GO(n);null!==t.asyncValidator?n.setAsyncValidators(HO(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();aS(t._rawValidators,r),aS(t._rawAsyncValidators,r)}function cS(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=$O(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(d=>d!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=GO(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(d=>d!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return aS(t._rawValidators,i),aS(t._rawAsyncValidators,i),e}function eF(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function tF(n,t){sA(n,t)}function nF(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const kj={provide:Uo,useExisting:(0,a.Gpc)(()=>lS)},iw=(()=>Promise.resolve())();let lS=(()=>{class n extends Uo{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new tw({},Xk(e),Jk(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){iw.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),nw(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){iw.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){iw.then(()=>{const i=this._findContainer(e.path),r=new tw({});tF(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){iw.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){iw.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,nF(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Yr,10),a.Y36(om,10),a.Y36(Sy,8))},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&a.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([kj]),a.qOj]}),n})();function iF(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function rF(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const rw=class extends iS{constructor(t=null,e,i){super(rA(e),oA(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),nS(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=rF(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){iF(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){iF(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){rF(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let ow=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),dF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const dA=new a.OlP("NgModelWithFormControlWarning"),Vj={provide:Uo,useExisting:(0,a.Gpc)(()=>sm)};let sm=(()=>{class n extends Uo{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(cS(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return nw(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){sS(e.control||null,e,!1),function Tj(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,nF(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(sS(i||null,e),(n=>n instanceof rw)(r)&&(nw(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);tF(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function Sj(n,t){return cS(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){sA(this.form,this),this._oldForm&&cS(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Yr,10),a.Y36(om,10),a.Y36(Sy,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&a.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([Vj]),a.qOj,a.TTD]}),n})();const jj={provide:Yu,useExisting:(0,a.Gpc)(()=>Iy)};let Iy=(()=>{class n extends Yu{set isDisabled(e){}constructor(e,i,r,s,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function lA(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===ng?e=s:function Dj(n){return Object.getPrototypeOf(n.constructor)===tg}(s)?i=s:r=s}),r||i||e||null}(0,s)}ngOnChanges(e){this._added||this._setUpControl(),function cA(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function oS(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(a.Y36(Uo,13),a.Y36(Yr,10),a.Y36(om,10),a.Y36(Hs,10),a.Y36(dA,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([jj]),a.qOj,a.TTD]}),n})(),nz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[dF]}),n})();class SF extends iS{constructor(t,e,i){super(rA(e),oA(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){XO(this,!1,t),t.forEach((i,r)=>{QO(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function IF(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let sw=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let s={};return IF(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new tw(r,s)}record(e,i=null){const r=this._reduceControls(e);return new JO(r,i)}control(e,i,r){let s={};return this.useNonNullable?(IF(i)?s=i:(s.validators=i,s.asyncValidators=r),new rw(e,{...s,nonNullable:!0})):new rw(e,i,r)}array(e,i,r){const s=e.map(d=>this._createControl(d));return new SF(s,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof rw||e instanceof iS?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_A=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:dA,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Sy,useValue:e.callSetDisabledState??rS}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[nz]}),n})();const iz=new a.OlP("cdk-dir-doc",{providedIn:"root",factory:function rz(){return(0,a.f3M)(J)}}),oz=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Dy=(()=>{class n{constructor(e){this.value="ltr",this.change=new a.vpe,e&&(this.value=function sz(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?oz.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(iz,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const cz=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function az(){return!0}});let fi=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Uk()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(oj),a.LFG(cz,8),a.LFG(J))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[aw,aw]}),n})();function yA(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=Fn(t)}constructor(...t){super(...t),this._disabled=!1}}}function vA(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function dS(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Fn(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function lz(n,t=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Gk(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}function dz(n){return class extends n{updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}let hz=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class fz{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const kF=wy({passive:!0,capture:!0});class mz{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=im(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(s=>s.handleEvent(t))})}}addHandler(t,e,i,r){const s=this._events.get(e);if(s){const d=s.get(i);d?d.add(r):s.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,kF)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const s=r.get(e);s&&(s.delete(i),0===s.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,kF)))}}const AF={enterDuration:225,exitDuration:150},MF=wy({passive:!0,capture:!0}),RF=["mousedown","touchstart"],OF=["mouseup","mouseleave","touchend","touchcancel"];class Ty{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Ku(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...AF,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const d=i.radius||function gz(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),f=t-r.left,_=e-r.top,b=s.enterDuration,E=document.createElement("div");E.classList.add("mat-ripple-element"),E.style.left=f-d+"px",E.style.top=_-d+"px",E.style.height=2*d+"px",E.style.width=2*d+"px",null!=i.color&&(E.style.backgroundColor=i.color),E.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(E);const k=window.getComputedStyle(E),L=k.transitionDuration,U="none"===k.transitionProperty||"0s"===L||"0s, 0s"===L||0===r.width&&0===r.height,Y=new fz(this,E,i,U);E.style.transform="scale3d(1, 1, 1)",Y.state=0,i.persistent||(this._mostRecentTransientRipple=Y);let he=null;return!U&&(b||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ue=()=>this._finishRippleTransition(Y),ft=()=>this._destroyRipple(Y);E.addEventListener("transitionend",Ue),E.addEventListener("transitioncancel",ft),he={onTransitionEnd:Ue,onTransitionCancel:ft}}),this._activeRipples.set(Y,he),(U||!b)&&this._finishRippleTransition(Y),Y}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...AF,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Ku(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,RF.forEach(i=>{Ty._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{OF.forEach(e=>{this._triggerElement.addEventListener(e,this,MF)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=Zk(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Kk(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(RF.forEach(e=>Ty._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&OF.forEach(e=>t.removeEventListener(e,this,MF)))}}Ty._eventManager=new mz;const bA=new a.OlP("mat-ripple-global-options");let am=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,s,d){this._elementRef=e,this._animationMode=d,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Ty(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(kr),a.Y36(bA,8),a.Y36(a.QbO,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),ky=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[fi,fi]}),n})(),FF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[fi]}),n})(),PF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[ky,Zn,fi,FF]}),n})();const _z=["button"],yz=["*"],NF=new a.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),LF=new a.OlP("MatButtonToggleGroup"),vz={provide:Hs,useExisting:(0,a.Gpc)(()=>UF),multi:!0};let VF=0;class BF{constructor(t,e){this.source=t,this.value=e}}let UF=(()=>{class n{get name(){return this._name}set name(e){this._name=e,this._markButtonsForCheck()}get vertical(){return this._vertical}set vertical(e){this._vertical=Fn(e)}get value(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e.map(i=>i.value):e[0]?e[0].value:void 0}set value(e){this._setSelectionByValue(e),this.valueChange.emit(this.value)}get selected(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e:e[0]||null}get multiple(){return this._multiple}set multiple(e){this._multiple=Fn(e),this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(e){this._disabled=Fn(e),this._markButtonsForCheck()}constructor(e,i){this._changeDetector=e,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+VF++,this.valueChange=new a.vpe,this.change=new a.vpe,this.appearance=i&&i.appearance?i.appearance:"standard"}ngOnInit(){this._selectionModel=new Qk(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(e=>e.checked))}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_emitChangeEvent(e){const i=new BF(e,this.value);this._controlValueAccessorChangeFn(i.value),this.change.emit(i)}_syncButtonToggle(e,i,r=!1,s=!1){!this.multiple&&this.selected&&!e.checked&&(this.selected.checked=!1),this._selectionModel?i?this._selectionModel.select(e):this._selectionModel.deselect(e):s=!0,s?Promise.resolve().then(()=>this._updateModelValue(e,r)):this._updateModelValue(e,r)}_isSelected(e){return this._selectionModel&&this._selectionModel.isSelected(e)}_isPrechecked(e){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(i=>null!=e.value&&i===e.value):e.value===this._rawValue)}_setSelectionByValue(e){this._rawValue=e,this._buttonToggles&&(this.multiple&&e?(Array.isArray(e),this._clearSelection(),e.forEach(i=>this._selectValue(i))):(this._clearSelection(),this._selectValue(e)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(e=>e.checked=!1)}_selectValue(e){const i=this._buttonToggles.find(r=>null!=r.value&&r.value===e);i&&(i.checked=!0,this._selectionModel.select(i))}_updateModelValue(e,i){i&&this._emitChangeEvent(e),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(e=>e._markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.sBO),a.Y36(NF,8))},n.\u0275dir=a.lG2({type:n,selectors:[["mat-button-toggle-group"]],contentQueries:function(e,i,r){if(1&e&&a.Suo(r,jF,5),2&e){let s;a.iGM(s=a.CRH())&&(i._buttonToggles=s)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(e,i){2&e&&(a.uIk("aria-disabled",i.disabled),a.ekj("mat-button-toggle-vertical",i.vertical)("mat-button-toggle-group-appearance-standard","standard"===i.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[a._Bn([vz,{provide:LF,useExisting:n}])]}),n})();const bz=dS(class{});let jF=(()=>{class n extends bz{get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(e){this._appearance=e}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(e){const i=Fn(e);i!==this._checked&&(this._checked=i,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(e){this._disabled=Fn(e)}constructor(e,i,r,s,d,f){super(),this._changeDetectorRef=i,this._elementRef=r,this._focusMonitor=s,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new a.vpe;const _=Number(d);this.tabIndex=_||0===_?_:null,this.buttonToggleGroup=e,this.appearance=f&&f.appearance?f.appearance:"standard"}ngOnInit(){const e=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+VF++,e&&(e._isPrechecked(this)?this.checked=!0:e._isSelected(this)!==this._checked&&e._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const e=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),e&&e._isSelected(this)&&e._syncButtonToggle(this,!1,!1,!0)}focus(e){this._buttonElement.nativeElement.focus(e)}_onButtonClick(){const e=!!this._isSingleSelector()||!this._checked;e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new BF(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this._isSingleSelector()?this.buttonToggleGroup.name:this.name||null}_isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(LF,8),a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(QC),a.$8M("tabindex"),a.Y36(NF,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-button-toggle"]],viewQuery:function(e,i){if(1&e&&a.Gf(_z,5),2&e){let r;a.iGM(r=a.CRH())&&(i._buttonElement=r.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(e,i){1&e&&a.NdJ("focus",function(){return i.focus()}),2&e&&(a.uIk("aria-label",null)("aria-labelledby",null)("id",i.id)("name",null),a.ekj("mat-button-toggle-standalone",!i.buttonToggleGroup)("mat-button-toggle-checked",i.checked)("mat-button-toggle-disabled",i.disabled)("mat-button-toggle-appearance-standard","standard"===i.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[a.qOj],ngContentSelectors:yz,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(e,i){if(1&e&&(a.F$t(),a.TgZ(0,"button",0,1),a.NdJ("click",function(){return i._onButtonClick()}),a.TgZ(2,"span",2),a.Hsn(3),a.qZA()(),a._UZ(4,"span",3)(5,"span",4)),2&e){const r=a.MAs(1);a.Q6J("id",i.buttonId)("disabled",i.disabled||null),a.uIk("tabindex",i.disabled?-1:i.tabIndex)("aria-pressed",i.checked)("name",i._getButtonName())("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby),a.xp6(5),a.Q6J("matRippleTrigger",r)("matRippleDisabled",i.disableRipple||i.disabled)}},dependencies:[am],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}"],encapsulation:2,changeDetection:0}),n})(),wz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[fi,ky,fi]}),n})(),xz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Lk],imports:[Zn,wz]}),n})();function zF(n){return new fn.y(t=>{(0,ka.Xf)(n()).subscribe(t)})}var Ez=P(9635);function rg(n,t){const e=(0,Oc.m)(n)?n:()=>n,i=r=>r.error(e());return new fn.y(t?r=>t.schedule(i,0,r):i)}function wA(){return(0,xn.e)((n,t)=>{let e=null;n._refCount++;const i=(0,I.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class HF extends fn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,xn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Aa.w0;const e=this.getSubject();t.add(this.source.subscribe((0,I.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Aa.w0.EMPTY)}return t}refCount(){return wA()(this)}}var Ar=P(5577);function cm(n,t){return(0,Oc.m)(t)?(0,Ar.z)(n,t,1):(0,Ar.z)(n,1)}function ur(n){return(0,xn.e)((t,e)=>{let s,i=null,r=!1;i=t.subscribe((0,I.x)(e,void 0,void 0,d=>{s=(0,ka.Xf)(n(d,ur(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function xA(n){return n<=0?()=>Jl.E:(0,xn.e)((t,e)=>{let i=[];t.subscribe((0,I.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function $F(n,t){const e=arguments.length>=2;return i=>i.pipe(n?We((r,s)=>n(r,s,i)):ke.y,xA(1),e?NC(t):U1(()=>new PC))}function GF(n){return(0,F.U)(()=>n)}function uS(n){return(0,xn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const Qt="primary",lw=Symbol("RouteTitle");class Sz{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ay(n){return new Sz(n)}function Iz(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const d=i[s],f=n[s];if(d.startsWith(":"))r[d.substring(1)]=f;else if(d!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function td(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!qF(n[r],t[r]))return!1;return!0}function qF(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function WF(n){return Array.prototype.concat.apply([],n)}function ZF(n){return n.length>0?n[n.length-1]:null}function Qr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function lm(n){return(0,a.CqO)(n)?n:(0,a.QGY)(n)?(0,$t.D)(Promise.resolve(n)):Ze(n)}const hS=!1,Tz={exact:function QF(n,t,e){if(!og(n.segments,t.segments)||!fS(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!QF(n.children[i],t.children[i],e))return!1;return!0},subset:XF},KF={exact:function kz(n,t){return td(n,t)},subset:function Az(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>qF(n[e],t[e]))},ignored:()=>!0};function YF(n,t,e){return Tz[e.paths](n.root,t.root,e.matrixParams)&&KF[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function XF(n,t,e){return JF(n,t,t.segments,e)}function JF(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!og(r,e)||t.hasChildren()||!fS(r,e,i))}if(n.segments.length===e.length){if(!og(n.segments,e)||!fS(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!XF(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(og(n.segments,r)&&fS(n.segments,r,i)&&n.children[Qt])&&JF(n.children[Qt],t,s,i)}}function fS(n,t,e){return t.every((i,r)=>KF[e](n[r].parameters,i.parameters))}class dm{constructor(t=new an([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ay(this.queryParams)),this._queryParamMap}toString(){return Oz.serialize(this)}}class an{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Qr(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mS(this)}}class dw{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ay(this.parameters)),this._parameterMap}toString(){return nP(this)}}function og(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let uw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return new EA},providedIn:"root"}),n})();class EA{parse(t){const e=new zz(t);return new dm(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${hw(t.root,!0)}`,i=function Nz(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${pS(e)}=${pS(r)}`).join("&"):`${pS(e)}=${pS(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),r="string"==typeof t.fragment?`#${function Fz(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${r}`}}const Oz=new EA;function mS(n){return n.segments.map(t=>nP(t)).join("/")}function hw(n,t){if(!n.hasChildren())return mS(n);if(t){const e=n.children[Qt]?hw(n.children[Qt],!1):"",i=[];return Qr(n.children,(r,s)=>{s!==Qt&&i.push(`${s}:${hw(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Rz(n,t){let e=[];return Qr(n.children,(i,r)=>{r===Qt&&(e=e.concat(t(i,r)))}),Qr(n.children,(i,r)=>{r!==Qt&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Qt?[hw(n.children[Qt],!1)]:[`${r}:${hw(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Qt]?`${mS(n)}/${e[0]}`:`${mS(n)}/(${e.join("//")})`}}function eP(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pS(n){return eP(n).replace(/%3B/gi,";")}function CA(n){return eP(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gS(n){return decodeURIComponent(n)}function tP(n){return gS(n.replace(/\+/g,"%20"))}function nP(n){return`${CA(n.path)}${function Pz(n){return Object.keys(n).map(t=>`;${CA(t)}=${CA(n[t])}`).join("")}(n.parameters)}`}const Lz=/^[^\/()?;=#]+/;function _S(n){const t=n.match(Lz);return t?t[0]:""}const Vz=/^[^=?&#]+/,Uz=/^[^&#]+/;class zz{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new an([],{}):new an([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Qt]=new an(t,e)),i}parseSegment(){const t=_S(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new a.vHH(4009,hS);return this.capture(t),new dw(gS(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=_S(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=_S(this.remaining);r&&(i=r,this.capture(i))}t[gS(e)]=gS(i)}parseQueryParam(t){const e=function Bz(n){const t=n.match(Vz);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const d=function jz(n){const t=n.match(Uz);return t?t[0]:""}(this.remaining);d&&(i=d,this.capture(i))}const r=tP(e),s=tP(i);if(t.hasOwnProperty(r)){let d=t[r];Array.isArray(d)||(d=[d],t[r]=d),d.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=_S(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new a.vHH(4010,hS);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Qt);const d=this.parseChildren();e[s]=1===Object.keys(d).length?d[Qt]:new an([],d),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new a.vHH(4011,hS)}}function SA(n){return n.segments.length>0?new an([],{[Qt]:n}):n}function yS(n){const t={};for(const i of Object.keys(n.children)){const s=yS(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function Hz(n){if(1===n.numberOfChildren&&n.children[Qt]){const t=n.children[Qt];return new an(n.segments.concat(t.segments),t.children)}return n}(new an(n.segments,t))}function sg(n){return n instanceof dm}const IA=!1;function $z(n,t,e,i,r){if(0===e.length)return My(t.root,t.root,t.root,i,r);const s=function aP(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new sP(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,d)=>{if("object"==typeof s&&null!=s){if(s.outlets){const f={};return Qr(s.outlets,(_,b)=>{f[b]="string"==typeof _?_.split("/"):_}),[...r,{outlets:f}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===d?(s.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?e=!0:".."===f?t++:""!=f&&r.push(f))}),r):[...r,s]},[]);return new sP(e,t,i)}(e);return s.toRoot()?My(t.root,t.root,new an([],{}),i,r):function d(_){const b=function qz(n,t,e,i){if(n.isAbsolute)return new Ry(t.root,!0,0);if(-1===i)return new Ry(e,e===t.root,0);return function cP(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new a.vHH(4005,IA&&"Invalid number of '../'");r=i.segments.length}return new Ry(i,!1,r-s)}(e,i+(fw(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,t,n.snapshot?._urlSegment,_),E=b.processChildren?Oy(b.segmentGroup,b.index,s.commands):DA(b.segmentGroup,b.index,s.commands);return My(t.root,b.segmentGroup,E,i,r)}(n.snapshot?._lastPathIndex)}function fw(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function mw(n){return"object"==typeof n&&null!=n&&n.outlets}function My(n,t,e,i,r){let d,s={};i&&Qr(i,(_,b)=>{s[b]=Array.isArray(_)?_.map(E=>`${E}`):`${_}`}),d=n===t?e:oP(n,t,e);const f=SA(yS(d));return new dm(f,s,r)}function oP(n,t,e){const i={};return Qr(n.children,(r,s)=>{i[s]=r===t?e:oP(r,t,e)}),new an(n.segments,i)}class sP{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&fw(i[0]))throw new a.vHH(4003,IA&&"Root segment cannot have matrix parameters");const r=i.find(mw);if(r&&r!==ZF(i))throw new a.vHH(4004,IA&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ry{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function DA(n,t,e){if(n||(n=new an([],{})),0===n.segments.length&&n.hasChildren())return Oy(n,t,e);const i=function Zz(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const d=n.segments[r],f=e[i];if(mw(f))break;const _=`${f}`,b=i<e.length-1?e[i+1]:null;if(r>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!dP(_,b,d))return s;i+=2}else{if(!dP(_,{},d))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new an(n.segments.slice(0,i.pathIndex),{});return s.children[Qt]=new an(n.segments.slice(i.pathIndex),n.children),Oy(s,0,r)}return i.match&&0===r.length?new an(n.segments,{}):i.match&&!n.hasChildren()?TA(n,t,e):i.match?Oy(n,0,r):TA(n,t,e)}function Oy(n,t,e){if(0===e.length)return new an(n.segments,{});{const i=function Wz(n){return mw(n[0])?n[0].outlets:{[Qt]:n}}(e),r={};return!i[Qt]&&n.children[Qt]&&1===n.numberOfChildren&&0===n.children[Qt].segments.length?Oy(n.children[Qt],t,e):(Qr(i,(s,d)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[d]=DA(n.children[d],t,s))}),Qr(n.children,(s,d)=>{void 0===i[d]&&(r[d]=s)}),new an(n.segments,r))}}function TA(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(mw(s)){const _=Kz(s.outlets);return new an(i,_)}if(0===r&&fw(e[0])){i.push(new dw(n.segments[t].path,lP(e[0]))),r++;continue}const d=mw(s)?s.outlets[Qt]:`${s}`,f=r<e.length-1?e[r+1]:null;d&&f&&fw(f)?(i.push(new dw(d,lP(f))),r+=2):(i.push(new dw(d,{})),r++)}return new an(i,{})}function Kz(n){const t={};return Qr(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=TA(new an([],{}),0,e))}),t}function lP(n){const t={};return Qr(n,(e,i)=>t[i]=`${e}`),t}function dP(n,t,e){return n==e.path&&td(t,e.parameters)}const pw="imperative";class nd{constructor(t,e){this.id=t,this.url=e}}class kA extends nd{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ag extends nd{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class vS extends nd{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class bS extends nd{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class AA extends nd{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Yz extends nd{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qz extends nd{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xz extends nd{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Jz extends nd{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class e3 extends nd{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class t3{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class n3{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class r3{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class o3{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class s3{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class a3{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uP{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let d3=(()=>{class n{createUrlTree(e,i,r,s,d,f){return $z(e||i.root,r,s,d,f)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),h3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(t){return d3.\u0275fac(t)},providedIn:"root"}),n})();class hP{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=MA(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=MA(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=RA(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return RA(t,this._root).map(e=>e.value)}}function MA(n,t){if(n===t.value)return t;for(const e of t.children){const i=MA(n,e);if(i)return i}return null}function RA(n,t){if(n===t.value)return[t];for(const e of t.children){const i=RA(n,e);if(i.length)return i.unshift(t),i}return[]}class Qu{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Fy(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class fP extends hP{constructor(t,e){super(t),this.snapshot=e,OA(this,t)}toString(){return this.snapshot.toString()}}function mP(n,t){const e=function f3(n,t){const d=new wS([],{},{},"",{},Qt,t,null,n.root,-1,{});return new gP("",new Qu(d,[]))}(n,t),i=new Bo([new dw("",{})]),r=new Bo({}),s=new Bo({}),d=new Bo({}),f=new Bo(""),_=new Xu(i,r,d,f,s,Qt,t,e.root);return _.snapshot=e.root,new fP(new Qu(_,[]),e)}class Xu{constructor(t,e,i,r,s,d,f,_){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=d,this.component=f,this.title=this.data?.pipe((0,F.U)(b=>b[lw]))??Ze(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,F.U)(t=>Ay(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,F.U)(t=>Ay(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function pP(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function m3(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class wS{get title(){return this.data?.[lw]}constructor(t,e,i,r,s,d,f,_,b,E,k){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=d,this.component=f,this.routeConfig=_,this._urlSegment=b,this._lastPathIndex=E,this._resolve=k}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ay(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ay(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class gP extends hP{constructor(t,e){super(e),this.url=t,OA(this,e)}toString(){return _P(this._root)}}function OA(n,t){t.value._routerState=n,t.children.forEach(e=>OA(n,e))}function _P(n){const t=n.children.length>0?` { ${n.children.map(_P).join(", ")} } `:"";return`${n.value}${t}`}function FA(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,td(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),td(t.params,e.params)||n.params.next(e.params),function Dz(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!td(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),td(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function PA(n,t){const e=td(n.params,t.params)&&function Mz(n,t){return og(n,t)&&n.every((e,i)=>td(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||PA(n.parent,t.parent))}function gw(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function g3(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return gw(n,i,r);return gw(n,i)})}(n,t,e);return new Qu(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const d=s.route;return d.value._futureSnapshot=t.value,d.children=t.children.map(f=>gw(n,f)),d}}const i=function _3(n){return new Xu(new Bo(n.url),new Bo(n.params),new Bo(n.queryParams),new Bo(n.fragment),new Bo(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>gw(n,s));return new Qu(i,r)}}const NA="ngNavigationCancelingError";function yP(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=sg(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=vP(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function vP(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[NA]=!0,i.cancellationCode=t,e&&(i.url=e),i}function bP(n){return wP(n)&&sg(n.url)}function wP(n){return n&&n[NA]}class y3{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new _w,this.attachRef=null}}let _w=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new y3,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xS=!1;let LA=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Qt,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.parentContexts=(0,a.f3M)(_w),this.location=(0,a.f3M)(a.s_b),this.changeDetector=(0,a.f3M)(a.sBO),this.environmentInjector=(0,a.f3M)(a.lqb)}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,xS);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,xS);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,xS);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new a.vHH(4013,xS);this._activatedRoute=e;const r=this.location,d=e.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,_=new v3(e,f,r.injector);if(i&&function b3(n){return!!n.resolveComponentFactory}(i)){const b=i.resolveComponentFactory(d);this.activated=r.createComponent(b,r.length,_)}else this.activated=r.createComponent(d,{index:r.length,injector:_,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.TTD]}),n})();class v3{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Xu?this.route:t===_w?this.childContexts:this.parent.get(t,e)}}let VA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(e,i){1&e&&a._UZ(0,"router-outlet")},dependencies:[LA],encapsulation:2}),n})();function xP(n,t){return n.providers&&!n._injector&&(n._injector=(0,a.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function UA(n){const t=n.children&&n.children.map(UA),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Qt&&(e.component=VA),e}function Ma(n){return n.outlet||Qt}function EP(n,t){const e=n.filter(i=>Ma(i)===t);return e.push(...n.filter(i=>Ma(i)!==t)),e}function yw(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class S3{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),FA(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Fy(e);t.children.forEach(s=>{const d=s.value.outlet;this.deactivateRoutes(s,r[d],i),delete r[d]}),Qr(r,(s,d)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const d=i.getContext(r.outlet);d&&this.deactivateChildRoutes(t,e,d.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Fy(t);for(const d of Object.keys(s))this.deactivateRouteAndItsChildren(s[d],r);if(i&&i.outlet){const d=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:d,route:t,contexts:f})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Fy(t);for(const d of Object.keys(s))this.deactivateRouteAndItsChildren(s[d],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Fy(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new a3(s.value.snapshot))}),t.children.length&&this.forwardEvent(new o3(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(FA(r),r===s)if(r.component){const d=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,d.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const d=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),d.children.onOutletReAttached(f.contexts),d.attachRef=f.componentRef,d.route=f.route.value,d.outlet&&d.outlet.attach(f.componentRef,f.route.value),FA(f.route.value),this.activateChildRoutes(t,null,d.children)}else{const f=yw(r.snapshot),_=f?.get(a._Vd)??null;d.attachRef=null,d.route=r,d.resolver=_,d.injector=f,d.outlet&&d.outlet.activateWith(r,d.injector),this.activateChildRoutes(t,null,d.children)}}else this.activateChildRoutes(t,null,i)}}class CP{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ES{constructor(t,e){this.component=t,this.route=e}}function I3(n,t,e){const i=n._root;return vw(i,t?t._root:null,e,[i.value])}function Py(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,a.Z0I)(n)?t.get(n):n:i}function vw(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Fy(t);return n.children.forEach(d=>{(function T3(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,d=t?t.value:null,f=e?e.getContext(n.value.outlet):null;if(d&&s.routeConfig===d.routeConfig){const _=function k3(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!og(n.url,t.url);case"pathParamsOrQueryParamsChange":return!og(n.url,t.url)||!td(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!PA(n,t)||!td(n.queryParams,t.queryParams);default:return!PA(n,t)}}(d,s,s.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new CP(i)):(s.data=d.data,s._resolvedData=d._resolvedData),vw(n,t,s.component?f?f.children:null:e,i,r),_&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new ES(f.outlet.component,d))}else d&&bw(t,f,r),r.canActivateChecks.push(new CP(i)),vw(n,null,s.component?f?f.children:null:e,i,r)})(d,s[d.value.outlet],e,i.concat([d.value]),r),delete s[d.value.outlet]}),Qr(s,(d,f)=>bw(d,e.getContext(f),r)),r}function bw(n,t,e){const i=Fy(n),r=n.value;Qr(i,(s,d)=>{bw(s,r.component?t?t.children.getContext(d):null:t,e)}),e.canDeactivateChecks.push(new ES(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function ww(n){return"function"==typeof n}function jA(n){return n instanceof PC||"EmptyError"===n?.name}const CS=Symbol("INITIAL_VALUE");function Ny(){return kn(n=>Wk(n.map(t=>t.pipe(us(1),S(CS)))).pipe((0,F.U)(t=>{for(const e of t)if(!0!==e){if(e===CS)return CS;if(!1===e||e instanceof dm)return e}return!0}),We(t=>t!==CS),us(1)))}function SP(n){return(0,Ez.z)((0,Wn.b)(t=>{if(sg(t))throw yP(0,t)}),(0,F.U)(t=>!0===t))}const zA={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function IP(n,t,e,i,r){const s=HA(n,t,e);return s.matched?function q3(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?Ze(r.map(d=>{const f=Py(d,n);return lm(function P3(n){return n&&ww(n.canMatch)}(f)?f.canMatch(t,e):n.runInContext(()=>f(t,e)))})).pipe(Ny(),SP()):Ze(!0)}(i=xP(t,i),t,e).pipe((0,F.U)(d=>!0===d?s:{...zA})):Ze(s)}function HA(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...zA}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Iz)(e,n,t);if(!r)return{...zA};const s={};Qr(r.posParams,(f,_)=>{s[_]=f.path});const d=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:d,positionalParamSegments:r.posParams??{}}}function SS(n,t,e,i){if(e.length>0&&function K3(n,t,e){return e.some(i=>IS(n,t,i)&&Ma(i)!==Qt)}(n,e,i)){const s=new an(t,function Z3(n,t,e,i){const r={};r[Qt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&Ma(s)!==Qt){const d=new an([],{});d._sourceSegment=n,d._segmentIndexShift=t.length,r[Ma(s)]=d}return r}(n,t,i,new an(e,n.children)));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function Y3(n,t,e){return e.some(i=>IS(n,t,i))}(n,e,i)){const s=new an(n.segments,function W3(n,t,e,i,r){const s={};for(const d of i)if(IS(n,e,d)&&!r[Ma(d)]){const f=new an([],{});f._sourceSegment=n,f._segmentIndexShift=t.length,s[Ma(d)]=f}return{...r,...s}}(n,t,e,i,n.children));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}const r=new an(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:e}}function IS(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function DP(n,t,e,i){return!!(Ma(n)===i||i!==Qt&&IS(t,e,n))&&("**"===n.path||HA(t,n,e).matched)}function TP(n,t,e){return 0===t.length&&!n.children[e]}const DS=!1;class TS{constructor(t){this.segmentGroup=t||null}}class kP{constructor(t){this.urlTree=t}}function xw(n){return rg(new TS(n))}function AP(n){return rg(new kP(n))}function Q3(n){return rg(new a.vHH(4e3,DS&&`Only absolute redirects can have named outlets. redirectTo: '${n}'`))}class eH{constructor(t,e,i,r,s){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const t=SS(this.urlTree.root,[],[],this.config).segmentGroup,e=new an(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Qt).pipe((0,F.U)(s=>this.createUrlTree(yS(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ur(s=>{if(s instanceof kP)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof TS?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Qt).pipe((0,F.U)(r=>this.createUrlTree(yS(r),t.queryParams,t.fragment))).pipe(ur(r=>{throw r instanceof TS?this.noMatchError(r):r}))}noMatchError(t){return new a.vHH(4002,DS&&`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=SA(t);return new dm(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,F.U)(s=>new an([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,$t.D)(r).pipe(cm(s=>{const d=i.children[s],f=EP(e,s);return this.expandSegmentGroup(t,f,d,s).pipe((0,F.U)(_=>({segment:_,outlet:s})))}),ne((s,d)=>(s[d.outlet]=d.segment,s),{}),$F())}expandSegment(t,e,i,r,s,d){return(0,$t.D)(i).pipe(cm(f=>this.expandSegmentAgainstRoute(t,e,i,f,r,s,d).pipe(ur(b=>{if(b instanceof TS)return Ze(null);throw b}))),Wu(f=>!!f),ur((f,_)=>{if(jA(f))return TP(e,r,s)?Ze(new an([],{})):xw(e);throw f}))}expandSegmentAgainstRoute(t,e,i,r,s,d,f){return DP(r,e,s,d)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,d):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,d):xw(e):xw(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,d){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,d):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?AP(s):this.lineralizeSegments(i,s).pipe((0,Ar.z)(d=>{const f=new an(d,{});return this.expandSegment(t,f,e,d,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,d){const{matched:f,consumedSegments:_,remainingSegments:b,positionalParamSegments:E}=HA(e,r,s);if(!f)return xw(e);const k=this.applyRedirectCommands(_,r.redirectTo,E);return r.redirectTo.startsWith("/")?AP(k):this.lineralizeSegments(r,k).pipe((0,Ar.z)(V=>this.expandSegment(t,e,i,V.concat(b),d,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){return"**"===i.path?(t=xP(i,t),i.loadChildren?(i._loadedRoutes?Ze({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,F.U)(f=>(i._loadedRoutes=f.routes,i._loadedInjector=f.injector,new an(r,{})))):Ze(new an(r,{}))):IP(e,i,r,t).pipe(kn(({matched:d,consumedSegments:f,remainingSegments:_})=>d?this.getChildConfig(t=i._injector??t,i,r).pipe((0,Ar.z)(E=>{const k=E.injector??t,V=E.routes,{segmentGroup:L,slicedSegments:U}=SS(e,f,_,V),Y=new an(L.segments,L.children);if(0===U.length&&Y.hasChildren())return this.expandChildren(k,V,Y).pipe((0,F.U)(pt=>new an(f,pt)));if(0===V.length&&0===U.length)return Ze(new an(f,{}));const he=Ma(i)===s;return this.expandSegment(k,Y,V,U,he?Qt:s,!0).pipe((0,F.U)(ft=>new an(f.concat(ft.segments),ft.children)))})):xw(e)))}getChildConfig(t,e,i){return e.children?Ze({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Ze({routes:e._loadedRoutes,injector:e._loadedInjector}):function G3(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?Ze(!0):Ze(r.map(d=>{const f=Py(d,n);return lm(function M3(n){return n&&ww(n.canLoad)}(f)?f.canLoad(t,e):n.runInContext(()=>f(t,e)))})).pipe(Ny(),SP())}(t,e,i).pipe((0,Ar.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,Wn.b)(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function X3(n){return rg(vP(DS&&`Cannot load children because the guard of the route "path: '${n.path}'" returned false`,3))}(e))):Ze({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Ze(i);if(r.numberOfChildren>1||!r.children[Qt])return Q3(t.redirectTo);r=r.children[Qt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new dm(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Qr(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const f=r.substring(1);i[s]=e[f]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let d={};return Qr(e.children,(f,_)=>{d[_]=this.createSegmentGroup(t,f,i,r)}),new an(s,d)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new a.vHH(4001,DS&&`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class nH{}class oH{constructor(t,e,i,r,s,d,f){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=d,this.urlSerializer=f}recognize(){const t=SS(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Qt).pipe((0,F.U)(e=>{if(null===e)return null;const i=new wS([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Qt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Qu(i,e),s=new gP(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const e=t.value,i=pP(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,$t.D)(Object.keys(i.children)).pipe(cm(r=>{const s=i.children[r],d=EP(e,r);return this.processSegmentGroup(t,d,s,r)}),ne((r,s)=>r&&s?(r.push(...s),r):null),function Cz(n,t=!1){return(0,xn.e)((e,i)=>{let r=0;e.subscribe((0,I.x)(i,s=>{const d=n(s,r++);(d||t)&&i.next(s),!d&&i.complete()}))})}(r=>null!==r),NC(null),$F(),(0,F.U)(r=>{if(null===r)return null;const s=RP(r);return function sH(n){n.sort((t,e)=>t.value.outlet===Qt?-1:e.value.outlet===Qt?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}))}processSegment(t,e,i,r,s){return(0,$t.D)(e).pipe(cm(d=>this.processSegmentAgainstRoute(d._injector??t,d,i,r,s)),Wu(d=>!!d),ur(d=>{if(jA(d))return TP(i,r,s)?Ze([]):Ze(null);throw d}))}processSegmentAgainstRoute(t,e,i,r,s){if(e.redirectTo||!DP(e,i,r,s))return Ze(null);let d;if("**"===e.path){const f=r.length>0?ZF(r).parameters:{},_=FP(i)+r.length;d=Ze({snapshot:new wS(r,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,PP(e),Ma(e),e.component??e._loadedComponent??null,e,OP(i),_,NP(e)),consumedSegments:[],remainingSegments:[]})}else d=IP(i,e,r,t).pipe((0,F.U)(({matched:f,consumedSegments:_,remainingSegments:b,parameters:E})=>{if(!f)return null;const k=FP(i)+_.length;return{snapshot:new wS(_,E,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,PP(e),Ma(e),e.component??e._loadedComponent??null,e,OP(i),k,NP(e)),consumedSegments:_,remainingSegments:b}}));return d.pipe(kn(f=>{if(null===f)return Ze(null);const{snapshot:_,consumedSegments:b,remainingSegments:E}=f;t=e._injector??t;const k=e._loadedInjector??t,V=function aH(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:L,slicedSegments:U}=SS(i,b,E,V.filter(he=>void 0===he.redirectTo));if(0===U.length&&L.hasChildren())return this.processChildren(k,V,L).pipe((0,F.U)(he=>null===he?null:[new Qu(_,he)]));if(0===V.length&&0===U.length)return Ze([new Qu(_,[])]);const Y=Ma(e)===s;return this.processSegment(k,V,L,U,Y?Qt:s).pipe((0,F.U)(he=>null===he?null:[new Qu(_,he)]))}))}}function cH(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function RP(n){const t=[],e=new Set;for(const i of n){if(!cH(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=RP(i.children);t.push(new Qu(i.value,r))}return t.filter(i=>!e.has(i))}function OP(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function FP(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function PP(n){return n.data||{}}function NP(n){return n.resolve||{}}function LP(n){return"string"==typeof n.title||null===n.title}function $A(n){return kn(t=>{const e=n(t);return e?(0,$t.D)(e).pipe((0,F.U)(()=>t)):Ze(t)})}const Ly=new a.OlP("ROUTES");let GA=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,a.f3M)(a.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Ze(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=lm(e.loadComponent()).pipe((0,F.U)(BP),(0,Wn.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),uS(()=>{this.componentLoaders.delete(e)})),r=new HF(i,()=>new sn.x).pipe(wA());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ze({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,F.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(i);let _,b,E=!1;Array.isArray(f)?b=f:(_=f.create(e).injector,b=WF(_.get(Ly,[],a.XFs.Self|a.XFs.Optional)));return{routes:b.map(UA),injector:_}}),uS(()=>{this.childrenLoaders.delete(i)})),d=new HF(s,()=>new sn.x).pipe(wA());return this.childrenLoaders.set(i,d),d}loadModuleFactoryOrRoutes(e){return lm(e()).pipe((0,F.U)(BP),(0,Ar.z)(i=>i instanceof a.YKP||Array.isArray(i)?Ze(i):(0,$t.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function BP(n){return function gH(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let AS=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new sn.x,this.configLoader=(0,a.f3M)(GA),this.environmentInjector=(0,a.f3M)(a.lqb),this.urlSerializer=(0,a.f3M)(uw),this.rootContexts=(0,a.f3M)(_w),this.navigationId=0,this.afterPreactivation=()=>Ze(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new n3(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new t3(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new Bo({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:pw,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(We(i=>0!==i.id),(0,F.U)(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),kn(i=>{let r=!1,s=!1;return Ze(i).pipe((0,Wn.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),kn(d=>{const f=e.browserUrlTree.toString(),_=!e.navigated||d.extractedUrl.toString()!==f||f!==e.currentUrlTree.toString();if(!_&&"reload"!==(d.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const E="";return this.events.next(new bS(d.id,e.serializeUrl(i.rawUrl),E,0)),e.rawUrlTree=d.rawUrl,d.resolve(null),Jl.E}if(e.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return UP(d.source)&&(e.browserUrlTree=d.extractedUrl),Ze(d).pipe(kn(E=>{const k=this.transitions?.getValue();return this.events.next(new kA(E.id,this.urlSerializer.serialize(E.extractedUrl),E.source,E.restoredState)),k!==this.transitions?.getValue()?Jl.E:Promise.resolve(E)}),function tH(n,t,e,i){return kn(r=>function J3(n,t,e,i,r){return new eH(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,F.U)(s=>({...r,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),(0,Wn.b)(E=>{this.currentNavigation={...this.currentNavigation,finalUrl:E.urlAfterRedirects},i.urlAfterRedirects=E.urlAfterRedirects}),function dH(n,t,e,i,r){return(0,Ar.z)(s=>function rH(n,t,e,i,r,s,d="emptyOnly"){return new oH(n,t,e,i,r,d,s).recognize().pipe(kn(f=>null===f?function iH(n){return new fn.y(t=>t.error(n))}(new nH):Ze(f)))}(n,t,e,s.urlAfterRedirects,i.serialize(s.urlAfterRedirects),i,r).pipe((0,F.U)(d=>({...s,targetSnapshot:d}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,Wn.b)(E=>{if(i.targetSnapshot=E.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!E.extras.skipLocationChange){const V=e.urlHandlingStrategy.merge(E.urlAfterRedirects,E.rawUrl);e.setBrowserUrl(V,E)}e.browserUrlTree=E.urlAfterRedirects}const k=new Yz(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(k)}));if(_&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:E,extractedUrl:k,source:V,restoredState:L,extras:U}=d,Y=new kA(E,this.urlSerializer.serialize(k),V,L);this.events.next(Y);const he=mP(k,this.rootComponentType).snapshot;return Ze(i={...d,targetSnapshot:he,urlAfterRedirects:k,extras:{...U,skipLocationChange:!1,replaceUrl:!1}})}{const E="";return this.events.next(new bS(d.id,e.serializeUrl(i.extractedUrl),E,1)),e.rawUrlTree=d.rawUrl,d.resolve(null),Jl.E}}),(0,Wn.b)(d=>{const f=new Qz(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),(0,F.U)(d=>i={...d,guards:I3(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function L3(n,t){return(0,Ar.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:d}}=e;return 0===d.length&&0===s.length?Ze({...e,guardsResult:!0}):function V3(n,t,e,i){return(0,$t.D)(n).pipe((0,Ar.z)(r=>function $3(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Ze(s.map(f=>{const _=yw(t)??r,b=Py(f,_);return lm(function F3(n){return n&&ww(n.canDeactivate)}(b)?b.canDeactivate(n,t,e,i):_.runInContext(()=>b(n,t,e,i))).pipe(Wu())})).pipe(Ny()):Ze(!0)}(r.component,r.route,e,t,i)),Wu(r=>!0!==r,!0))}(d,i,r,n).pipe((0,Ar.z)(f=>f&&function A3(n){return"boolean"==typeof n}(f)?function B3(n,t,e,i){return(0,$t.D)(t).pipe(cm(r=>oc(function j3(n,t){return null!==n&&t&&t(new r3(n)),Ze(!0)}(r.route.parent,i),function U3(n,t){return null!==n&&t&&t(new s3(n)),Ze(!0)}(r.route,i),function H3(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(d=>function D3(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(d)).filter(d=>null!==d).map(d=>zF(()=>Ze(d.guards.map(_=>{const b=yw(d.node)??e,E=Py(_,b);return lm(function O3(n){return n&&ww(n.canActivateChild)}(E)?E.canActivateChild(i,n):b.runInContext(()=>E(i,n))).pipe(Wu())})).pipe(Ny())));return Ze(s).pipe(Ny())}(n,r.path,e),function z3(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Ze(!0);const r=i.map(s=>zF(()=>{const d=yw(t)??e,f=Py(s,d);return lm(function R3(n){return n&&ww(n.canActivate)}(f)?f.canActivate(t,n):d.runInContext(()=>f(t,n))).pipe(Wu())}));return Ze(r).pipe(Ny())}(n,r.route,e))),Wu(r=>!0!==r,!0))}(i,s,n,t):Ze(f)),(0,F.U)(f=>({...e,guardsResult:f})))})}(this.environmentInjector,d=>this.events.next(d)),(0,Wn.b)(d=>{if(i.guardsResult=d.guardsResult,sg(d.guardsResult))throw yP(0,d.guardsResult);const f=new Xz(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(f)}),We(d=>!!d.guardsResult||(e.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),$A(d=>{if(d.guards.canActivateChecks.length)return Ze(d).pipe((0,Wn.b)(f=>{const _=new Jz(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}),kn(f=>{let _=!1;return Ze(f).pipe(function uH(n,t){return(0,Ar.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Ze(e);let s=0;return(0,$t.D)(r).pipe(cm(d=>function hH(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!LP(r)&&(s[lw]=r.title),function fH(n,t,e,i){const r=function mH(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Ze({});const s={};return(0,$t.D)(r).pipe((0,Ar.z)(d=>function pH(n,t,e,i){const r=yw(t)??i,s=Py(n,r);return lm(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[d],t,e,i).pipe(Wu(),(0,Wn.b)(f=>{s[d]=f}))),xA(1),GF(s),ur(d=>jA(d)?Jl.E:rg(d)))}(s,n,t,i).pipe((0,F.U)(d=>(n._resolvedData=d,n.data=pP(n,e).resolve,r&&LP(r)&&(n.data[lw]=r.title),null)))}(d.route,i,n,t)),(0,Wn.b)(()=>s++),xA(1),(0,Ar.z)(d=>s===r.length?Ze(e):Jl.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,Wn.b)({next:()=>_=!0,complete:()=>{_||(e.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),(0,Wn.b)(f=>{const _=new e3(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}))}),$A(d=>{const f=_=>{const b=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,Wn.b)(E=>{_.component=E}),(0,F.U)(()=>{})));for(const E of _.children)b.push(...f(E));return b};return Wk(f(d.targetSnapshot.root)).pipe(NC(),us(1))}),$A(()=>this.afterPreactivation()),(0,F.U)(d=>{const f=function p3(n,t,e){const i=gw(n,t._root,e?e._root:void 0);return new fP(i,t)}(e.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return i={...d,targetRouterState:f}}),(0,Wn.b)(d=>{e.currentUrlTree=d.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),e.routerState=d.targetRouterState,"deferred"===e.urlUpdateStrategy&&(d.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,d),e.browserUrlTree=d.urlAfterRedirects)}),((n,t,e)=>(0,F.U)(i=>(new S3(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,e.routeReuseStrategy,d=>this.events.next(d)),(0,Wn.b)({next:d=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new ag(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{r=!0}}),uS(()=>{r||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),ur(d=>{if(s=!0,wP(d)){bP(d)||(e.navigated=!0,e.restoreHistory(i,!0));const f=new vS(i.id,this.urlSerializer.serialize(i.extractedUrl),d.message,d.cancellationCode);if(this.events.next(f),bP(d)){const _=e.urlHandlingStrategy.merge(d.url,e.rawUrlTree),b={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||UP(i.source)};e.scheduleNavigation(_,pw,null,b,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const f=new AA(i.id,this.urlSerializer.serialize(i.extractedUrl),d,i.targetSnapshot??void 0);this.events.next(f);try{i.resolve(e.errorHandler(d))}catch(_){i.reject(_)}}return Jl.E}))}))}cancelNavigationTransition(e,i,r){const s=new vS(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(s),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function UP(n){return n!==pw}let jP=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Qt);return i}getResolvedTitleForRoute(e){return e.data[lw]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(_H)},providedIn:"root"}),n})(),_H=(()=>{class n extends jP{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ks))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(bH)},providedIn:"root"}),n})();class vH{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let bH=(()=>{class n extends vH{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const MS=new a.OlP("",{providedIn:"root",factory:()=>({})});let xH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(EH)},providedIn:"root"}),n})(),EH=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function CH(n){throw n}function SH(n,t,e){return t.parse("/")}const IH={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},DH={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let hr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,a.f3M)(a.c2e),this.isNgZoneEnabled=!1,this.options=(0,a.f3M)(MS,{optional:!0})||{},this.errorHandler=this.options.errorHandler||CH,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||SH,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,a.f3M)(xH),this.routeReuseStrategy=(0,a.f3M)(yH),this.urlCreationStrategy=(0,a.f3M)(h3),this.titleStrategy=(0,a.f3M)(jP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=WF((0,a.f3M)(Ly,{optional:!0})??[]),this.navigationTransitions=(0,a.f3M)(AS),this.urlSerializer=(0,a.f3M)(uw),this.location=(0,a.f3M)(Le),this.isNgZoneEnabled=(0,a.f3M)(a.R0b)instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new dm,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=mP(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),pw,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const s={replaceUrl:!0},d=r?.navigationId?r:null;if(r){const _={...r};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(s.state=_)}const f=this.parseUrl(e);this.scheduleNavigation(f,i,d,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(UA),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:d,queryParamsHandling:f,preserveFragment:_}=i,b=_?this.currentUrlTree.fragment:d;let E=null;switch(f){case"merge":E={...this.currentUrlTree.queryParams,...s};break;case"preserve":E=this.currentUrlTree.queryParams;break;default:E=s||null}return null!==E&&(E=this.removeEmptyProps(E)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,e,E,b??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=sg(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,pw,null,i)}navigate(e,i={skipLocationChange:!1}){return function TH(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new a.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...IH}:!1===i?{...DH}:i,sg(e))return YF(this.currentUrlTree,e,r);const s=this.parseUrl(e);return YF(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(e,i,r,s,d){if(this.disposed)return Promise.resolve(!1);let f,_,b,E;return d?(f=d.resolve,_=d.reject,b=d.promise):b=new Promise((k,V)=>{f=k,_=V}),E="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:E,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:f,reject:_,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(k=>Promise.reject(k))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),id=(()=>{class n{constructor(e,i,r,s,d,f){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=d,this.locationStrategy=f,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new sn.x;const _=d.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=e.events.subscribe(b=>{b instanceof ag&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,a.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,a.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,a.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,s,d){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||s||d||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,a.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,e,i):r.removeAttribute(s,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(hr),a.Y36(Xu),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(ht))},n.\u0275dir=a.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,i){1&e&&a.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&a.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),n})();class zP{}let MH=(()=>{class n{constructor(e,i,r,s,d){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(We(e=>e instanceof ag),cm(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,a.MMx)(s.providers,e,`Route: ${s.path}`));const d=s._injector??e,f=s._loadedInjector??d;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(d,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(f,s.children??s._loadedRoutes))}return(0,$t.D)(r).pipe((0,Jo.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Ze(null);const s=r.pipe((0,Ar.z)(d=>null===d?Ze(void 0):(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,this.processRoutes(d.injector??e,d.routes))));if(i.loadComponent&&!i._loadedComponent){const d=this.loader.loadComponent(i);return(0,$t.D)([s,d]).pipe((0,Jo.J)())}return s})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(hr),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(zP),a.LFG(GA))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const WA=new a.OlP("");let HP=(()=>{class n{constructor(e,i,r,s,d={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},d.scrollPositionRestoration=d.scrollPositionRestoration||"disabled",d.anchorScrolling=d.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof kA?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ag&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof uP&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new uP(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();var $s=(()=>(($s=$s||{})[$s.COMPLETE=0]="COMPLETE",$s[$s.FAILED=1]="FAILED",$s[$s.REDIRECTING=2]="REDIRECTING",$s))();const Vy=!1;function um(n,t){return{\u0275kind:n,\u0275providers:t}}const ZA=new a.OlP("",{providedIn:"root",factory:()=>!1});function GP(){const n=(0,a.f3M)(a.zs3);return t=>{const e=n.get(a.z2F);if(t!==e.components[0])return;const i=n.get(hr),r=n.get(qP);1===n.get(KA)&&i.initialNavigation(),n.get(WP,null,a.XFs.Optional)?.setUpPreloading(),n.get(WA,null,a.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const qP=new a.OlP(Vy?"bootstrap done indicator":"",{factory:()=>new sn.x}),KA=new a.OlP(Vy?"initial navigation":"",{providedIn:"root",factory:()=>1});function NH(){let n=[];return n=Vy?[{provide:a.Xts,multi:!0,useFactory:()=>{const t=(0,a.f3M)(hr);return()=>t.events.subscribe(e=>{console.group?.(`Router Event: ${e.constructor.name}`),console.log(function c3(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(e)),console.log(e),console.groupEnd?.()})}}]:[],um(1,n)}const WP=new a.OlP(Vy?"router preloader":"");function LH(n){return um(0,[{provide:WP,useExisting:MH},{provide:zP,useExisting:n}])}const Ew=!1,ZP=new a.OlP(Ew?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),VH=[Le,{provide:uw,useClass:EA},hr,_w,{provide:Xu,useFactory:function $P(n){return n.routerState.root},deps:[hr]},GA,Ew?{provide:ZA,useValue:!0}:[]];function BH(){return new a.PXZ("Router",hr)}let Fc=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[VH,Ew&&i?.enableTracing?NH().\u0275providers:[],{provide:Ly,multi:!0,useValue:e},{provide:ZP,useFactory:HH,deps:[[hr,new a.FiY,new a.tp0]]},{provide:MS,useValue:i||{}},i?.useHash?{provide:ht,useClass:Ie}:{provide:ht,useClass:Ae},{provide:WA,useFactory:()=>{const n=(0,a.f3M)(ws),t=(0,a.f3M)(a.R0b),e=(0,a.f3M)(MS),i=(0,a.f3M)(AS),r=(0,a.f3M)(uw);return e.scrollOffset&&n.setOffset(e.scrollOffset),new HP(r,i,n,t,e)}},i?.preloadingStrategy?LH(i.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:BH},i?.initialNavigation?$H(i):[],[{provide:KP,useFactory:GP},{provide:a.tb,multi:!0,useExisting:KP}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Ly,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ZP,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[VA]}),n})();function HH(n){if(Ew&&n)throw new a.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function $H(n){return["disabled"===n.initialNavigation?um(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const t=(0,a.f3M)(hr);return()=>{t.setUpLocationChangeListener()}}},{provide:KA,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?um(2,[{provide:KA,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:t=>{const e=t.get(ae,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(hr),s=t.get(qP);(function RH(n,t){n.events.pipe(We(e=>e instanceof ag||e instanceof vS||e instanceof AA||e instanceof bS),(0,F.U)(e=>e instanceof ag||e instanceof bS?$s.COMPLETE:e instanceof vS&&(0===e.code||1===e.code)?$s.REDIRECTING:$s.FAILED),We(e=>e!==$s.REDIRECTING),us(1)).subscribe(()=>{t()})})(r,()=>{i(!0)}),t.get(AS).afterPreactivation=()=>(i(!0),s.closed?Ze(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const KP=new a.OlP(Ew?"Router Initializer":"");function YP(){return(0,xn.e)((n,t)=>{n.subscribe((0,I.x)(t,_k.Z))})}class Ju{constructor(t,e,i){this.kind=t,this.value=e,this.error=i,this.hasValue="N"===t}observe(t){return QP(this,t)}do(t,e,i){const{kind:r,value:s,error:d}=this;return"N"===r?t?.(s):"E"===r?e?.(d):i?.()}accept(t,e,i){var r;return(0,Oc.m)(null===(r=t)||void 0===r?void 0:r.next)?this.observe(t):this.do(t,e,i)}toObservable(){const{kind:t,value:e,error:i}=this,r="N"===t?Ze(e):"E"===t?rg(()=>i):"C"===t?Jl.E:0;if(!r)throw new TypeError(`Unexpected notification kind ${t}`);return r}static createNext(t){return new Ju("N",t)}static createError(t){return new Ju("E",void 0,t)}static createComplete(){return Ju.completeNotification}}function QP(n,t){var e,i,r;const{kind:s,value:d,error:f}=n;if("string"!=typeof s)throw new TypeError('Invalid notification, missing "kind"');"N"===s?null===(e=t.next)||void 0===e||e.call(t,d):"E"===s?null===(i=t.error)||void 0===i||i.call(t,f):null===(r=t.complete)||void 0===r||r.call(t)}function XP(n,t,e,i){return(0,xn.e)((r,s)=>{let d;t&&"function"!=typeof t?({duration:e,element:d,connector:i}=t):d=t;const f=new Map,_=U=>{f.forEach(U),U(s)},b=U=>_(Y=>Y.error(U));let E=0,k=!1;const V=new I.Q(s,U=>{try{const Y=n(U);let he=f.get(Y);if(!he){f.set(Y,he=i?i():new sn.x);const Ue=function L(U,Y){const he=new fn.y(Ue=>{E++;const ft=Y.subscribe(Ue);return()=>{ft.unsubscribe(),0==--E&&k&&V.unsubscribe()}});return he.key=U,he}(Y,he);if(s.next(Ue),e){const ft=(0,I.x)(he,()=>{he.complete(),ft?.unsubscribe()},void 0,void 0,()=>f.delete(Y));V.add((0,ka.Xf)(e(Ue)).subscribe(ft))}}he.next(d?d(U):U)}catch(Y){b(Y)}},()=>_(U=>U.complete()),b,()=>f.clear(),()=>(k=!0,0===E));r.subscribe(V)})}function JP(n,t){return t?e=>e.pipe(JP((i,r)=>(0,ka.Xf)(n(i,r)).pipe((0,F.U)((s,d)=>t(i,s,r,d))))):(0,xn.e)((e,i)=>{let r=0,s=null,d=!1;e.subscribe((0,I.x)(i,f=>{s||(s=(0,I.x)(i,void 0,()=>{s=null,d&&i.complete()}),(0,ka.Xf)(n(f,r++)).subscribe(s))},()=>{d=!0,!s&&i.complete()}))})}Ju.completeNotification=new Ju("C");const ZH={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},RS="__@ngrx/effects_create__";function Xr(n,t={}){const e=t.functional?n:n(),i={...ZH,...t};return Object.defineProperty(e,RS,{value:i}),e}function tN(n){return Object.getPrototypeOf(n)}function YA(n){return"function"==typeof n}function QA(n){return n.filter(YA)}function QH(n,t,e){const i=tN(n).constructor.name,r=function eN(n){return function KH(n){return Object.getOwnPropertyNames(n).filter(i=>!(!n[i]||!n[i].hasOwnProperty(RS))&&n[i][RS].hasOwnProperty("dispatch")).map(i=>({propertyName:i,...n[i][RS]}))}(n)}(n).map(({propertyName:s,dispatch:d,useEffectsErrorHandler:f})=>{const _="function"==typeof n[s]?n[s]():n[s],b=f?e(_,t):_;return!1===d?b.pipe(YP()):b.pipe(function qH(){return(0,xn.e)((n,t)=>{n.subscribe((0,I.x)(t,e=>{t.next(Ju.createNext(e))},()=>{t.next(Ju.createComplete()),t.complete()},e=>{t.next(Ju.createError(e)),t.complete()}))})}()).pipe((0,F.U)(k=>({effect:n[s],notification:k,propertyName:s,sourceName:i,sourceInstance:n})))});return(0,qu.T)(...r)}const XH=10;function nN(n,t,e=XH){return n.pipe(ur(i=>(t&&t.handleError(i),e<=1?n:nN(n,t,e-1))))}let Pc=(()=>{class n extends fn.y{constructor(e){super(),e&&(this.source=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(W0))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Jr(...n){return We(t=>n.some(e=>"string"==typeof e?e===t.type:e.type===t.type))}const iN=new a.OlP("@ngrx/effects Internal Root Guard"),OS=new a.OlP("@ngrx/effects User Provided Effects"),XA=new a.OlP("@ngrx/effects Internal Root Effects"),rN=new a.OlP("@ngrx/effects Internal Root Effects Instances"),oN=new a.OlP("@ngrx/effects Internal Feature Effects"),sN=new a.OlP("@ngrx/effects Internal Feature Effects Instance Groups"),JH=new a.OlP("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>nN}),aN="@ngrx/effects/init";en(aN);const o$="ngrxOnIdentifyEffects",l$="ngrxOnInitEffects";function d$(n){return JA(n,l$)}function JA(n,t){return n&&t in n&&"function"==typeof n[t]}let eM=(()=>{class n extends sn.x{constructor(e,i){super(),this.errorHandler=e,this.effectsErrorHandler=i}addEffects(e){this.next(e)}toActions(){return this.pipe(XP(e=>function YH(n){return"Object"!==n.constructor.name&&"Function"!==n.constructor.name}(e)?tN(e):e),(0,Ar.z)(e=>e.pipe(XP(u$))),(0,Ar.z)(e=>{const i=e.pipe(JP(s=>function h$(n,t){return e=>{const i=QH(e,n,t);return function c$(n){return JA(n,"ngrxOnRunEffects")}(e)?e.ngrxOnRunEffects(i):i}}(this.errorHandler,this.effectsErrorHandler)(s)),(0,F.U)(s=>(function t$(n,t){if("N"===n.notification.kind){const e=n.notification.value;!function n$(n){return"function"!=typeof n&&n&&n.type&&"string"==typeof n.type}(e)&&t.handleError(new Error(`Effect ${function i$({propertyName:n,sourceInstance:t,sourceName:e}){const i="function"==typeof t[n];return`"${e}.${String(n)}${i?"()":""}"`}(n)} dispatched an invalid action: ${function r$(n){try{return JSON.stringify(n)}catch{return n}}(e)}`))}}(s,this.errorHandler),s.notification)),We(s=>"N"===s.kind&&null!=s.value),function WH(){return(0,xn.e)((n,t)=>{n.subscribe((0,I.x)(t,e=>QP(e,t)))})}()),r=e.pipe(us(1),We(d$),(0,F.U)(s=>s.ngrxOnInitEffects()));return(0,qu.T)(i,r)}))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.qLn),a.LFG(JH))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function u$(n){return function s$(n){return JA(n,o$)}(n)?n.ngrxOnIdentifyEffects():""}let tM=(()=>{class n{constructor(e,i){this.effectSources=e,this.store=i,this.effectsSubscription=null}get isStarted(){return!!this.effectsSubscription}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(eM),a.LFG(Tr))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cN=(()=>{class n{constructor(e,i,r,s,d,f,_){this.sources=e,i.start();for(const b of s)e.addEffects(b);r.dispatch({type:aN})}addEffects(e){this.sources.addEffects(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(eM),a.LFG(tM),a.LFG(Tr),a.LFG(rN),a.LFG(WC,8),a.LFG(Nk,8),a.LFG(iN,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),f$=(()=>{class n{constructor(e,i,r,s){const d=i.flat();for(const f of d)e.addEffects(f)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(cN),a.LFG(sN),a.LFG(WC,8),a.LFG(Nk,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),By=(()=>{class n{static forFeature(...e){const i=e.flat(),r=QA(i);return{ngModule:f$,providers:[r,{provide:oN,multi:!0,useValue:i},{provide:OS,multi:!0,useValue:[]},{provide:sN,multi:!0,useFactory:lN,deps:[oN,OS]}]}}static forRoot(...e){const i=e.flat(),r=QA(i);return{ngModule:cN,providers:[r,{provide:XA,useValue:[i]},{provide:iN,useFactory:m$},{provide:OS,multi:!0,useValue:[]},{provide:rN,useFactory:lN,deps:[XA,OS]}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();function lN(n,t){const e=[];for(const i of n)e.push(...i);for(const i of t)e.push(...i);return e.map(i=>YA(i)?(0,a.f3M)(i):i)}function m$(){const n=(0,a.f3M)(tM,{optional:!0,skipSelf:!0}),t=(0,a.f3M)(XA,{self:!0});if((1!==t.length||0!==t[0].length)&&n)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var p$=P(1144);const g$=["addListener","removeListener"],_$=["addEventListener","removeEventListener"],y$=["on","off"];function FS(n,t,e,i){if((0,Oc.m)(e)&&(i=e,e=void 0),i)return FS(n,t,e).pipe(qk(i));const[r,s]=function w$(n){return(0,Oc.m)(n.addEventListener)&&(0,Oc.m)(n.removeEventListener)}(n)?_$.map(d=>f=>n[d](t,f,e)):function v$(n){return(0,Oc.m)(n.addListener)&&(0,Oc.m)(n.removeListener)}(n)?g$.map(dN(n,t)):function b$(n){return(0,Oc.m)(n.on)&&(0,Oc.m)(n.off)}(n)?y$.map(dN(n,t)):[];if(!r&&(0,p$.z)(n))return(0,Ar.z)(d=>FS(d,t,e))((0,ka.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new fn.y(d=>{const f=(..._)=>d.next(1<_.length?_:_[0]);return r(f),()=>s(f)})}function dN(n,t){return e=>i=>n[e](t,i)}var uN=P(4408);const Cw={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Cw;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new Aa.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=Cw;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Cw;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var hN=P(7565);const C$=new class E$ extends hN.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class x$ extends uN.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Cw.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(Cw.cancelAnimationFrame(e),t._scheduled=void 0)}});let nM,S$=1;const PS={};function fN(n){return n in PS&&(delete PS[n],!0)}const I$={setImmediate(n){const t=S$++;return PS[t]=!0,nM||(nM=Promise.resolve()),nM.then(()=>fN(t)&&n()),t},clearImmediate(n){fN(n)}},{setImmediate:D$,clearImmediate:T$}=I$,NS={setImmediate(...n){const{delegate:t}=NS;return(t?.setImmediate||D$)(...n)},clearImmediate(n){const{delegate:t}=NS;return(t?.clearImmediate||T$)(n)},delegate:void 0},iM=new class A$ extends hN.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class k$ extends uN.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=NS.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(NS.clearImmediate(e),t._scheduled=void 0)}});var R$=P(3532);function mN(n=0,t,e=ai.P){let i=-1;return null!=t&&((0,R$.K)(t)?e=t:i=t),new fn.y(r=>{let s=function O$(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let d=0;return e.schedule(function(){r.closed||(r.next(d++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function rM(n,t=ai.z){return function M$(n){return(0,xn.e)((t,e)=>{let i=!1,r=null,s=null,d=!1;const f=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const b=r;r=null,e.next(b)}d&&e.complete()},_=()=>{s=null,d&&e.complete()};t.subscribe((0,I.x)(e,b=>{i=!0,r=b,s||(0,ka.Xf)(n(b)).subscribe(s=(0,I.x)(e,f,_))},()=>{d=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>mN(n,t))}const F$=["contentWrapper"],P$=["*"],N$=new a.OlP("VIRTUAL_SCROLL_STRATEGY");let LS=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new sn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new fn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(rM(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ze()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(We(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Ku(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>FS(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.R0b),a.LFG(kr),a.LFG(J,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pN=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new sn.x,this._elementScrolled=new fn.y(d=>this.ngZone.runOutsideAngular(()=>FS(this.elementRef.nativeElement,"scroll").pipe(zs(this._destroyed)).subscribe(d)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=Y0()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==Y0()?e.left=e.right:1==Y0()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;oO()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==e)return s.scrollTop;if("bottom"==e)return s.scrollHeight-s.clientHeight-s.scrollTop;const d=this.dir&&"rtl"==this.dir.value;return"start"==e?e=d?r:i:"end"==e&&(e=d?i:r),d&&2==Y0()?e==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:d&&1==Y0()?e==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:e==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(LS),a.Y36(a.R0b),a.Y36(Dy,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),oM=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new sn.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(rM(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(kr),a.LFG(a.R0b),a.LFG(J,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gN=new a.OlP("VIRTUAL_SCROLLABLE");let B$=(()=>{class n extends pN{constructor(e,i,r,s){super(e,i,r,s)}measureViewportSize(e){const i=this.elementRef.nativeElement;return"horizontal"===e?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(LS),a.Y36(a.R0b),a.Y36(Dy,8))},n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const j$=typeof requestAnimationFrame<"u"?C$:iM;let z$=(()=>{class n extends B${get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=Fn(e)}constructor(e,i,r,s,d,f,_,b){super(e,f,r,d),this.elementRef=e,this._changeDetectorRef=i,this._scrollStrategy=s,this.scrollable=b,this._platform=(0,a.f3M)(kr),this._detachedSubject=new sn.x,this._renderedRangeSubject=new sn.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new fn.y(E=>this._scrollStrategy.scrolledIndexChange.subscribe(k=>Promise.resolve().then(()=>this.ngZone.run(()=>E.next(k))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Aa.w0.EMPTY,this._viewportChanges=_.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(S(null),rM(0,j$)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(zs(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(e){return this.getElementRef().nativeElement.getBoundingClientRect()[e]}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function U$(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,i="to-start"){e=this.appendOnly&&"to-start"===i?0:e;const s="horizontal"==this.orientation,d=s?"X":"Y";let _=`translate${d}(${Number((s&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===i&&(_+=` translate${d}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=_&&(this._renderedContentTransform=_,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=e:r.top=e,this.scrollable.scrollTo(r)}scrollToIndex(e,i="auto"){this._scrollStrategy.scrollToIndex(e,i)}measureScrollOffset(e){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(e??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(e){let i;const r="left",s="right",d="rtl"==this.dir?.value;i="start"==e?d?s:r:"end"==e?d?r:s:e||("horizontal"===this.orientation?"left":"top");const f=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-f}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of e)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(a.R0b),a.Y36(N$,8),a.Y36(Dy,8),a.Y36(LS),a.Y36(oM),a.Y36(gN,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,i){if(1&e&&a.Gf(F$,7),2&e){let r;a.iGM(r=a.CRH())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,i){2&e&&a.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[a._Bn([{provide:pN,useFactory:(t,e)=>t||e,deps:[[new a.FiY,new a.tBr(gN)],n]}]),a.qOj,a.jDz],ngContentSelectors:P$,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,i){1&e&&(a.F$t(),a.TgZ(0,"div",0,1),a.Hsn(2),a.qZA(),a._UZ(3,"div",2)),2&e&&(a.xp6(3),a.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),VS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),_N=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[aw,VS,z$,aw,VS]}),n})();class sM{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class H$ extends sM{constructor(t,e,i,r,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class yN extends sM{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class $$ extends sM{constructor(t){super(),this.element=t instanceof a.SBq?t.nativeElement:t}}class G${constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof H$?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof yN?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof $$?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class q$ extends G${constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=d=>{const f=d.element,_=this._document.createComment("dom-portal");f.parentNode.insertBefore(_,f),this.outletElement.appendChild(f),this._attachedPortal=d,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(f,_)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||a.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let W$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const vN=oO();class Z${constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=dr(-this._previousScrollPosition.left),t.style.top=dr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",d=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),vN&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),vN&&(i.scrollBehavior=s,r.scrollBehavior=d)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class K${constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class bN{enable(){}disable(){}attach(){}}function aM(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function wN(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class Y${constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();aM(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Q$=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new bN,this.close=d=>new K$(this._scrollDispatcher,this._ngZone,this._viewportRuler,d),this.block=()=>new Z$(this._viewportRuler,this._document),this.reposition=d=>new Y$(this._scrollDispatcher,this._viewportRuler,this._ngZone,d),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(LS),a.LFG(oM),a.LFG(a.R0b),a.LFG(J))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class xN{constructor(t){if(this.scrollStrategy=new bN,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class X${constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let EN=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(J))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),J$=(()=>{class n extends EN{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let d=s.length-1;d>-1;d--)if(s[d]._keydownEvents.observers.length>0){const f=s[d]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(r)):f.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(J),a.LFG(a.R0b,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),e6=(()=>{class n extends EN{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=im(s)},this._clickListener=s=>{const d=im(s),f="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:d;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let b=_.length-1;b>-1;b--){const E=_[b];if(E._outsidePointerEvents.observers.length<1||!E.hasAttached())continue;if(E.overlayElement.contains(d)||E.overlayElement.contains(f))break;const k=E._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>k.next(s)):k.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(J),a.LFG(kr),a.LFG(a.R0b,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CN=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Uk()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),Uk()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(J),a.LFG(kr))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class t6{constructor(t,e,i,r,s,d,f,_,b,E=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=d,this._document=f,this._location=_,this._outsideClickDispatcher=b,this._animationsDisabled=E,this._backdropElement=null,this._backdropClick=new sn.x,this._attachments=new sn.x,this._detachments=new sn.x,this._locationChanges=Aa.w0.EMPTY,this._backdropClickHandler=k=>this._backdropClick.next(k),this._backdropTransitionendHandler=k=>{this._disposeBackdrop(k.target)},this._keydownEvents=new sn.x,this._outsidePointerEvents=new sn.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(us(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=dr(this._config.width),t.height=dr(this._config.height),t.minWidth=dr(this._config.minWidth),t.minHeight=dr(this._config.minHeight),t.maxWidth=dr(this._config.maxWidth),t.maxHeight=dr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=KC(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(zs((0,qu.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const SN="cdk-overlay-connected-position-bounding-box",n6=/([A-Za-z%]+)$/;class i6{get positions(){return this._preferredPositions}constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new sn.x,this._resizeSubscription=Aa.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(SN),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let d;for(let f of this._preferredPositions){let _=this._getOriginPoint(t,r,f),b=this._getOverlayPoint(_,e,f),E=this._getOverlayFit(b,e,i,f);if(E.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,_);this._canFitWithFlexibleDimensions(E,b,i)?s.push({position:f,origin:_,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(_,f)}):(!d||d.overlayFit.visibleArea<E.visibleArea)&&(d={overlayFit:E,overlayPoint:b,originPoint:_,position:f,overlayRect:e})}if(s.length){let f=null,_=-1;for(const b of s){const E=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);E>_&&(_=E,f=b)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(d.position,d.originPoint);this._applyPosition(d.position,d.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&cg(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(SN),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const d=this._isRtl()?t.right:t.left,f=this._isRtl()?t.left:t.right;r="start"==i.originX?d:f}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=DN(e);let{x:d,y:f}=t,_=this._getOffset(r,"x"),b=this._getOffset(r,"y");_&&(d+=_),b&&(f+=b);let V=0-f,L=f+s.height-i.height,U=this._subtractOverflows(s.width,0-d,d+s.width-i.width),Y=this._subtractOverflows(s.height,V,L),he=U*Y;return{visibleArea:he,isCompletelyWithinViewport:s.width*s.height===he,fitsInViewportVertically:Y===s.height,fitsInViewportHorizontally:U==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,d=IN(this._overlayRef.getConfig().minHeight),f=IN(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=d&&d<=r)&&(t.fitsInViewportHorizontally||null!=f&&f<=s)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=DN(e),s=this._viewportRect,d=Math.max(t.x+r.width-s.width,0),f=Math.max(t.y+r.height-s.height,0),_=Math.max(s.top-i.top-t.y,0),b=Math.max(s.left-i.left-t.x,0);let E=0,k=0;return E=r.width<=s.width?b||-d:t.x<this._viewportMargin?s.left-i.left-t.x:0,k=r.height<=s.height?_||-f:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:E,y:k},{x:t.x+E,y:t.y+k}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new X$(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,d,f,E,k,V;if("top"===e.overlayY)d=t.y,s=i.height-d+this._viewportMargin;else if("bottom"===e.overlayY)f=i.height-t.y+2*this._viewportMargin,s=i.height-f+this._viewportMargin;else{const L=Math.min(i.bottom-t.y+i.top,t.y),U=this._lastBoundingBoxSize.height;s=2*L,d=t.y-L,s>U&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.y-U/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)V=i.width-t.x+this._viewportMargin,E=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)k=t.x,E=i.right-t.x;else{const L=Math.min(i.right-t.x+i.left,t.x),U=this._lastBoundingBoxSize.width;E=2*L,k=t.x-L,E>U&&!this._isInitialRender&&!this._growAfterOpen&&(k=t.x-U/2)}return{top:d,left:k,bottom:f,right:V,width:E,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,d=this._overlayRef.getConfig().maxWidth;r.height=dr(i.height),r.top=dr(i.top),r.bottom=dr(i.bottom),r.width=dr(i.width),r.left=dr(i.left),r.right=dr(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=dr(s)),d&&(r.maxWidth=dr(d))}this._lastBoundingBoxSize=i,cg(this._boundingBox.style,r)}_resetBoundingBoxStyles(){cg(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){cg(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,d=this._overlayRef.getConfig();if(r){const E=this._viewportRuler.getViewportScrollPosition();cg(i,this._getExactOverlayY(e,t,E)),cg(i,this._getExactOverlayX(e,t,E))}else i.position="static";let f="",_=this._getOffset(e,"x"),b=this._getOffset(e,"y");_&&(f+=`translateX(${_}px) `),b&&(f+=`translateY(${b}px)`),i.transform=f.trim(),d.maxHeight&&(r?i.maxHeight=dr(d.maxHeight):s&&(i.maxHeight="")),d.maxWidth&&(r?i.maxWidth=dr(d.maxWidth):s&&(i.maxWidth="")),cg(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=dr(s.y),r}_getExactOverlayX(t,e,i){let d,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),d=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===d?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=dr(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:wN(t,i),isOriginOutsideView:aM(t,i),isOverlayClipped:wN(e,i),isOverlayOutsideView:aM(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&KC(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof a.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function cg(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function IN(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(n6);return e&&"px"!==e?null:parseFloat(t)}return n||null}function DN(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const TN="cdk-global-overlay-wrapper";class r6{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(TN),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:d,maxHeight:f}=i,_=!("100%"!==r&&"100vw"!==r||d&&"100%"!==d&&"100vw"!==d),b=!("100%"!==s&&"100vh"!==s||f&&"100%"!==f&&"100vh"!==f),E=this._xPosition,k=this._xOffset,V="rtl"===this._overlayRef.getConfig().direction;let L="",U="",Y="";_?Y="flex-start":"center"===E?(Y="center",V?U=k:L=k):V?"left"===E||"end"===E?(Y="flex-end",L=k):("right"===E||"start"===E)&&(Y="flex-start",U=k):"left"===E||"start"===E?(Y="flex-start",L=k):("right"===E||"end"===E)&&(Y="flex-end",U=k),t.position=this._cssPosition,t.marginLeft=_?"0":L,t.marginTop=b?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=_?"0":U,e.justifyContent=Y,e.alignItems=b?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(TN),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let o6=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new r6}flexibleConnectedTo(e){return new i6(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(oM),a.LFG(J),a.LFG(kr),a.LFG(CN))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),s6=0,Sw=(()=>{class n{constructor(e,i,r,s,d,f,_,b,E,k,V,L){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=d,this._injector=f,this._ngZone=_,this._document=b,this._directionality=E,this._location=k,this._outsideClickDispatcher=V,this._animationsModuleType=L}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),d=new xN(e);return d.direction=d.direction||this._directionality.value,new t6(s,i,r,d,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+s6++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(a.z2F)),new q$(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Q$),a.LFG(CN),a.LFG(a._Vd),a.LFG(o6),a.LFG(J$),a.LFG(a.zs3),a.LFG(a.R0b),a.LFG(J),a.LFG(Dy),a.LFG(Le),a.LFG(e6),a.LFG(a.QbO,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const l6={provide:new a.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Sw],useFactory:function c6(n){return()=>n.scrollStrategies.reposition()}};let kN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Sw,l6],imports:[aw,W$,_N,_N]}),n})();class AN{}class d6{}const eh="*";function Iw(n,t){return{type:7,name:n,definitions:t,options:{}}}function Uy(n,t=null){return{type:4,styles:t,timings:n}}function MN(n,t=null){return{type:2,steps:n,options:t}}function Ra(n){return{type:6,styles:n,offset:null}}function BS(n,t,e){return{type:0,name:n,styles:t,options:e}}function lg(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function RN(n){Promise.resolve().then(n)}class Dw{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){RN(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class ON{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?RN(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++e==s&&this._onFinish()}),d.onDestroy(()=>{++i==s&&this._onDestroy()}),d.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((d,f)=>Math.max(d,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const cM="!";let FN=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),f6=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Ku(e);return new fn.y(r=>{const d=this._observeElement(i).subscribe(r);return()=>{d.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new sn.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(FN))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PN=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=Fn(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Gk(e),this._subscribe()}constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new a.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe($k(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(f6),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),NN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[FN]}),n})();const m6=["matFormFieldNotchedOutline",""],p6=["*"],g6=["textField"],_6=["iconPrefixContainer"],y6=["textPrefixContainer"];function v6(n,t){1&n&&a._UZ(0,"span",19)}function b6(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"label",17),a.NdJ("cdkObserveContent",function(){a.CHM(e);const r=a.oxw(2);return a.KtG(r._refreshOutlineNotchWidth())}),a.Hsn(1,1),a.YNc(2,v6,1,0,"span",18),a.qZA()}if(2&n){const e=a.oxw(2);a.Q6J("floating",e._shouldLabelFloat())("cdkObserveContentDisabled",!e._hasOutline())("id",e._labelId),a.uIk("for",e._control.id)("aria-owns",e._control.id),a.xp6(2),a.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required)}}function w6(n,t){if(1&n&&a.YNc(0,b6,3,6,"label",16),2&n){const e=a.oxw();a.Q6J("ngIf",e._hasFloatingLabel())}}function x6(n,t){1&n&&a._UZ(0,"div",20)}function E6(n,t){}function C6(n,t){if(1&n&&a.YNc(0,E6,0,0,"ng-template",22),2&n){a.oxw(2);const e=a.MAs(1);a.Q6J("ngTemplateOutlet",e)}}function S6(n,t){if(1&n&&(a.TgZ(0,"div",21),a.YNc(1,C6,1,1,"ng-template",9),a.qZA()),2&n){const e=a.oxw();a.Q6J("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",e._labelWidth),a.xp6(1),a.Q6J("ngIf",!e._forceDisplayInfixLabel())}}function I6(n,t){1&n&&(a.TgZ(0,"div",23,24),a.Hsn(2,2),a.qZA())}function D6(n,t){1&n&&(a.TgZ(0,"div",25,26),a.Hsn(2,3),a.qZA())}function T6(n,t){}function k6(n,t){if(1&n&&a.YNc(0,T6,0,0,"ng-template",22),2&n){a.oxw();const e=a.MAs(1);a.Q6J("ngTemplateOutlet",e)}}function A6(n,t){1&n&&(a.TgZ(0,"div",27),a.Hsn(1,4),a.qZA())}function M6(n,t){1&n&&(a.TgZ(0,"div",28),a.Hsn(1,5),a.qZA())}function R6(n,t){1&n&&a._UZ(0,"div",29)}function O6(n,t){if(1&n&&(a.TgZ(0,"div",30),a.Hsn(1,6),a.qZA()),2&n){const e=a.oxw();a.Q6J("@transitionMessages",e._subscriptAnimationState)}}function F6(n,t){if(1&n&&(a.TgZ(0,"mat-hint",34),a._uU(1),a.qZA()),2&n){const e=a.oxw(2);a.Q6J("id",e._hintLabelId),a.xp6(1),a.Oqu(e.hintLabel)}}function P6(n,t){if(1&n&&(a.TgZ(0,"div",31),a.YNc(1,F6,2,2,"mat-hint",32),a.Hsn(2,7),a._UZ(3,"div",33),a.Hsn(4,8),a.qZA()),2&n){const e=a.oxw();a.Q6J("@transitionMessages",e._subscriptAnimationState),a.xp6(1),a.Q6J("ngIf",e.hintLabel)}}const N6=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],L6=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let LN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-label"]]}),n})();const V6=new a.OlP("MatError");let B6=0,VN=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+B6++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(e,i){2&e&&(a.Ikx("id",i.id),a.uIk("align",null),a.ekj("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const U6=new a.OlP("MatPrefix"),j6=new a.OlP("MatSuffix");let BN=(()=>{class n{constructor(e){this._elementRef=e,this.floating=!1}getWidth(){return function z6(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating"}}),n})();const UN="mdc-line-ripple--active",US="mdc-line-ripple--deactivating";let jN=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,d=s.contains(US);"opacity"===r.propertyName&&d&&s.remove(UN,US)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(US),e.add(UN)}deactivate(){this._elementRef.nativeElement.classList.add(US)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275dir=a.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),zN=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("mdc-notched-outline--notched",i.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:m6,ngContentSelectors:p6,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(e,i){1&e&&(a.F$t(),a._UZ(0,"div",0),a.TgZ(1,"div",1),a.Hsn(2),a.qZA(),a._UZ(3,"div",2)),2&e&&(a.xp6(1),a.Udp("width",i._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const H6={transitionMessages:Iw("transitionMessages",[BS("enter",Ra({opacity:1,transform:"translateY(0%)"})),lg("void => enter",[Ra({opacity:0,transform:"translateY(-5px)"}),Uy("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let HN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n}),n})();const $N=new a.OlP("MatFormField"),$6=new a.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let GN=0,ZN=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Fn(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,s,d,f,_,b){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=s,this._platform=d,this._defaults=f,this._animationMode=_,this._document=b,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+GN++,this._hintLabelId="mat-mdc-hint-"+GN++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new sn.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,f&&(f.appearance&&(this.appearance=f.appearance),this._hideRequiredMarker=Boolean(f?.hideRequiredMarker),f.color&&(this.color=f.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(zs(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,qu.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(zs(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(zs(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=i?.getBoundingClientRect().width??0,d=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+d}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(a.R0b),a.Y36(Dy),a.Y36(kr),a.Y36($6,8),a.Y36(a.QbO,8),a.Y36(J))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,LN,5),a.Suo(r,LN,7),a.Suo(r,HN,5),a.Suo(r,U6,5),a.Suo(r,j6,5),a.Suo(r,V6,5),a.Suo(r,VN,5)),2&e){let s;a.iGM(s=a.CRH())&&(i._labelChildNonStatic=s.first),a.iGM(s=a.CRH())&&(i._labelChildStatic=s.first),a.iGM(s=a.CRH())&&(i._formFieldControl=s.first),a.iGM(s=a.CRH())&&(i._prefixChildren=s),a.iGM(s=a.CRH())&&(i._suffixChildren=s),a.iGM(s=a.CRH())&&(i._errorChildren=s),a.iGM(s=a.CRH())&&(i._hintChildren=s)}},viewQuery:function(e,i){if(1&e&&(a.Gf(g6,5),a.Gf(_6,5),a.Gf(y6,5),a.Gf(BN,5),a.Gf(zN,5),a.Gf(jN,5)),2&e){let r;a.iGM(r=a.CRH())&&(i._textField=r.first),a.iGM(r=a.CRH())&&(i._iconPrefixContainer=r.first),a.iGM(r=a.CRH())&&(i._textPrefixContainer=r.first),a.iGM(r=a.CRH())&&(i._floatingLabel=r.first),a.iGM(r=a.CRH())&&(i._notchedOutline=r.first),a.iGM(r=a.CRH())&&(i._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(e,i){2&e&&a.ekj("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[a._Bn([{provide:$N,useExisting:n}])],ngContentSelectors:L6,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(e,i){1&e&&(a.F$t(N6),a.YNc(0,w6,1,1,"ng-template",null,0,a.W1O),a.TgZ(2,"div",1,2),a.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),a.YNc(4,x6,1,0,"div",3),a.TgZ(5,"div",4),a.YNc(6,S6,2,3,"div",5),a.YNc(7,I6,3,0,"div",6),a.YNc(8,D6,3,0,"div",7),a.TgZ(9,"div",8),a.YNc(10,k6,1,1,"ng-template",9),a.Hsn(11),a.qZA(),a.YNc(12,A6,2,0,"div",10),a.YNc(13,M6,2,0,"div",11),a.qZA(),a.YNc(14,R6,1,0,"div",12),a.qZA(),a.TgZ(15,"div",13),a.YNc(16,O6,2,1,"div",14),a.YNc(17,P6,5,2,"div",15),a.qZA()),2&e&&(a.xp6(2),a.ekj("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),a.xp6(2),a.Q6J("ngIf",!i._hasOutline()&&!i._control.disabled),a.xp6(2),a.Q6J("ngIf",i._hasOutline()),a.xp6(1),a.Q6J("ngIf",i._hasIconPrefix),a.xp6(1),a.Q6J("ngIf",i._hasTextPrefix),a.xp6(2),a.Q6J("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),a.xp6(2),a.Q6J("ngIf",i._hasTextSuffix),a.xp6(1),a.Q6J("ngIf",i._hasIconSuffix),a.xp6(1),a.Q6J("ngIf",!i._hasOutline()),a.xp6(1),a.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),a.Q6J("ngSwitch",i._getDisplayedMessages()),a.xp6(1),a.Q6J("ngSwitchCase","error"),a.xp6(1),a.Q6J("ngSwitchCase","hint"))},dependencies:[Ei,zi,_s,Go,PN,VN,BN,zN,jN],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[H6.transitionMessages]},changeDetection:0}),n})(),Tw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[fi,Zn,NN,fi]}),n})();const Q6={provide:new a.OlP("mat-select-scroll-strategy"),deps:[Sw],useFactory:function Y6(n){return()=>n.scrollStrategies.reposition()}};let X6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Q6],imports:[Zn,kN,PF,fi,VS,Tw,PF,fi]}),n})(),J6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[fi,fi]}),n})(),kG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[NN,Zn,fi,ky,FF,J6]}),n})();const JN=wy({passive:!0});let AG=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Jl.E;const i=Ku(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new sn.x,d="cdk-text-field-autofilled",f=_=>{"cdk-text-field-autofill-start"!==_.animationName||i.classList.contains(d)?"cdk-text-field-autofill-end"===_.animationName&&i.classList.contains(d)&&(i.classList.remove(d),this._ngZone.run(()=>s.next({target:_.target,isAutofilled:!1}))):(i.classList.add(d),this._ngZone.run(()=>s.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",f,JN),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",f,JN)}}),s}stopMonitoring(e){const i=Ku(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(kr),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const RG=new a.OlP("MAT_INPUT_VALUE_ACCESSOR"),OG=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let FG=0;const PG=dz(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new sn.x}});let eL=(()=>{class n extends PG{get disabled(){return this._disabled}set disabled(e){this._disabled=Fn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(ed.required)??!1}set required(e){this._required=Fn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&rO().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Fn(e)}constructor(e,i,r,s,d,f,_,b,E,k){super(f,s,d,r),this._elementRef=e,this._platform=i,this._autofillMonitor=b,this._formField=k,this._uid="mat-input-"+FG++,this.focused=!1,this.stateChanges=new sn.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(U=>rO().has(U)),this._iOSKeyupListener=U=>{const Y=U.target;!Y.value&&0===Y.selectionStart&&0===Y.selectionEnd&&(Y.setSelectionRange(1,1),Y.setSelectionRange(0,0))};const V=this._elementRef.nativeElement,L=V.nodeName.toLowerCase();this._inputValueAccessor=_||V,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&E.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===L,this._isTextarea="textarea"===L,this._isInFormField=!!k,this._isNativeSelect&&(this.controlType=V.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){OG.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(kr),a.Y36(Yu,10),a.Y36(lS,8),a.Y36(sm,8),a.Y36(hz),a.Y36(RG,10),a.Y36(AG),a.Y36(a.R0b),a.Y36($N,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(e,i){1&e&&a.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(a.Ikx("id",i.id)("disabled",i.disabled)("required",i.required),a.uIk("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),a.ekj("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[a._Bn([{provide:HN,useExisting:n}]),a.qOj,a.TTD]}),n})(),tL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[fi,Tw,Tw,MG,fi]}),n})();const nL=["mat-button",""],dM=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],uM=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],VG=["mat-fab",""],BG=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],UG=vA(yA(dS(class{constructor(n){this._elementRef=n}})));let hM=(()=>{class n extends UG{constructor(e,i,r,s){super(e),this._platform=i,this._ngZone=r,this._animationMode=s,this._focusMonitor=(0,a.f3M)(QC),this._isFab=!1;const d=e.nativeElement.classList;for(const f of BG)this._hasHostAttributes(f.selector)&&f.mdcClasses.forEach(_=>{d.add(_)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(e){a.$Z()},n.\u0275dir=a.lG2({type:n,viewQuery:function(e,i){if(1&e&&a.Gf(am,5),2&e){let r;a.iGM(r=a.CRH())&&(i.ripple=r.first)}},features:[a.qOj]}),n})(),zG=(()=>{class n extends hM{constructor(e,i,r,s){super(e,i,r,s),this._haltDisabledEvents=d=>{this.disabled&&(d.preventDefault(),d.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return n.\u0275fac=function(e){a.$Z()},n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})(),jy=(()=>{class n extends hM{constructor(e,i,r,s){super(e,i,r,s)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(kr),a.Y36(a.R0b),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(e,i){2&e&&(a.uIk("disabled",i.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:nL,ngContentSelectors:uM,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(a.F$t(dM),a._UZ(0,"span",0),a.Hsn(1),a.TgZ(2,"span",1),a.Hsn(3,1),a.qZA(),a.Hsn(4,2),a._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&e&&(a.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),a.xp6(6),a.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[am],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),HG=(()=>{class n extends zG{constructor(e,i,r,s){super(e,i,r,s)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(kr),a.Y36(a.R0b),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:9,hostBindings:function(e,i){2&e&&(a.uIk("disabled",i.disabled||null)("tabindex",i.disabled?-1:i.tabIndex)("aria-disabled",i.disabled.toString()),a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[a.qOj],attrs:nL,ngContentSelectors:uM,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(a.F$t(dM),a._UZ(0,"span",0),a.Hsn(1),a.TgZ(2,"span",1),a.Hsn(3,1),a.qZA(),a.Hsn(4,2),a._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&e&&(a.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),a.xp6(6),a.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[am],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})();const $G=new a.OlP("mat-mdc-fab-default-options",{providedIn:"root",factory:iL});function iL(){return{color:"accent"}}const rL=iL();let GG=(()=>{class n extends hM{get extended(){return this._extended}set extended(e){this._extended=Fn(e)}constructor(e,i,r,s,d){super(e,i,r,s),this._options=d,this._isFab=!0,this._options=this._options||rL,this.color=this.defaultColor=this._options.color||rL.color}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(kr),a.Y36(a.R0b),a.Y36(a.QbO,8),a.Y36($G,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["button","mat-fab",""]],hostVars:11,hostBindings:function(e,i){2&e&&(a.uIk("disabled",i.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0)("mdc-fab--extended",i.extended)("mat-mdc-extended-fab",i.extended))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",extended:"extended"},exportAs:["matButton"],features:[a.qOj],attrs:VG,ngContentSelectors:uM,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(a.F$t(dM),a._UZ(0,"span",0),a.Hsn(1),a.TgZ(2,"span",1),a.Hsn(3,1),a.qZA(),a.Hsn(4,2),a._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&e&&(a.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),a.xp6(6),a.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[am],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);background-color:var(--mdc-fab-container-color, transparent);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color, inherit)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:24px}.mat-mdc-extended-fab .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0}),n})(),kw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[fi,ky,fi]}),n})();const qG=["input"],WG=["label"],ZG=["*"],KG=new a.OlP("mat-checkbox-default-options",{providedIn:"root",factory:oL});function oL(){return{color:"accent",clickAction:"check-indeterminate"}}const YG={provide:Hs,useExisting:(0,a.Gpc)(()=>fM),multi:!0};class QG{}let XG=0;const sL=oL(),JG=lz(vA(dS(yA(class{constructor(n){this._elementRef=n}}))));let e4=(()=>{class n extends JG{get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=Fn(e)}constructor(e,i,r,s,d,f,_){super(i),this._changeDetectorRef=r,this._ngZone=s,this._animationMode=f,this._options=_,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new a.vpe,this.indeterminateChange=new a.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||sL,this.color=this.defaultColor=this._options.color||sL.color,this.tabIndex=parseInt(d)||0,this.id=this._uniqueId=`${e}${++XG}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){const i=Fn(e);i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const i=Fn(e);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const i=e!=this._indeterminate;this._indeterminate=Fn(e),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_transitionCheckState(e){let i=this._currentCheckState,r=this._getAnimationTargetElement();if(i!==e&&r&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const s=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(s)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const e=this._options?.clickAction;this.disabled||"noop"===e?!this.disabled&&"noop"===e&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==e&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,i){if("NoopAnimations"===this._animationMode)return"";switch(e){case 0:if(1===i)return this._animationClasses.uncheckedToChecked;if(3==i)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===i?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===i?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===i?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){const i=this._inputElement;i&&(i.nativeElement.indeterminate=e)}}return n.\u0275fac=function(e){a.$Z()},n.\u0275dir=a.lG2({type:n,viewQuery:function(e,i){if(1&e&&(a.Gf(qG,5),a.Gf(WG,5),a.Gf(am,5)),2&e){let r;a.iGM(r=a.CRH())&&(i._inputElement=r.first),a.iGM(r=a.CRH())&&(i._labelElement=r.first),a.iGM(r=a.CRH())&&(i.ripple=r.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[a.qOj]}),n})(),fM=(()=>{class n extends e4{constructor(e,i,r,s,d,f){super("mat-mdc-checkbox-",e,i,r,s,d,f),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(e){const i=new QG;return i.source=this,i.checked=e,i}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_onTouchTargetClick(){super._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(e){e.target&&this._labelElement.nativeElement.contains(e.target)&&e.stopPropagation()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(a.R0b),a.$8M("tabindex"),a.Y36(a.QbO,8),a.Y36(KG,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(e,i){2&e&&(a.Ikx("id",i.id),a.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mdc-checkbox--disabled",i.disabled)("mat-mdc-checkbox-disabled",i.disabled)("mat-mdc-checkbox-checked",i.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[a._Bn([YG]),a.qOj],ngContentSelectors:ZG,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[3,"for"],["label",""]],template:function(e,i){if(1&e&&(a.F$t(),a.TgZ(0,"div",0),a.NdJ("click",function(s){return i._preventBubblingFromLabel(s)}),a.TgZ(1,"div",1,2)(3,"div",3),a.NdJ("click",function(){return i._onTouchTargetClick()}),a.qZA(),a.TgZ(4,"input",4,5),a.NdJ("blur",function(){return i._onBlur()})("click",function(){return i._onInputClick()})("change",function(s){return i._onInteractionEvent(s)}),a.qZA(),a._UZ(6,"div",6),a.TgZ(7,"div",7),a.O4$(),a.TgZ(8,"svg",8),a._UZ(9,"path",9),a.qZA(),a.kcU(),a._UZ(10,"div",10),a.qZA(),a._UZ(11,"div",11),a.qZA(),a.TgZ(12,"label",12,13),a.Hsn(14),a.qZA()()),2&e){const r=a.MAs(2);a.ekj("mdc-form-field--align-end","before"==i.labelPosition),a.xp6(4),a.ekj("mdc-checkbox--selected",i.checked),a.Q6J("checked",i.checked)("indeterminate",i.indeterminate)("disabled",i.disabled)("id",i.inputId)("required",i.required)("tabIndex",i.tabIndex),a.uIk("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby)("name",i.name)("value",i.value),a.xp6(7),a.Q6J("matRippleTrigger",r)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0),a.xp6(1),a.Q6J("for",i.inputId)}},dependencies:[am],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size, 48px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);width:var(--mdc-checkbox-state-layer-size, 48px);height:var(--mdc-checkbox-state-layer-size, 48px)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, rgba(0, 0, 0, 0.38));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color, rgba(0, 0, 0, 0.38))}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px)}.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:not([disabled])~.mdc-checkbox__ripple{opacity:.04;transform:scale(1);transition:opacity 80ms 0 cubic-bezier(0, 0, 0.2, 1),transform 80ms 0 cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:not([disabled]):focus~.mdc-checkbox__ripple{opacity:.16}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__native-control:focus:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, black)}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),aL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),mM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[fi,ky,aL,fi,aL]}),n})(),cL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Zn,_A,mM,kw,X6,kG,Tw,tL]}),n})();var th=(()=>(function(n){n.UPDATE_QUESTION="[Update question] Update question",n.UPDATE_QUESTION_SUCCESS="[Update question] Update question success",n.UPDATE_QUESTION_FAILURE="[Update question] Update question failure",n.GET_QUESTION="[Update question] Get question",n.GET_QUESTION_SUCCESS="[Update question] Get question success",n.GET_QUESTION_FAILURE="[Update question] Get question failure"}(th||(th={})),th))();const pM=en(th.GET_QUESTION,{_as:"props",_p:void 0}),lL=en(th.GET_QUESTION_SUCCESS,{_as:"props",_p:void 0}),dL=en(th.GET_QUESTION_FAILURE),gM=en(th.UPDATE_QUESTION,{_as:"props",_p:void 0}),_M=en(th.UPDATE_QUESTION_SUCCESS),uL=en(th.UPDATE_QUESTION_FAILURE),jS=yy("editQuestion"),r4=lr(jS,n=>n.question),o4=lr(jS,n=>n.isLoading),s4=lr(jS,n=>n.isSubmitting),a4=lr(jS,n=>n.validationErrors);var Aw=(()=>(function(n){n.BE="BE",n.FE="FE",n.BI="BI",n.AI="AI"}(Aw||(Aw={})),Aw))();function c4(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",8),a.NdJ("change",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s.onCheckboxChange(r))}),a.TgZ(1,"label"),a._UZ(2,"input",9),a._uU(3),a.qZA()()}if(2&n){const e=t.$implicit,i=a.oxw();a.xp6(2),a.Q6J("value",e)("checked",i.tagsSet.get(e)),a.xp6(1),a.hij(" ",e," ")}}let hL=(()=>{class n{constructor(e){this.fb=e,this.initialValuesProps={},this.isSubmittingProps=null,this.errorsProps=null,this.questionSubmitEvent=new a.vpe,this.form={},this.tags=Object.values(Aw),this.tagsSet=new Map}ngOnInit(){this.initializeForm(),this.initializeTags()}initializeTags(){this.initialValuesProps&&this.initialValuesProps.tags?.forEach(e=>{this.tagsSet.set(e,!0)})}onCheckboxChange(e){this.tagsSet.set(e.target.value,!this.tagsSet.get(e.target.value))}initializeForm(){this.form=this.fb.group({title:this.initialValuesProps.title,body:this.initialValuesProps.body,tags:[this.initialValuesProps.tags]})}onSubmit(){this.form.value.tags=Array.from(this.tagsSet.keys()),this.form.value.slug=this.initialValuesProps.slug,this.form.value.date=this.initialValuesProps.date,this.form.value.isAnswered=!1,this.questionSubmitEvent.emit(this.form.value)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(sw))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-question-form"]],inputs:{initialValuesProps:["initialValues","initialValuesProps"],isSubmittingProps:["isSubmitting","isSubmittingProps"],errorsProps:["errors","errorsProps"]},outputs:{questionSubmitEvent:"questionSubmit"},decls:15,vars:3,consts:[[1,"question-form"],[1,"question-form__container"],[1,"question-form__form",3,"formGroup","ngSubmit"],[1,"question-form__form-group"],["type","text","placeholder","Question title","formControlName","title",1,"question-form__input"],["rows","8","placeholder","Write your question","formControlName","body",1,"question-form__text-area"],[3,"change",4,"ngFor","ngForOf"],["mat-raised-button","","type","submit",1,"question-form__button",3,"disabled"],[3,"change"],["type","checkbox",3,"value","checked"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0)(1,"div",1)(2,"form",2),a.NdJ("ngSubmit",function(){return i.onSubmit()}),a.TgZ(3,"fieldset")(4,"fieldset",3),a._UZ(5,"input",4),a.qZA(),a.TgZ(6,"fieldset",3),a._UZ(7,"textarea",5),a.qZA(),a.TgZ(8,"fieldset",3)(9,"h4"),a._uU(10,"Select your tags:"),a.qZA(),a.YNc(11,c4,4,3,"div",6),a.qZA(),a.TgZ(12,"fieldset")(13,"button",7),a._uU(14," Publish question "),a.qZA()()()()()()),2&e&&(a.xp6(2),a.Q6J("formGroup",i.form),a.xp6(9),a.Q6J("ngForOf",i.tags),a.xp6(2),a.Q6J("disabled",i.isSubmittingProps))},dependencies:[Sn,ow,ng,Q0,X0,sm,Iy,jy],styles:[".question-form[_ngcontent-%COMP%]{margin-top:30px}.question-form__tags-list[_ngcontent-%COMP%]{list-style:none}.question-form__form-group[_ngcontent-%COMP%], fieldset[_ngcontent-%COMP%]{border:none}"]}),n})();function l4(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"app-question-form",1),a.NdJ("questionSubmit",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s.onSubmit(r))}),a.ALo(1,"async"),a.ALo(2,"async"),a.qZA()}if(2&n){const e=a.oxw();a.Q6J("initialValues",a.lcZ(1,2,e.initialValues$))("isSubmitting",a.lcZ(2,4,e.isSubmitting$))}}let d4=(()=>{class n{constructor(e,i){this.store=e,this.route=i,this.initialValues$={},this.isSubmitting$={},this.isLoading$={},this.backendErrors$={},this.slug=""}ngOnInit(){this.initializeValues(),this.fetchData()}initializeValues(){this.slug=this.route.snapshot.paramMap.get("slug"),this.isSubmitting$=this.store.pipe(qn(s4)),this.isLoading$=this.store.pipe(qn(o4)),this.backendErrors$=this.store.pipe(qn(a4)),this.initialValues$=this.store.pipe(qn(r4),We(Boolean),(0,F.U)(e=>({title:e.title,slug:e.slug,body:e.body,tags:e.tags,date:e.date,comments:e.comments,isAnswered:e.isAnswered})))}fetchData(){this.slug&&this.store.dispatch(pM({slug:this.slug}))}onSubmit(e){this.slug&&this.store.dispatch(gM({questionInput:e}))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Tr),a.Y36(Xu))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-edit-question"]],decls:2,vars:3,consts:[[3,"initialValues","isSubmitting","questionSubmit",4,"ngIf"],[3,"initialValues","isSubmitting","questionSubmit"]],template:function(e,i){1&e&&(a.YNc(0,l4,3,6,"app-question-form",0),a.ALo(1,"async")),2&e&&a.Q6J("ngIf",a.lcZ(1,1,i.initialValues$))},dependencies:[Ei,hL,ri]}),n})(),zS=(()=>{class n{constructor(e){this.firestore=e}updateQuestion(e){return(0,$t.D)(this.firestore.collection("questions").doc(e.slug).update(e))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Zu))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const p4=(0,Tn.u3)(ju,!0),g4=(0,Tn.u3)(MC,!0),mL=(0,Tn.u3)(uT,!0);let HS=(()=>{class n{constructor(){this.db=mL()}getQuestion(e){var i=this;return(0,ce.Z)(function*(){const r=ju(i.db,"questions",e);return(yield MC(r)).data()})()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),_4=(()=>{class n{constructor(e,i){this.actions$=e,this.sharedQuestionService=i,this.getQuestion$=Xr(()=>this.actions$.pipe(Jr(pM),kn(({slug:r})=>(0,$t.D)(this.sharedQuestionService.getQuestion(r)).pipe((0,F.U)(s=>lL({question:s})),ur(()=>Ze(dL()))))))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Pc),a.LFG(HS))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),y4=(()=>{class n{constructor(e,i,r){this.actions$=e,this.editQuestionService=i,this.router=r,this.updateQuestion$=Xr(()=>this.actions$.pipe(Jr(gM),kn(({questionInput:s})=>this.editQuestionService.updateQuestion(s).pipe((0,F.U)(()=>_M()),ur(()=>Ze(uL())))))),this.redirectAfterCreate$=Xr(()=>this.actions$.pipe(Jr(_M),(0,Wn.b)(()=>{this.router.navigate(["/"])})),{dispatch:!1})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Pc),a.LFG(zS),a.LFG(hr))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const v4=Z0({question:null,isLoading:!1,isSubmitting:!1,validationErrors:null},An(gM,n=>({...n,isSubmitting:!0})),An(_M,()=>({isSubmitting:!1})),An(uL,n=>({...n,isSubmitting:!1})),An(pM,n=>({...n,isLoading:!0})),An(lL,(n,t)=>({...n,isLoading:!1,question:t.question})),An(dL,n=>({...n,isLoading:!1})));function b4(n,t){return v4(n,t)}const w4=[{path:"questions/:slug/edit",component:d4}];let x4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[zS,HS],imports:[Zn,Fc.forChild(w4),cL,By.forFeature([_4,y4]),vy.forFeature("editQuestion",b4)]}),n})(),bM=(()=>{class n{constructor(e){this.firestore=e,this.isOpenComment=!1}toggleComment(){this.isOpenComment=!this.isOpenComment}deleteQuestion(e){return this.firestore.collection("questions").doc(e).delete()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Zu))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();var Oa=(()=>(function(n){n.GET_QUESTION="[Question] Get question",n.GET_QUESTION_SUCCESS="[Question] Get question success",n.GET_QUESTION_FAILURE="[Question] Get question failure",n.DELETE_QUESTION="[Question] Delete Question",n.DELETE_QUESTION_SUCCESS="[Question] Delete question success",n.DELETE_QUESTION_FAILURE="[Question] Delete question failure",n.UPDATE_QUESTION="[Question] Update question",n.UPDATE_QUESTION_SUCCESS="[Question] Update question success",n.UPDATE_QUESTION_FAILURE="[Question] Update question failure"}(Oa||(Oa={})),Oa))();const wM=en(Oa.GET_QUESTION,{_as:"props",_p:void 0}),pL=en(Oa.GET_QUESTION_SUCCESS,{_as:"props",_p:void 0}),gL=en(Oa.GET_QUESTION_FAILURE);let E4=(()=>{class n{constructor(e,i){this.actions$=e,this.sharedQuestionService=i,this.getQuestion$=Xr(()=>this.actions$.pipe(Jr(wM),kn(({slug:r})=>(0,$t.D)(this.sharedQuestionService.getQuestion(r)).pipe((0,F.U)(s=>pL({question:s})),ur(()=>Ze(gL()))))))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Pc),a.LFG(HS))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const _L=en(Oa.DELETE_QUESTION,{_as:"props",_p:void 0}),yL=en(Oa.DELETE_QUESTION_SUCCESS),C4=en(Oa.DELETE_QUESTION_FAILURE);let S4=(()=>{class n{constructor(e,i,r){this.actions$=e,this.questionService=i,this.router=r,this.deleteQuestion$=Xr(()=>this.actions$.pipe(Jr(_L),kn(({slug:s})=>(0,$t.D)(this.questionService.deleteQuestion(s)).pipe((0,F.U)(()=>yL()),ur(()=>Ze(C4())))))),this.redirectAfterDelete$=Xr(()=>this.actions$.pipe(Jr(yL),(0,Wn.b)(()=>{this.router.navigate(["/"])})),{dispatch:!1})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Pc),a.LFG(bM),a.LFG(hr))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();en("@ngrx/router-store/request",{_as:"props",_p:void 0});const vL="@ngrx/router-store/navigation",bL=en(vL,{_as:"props",_p:void 0}),wL="@ngrx/router-store/cancel",xL=(en(wL,{_as:"props",_p:void 0}),"@ngrx/router-store/error");function I4(n,t){const e=t;switch(e.type){case vL:case xL:case wL:return{state:e.payload.routerState,navigationId:e.payload.event.id};default:return n}}en(xL,{_as:"props",_p:void 0}),en("@ngrx/router-store/navigated",{_as:"props",_p:void 0}),new a.OlP("@ngrx/router-store Internal Configuration"),new a.OlP("@ngrx/router-store Configuration");const Mw=en(Oa.UPDATE_QUESTION,{_as:"props",_p:void 0}),xM=en(Oa.UPDATE_QUESTION_SUCCESS),TL=en(Oa.UPDATE_QUESTION_FAILURE),kL={question:null,isLoading:!1,error:null,isSubmitting:!1},O4=Z0(kL,An(wM,n=>({...n,isLoading:!0})),An(pL,(n,t)=>({...n,isLoading:!1,question:t.question})),An(gL,n=>({...n,isLoading:!1})),An(Mw,n=>({...n,isSubmitting:!0})),An(xM,n=>({...n,isSubmitting:!1})),An(TL,n=>({...n,isSubmitting:!1})),An(bL,()=>kL));function F4(n,t){return O4(n,t)}const Rw=yy("auth"),AL=lr(Rw,n=>n.isSubmitting),ML=lr(Rw,n=>n.validationErrors),RL=lr(Rw,n=>n.isLoggedIn),P4=lr(Rw,n=>!1===n.isLoggedIn),hm=lr(Rw,n=>n.currentUser),$S=yy("question"),N4=(lr($S,n=>n.isLoading),lr($S,n=>n.error)),OL=lr($S,n=>n.question),L4=lr($S,n=>n.isSubmitting);let FL=(()=>{class n{constructor(){}convertObj(e,i){return Object.assign({},i,{comments:[...i?.comments,e]})}convertApproved(e){return Object.assign({},e,{approved:!0})}convertAnswerInObj(e,i){const r=i?.comments?.map(f=>Object.assign({},f,f.date===e?{isRightAnswer:!0}:{isRightAnswer:!1})),s=Object.assign({},i,{comments:[...r]});return Object.assign({},s,{isAnswered:!0})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class GS{}class EM{}class nh{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),d=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(d):this.headers.set(s,[d])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof nh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new nh;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof nh?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let d=this.headers.get(e);if(!d)return;d=d.filter(f=>-1===s.indexOf(f)),0===d.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,d)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class V4{encodeKey(t){return PL(t)}encodeValue(t){return PL(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const U4=/%(\d[a-f0-9])/gi,j4={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function PL(n){return encodeURIComponent(n).replace(U4,(t,e)=>j4[e]??t)}function qS(n){return`${n}`}class fm{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new V4,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function B4(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[d,f]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],_=e.get(d)||[];_.push(f),e.set(d,_)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(qS):[qS(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new fm({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(qS(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(qS(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class z4{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function NL(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function LL(n){return typeof Blob<"u"&&n instanceof Blob}function VL(n){return typeof FormData<"u"&&n instanceof FormData}class Ow{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function H4(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new nh),this.context||(this.context=new z4),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=e;else{const f=e.indexOf("?");this.urlWithParams=e+(-1===f?"?":f<e.length-1?"&":"")+d}}else this.params=new fm,this.urlWithParams=e}serializeBody(){return null===this.body?null:NL(this.body)||LL(this.body)||VL(this.body)||function $4(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof fm?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||VL(this.body)?null:LL(this.body)?this.body.type||null:NL(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof fm?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,d=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,f=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let _=t.headers||this.headers,b=t.params||this.params;const E=t.context??this.context;return void 0!==t.setHeaders&&(_=Object.keys(t.setHeaders).reduce((k,V)=>k.set(V,t.setHeaders[V]),_)),t.setParams&&(b=Object.keys(t.setParams).reduce((k,V)=>k.set(V,t.setParams[V]),b)),new Ow(e,i,s,{params:b,headers:_,context:E,reportProgress:f,responseType:r,withCredentials:d})}}var fr=(()=>((fr=fr||{})[fr.Sent=0]="Sent",fr[fr.UploadProgress=1]="UploadProgress",fr[fr.ResponseHeader=2]="ResponseHeader",fr[fr.DownloadProgress=3]="DownloadProgress",fr[fr.Response=4]="Response",fr[fr.User=5]="User",fr))();class CM{constructor(t,e=200,i="OK"){this.headers=t.headers||new nh,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class SM extends CM{constructor(t={}){super(t),this.type=fr.ResponseHeader}clone(t={}){return new SM({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class WS extends CM{constructor(t={}){super(t),this.type=fr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new WS({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class BL extends CM{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function IM(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let DM=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof Ow)s=e;else{let _,b;_=r.headers instanceof nh?r.headers:new nh(r.headers),r.params&&(b=r.params instanceof fm?r.params:new fm({fromObject:r.params})),s=new Ow(e,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:b,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const d=Ze(s).pipe(cm(_=>this.handler.handle(_)));if(e instanceof Ow||"events"===r.observe)return d;const f=d.pipe(We(_=>_ instanceof WS));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return f.pipe((0,F.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,F.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,F.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,F.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new fm).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,IM(r,i))}post(e,i,r={}){return this.request("POST",e,IM(r,i))}put(e,i,r={}){return this.request("PUT",e,IM(r,i))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(GS))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function UL(n,t){return t(n)}function G4(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const W4=new a.OlP("HTTP_INTERCEPTORS"),Fw=new a.OlP("HTTP_INTERCEPTOR_FNS");function Z4(){let n=null;return(t,e)=>(null===n&&(n=((0,a.f3M)(W4,{optional:!0})??[]).reduceRight(G4,UL)),n(t,e))}let jL=(()=>{class n extends GS{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=Array.from(new Set(this.injector.get(Fw)));this.chain=i.reduceRight((r,s)=>function q4(n,t,e){return(i,r)=>e.runInContext(()=>t(i,s=>n(s,r)))}(r,s,this.injector),UL)}return this.chain(e,i=>this.backend.handle(i))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(EM),a.LFG(a.lqb))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const X4=/^\)\]\}',?\n/;let HL=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new fn.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((L,U)=>r.setRequestHeader(L,U.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const L=e.detectContentTypeHeader();null!==L&&r.setRequestHeader("Content-Type",L)}if(e.responseType){const L=e.responseType.toLowerCase();r.responseType="json"!==L?L:"text"}const s=e.serializeBody();let d=null;const f=()=>{if(null!==d)return d;const L=r.statusText||"OK",U=new nh(r.getAllResponseHeaders()),Y=function J4(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return d=new SM({headers:U,status:r.status,statusText:L,url:Y}),d},_=()=>{let{headers:L,status:U,statusText:Y,url:he}=f(),Ue=null;204!==U&&(Ue=typeof r.response>"u"?r.responseText:r.response),0===U&&(U=Ue?200:0);let ft=U>=200&&U<300;if("json"===e.responseType&&"string"==typeof Ue){const pt=Ue;Ue=Ue.replace(X4,"");try{Ue=""!==Ue?JSON.parse(Ue):null}catch(_t){Ue=pt,ft&&(ft=!1,Ue={error:_t,text:Ue})}}ft?(i.next(new WS({body:Ue,headers:L,status:U,statusText:Y,url:he||void 0})),i.complete()):i.error(new BL({error:Ue,headers:L,status:U,statusText:Y,url:he||void 0}))},b=L=>{const{url:U}=f(),Y=new BL({error:L,status:r.status||0,statusText:r.statusText||"Unknown Error",url:U||void 0});i.error(Y)};let E=!1;const k=L=>{E||(i.next(f()),E=!0);let U={type:fr.DownloadProgress,loaded:L.loaded};L.lengthComputable&&(U.total=L.total),"text"===e.responseType&&r.responseText&&(U.partialText=r.responseText),i.next(U)},V=L=>{let U={type:fr.UploadProgress,loaded:L.loaded};L.lengthComputable&&(U.total=L.total),i.next(U)};return r.addEventListener("load",_),r.addEventListener("error",b),r.addEventListener("timeout",b),r.addEventListener("abort",b),e.reportProgress&&(r.addEventListener("progress",k),null!==s&&r.upload&&r.upload.addEventListener("progress",V)),r.send(s),i.next({type:fr.Sent}),()=>{r.removeEventListener("error",b),r.removeEventListener("abort",b),r.removeEventListener("load",_),r.removeEventListener("timeout",b),e.reportProgress&&(r.removeEventListener("progress",k),null!==s&&r.upload&&r.upload.removeEventListener("progress",V)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Hc))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const TM=new a.OlP("XSRF_ENABLED"),$L=new a.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),GL=new a.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class qL{}let n8=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Va(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(J),a.LFG(a.Lbi),a.LFG($L))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function r8(n,t){const e=n.url.toLowerCase();if(!(0,a.f3M)(TM)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=(0,a.f3M)(qL).getToken(),r=(0,a.f3M)(GL);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var Ki=(()=>((Ki=Ki||{})[Ki.Interceptors=0]="Interceptors",Ki[Ki.LegacyInterceptors=1]="LegacyInterceptors",Ki[Ki.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ki[Ki.NoXsrfProtection=3]="NoXsrfProtection",Ki[Ki.JsonpSupport=4]="JsonpSupport",Ki[Ki.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ki))();function zy(n,t){return{\u0275kind:n,\u0275providers:t}}function o8(...n){const t=[DM,HL,jL,{provide:GS,useExisting:jL},{provide:EM,useExisting:HL},{provide:Fw,useValue:r8,multi:!0},{provide:TM,useValue:!0},{provide:qL,useClass:n8}];for(const e of n)t.push(...e.\u0275providers);return(0,a.MR2)(t)}const WL=new a.OlP("LEGACY_INTERCEPTOR_FN");let a8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[o8(zy(Ki.LegacyInterceptors,[{provide:WL,useFactory:Z4},{provide:Fw,useExisting:WL,multi:!0}]))]}),n})();const c8=["*"];let ZS;function Pw(n){return function l8(){if(void 0===ZS&&(ZS=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(ZS=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return ZS}()?.createHTML(n)||n}function ZL(n){return Error(`Unable to find icon with the name "${n}"`)}function KL(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function YL(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class dg{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let KS=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new dg(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const d=this._sanitizer.sanitize(a.q3G.HTML,r);if(!d)throw YL(r);const f=Pw(d);return this._addSvgIconConfig(e,i,new dg("",f,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new dg(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(a.q3G.HTML,i);if(!s)throw YL(i);const d=Pw(s);return this._addSvgIconSetConfig(e,new dg("",d,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,e);if(!i)throw KL(e);const r=this._cachedIconsByUrl.get(i);return r?Ze(YS(r)):this._loadSvgIconFromConfig(new dg(e,null)).pipe((0,Wn.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,F.U)(s=>YS(s)))}getNamedSvgIcon(e,i=""){const r=QL(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const d=this._iconSetConfigs.get(i);return d?this._getSvgFromIconSetConfigs(e,d):rg(ZL(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Ze(YS(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,F.U)(i=>YS(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?Ze(r):CO(i.filter(d=>!d.svgText).map(d=>this._loadSvgIconSetFromConfig(d).pipe(ur(f=>{const b=`Loading icon set URL: ${this._sanitizer.sanitize(a.q3G.RESOURCE_URL,d.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(b)),Ze(null)})))).pipe((0,F.U)(()=>{const d=this._extractIconWithNameFromAnySet(e,i);if(!d)throw ZL(e);return d}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const d=this._svgElementFromConfig(s),f=this._extractSvgIconFromSet(d,e,s.options);if(f)return f}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Wn.b)(i=>e.svgText=i),(0,F.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Ze(null):this._fetchIcon(e).pipe((0,Wn.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const d=s.cloneNode(!0);if(d.removeAttribute("id"),"svg"===d.nodeName.toLowerCase())return this._setSvgAttributes(d,r);if("symbol"===d.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(d),r);const f=this._svgElementFromString(Pw("<svg></svg>"));return f.appendChild(d),this._setSvgAttributes(f,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(Pw("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:d,value:f}=r[s];"id"!==d&&i.setAttribute(d,f)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,s=r?.withCredentials??!1;if(!this._httpClient)throw function d8(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const d=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,i);if(!d)throw KL(i);const f=this._inProgressUrlFetches.get(d);if(f)return f;const _=this._httpClient.get(d,{responseType:"text",withCredentials:s}).pipe((0,F.U)(b=>Pw(b)),uS(()=>this._inProgressUrlFetches.delete(d)),(0,V1.B)());return this._inProgressUrlFetches.set(d,_),_}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(QL(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return h8(s)?new dg(s.url,null,s.options):new dg(s,null)}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(DM,8),a.LFG(Nd),a.LFG(J,8),a.LFG(a.qLn))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function YS(n){return n.cloneNode(!0)}function QL(n,t){return n+":"+t}function h8(n){return!(!n.url||!n.options)}const f8=vA(class{constructor(n){this._elementRef=n}}),m8=new a.OlP("MAT_ICON_DEFAULT_OPTIONS"),p8=new a.OlP("mat-icon-location",{providedIn:"root",factory:function g8(){const n=(0,a.f3M)(J),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),XL=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],_8=XL.map(n=>`[${n}]`).join(", "),y8=/^url\(['"]?#(.*?)['"]?\)$/;let JL=(()=>{class n extends f8{get inline(){return this._inline}set inline(e){this._inline=Fn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,r,s,d,f){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=d,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Aa.w0.EMPTY,f&&(f.color&&(this.color=this.defaultColor=f.color),f.fontSet&&(this.fontSet=f.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(d=>{s.setAttribute(d.name,`url('${e}#${d.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(_8),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)XL.forEach(d=>{const f=i[s],_=f.getAttribute(d),b=_?_.match(y8):null;if(b){let E=r.get(f);E||(E=[],r.set(f,E)),E.push({name:d,value:b[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(us(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(KS),a.$8M("aria-hidden"),a.Y36(p8),a.Y36(a.qLn),a.Y36(m8,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,i){2&e&&(a.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),a.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[a.qOj],ngContentSelectors:c8,decls:1,vars:0,template:function(e,i){1&e&&(a.F$t(),a.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),kM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[fi,fi]}),n})(),v8=(()=>{class n{constructor(e,i){this.fb=e,this.store=i,this.isSubmittingProps=null,this.questionValueProps={},this.commentSubmitEvent=new a.vpe,this.form={},this.currentUser={}}ngOnInit(){this.initializeForm(),this.store.pipe(qn(hm)).subscribe(e=>{e&&(this.currentUser=e)})}initializeForm(){this.form=this.fb.group({author:"",body:"",date:"",isRightAnswer:!1})}onSubmit(){this.form.value.date=Date.now(),this.form.value.author=this.currentUser.user.name||null,this.commentSubmitEvent.emit(this.form.value)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(sw),a.Y36(Tr))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-comment-form"]],inputs:{isSubmittingProps:["isSubmitting","isSubmittingProps"],questionValueProps:["question","questionValueProps"]},outputs:{commentSubmitEvent:"commentSubmit"},decls:8,vars:1,consts:[[1,"comment-form"],[1,"comment-form__container"],[1,"comment-form__form",3,"formGroup","ngSubmit"],[1,"comment-form__form-group"],["rows","8","placeholder","Write your comment","formControlName","body",1,"comment-form__text-area"],["mat-raised-button","","type","submit",1,"comment-form__button"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0)(1,"div",1)(2,"form",2),a.NdJ("ngSubmit",function(){return i.onSubmit()}),a.TgZ(3,"fieldset",3),a._UZ(4,"textarea",4),a.qZA(),a.TgZ(5,"fieldset",3)(6,"button",5),a._uU(7," Publish comment "),a.qZA()()()()()),2&e&&(a.xp6(2),a.Q6J("formGroup",i.form))},dependencies:[jy,ow,ng,Q0,X0,sm,Iy],styles:[".comment-form[_ngcontent-%COMP%]{transition:all .5s ease-out}.comment-form__tags-list[_ngcontent-%COMP%]{list-style:none}.comment-form__form-group[_ngcontent-%COMP%]{border:none}"]}),n})();function b8(n,t){if(1&n&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&n){const e=t.$implicit;a.xp6(1),a.hij(" #",e," ")}}const w8=function(n){return["/questions",n,"edit"]};function x8(n,t){if(1&n&&(a.TgZ(0,"a",19),a._uU(1,"Edit question"),a.qZA()),2&n){const e=a.oxw();a.Q6J("routerLink",a.VKq(1,w8,null==e.question?null:e.question.slug))}}function E8(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"button",22),a.NdJ("click",function(){a.CHM(e);const r=a.oxw(2);return a.KtG(r.setApproved())}),a._uU(1," Approve "),a.qZA()}}function C8(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",20),a.YNc(1,E8,2,0,"button",21),a.TgZ(2,"button",22),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.deleteQuestion())}),a._uU(3," Delete "),a.qZA()()}if(2&n){const e=a.oxw();a.xp6(1),a.Q6J("ngIf",!(null!=e.question&&e.question.approved)&&(null==e.userProfile?null:e.userProfile.isAdmin))}}function S8(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"app-comment-form",23),a.NdJ("commentSubmit",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s.onSubmit(r))}),a.ALo(1,"async"),a.qZA()}if(2&n){const e=a.oxw();a.Q6J("question",e.question)("isSubmitting",a.lcZ(1,2,e.isSubmitting$))}}function I8(n,t){1&n&&(a.TgZ(0,"mat-icon"),a._uU(1,"check_circle"),a.qZA())}function D8(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"mat-checkbox",32),a.NdJ("click",function(){a.CHM(e);const r=a.oxw().$implicit,s=a.oxw();return a.KtG(s.clickRightAnswer(r.date))}),a._uU(1,"Right answer!"),a.qZA()}}function T8(n,t){if(1&n&&(a.TgZ(0,"div",24)(1,"div",25)(2,"p",26),a._uU(3),a.qZA(),a.TgZ(4,"div",27)(5,"div",28)(6,"span",29),a._uU(7),a.qZA(),a.TgZ(8,"span"),a._uU(9),a.ALo(10,"date"),a.qZA()(),a.YNc(11,I8,2,0,"mat-icon",30),a.qZA(),a.YNc(12,D8,2,0,"mat-checkbox",31),a.qZA()()),2&n){const e=t.$implicit,i=a.oxw();a.xp6(3),a.Oqu(e.body),a.xp6(4),a.hij("Author: ",e.author,""),a.xp6(2),a.hij("CreatedAt: ",a.xi3(10,5,e.date,"medium")," "),a.xp6(2),a.Q6J("ngIf",e.isRightAnswer),a.xp6(1),a.Q6J("ngIf",!(null!=i.question&&i.question.isAnswered))}}let k8=(()=>{class n{constructor(e,i,r,s){this.store=e,this.route=i,this.questionService=r,this.convertService=s,this.slug="",this.question={},this.questionSubscription={},this.isLoading$={},this.error$={},this.isAuthor$={},this.isSubmitting$={},this.question$={},this.userProfileSubscription={},this.userProfile=null}ngOnInit(){this.initializeValues(),this.fetchData(),this.initializeListeners()}ngOnDestroy(){this.questionSubscription.unsubscribe(),this.userProfileSubscription.unsubscribe()}initializeValues(){this.slug=this.route.snapshot.paramMap.get("slug"),this.error$=this.store.pipe(qn(N4)),this.isSubmitting$=this.store.pipe(qn(L4)),this.question$=this.store.pipe(qn(OL),We(Boolean),(0,F.U)(e=>({title:e.title,slug:e.slug,body:e.body,tags:e.tags,date:e.date,comments:e.comments,isAnswered:e.isAnswered,author:e.author,approved:e.approved})))}initializeListeners(){this.questionSubscription=this.store.pipe(qn(OL)).subscribe(e=>{this.question=e}),this.userProfileSubscription=this.store.pipe(qn(hm)).subscribe(e=>{e&&(this.userProfile=e.user)})}onSubmit(e){const i=this.convertService.convertObj(e,this.question);this.store.dispatch(Mw(i))}fetchData(){this.slug&&this.store.dispatch(wM({slug:this.slug}))}deleteQuestion(){this.slug&&this.store.dispatch(_L({slug:this.slug}))}toggleComment(){this.questionService.toggleComment()}clickRightAnswer(e){const i=this.convertService.convertAnswerInObj(e,this.question);this.store.dispatch(Mw(i))}setApproved(){const e=this.convertService.convertApproved(this.question);this.store.dispatch(Mw(e))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Tr),a.Y36(Xu),a.Y36(bM),a.Y36(FL))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-question"]],decls:28,vars:12,consts:[[1,"question"],[1,"question__container"],[1,"question__info-content"],[1,"question__info-about"],[1,"question__date"],[1,"question__item-title"],[1,"question__description-content"],[1,"question__description-text"],[1,"question__info-manage"],[1,"question__info"],[1,"question__tags"],[4,"ngFor","ngForOf"],[1,"question__links"],["class","question__link",3,"routerLink",4,"ngIf"],[1,"question__link",3,"click"],["class","question__buttons",4,"ngIf"],[3,"question","isSubmitting","commentSubmit",4,"ngIf"],[1,"question__comments-title"],["class","question__comments",4,"ngFor","ngForOf"],[1,"question__link",3,"routerLink"],[1,"question__buttons"],["class","question__button","mat-raised-button","",3,"click",4,"ngIf"],["mat-raised-button","",1,"question__button",3,"click"],[3,"question","isSubmitting","commentSubmit"],[1,"question__comments"],[1,"question__comments-item"],[1,"question__item-body"],[1,"question__comments-info"],[1,"question__comments-info-content"],[1,"question__item-author"],[4,"ngIf"],["class","example-margin",3,"click",4,"ngIf"],[1,"example-margin",3,"click"]],template:function(e,i){1&e&&(a.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),a._uU(5),a.ALo(6,"date"),a.qZA(),a.TgZ(7,"p",4),a._uU(8),a.qZA()(),a.TgZ(9,"h4",5),a._uU(10),a.qZA()(),a.TgZ(11,"div",6)(12,"div",7),a._uU(13),a.qZA()(),a.TgZ(14,"div",8)(15,"div",9)(16,"div",10),a._uU(17," Tags: "),a.YNc(18,b8,2,1,"span",11),a.qZA(),a.TgZ(19,"div",12),a.YNc(20,x8,2,3,"a",13),a.TgZ(21,"div",14),a.NdJ("click",function(){return i.toggleComment()}),a._uU(22,"Comment"),a.qZA()(),a.YNc(23,C8,4,1,"div",15),a.qZA(),a.YNc(24,S8,2,4,"app-comment-form",16),a.TgZ(25,"p",17),a._uU(26,"Comments"),a.qZA(),a.YNc(27,T8,13,8,"div",18),a.qZA()()()),2&e&&(a.xp6(5),a.hij(" CreatedAt: ",a.xi3(6,9,null==i.question?null:i.question.date,"medium")," "),a.xp6(3),a.hij("Author: ",null==i.question||null==i.question.author||null==i.question.author.user?null:i.question.author.user.name,""),a.xp6(2),a.Oqu(null==i.question?null:i.question.title),a.xp6(3),a.Oqu(null==i.question?null:i.question.body),a.xp6(5),a.Q6J("ngForOf",null==i.question?null:i.question.tags),a.xp6(2),a.Q6J("ngIf",!(null!=i.question&&i.question.approved)&&(null==i.userProfile?null:i.userProfile.email)===(null==i.question||null==i.question.author||null==i.question.author.user?null:i.question.author.user.email)),a.xp6(3),a.Q6J("ngIf",(null==i.userProfile?null:i.userProfile.isAdmin)||(null==i.userProfile?null:i.userProfile.email)===(null==i.question||null==i.question.author||null==i.question.author.user?null:i.question.author.user.email)),a.xp6(1),a.Q6J("ngIf",i.questionService.isOpenComment),a.xp6(3),a.Q6J("ngForOf",null==i.question?null:i.question.comments))},dependencies:[Sn,Ei,id,jy,fM,JL,v8,ri,Wo],styles:[".question[_ngcontent-%COMP%]{width:70vw}.question__container[_ngcontent-%COMP%]{display:flex;min-height:460px;flex-direction:column;justify-content:space-around}.question__container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{border-bottom:1px solid #45616b;margin-bottom:10px;padding-bottom:10px}.question__info-about[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:10px;font-weight:200}.question__item-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.question__info-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#264e26}.question__description-text[_ngcontent-%COMP%]{height:180px;width:100%;font-size:12px;overflow-y:hidden;margin-bottom:20px;color:#dfcdbf}.question__info-manage[_ngcontent-%COMP%]{color:#264e26}.question__link[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline;color:#45616b;padding:5px}.question__comments-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100px;border-radius:6px;padding:10px 15px;margin:20px;background-color:#fcf6f6;justify-content:space-between}.question__comments-title[_ngcontent-%COMP%]{color:#264e26;font-size:20px;margin-top:10px}.question__info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px 0;border-bottom:1px solid #45616b}@media (max-width: 700px){.question__info[_ngcontent-%COMP%]{flex-direction:column;align-items:center;margin-top:10px;margin-bottom:20px}.question__info[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-top:10px}}.question__comments-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:10px}.question__comments-info-content[_ngcontent-%COMP%]{width:70%;display:flex;justify-content:space-around}@media (max-width: 700px){.question__comments-info-content[_ngcontent-%COMP%]{flex-direction:column}}.question__tags[_ngcontent-%COMP%]{margin-top:6px}.question__links[_ngcontent-%COMP%]{display:flex}.question__button[_ngcontent-%COMP%]{margin:5px;color:#45616b}"]}),n})(),A8=(()=>{class n{constructor(e,i,r){this.actions$=e,this.editQuestionService=i,this.router=r,this.updateQuestion$=Xr(()=>this.actions$.pipe(Jr(Mw),kn(s=>(0,$t.D)(this.editQuestionService.updateQuestion(s)).pipe((0,F.U)(()=>xM()),ur(()=>Ze(TL())))))),this.redirectAfterCreate$=Xr(()=>this.actions$.pipe(Jr(xM),(0,Wn.b)(()=>{this.router.navigate(["/"])})),{dispatch:!1})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Pc),a.LFG(zS),a.LFG(hr))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const M8=[{path:"questions/:slug",component:k8}];let R8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[HS,bM,zS,FL],imports:[Zn,Fc.forChild(M8),By.forFeature([E4,S4,A8]),vy.forFeature("question",F4),Fc,kw,_A,mM,kM]}),n})(),O8=(()=>{class n{transform(e,i){if(i&&e){i<1&&(i=1),i>5&&(i=5);let s=5*i-5;const f=[...Array(5).keys()].map(_=>_+s);return e.filter((_,b)=>f.includes(b))}return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=a.Yjl({name:"filterByPage",type:n,pure:!0}),n})(),F8=(()=>{class n{transform(e,i){return!i&&e?e.filter(r=>r.approved):e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=a.Yjl({name:"filterByLogged",type:n,pure:!0}),n})(),P8=(()=>{class n{transform(e,i){return!i&&e?e.filter(r=>!r.approved):e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=a.Yjl({name:"filterByNotApproved",type:n,pure:!0}),n})(),N8=(()=>{class n{transform(e,i){return i?e.filter(r=>!!(r.author&&r.author.user&&r.author.user.name)&&r.author.user.name===i):e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=a.Yjl({name:"filterByAuthor",type:n,pure:!0}),n})();var Hy=(()=>(function(n){n.GET_ALL_QUESTIONS="[All Questions] Get all questions",n.GET_ALL_QUESTIONS_SUCCESS="[All Questions] Get all questions success",n.GET_ALL_QUESTIONS_FAILURE="[All Questions] Get all questions failure"}(Hy||(Hy={})),Hy))();const AM=en(Hy.GET_ALL_QUESTIONS,{_as:"props",_p:void 0}),e2=en(Hy.GET_ALL_QUESTIONS_SUCCESS,{_as:"props",_p:void 0}),t2=en(Hy.GET_ALL_QUESTIONS_FAILURE),MM=yy("allQuestions"),L8=(lr(MM,n=>n.isLoading),lr(MM,n=>n.error),lr(MM,n=>n.questions));let ug=(()=>{class n{constructor(){this.isAnswered=null,this.selectedTag=null,this.filterByDate="",this.filterByTag=[],this.sortByDate="",this.allQuestionsItemInfo="all-questions__item-info all-questions__item-info_line",this.allQuestionsItem="all-questions__item all-questions__item_line",this.allQuestions="all-questions",this.filterByAuthor="",this.isLoggedIn=!1,this.filterByNotApproved=!0,this.pageInfo={}}setCurrentPageInfo(e){this.pageInfo.currentPage=e}setPageInfo(e){this.pageInfo.pagesCount=e}setAnswered(e){this.isAnswered=e}setFilterByDate(e){this.filterByDate=e}setFilterByTag(e){this.filterByTag=e}setSortByDate(e){this.sortByDate=e}setLayoutType(e){this.allQuestionsItemInfo="line"===e?"all-questions__item-info all-questions__item-info_line":"all-questions__item-info all-questions__item-info_tile",this.allQuestionsItem="line"===e?"all-questions__item all-questions__item_line":"all-questions__item all-questions__item_tile",this.allQuestions="line"===e?"all-questions":"all-questions all-questions_tile"}setFilterByAuthor(e){this.filterByAuthor=e}setFilterByNotApproved(e){this.filterByNotApproved=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RM=(()=>{class n{constructor(e){this.firestore=e}getAllQuestions(e){return this.firestore.collection(e).valueChanges()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Zu))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function V8(n,t){1&n&&(a.TgZ(0,"span",11),a._uU(1,"not approved"),a.qZA())}function B8(n,t){if(1&n&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&n){const e=t.$implicit;a.xp6(1),a.hij(" #",e," ")}}const U8=function(n){return["/questions",n]};function j8(n,t){if(1&n&&(a.TgZ(0,"a",5)(1,"div",0)(2,"span"),a._uU(3),a.qZA(),a.YNc(4,V8,2,0,"span",6),a.TgZ(5,"h2",7)(6,"span",8),a._uU(7," Question: "),a.qZA(),a._uU(8),a.qZA(),a.TgZ(9,"p",9),a._uU(10),a.qZA(),a.TgZ(11,"div",0)(12,"span"),a._uU(13),a.ALo(14,"date"),a.qZA(),a.TgZ(15,"span"),a._uU(16),a.qZA(),a.TgZ(17,"span"),a._uU(18),a.qZA(),a.TgZ(19,"span"),a._uU(20,"Tags: "),a.YNc(21,B8,2,1,"span",10),a.qZA()()()()),2&n){const e=a.oxw(),i=e.$implicit,r=e.index,s=a.oxw();a.Q6J("routerLink",a.VKq(14,U8,i.slug)),a.xp6(1),a.Q6J("ngClass",s.settingsService.allQuestionsItem),a.xp6(2),a.Oqu(r),a.xp6(1),a.Q6J("ngIf",!i.approved),a.xp6(4),a.hij(" ",i.title," "),a.xp6(2),a.Oqu(i.body),a.xp6(1),a.Q6J("ngClass",s.settingsService.allQuestionsItemInfo),a.xp6(2),a.hij("Date: ",a.xi3(14,11,i.date,"medium")," "),a.xp6(3),a.hij("Author: ",null==i||null==i.author||null==i.author.user?null:i.author.user.name," "),a.xp6(2),a.hij("Comments: ",null==i.comments?null:i.comments.length," "),a.xp6(3),a.Q6J("ngForOf",i.tags)}}function z8(n,t){if(1&n&&(a.TgZ(0,"section",3),a.YNc(1,j8,22,16,"a",4),a.qZA()),2&n){const e=t.$implicit,i=a.oxw();a.xp6(1),a.Q6J("ngIf",!!e.approved||!!(null!=i.userProfile&&i.userProfile.isAdmin||(null==i.userProfile?null:i.userProfile.email)===(null==e||null==e.author||null==e.author.user?null:e.author.user.email)))}}let n2=(()=>{class n{constructor(e,i,r,s){this.store=e,this.settingsService=i,this.route=r,this.service=s,this.getPages={},this.allQuestions$={},this.error$={},this.isLoading$={},this.isLoggedIn$={},this.isLoggedIn=!1,this.userProfileSubscription={},this.userProfile=null,this.paginationInfo={},this.queryParamsSubscription={},this.currentPage=1,this.questionCount=0}ngOnInit(){this.initializeValues(),this.fetchAllQuestions(),this.initializeListeners()}initializeListeners(){this.queryParamsSubscription=this.route.queryParams.subscribe(e=>{this.settingsService.setCurrentPageInfo(Number(e.page||"1"))}),this.userProfileSubscription=this.store.pipe(qn(hm)).subscribe(e=>{e&&(this.userProfile=e.user)})}initializeValues(){this.allQuestions$=this.store.pipe(qn(L8)),this.isLoggedIn$=this.store.pipe(qn(RL))}fetchAllQuestions(){this.store.dispatch(AM({value:"questions"}))}ngOnDestroy(){this.queryParamsSubscription.unsubscribe(),this.userProfileSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Tr),a.Y36(ug),a.Y36(Xu),a.Y36(RM))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-all-questions"]],inputs:{getPages:"getPages"},decls:17,vars:35,consts:[[3,"ngClass"],["class","all-questions__section",4,"ngFor","ngForOf"],[3,"total","currentPage","pages"],[1,"all-questions__section"],["class","all-questions__link",3,"routerLink",4,"ngIf"],[1,"all-questions__link",3,"routerLink"],["class","all-questions__not-approved",4,"ngIf"],[1,"all-questions__item-title"],[1,"all-questions__item-title-name"],[1,"all-questions__item-body"],[4,"ngFor","ngForOf"],[1,"all-questions__not-approved"]],template:function(e,i){if(1&e&&(a.TgZ(0,"div",0),a._UZ(1,"app-add-button"),a.TgZ(2,"div"),a._uU(3),a.ALo(4,"async"),a.qZA(),a.YNc(5,z8,2,1,"section",1),a.ALo(6,"filterByPage"),a.ALo(7,"filterByLogged"),a.ALo(8,"filterByNotApproved"),a.ALo(9,"filterByAuthor"),a.ALo(10,"sortByDate"),a.ALo(11,"filterByTag"),a.ALo(12,"filterByDate"),a.ALo(13,"isAnswered"),a.ALo(14,"async"),a.TgZ(15,"app-pagination",2),a.NdJ("pages",function(){return i.getPages}),a.ALo(16,"async"),a.qZA()()),2&e){let r,s;a.Q6J("ngClass",i.settingsService.allQuestions),a.xp6(3),a.Oqu(null==(r=a.lcZ(4,5,i.allQuestions$))?null:r.length),a.xp6(2),a.Q6J("ngForOf",a.xi3(6,7,a.xi3(7,10,a.xi3(8,13,a.xi3(9,16,a.xi3(10,19,a.xi3(11,22,a.xi3(12,25,a.xi3(13,28,a.lcZ(14,31,i.allQuestions$),i.settingsService.isAnswered),i.settingsService.filterByDate),i.settingsService.filterByTag),i.settingsService.sortByDate),i.settingsService.filterByAuthor),i.settingsService.filterByNotApproved),i.settingsService.isLoggedIn),i.settingsService.pageInfo.currentPage)),a.xp6(10),a.Q6J("total",null==(s=a.lcZ(16,33,i.allQuestions$))?null:s.length)("currentPage",i.currentPage)}},styles:[".all-questions__not-approved[_ngcontent-%COMP%]{text-transform:capitalize;color:red;font-weight:600}.all-questions_tile[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-evenly;position:relative}.all-questions__section[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#45616b}.all-questions[_ngcontent-%COMP%]:hover{opacity:.8}.all-questions__link[_ngcontent-%COMP%]{text-decoration:none;color:#45616b}.all-questions__item[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100px;border-radius:10px;padding:10px 8px;margin:20px;background-color:#fcf6f6}.all-questions__item_line[_ngcontent-%COMP%]{min-width:80vw}.all-questions__item_tile[_ngcontent-%COMP%]{width:250px}.all-questions__item-info[_ngcontent-%COMP%]{border-top:1px solid #79a1b0;padding:5px 10px;display:flex;justify-content:space-between}.all-questions__item-info_line[_ngcontent-%COMP%]{height:20px}@media (max-width: 700px){.all-questions__item-info_line[_ngcontent-%COMP%]{flex-direction:column;height:70px}}.all-questions__item-info_tile[_ngcontent-%COMP%]{flex-direction:column;height:70px}.all-questions__item-title[_ngcontent-%COMP%]{min-height:20px;border-bottom:1px solid #79a1b0}.all-questions__item-title-name[_ngcontent-%COMP%]{color:#e5a587}.all-questions__item-body[_ngcontent-%COMP%]{flex-grow:3}"]}),n})(),H8=(()=>{class n{constructor(e,i){this.actions$=e,this.allQuestionsService=i,this.getAllQuestions$=Xr(()=>this.actions$.pipe(Jr(AM),kn(({value:r})=>(0,$t.D)(this.allQuestionsService.getAllQuestions(r)).pipe((0,F.U)(s=>e2({allQuestions:s})),ur(()=>Ze(t2()))))))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Pc),a.LFG(RM))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const r2={questions:null,isLoading:!1,error:null,questionsCount:0},$8=Z0(r2,An(AM,n=>({...n,isLoading:!0})),An(e2,(n,t)=>({...n,isLoading:!1,questions:t.allQuestions})),An(t2,n=>({...n,isLoading:!1})),An(bL,()=>r2));function G8(n,t){return $8(n,t)}let q8=(()=>{class n{transform(e,i){return!0===i||!1===i?e.filter(r=>r.isAnswered===i):e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=a.Yjl({name:"isAnswered",type:n,pure:!0}),n})(),W8=(()=>{class n{transform(e,i){return"day"===i?e.filter(f=>Date.now()-f.date<864e5):"two-days"===i?e.filter(f=>Date.now()-f.date<1728e5):"week"===i?e.filter(f=>Date.now()-f.date<6048e5):e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=a.Yjl({name:"filterByDate",type:n,pure:!0}),n})(),Z8=(()=>{class n{transform(e,i){return i&&e?e.filter(r=>i.every(s=>r.tags?.includes(s))):e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=a.Yjl({name:"filterByTag",type:n,pure:!0}),n})(),K8=(()=>{class n{transform(e,i){return"asc"===i?[...e].sort((r,s)=>s.date-r.date):"desc"===i?[...e].sort((r,s)=>r.date-s.date):e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=a.Yjl({name:"sortByDate",type:n,pure:!0}),n})();const Y8=function(){return["/questions/new"]};let Q8=(()=>{class n{constructor(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-add-button"]],decls:5,vars:2,consts:[[1,"add-button"],[3,"routerLink"],["mat-fab","",1,"add-button__button"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0)(1,"a",1)(2,"button",2)(3,"mat-icon"),a._uU(4,"plus_one"),a.qZA()()()()),2&e&&(a.xp6(1),a.Q6J("routerLink",a.DdM(1,Y8)))},dependencies:[id,JL,GG],styles:[".add-button__button[_ngcontent-%COMP%]{position:fixed;bottom:110px;right:30px}@media (max-width: 700px){.add-button__button[_ngcontent-%COMP%]{bottom:150px}}"]}),n})(),o2=(()=>{class n{range(e,i){return[...Array(i).keys()].map(r=>r+e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),X8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[o2],imports:[Zn,Fc]}),n})();const J8=function(n){return{active:n}},eq=function(n){return[n]},tq=function(n){return{page:n}};function nq(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"li",2)(1,"a",3),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.setPage())}),a._uU(2),a.qZA()()}if(2&n){const e=t.$implicit,i=a.oxw();a.Q6J("ngClass",a.VKq(4,J8,i.currentPageProps===e)),a.xp6(1),a.Q6J("routerLink",a.VKq(6,eq,i.urlProps))("queryParams",a.VKq(8,tq,e)),a.xp6(1),a.Oqu(e)}}let iq=(()=>{class n{constructor(e,i){this.utilsService=e,this.settingsService=i,this.totalProps={},this.limitProps=5,this.currentPageProps={},this.urlProps="",this.pagesCount=0,this.pages=[],this.getPages=this.pagesCount}ngOnInit(){this.pagesCount=Math.ceil(this.totalProps/this.limitProps),this.pages=this.utilsService.range(1,this.pagesCount)}setPage(){this.settingsService.setPageInfo(this.pagesCount)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(o2),a.Y36(ug))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-pagination"]],inputs:{totalProps:["total","totalProps"],limitProps:["limit","limitProps"],currentPageProps:["currentPage","currentPageProps"],urlProps:["url","urlProps"]},outputs:{getPages:"getPages"},decls:2,vars:1,consts:[[1,"pagination"],["class","pagination__item",3,"ngClass",4,"ngFor","ngForOf"],[1,"pagination__item",3,"ngClass"],[1,"pagination__link",3,"routerLink","queryParams","click"]],template:function(e,i){1&e&&(a.TgZ(0,"ul",0),a.YNc(1,nq,3,10,"li",1),a.qZA()),2&e&&(a.xp6(1),a.Q6J("ngForOf",i.pages))},dependencies:[nt,Sn,id],styles:[".pagination[_ngcontent-%COMP%]{list-style:none;display:flex;flex-wrap:wrap;padding:5px 20px;height:100px;align-content:space-around;justify-content:flex-start}@media (max-width: 700px){.pagination[_ngcontent-%COMP%]{height:150px}}.pagination__item[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:green}.pagination__link[_ngcontent-%COMP%]{border:1px solid #45616b;margin:5px 3px;padding:10px;color:#264e26;text-decoration:none}.pagination__link[_ngcontent-%COMP%]:hover{background-color:#79a1b0;opacity:.8}"]}),n})();const rq=[{path:"",component:n2}];let oq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[RM],imports:[Zn,By.forFeature([H8]),vy.forFeature("allQuestions",G8),Fc.forChild(rq),kM,kw,X8]}),n})();function s2(n,t){return t?e=>oc(t.pipe(us(1),YP()),e.pipe(s2(n))):(0,Ar.z)((e,i)=>(0,ka.Xf)(n(e,i)).pipe(us(1),GF(e)))}function a2(n,t=ai.z){const e=mN(n,t);return s2(()=>e)}a.B6R(n2,function(){return[nt,Sn,Ei,id,iq,Q8]},function(){return[ri,Wo,q8,W8,Z8,K8,N8,P8,F8,O8]});const sq=["mat-menu-item",""];function aq(n,t){1&n&&(a.O4$(),a.TgZ(0,"svg",3),a._UZ(1,"polygon",4),a.qZA())}const cq=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],lq=["mat-icon, [matMenuItemIcon]","*"];function dq(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",0),a.NdJ("keydown",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s._handleKeydown(r))})("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s._onAnimationStart(r))})("@transformMenu.done",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s._onAnimationDone(r))}),a.TgZ(1,"div",1),a.Hsn(2),a.qZA()()}if(2&n){const e=a.oxw();a.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),a.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const uq=["*"],OM=new a.OlP("MAT_MENU_PANEL"),hq=dS(yA(class{}));let QS=(()=>{class n extends hq{constructor(e,i,r,s,d){super(),this._elementRef=e,this._document=i,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=d,this.role="menuitem",this._hovered=new sn.x,this._focused=new sn.x,this._highlighted=!1,this._triggersSubmenu=!1,s?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(J),a.Y36(QC),a.Y36(OM,8),a.Y36(a.sBO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator","mdc-list-item"],hostVars:8,hostBindings:function(e,i){1&e&&a.NdJ("click",function(s){return i._checkDisabled(s)})("mouseenter",function(){return i._handleMouseEnter()}),2&e&&(a.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled)("disabled",i.disabled||null),a.ekj("mat-mdc-menu-item-highlighted",i._highlighted)("mat-mdc-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[a.qOj],attrs:sq,ngContentSelectors:lq,decls:5,vars:3,consts:[[1,"mdc-list-item__primary-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,i){1&e&&(a.F$t(cq),a.Hsn(0),a.TgZ(1,"span",0),a.Hsn(2,1),a.qZA(),a._UZ(3,"div",1),a.YNc(4,aq,2,0,"svg",2)),2&e&&(a.xp6(3),a.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),a.xp6(1),a.Q6J("ngIf",i._triggersSubmenu))},dependencies:[Ei,am],encapsulation:2,changeDetection:0}),n})();const fq=new a.OlP("MatMenuContent"),XS={transformMenu:Iw("transformMenu",[BS("void",Ra({opacity:0,transform:"scale(0.8)"})),lg("void => enter",Uy("120ms cubic-bezier(0, 0, 0.2, 1)",Ra({opacity:1,transform:"scale(1)"}))),lg("* => void",Uy("100ms 25ms linear",Ra({opacity:0})))]),fadeInItems:Iw("fadeInItems",[BS("showing",Ra({opacity:1})),lg("void => *",[Ra({opacity:0}),Uy("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let mq=0;const c2=new a.OlP("mat-menu-default-options",{providedIn:"root",factory:function pq(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Nw=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=Fn(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Fn(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,i,r,s){this._elementRef=e,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=s,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new a.n_E,this._classList={},this._panelAnimationState="void",this._animationDone=new sn.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new a.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+mq++}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new vO(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(S(this._directDescendantItems),kn(e=>(0,qu.T)(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=e.toArray(),s=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[s]&&!r[s].disabled?i.setActiveItem(s):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(S(this._directDescendantItems),kn(i=>(0,qu.T)(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,r=this._keyManager;switch(i){case 27:Hk(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(us(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${i}`,s=Object.keys(this._classList).find(d=>d.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===e,r["mat-menu-after"]="after"===e,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(S(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(c2),a.Y36(a.sBO))},n.\u0275dir=a.lG2({type:n,contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,fq,5),a.Suo(r,QS,5),a.Suo(r,QS,4)),2&e){let s;a.iGM(s=a.CRH())&&(i.lazyContent=s.first),a.iGM(s=a.CRH())&&(i._allItems=s),a.iGM(s=a.CRH())&&(i.items=s)}},viewQuery:function(e,i){if(1&e&&a.Gf(a.Rgc,5),2&e){let r;a.iGM(r=a.CRH())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),gq=(()=>{class n extends Nw{constructor(e,i,r,s){super(e,i,r,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(c2),a.Y36(a.sBO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,i){2&e&&a.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[a._Bn([{provide:OM,useExisting:n}]),a.qOj],ngContentSelectors:uq,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mdc-menu-surface","mdc-menu-surface--open","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content","mdc-list"]],template:function(e,i){1&e&&(a.F$t(),a.YNc(0,dq,3,6,"ng-template"))},dependencies:[nt],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;position:relative}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item.mdc-list-item{align-items:center}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item .mdc-list-item__primary-text{white-space:normal}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[XS.transformMenu,XS.fadeInItems]},changeDetection:0}),n})();const l2=new a.OlP("mat-menu-scroll-strategy"),yq={provide:l2,deps:[Sw],useFactory:function _q(n){return()=>n.scrollStrategies.reposition()}},d2=wy({passive:!0});let vq=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,i,r,s,d,f,_,b,E){this._overlay=e,this._element=i,this._viewContainerRef=r,this._menuItemInstance=f,this._dir=_,this._focusMonitor=b,this._ngZone=E,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Aa.w0.EMPTY,this._hoverSubscription=Aa.w0.EMPTY,this._menuCloseSubscription=Aa.w0.EMPTY,this._changeDetectorRef=(0,a.f3M)(a.sBO),this._handleTouchStart=k=>{Kk(k)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new a.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new a.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=d instanceof Nw?d:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,d2)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,d2),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const i=this._createOverlay(e),r=i.getConfig(),s=r.positionStrategy;this._setPosition(e,s),r.hasBackdrop=null==e.hasBackdrop?!this.triggersSubmenu():e.hasBackdrop,i.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof Nw&&(e._startAnimation(),e._directDescendantItems.changes.pipe(zs(e.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof Nw?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(We(r=>"void"===r.toState),us(1),zs(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let i=0,r=e.parentMenu;for(;r;)i++,r=r.parentMenu;e.setElevation(i)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){const i=this._getOverlayConfig(e);this._subscribeToPositions(e,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new xN({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,i){e.setPositionClasses&&i.positionChanges.subscribe(r=>{const s="start"===r.connectionPair.overlayX?"after":"before",d="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(s,d)):e.setPositionClasses(s,d)})}_setPosition(e,i){let[r,s]="before"===e.xPosition?["end","start"]:["start","end"],[d,f]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[_,b]=[d,f],[E,k]=[r,s],V=0;if(this.triggersSubmenu()){if(k=r="before"===e.xPosition?"start":"end",s=E="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const L=this._parentMaterialMenu.items.first;this._parentInnerPadding=L?L._getHostElement().offsetTop:0}V="bottom"===d?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(_="top"===d?"bottom":"top",b="top"===f?"bottom":"top");i.withPositions([{originX:r,originY:_,overlayX:E,overlayY:d,offsetY:V},{originX:s,originY:_,overlayX:k,overlayY:d,offsetY:V},{originX:r,originY:b,overlayX:E,overlayY:f,offsetY:-V},{originX:s,originY:b,overlayX:k,overlayY:f,offsetY:-V}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:Ze(),s=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(We(d=>d!==this._menuItemInstance),We(()=>this._menuOpen)):Ze();return(0,qu.T)(e,r,s,i)}_handleMousedown(e){Zk(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(We(e=>e===this._menuItemInstance&&!e.disabled),a2(0,iM)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Nw&&this.menu._isAnimating?this.menu._animationDone.pipe(us(1),a2(0,iM),zs(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new yN(e.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Sw),a.Y36(a.SBq),a.Y36(a.s_b),a.Y36(l2),a.Y36(OM,8),a.Y36(QS,10),a.Y36(Dy,8),a.Y36(QC),a.Y36(a.R0b))},n.\u0275dir=a.lG2({type:n,hostVars:3,hostBindings:function(e,i){1&e&&a.NdJ("click",function(s){return i._handleClick(s)})("mousedown",function(s){return i._handleMousedown(s)})("keydown",function(s){return i._handleKeydown(s)}),2&e&&a.uIk("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),bq=(()=>{class n extends vq{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[a.qOj]}),n})(),wq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[yq],imports:[Zn,ky,fi,kN,VS,fi]}),n})(),xq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Zn,Fc,kw,wq,kM]}),n})();P(8848);const Eq_firebase={projectId:"fir-stack-over",appId:"1:716807091844:web:f1f3fdbab136425d8134d1",databaseURL:"https://fir-stack-over-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"fir-stack-over.appspot.com",apiKey:"AIzaSyA3xBrKc9VoG68bbn9wHd_znbLnEIG27qA",authDomain:"fir-stack-over.firebaseapp.com",messagingSenderId:"716807091844"};let FM=(()=>{class n{constructor(e,i){this.firestore=e,this.store=i}createQuestion(e){return this.firestore.collection("questions").doc(e.slug).set(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Zu),a.LFG(Tr))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var $y=(()=>(function(n){n.CREATE_QUESTION="[Create question] Create question",n.CREATE_QUESTION_SUCCESS="[Create question] Create question success",n.CREATE_QUESTION_FAILURE="[Create question] Create question failure"}($y||($y={})),$y))();const PM=en($y.CREATE_QUESTION,{_as:"props",_p:void 0}),NM=en($y.CREATE_QUESTION_SUCCESS),u2=en($y.CREATE_QUESTION_FAILURE);let Cq=(()=>{class n{constructor(e,i,r){this.actions$=e,this.createQuestionService=i,this.router=r,this.createQuestion$=Xr(()=>this.actions$.pipe(Jr(PM),kn(({questionInput:s})=>(0,$t.D)(this.createQuestionService.createQuestion(s)).pipe((0,F.U)(()=>NM()),ur(()=>Ze(u2())))))),this.redirectAfterCreate$=Xr(()=>this.actions$.pipe(Jr(NM),(0,Wn.b)(()=>{this.router.navigate(["/"])})),{dispatch:!1})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Pc),a.LFG(FM),a.LFG(hr))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const h2=yy("createQuestion"),Sq=lr(h2,n=>n.isSubmitting),Iq=lr(h2,n=>n.validationErrors);let Dq=(()=>{class n{constructor(e,i,r){this.store=e,this.service=i,this.firestore=r,this.initialValues={title:"",body:"",tags:[],date:0,slug:"",comments:[],isAnswered:!1,author:null,approved:!1},this.isSubmitting$={},this.backendErrors$={},this.currentUser$={},this.currentUser={}}ngOnInit(){this.isSubmitting$=this.store.pipe(qn(Sq)),this.backendErrors$=this.store.pipe(qn(Iq)),this.store.pipe(qn(hm)).subscribe(e=>{e&&(this.currentUser=e)})}onSubmit(e){e.slug=this.firestore.createId(),e.date=Date.now(),e.comments=[],e.author=this.currentUser,e.approved=!1,this.store.dispatch(PM({questionInput:e}))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Tr),a.Y36(FM),a.Y36(Zu))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-create-question"]],decls:3,vars:7,consts:[[3,"initialValues","isSubmitting","errors","questionSubmit"]],template:function(e,i){1&e&&(a.TgZ(0,"app-question-form",0),a.NdJ("questionSubmit",function(s){return i.onSubmit(s)}),a.ALo(1,"async"),a.ALo(2,"async"),a.qZA()),2&e&&a.Q6J("initialValues",i.initialValues)("isSubmitting",a.lcZ(1,3,i.isSubmitting$))("errors",a.lcZ(2,5,i.backendErrors$))},dependencies:[hL,ri]}),n})();const Tq=Z0({isSubmitting:!1,validationErrors:null},An(PM,n=>({...n,isSubmitting:!0})),An(NM,n=>({...n,isSubmitting:!1})),An(u2,n=>({...n,isSubmitting:!1})));function kq(n,t){return Tq(n,t)}const Aq=[{path:"questions/new",component:Dq}];let Mq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[FM],imports:[Zn,Fc.forChild(Aq),cL,By.forFeature([Cq]),vy.forFeature("createQuestion",kq),DR]}),n})();const Rq=[];let Oq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Fc.forRoot(Rq),Fc]}),n})();var jo=(()=>(function(n){n.REGISTRATION="[Auth] Registration",n.REGISTRATION_SUCCESS="[Auth] Registration success",n.REGISTRATION_FAILURE="[Auth] Registration failure",n.LOGIN="[Auth] Login",n.LOGIN_SUCCESS="[Auth] Login success",n.LOGIN_FAILURE="[Auth] Login failure",n.GET_CURRENT_USER="[Auth] Get current user",n.GET_CURRENT_USER_SUCCESS="[Auth] Get current user success",n.GET_CURRENT_USER_FAILURE="[Auth] Get current user failure",n.LOGOUT="[Auth] Logout",n.LOGOUT_SUCCESS="[Auth] Logout success",n.LOGOUT_FAILURE="[Auth] Logout failure"}(jo||(jo={})),jo))();const LM=en(jo.GET_CURRENT_USER),f2=en(jo.GET_CURRENT_USER_SUCCESS,{_as:"props",_p:void 0}),m2=en(jo.GET_CURRENT_USER_FAILURE),VM=en(jo.LOGOUT),Fq=(en(jo.LOGOUT_SUCCESS),en(jo.LOGOUT_FAILURE),function(){return["/register"]}),Pq=function(){return["/login"]};function Nq(n,t){1&n&&(a.TgZ(0,"div",11)(1,"li",5)(2,"a",12),a._uU(3," Sign Up "),a.qZA()(),a.TgZ(4,"li",5)(5,"a",12),a._uU(6," Sign In "),a.qZA()()()),2&n&&(a.xp6(2),a.Q6J("routerLink",a.DdM(2,Fq)),a.xp6(3),a.Q6J("routerLink",a.DdM(3,Pq)))}const JS=function(){return["/"]};function Lq(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"li",14),a.NdJ("click",function(){a.CHM(e);const r=a.oxw(2);return a.KtG(r.filterByNotApproved())}),a.TgZ(1,"a",12),a._uU(2," Not Approved Feed "),a.qZA()()}2&n&&(a.xp6(1),a.Q6J("routerLink",a.DdM(1,JS)))}const Vq=function(){return["/profile"]};function Bq(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",13)(1,"li",14),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.filterByAuthor(r.userProfile.name))}),a.TgZ(2,"a",12),a._uU(3," My Feed "),a.qZA()(),a.YNc(4,Lq,3,2,"li",15),a.ALo(5,"async"),a.TgZ(6,"button",16)(7,"p",17),a._uU(8),a.TgZ(9,"span"),a._uU(10),a.qZA()()(),a.TgZ(11,"mat-menu",null,18)(13,"button",19)(14,"span",20),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.logout())}),a._uU(15,"Logout"),a.qZA()(),a.TgZ(16,"button",19)(17,"span")(18,"a",12),a._uU(19," Profile "),a.qZA()()()()()}if(2&n){const e=a.MAs(12),i=a.oxw();let r;a.xp6(2),a.Q6J("routerLink",a.DdM(8,JS)),a.xp6(2),a.Q6J("ngIf",null==(r=a.lcZ(5,6,i.currentUser$))||null==r.user?null:r.user.isAdmin),a.xp6(2),a.Q6J("matMenuTriggerFor",e),a.xp6(2),a.hij(" User: ",i.userProfile.name," "),a.xp6(2),a.hij("(",i.userProfile.isAdmin?"Admin":"User",")"),a.xp6(8),a.Q6J("routerLink",a.DdM(9,Vq))}}const Uq=function(){return["/questions/new"]};let jq=(()=>{class n{constructor(e,i){this.store=e,this.settingsService=i,this.isLoggedIn$={},this.isAnonymous$={},this.currentUser$={},this.userProfileSubscription={},this.userProfile={}}ngOnInit(){this.isLoggedIn$=this.store.pipe(qn(RL)),this.isAnonymous$=this.store.pipe(qn(P4)),this.currentUser$=this.store.pipe(qn(hm)),this.initializeListeners()}initializeListeners(){this.userProfileSubscription=this.store.pipe(qn(hm)).subscribe(e=>{e&&(this.userProfile=e.user)})}logout(){this.store.dispatch(VM()),this.unsetFilters()}unsetFilters(){this.settingsService.setFilterByAuthor(""),this.settingsService.setFilterByNotApproved(!0)}filterByAuthor(e){this.settingsService.setFilterByAuthor(e),this.settingsService.setFilterByNotApproved(!0)}filterByNotApproved(){this.settingsService.setFilterByAuthor(""),this.settingsService.setFilterByNotApproved(!1)}ngOnDestroy(){this.userProfileSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Tr),a.Y36(ug))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-header"]],decls:16,vars:12,consts:[[1,"header"],[1,"header__nav"],[1,"header__container"],[1,"header__title-link","header__link",3,"routerLink","click"],[1,"header__list"],[1,"header__list-item"],[1,"header__link",3,"routerLink","click"],["class","header__link-container",4,"ngIf"],["style","display: flex",4,"ngIf"],[1,"header__button-container"],["mat-raised-button","",1,"header__button",3,"routerLink"],[1,"header__link-container"],[1,"header__link",3,"routerLink"],[2,"display","flex"],[1,"header__list-item",3,"click"],["class","header__list-item",3,"click",4,"ngIf"],["mat-button","",3,"matMenuTriggerFor"],[1,"header__current-user"],["menu","matMenu"],["mat-menu-item",""],[1,"header__link",3,"click"]],template:function(e,i){1&e&&(a.TgZ(0,"header",0)(1,"nav",1)(2,"div",2)(3,"a",3),a.NdJ("click",function(){return i.unsetFilters()}),a._uU(4," STACK OVER CLONE "),a.qZA(),a.TgZ(5,"ul",4)(6,"li",5)(7,"a",6),a.NdJ("click",function(){return i.unsetFilters()}),a._uU(8,"Home"),a.qZA()(),a.YNc(9,Nq,7,4,"div",7),a.ALo(10,"async"),a.YNc(11,Bq,20,10,"div",8),a.ALo(12,"async"),a.qZA(),a.TgZ(13,"div",9)(14,"a",10),a._uU(15," Add question "),a.qZA()()()()()),2&e&&(a.xp6(3),a.Q6J("routerLink",a.DdM(9,JS)),a.xp6(4),a.Q6J("routerLink",a.DdM(10,JS)),a.xp6(2),a.Q6J("ngIf",!a.lcZ(10,5,i.currentUser$)),a.xp6(2),a.Q6J("ngIf",a.lcZ(12,7,i.currentUser$)),a.xp6(3),a.Q6J("routerLink",a.DdM(11,Uq)))},dependencies:[Ei,id,HG,jy,gq,QS,bq,ri],styles:[".header[_ngcontent-%COMP%]{width:100%;height:80px;text-decoration:none}@media (max-width: 900px){.header[_ngcontent-%COMP%]{height:130px;margin-bottom:20px}}@media (max-width: 700px){.header[_ngcontent-%COMP%]{height:160px;margin-bottom:10px}}.header__link-container[_ngcontent-%COMP%]{display:flex}.header__nav[_ngcontent-%COMP%]{padding:20px 40px}.header__container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}@media (max-width: 700px){.header__container[_ngcontent-%COMP%]{flex-direction:column;align-items:center}}.header__list[_ngcontent-%COMP%]{padding:0;flex-direction:row}@media (max-width: 900px){.header__list[_ngcontent-%COMP%]{display:flex;flex-direction:row}}.header__title-link[_ngcontent-%COMP%]{align-self:center;cursor:pointer;font-size:24px;font-weight:700}.header__link[_ngcontent-%COMP%]{text-decoration:none;color:#45616b;transition:all .5s ease-out}.header__link[_ngcontent-%COMP%]:hover{color:#dfcdbf;opacity:.8;cursor:pointer}.header__list-item[_ngcontent-%COMP%]{margin:0 10px}.header__button-container[_ngcontent-%COMP%]{align-self:center}.header__list[_ngcontent-%COMP%]{display:flex;list-style:none}"]}),n})(),zq=(()=>{class n{constructor(e){this.document=e,this.theme=this.document.documentElement.classList.contains(n.DARK_THEME_CLASS)?n.DARK_THEME_DARK:n.DARK_THEME_LIGHT}selectDarkTheme(){this.document.documentElement.classList.add(n.DARK_THEME_CLASS),this.theme=n.DARK_THEME_DARK}selectLightTheme(){this.document.documentElement.classList.remove(n.DARK_THEME_CLASS),this.theme=n.DARK_THEME_LIGHT}}return n.DARK_THEME_CLASS="dark-theme",n.DARK_THEME_LIGHT="light",n.DARK_THEME_DARK="dark",n.\u0275fac=function(e){return new(e||n)(a.Y36(J))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-theme-switch"]],decls:5,vars:1,consts:[["name","theme","aria-label","Theme Selection",3,"value"],["value","light",3,"click"],["value","dark",3,"click"]],template:function(e,i){1&e&&(a.TgZ(0,"mat-button-toggle-group",0)(1,"mat-button-toggle",1),a.NdJ("click",function(){return i.selectLightTheme()}),a._uU(2,"Light"),a.qZA(),a.TgZ(3,"mat-button-toggle",2),a.NdJ("click",function(){return i.selectDarkTheme()}),a._uU(4,"Dark"),a.qZA()()),2&e&&a.Q6J("value",i.theme)},dependencies:[UF,jF],styles:[".mat-button-toggle{height:20px;margin:0}.mat-button-toggle-button,.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{line-height:0px}\n"],encapsulation:2}),n})();function Hq(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",2),a.NdJ("change",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s.onCheckboxChange(r))}),a.TgZ(1,"label"),a._UZ(2,"input",3),a._uU(3),a.qZA()()}if(2&n){const e=t.$implicit,i=a.oxw();a.xp6(2),a.Q6J("value",e)("checked",i.tagsSet.get(e)),a.xp6(1),a.hij(" ",e," ")}}let $q=(()=>{class n{constructor(e,i,r){this.fb=e,this.settingsService=i,this.settingsPanelService=r,this.form={},this.tags=Object.values(Aw),this.tagsSet=new Map,this.tagsArray=[]}ngOnInit(){this.initializeForm()}onCheckboxChange(e){this.tagsSet.set(e.target.value,!this.tagsSet.get(e.target.value)),this.settingsService.setFilterByTag(this.settingsPanelService.setMapToArray(this.tagsSet))}initializeForm(){this.form=this.fb.group({tags:[this.tags]})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(sw),a.Y36(ug),a.Y36(Lk))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-tags-form"]],decls:2,vars:1,consts:[[1,"tags-form__form-group"],[3,"change",4,"ngFor","ngForOf"],[3,"change"],["type","checkbox",3,"value","checked"]],template:function(e,i){1&e&&(a.TgZ(0,"fieldset",0),a.YNc(1,Hq,4,3,"div",1),a.qZA()),2&e&&(a.xp6(1),a.Q6J("ngForOf",i.tags))},dependencies:[Sn],styles:[".tags-form__form-group[_ngcontent-%COMP%]{display:flex;border:none;padding:5px 0}"]}),n})();function Gq(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",3)(1,"section",4)(2,"h3",5),a._uU(3,"Filters"),a.qZA(),a.TgZ(4,"span",6),a._uU(5,"By Answer"),a.qZA(),a.TgZ(6,"div",7)(7,"button",8),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.clickIsAnswered(null))}),a._uU(8,"All"),a.qZA(),a.TgZ(9,"button",8),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.clickIsAnswered(!0))}),a._uU(10," Answered questions "),a.qZA(),a.TgZ(11,"button",8),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.clickIsAnswered(!1))}),a._uU(12," Not answered questions "),a.qZA()(),a.TgZ(13,"span",6),a._uU(14,"By Tag"),a.qZA(),a.TgZ(15,"div",7),a._UZ(16,"app-tags-form"),a.qZA(),a.TgZ(17,"span",6),a._uU(18,"By Date"),a.qZA(),a.TgZ(19,"div",7)(20,"button",8),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.filterByDate("day"))}),a._uU(21," Last day "),a.qZA(),a.TgZ(22,"button",8),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.filterByDate("two-days"))}),a._uU(23," Two days "),a.qZA(),a.TgZ(24,"button",8),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.filterByDate("week"))}),a._uU(25,"Week"),a.qZA(),a.TgZ(26,"button",8),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.filterByDate("all-time"))}),a._uU(27," All time "),a.qZA()()(),a.TgZ(28,"section",9)(29,"h3",5),a._uU(30,"Sort"),a.qZA(),a.TgZ(31,"span",6),a._uU(32,"By Date"),a.qZA(),a.TgZ(33,"div",7)(34,"button",8),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.sortByDate("asc"))}),a._uU(35,"Asc"),a.qZA(),a.TgZ(36,"button",8),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.sortByDate("desc"))}),a._uU(37,"Desc"),a.qZA()()(),a.TgZ(38,"section",4)(39,"h3",5),a._uU(40,"Settings"),a.qZA(),a.TgZ(41,"span",6),a._uU(42,"Layout"),a.qZA(),a.TgZ(43,"div",7)(44,"button",8),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.setLayoutType("line"))}),a._uU(45,"Line"),a.qZA(),a.TgZ(46,"button",8),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.setLayoutType("tile"))}),a._uU(47,"Tile"),a.qZA()(),a.TgZ(48,"span",6),a._uU(49,"Theme"),a.qZA(),a.TgZ(50,"div",7),a._UZ(51,"app-theme-switch"),a.qZA()()()}}let qq=(()=>{class n{constructor(e,i,r){this.service=e,this.firestore=i,this.settingsService=r,this.initialValues={title:"",body:"",tags:[],date:0,slug:"",comments:[],isAnswered:!1,author:null,approved:!1},this.isTagsChanged$={},this.isSubmitting$={},this.backendErrors$={},this.isSettingsOpen=!1}ngOnInit(){}toggleResultsPanel(){this.isSettingsOpen=!this.isSettingsOpen}clickIsAnswered(e){this.settingsService.setAnswered(e)}filterByDate(e){this.settingsService.setFilterByDate(e)}filterByTag(e){this.settingsService.setFilterByTag(e)}sortByDate(e){this.settingsService.setSortByDate(e)}setLayoutType(e){this.settingsService.setLayoutType(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Lk),a.Y36(Zu),a.Y36(ug))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-setting-panel"]],decls:4,vars:1,consts:[[1,"settings-panel"],[1,"settings-panel__titles",3,"click"],["class","settings-panel__container",4,"ngIf"],[1,"settings-panel__container"],[1,"setting-panel__filters","setting-panel__section"],[1,"settings-panel__title"],[1,"setting-panel__span"],[1,"setting-panel__buttons"],["mat-stroked-button","",3,"click"],[1,"setting-panel__sort","setting-panel__section"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0)(1,"div",1),a.NdJ("click",function(){return i.toggleResultsPanel()}),a._uU(2," Filters / Sort / Settings "),a.qZA(),a.YNc(3,Gq,52,0,"div",2),a.qZA()),2&e&&(a.xp6(3),a.Q6J("ngIf",i.isSettingsOpen))},dependencies:[Ei,zq,$q],styles:[".settings-panel[_ngcontent-%COMP%]{background-color:#a4d0bb;padding:10px;color:#45616b;transition:all .5s ease-out}.settings-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.8;cursor:pointer}.settings-panel__container[_ngcontent-%COMP%]{display:flex;justify-content:space-around}@media (max-width: 700px){.settings-panel__container[_ngcontent-%COMP%]{flex-direction:column;padding-left:20px}}.settings-panel__titles[_ngcontent-%COMP%]{cursor:pointer;display:flex;justify-content:center;font-size:20px;font-weight:600;margin-bottom:5px}.settings-panel__titles[_ngcontent-%COMP%]:hover{opacity:.8}.settings-panel__title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:0}.settings-panel__buttons[_ngcontent-%COMP%]{margin-bottom:5px}"]}),n})(),Wq=(()=>{class n{constructor(e){this.store=e}ngOnInit(){this.store.dispatch(LM())}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Tr))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"main"]],template:function(e,i){1&e&&(a._UZ(0,"app-header")(1,"app-setting-panel"),a.TgZ(2,"main",0),a._UZ(3,"router-outlet"),a.qZA())},dependencies:[LA,jq,qq],styles:[".main[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;margin-top:5px}.base-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),n})();function p2(n){return new a.vHH(3e3,!1)}function k5(){return typeof window<"u"&&typeof window.document<"u"}function BM(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function mm(n){switch(n.length){case 0:return new Dw;case 1:return n[0];default:return new ON(n)}}function g2(n,t,e,i,r=new Map,s=new Map){const d=[],f=[];let _=-1,b=null;if(i.forEach(E=>{const k=E.get("offset"),V=k==_,L=V&&b||new Map;E.forEach((U,Y)=>{let he=Y,Ue=U;if("offset"!==Y)switch(he=t.normalizePropertyName(he,d),Ue){case cM:Ue=r.get(Y);break;case eh:Ue=s.get(Y);break;default:Ue=t.normalizeStyleValue(Y,he,Ue,d)}L.set(he,Ue)}),V||f.push(L),b=L,_=k}),d.length)throw function _5(n){return new a.vHH(3502,!1)}();return f}function UM(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&jM(e,"start",n)));break;case"done":n.onDone(()=>i(e&&jM(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&jM(e,"destroy",n)))}}function jM(n,t,e){const s=zM(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),d=n._data;return null!=d&&(s._data=d),s}function zM(n,t,e,i,r="",s=0,d){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!d}}function Gs(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function _2(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let HM=(n,t)=>!1,y2=(n,t,e)=>[],v2=null;function $M(n){const t=n.parentNode||n.host;return t===v2?null:t}(BM()||typeof Element<"u")&&(k5()?(v2=(()=>document.documentElement)(),HM=(n,t)=>{for(;t;){if(t===n)return!0;t=$M(t)}return!1}):HM=(n,t)=>n.contains(t),y2=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let hg=null,b2=!1;const w2=HM,x2=y2;let E2=(()=>{class n{validateStyleProperty(e){return function M5(n){hg||(hg=function R5(){return typeof document<"u"?document.body:null}()||{},b2=!!hg.style&&"WebkitAppearance"in hg.style);let t=!0;return hg.style&&!function A5(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in hg.style,!t&&b2&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in hg.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return w2(e,i)}getParentElement(e){return $M(e)}query(e,i,r){return x2(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,d,f=[],_){return new Dw(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),GM=(()=>{class n{}return n.NOOP=new E2,n})();const O5=1e3,qM="ng-enter",eI="ng-leave",tI="ng-trigger",nI=".ng-trigger",S2="ng-animating",WM=".ng-animating";function ih(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:ZM(parseFloat(t[1]),t[2])}function ZM(n,t){return"s"===t?n*O5:n}function iI(n,t,e){return n.hasOwnProperty("duration")?n:function P5(n,t,e){let r,s=0,d="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return t.push(p2()),{duration:0,delay:0,easing:""};r=ZM(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(s=ZM(parseFloat(_),f[4]));const b=f[5];b&&(d=b)}else r=n;if(!e){let f=!1,_=t.length;r<0&&(t.push(function Zq(){return new a.vHH(3100,!1)}()),f=!0),s<0&&(t.push(function Kq(){return new a.vHH(3101,!1)}()),f=!0),f&&t.splice(_,0,p2())}return{duration:r,delay:s,easing:d}}(n,t,e)}function Lw(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function I2(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function pm(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function T2(n,t,e){return e?t+":"+e+";":""}function k2(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=T2(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=T2(0,B5(e),n.style[e]));n.setAttribute("style",t)}function rd(n,t,e){n.style&&(t.forEach((i,r)=>{const s=YM(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i}),BM()&&k2(n))}function fg(n,t){n.style&&(t.forEach((e,i)=>{const r=YM(i);n.style[r]=""}),BM()&&k2(n))}function Vw(n){return Array.isArray(n)?1==n.length?n[0]:MN(n):n}const KM=new RegExp("{{\\s*(.+?)\\s*}}","g");function A2(n){let t=[];if("string"==typeof n){let e;for(;e=KM.exec(n);)t.push(e[1]);KM.lastIndex=0}return t}function Bw(n,t,e){const i=n.toString(),r=i.replace(KM,(s,d)=>{let f=t[d];return null==f&&(e.push(function Qq(n){return new a.vHH(3003,!1)}()),f=""),f.toString()});return r==i?n:r}function rI(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const V5=/-+([a-z0-9])/g;function YM(n){return n.replace(V5,(...t)=>t[1].toUpperCase())}function B5(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function qs(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function Xq(n){return new a.vHH(3004,!1)}()}}function M2(n,t){return window.getComputedStyle(n)[t]}const aI="*";function G5(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function q5(n,t,e){if(":"==n[0]){const _=function W5(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function f5(n){return new a.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof _)return void t.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function h5(n){return new a.vHH(3015,!1)}()),t;const r=i[1],s=i[2],d=i[3];t.push(R2(r,d));"<"==s[0]&&!(r==aI&&d==aI)&&t.push(R2(d,r))}(i,e,t)):e.push(n),e}const cI=new Set(["true","1"]),lI=new Set(["false","0"]);function R2(n,t){const e=cI.has(n)||lI.has(n),i=cI.has(t)||lI.has(t);return(r,s)=>{let d=n==aI||n==r,f=t==aI||t==s;return!d&&e&&"boolean"==typeof r&&(d=r?cI.has(n):lI.has(n)),!f&&i&&"boolean"==typeof s&&(f=s?cI.has(t):lI.has(t)),d&&f}}const Z5=new RegExp("s*:selfs*,?","g");function QM(n,t,e,i){return new K5(n).build(t,e,i)}class K5{constructor(t){this._driver=t}build(t,e,i){const r=new X5(e);return this._resetContextStyleTimingState(r),qs(this,Vw(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],d=[];return"@"==t.name.charAt(0)&&e.errors.push(function e5(){return new a.vHH(3006,!1)}()),t.definitions.forEach(f=>{if(this._resetContextStyleTimingState(e),0==f.type){const _=f,b=_.name;b.toString().split(/\s*,\s*/).forEach(E=>{_.name=E,s.push(this.visitState(_,e))}),_.name=b}else if(1==f.type){const _=this.visitTransition(f,e);i+=_.queryCount,r+=_.depCount,d.push(_)}else e.errors.push(function t5(){return new a.vHH(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:d,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,d=r||{};i.styles.forEach(f=>{f instanceof Map&&f.forEach(_=>{A2(_).forEach(b=>{d.hasOwnProperty(b)||s.add(b)})})}),s.size&&(rI(s.values()),e.errors.push(function n5(n,t){return new a.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=qs(this,Vw(t.animation),e);return{type:1,matchers:G5(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:mg(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>qs(this,i,e)),options:mg(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(d=>{e.currentTime=i;const f=qs(this,d,e);return r=Math.max(r,e.currentTime),f});return e.currentTime=r,{type:3,steps:s,options:mg(t.options)}}visitAnimate(t,e){const i=function eW(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return XM(iI(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=XM(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=iI(e,t);return XM(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:Ra({});if(5==s.type)r=this.visitKeyframes(s,e);else{let d=t.styles,f=!1;if(!d){f=!0;const b={};i.easing&&(b.easing=i.easing),d=Ra(b)}e.currentTime+=i.duration+i.delay;const _=this.visitStyle(d,e);_.isEmptyStep=f,r=_}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let f of r)"string"==typeof f?f===eh?i.push(f):e.errors.push(new a.vHH(3002,!1)):i.push(I2(f));let s=!1,d=null;return i.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(d=f.get("easing"),f.delete("easing")),!s))for(let _ of f.values())if(_.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:d,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(d=>{"string"!=typeof d&&d.forEach((f,_)=>{const b=e.collectedStyles.get(e.currentQuerySelector),E=b.get(_);let k=!0;E&&(s!=r&&s>=E.startTime&&r<=E.endTime&&(e.errors.push(function o5(n,t,e,i,r){return new a.vHH(3010,!1)}()),k=!1),s=E.startTime),k&&b.set(_,{startTime:s,endTime:r}),e.options&&function L5(n,t,e){const i=t.params||{},r=A2(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function Yq(n){return new a.vHH(3001,!1)}())})}(f,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function s5(){return new a.vHH(3011,!1)}()),i;let s=0;const d=[];let f=!1,_=!1,b=0;const E=t.steps.map(Ue=>{const ft=this._makeStyleAst(Ue,e);let pt=null!=ft.offset?ft.offset:function J5(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(ft.styles),_t=0;return null!=pt&&(s++,_t=ft.offset=pt),_=_||_t<0||_t>1,f=f||_t<b,b=_t,d.push(_t),ft});_&&e.errors.push(function a5(){return new a.vHH(3012,!1)}()),f&&e.errors.push(function c5(){return new a.vHH(3200,!1)}());const k=t.steps.length;let V=0;s>0&&s<k?e.errors.push(function l5(){return new a.vHH(3202,!1)}()):0==s&&(V=1/(k-1));const L=k-1,U=e.currentTime,Y=e.currentAnimateTimings,he=Y.duration;return E.forEach((Ue,ft)=>{const pt=V>0?ft==L?1:V*ft:d[ft],_t=pt*he;e.currentTime=U+Y.delay+_t,Y.duration=_t,this._validateStyleAst(Ue,e),Ue.offset=pt,i.styles.push(Ue)}),i}visitReference(t,e){return{type:8,animation:qs(this,Vw(t.animation),e),options:mg(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:mg(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:mg(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,d]=function Y5(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(Z5,"")),n=n.replace(/@\*/g,nI).replace(/@\w+/g,e=>nI+"-"+e.slice(1)).replace(/:animating/g,WM),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Gs(e.collectedStyles,e.currentQuerySelector,new Map);const f=qs(this,Vw(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:d,animation:f,originalSelector:t.selector,options:mg(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function d5(){return new a.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:iI(t.timings,e.errors,!0);return{type:12,animation:qs(this,Vw(t.animation),e),timings:i,options:null}}}class X5{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function mg(n){return n?(n=Lw(n)).params&&(n.params=function Q5(n){return n?Lw(n):null}(n.params)):n={},n}function XM(n,t,e){return{duration:n,delay:t,easing:e}}function JM(n,t,e,i,r,s,d=null,f=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:d,subTimeline:f}}class dI{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const iW=new RegExp(":enter","g"),oW=new RegExp(":leave","g");function e1(n,t,e,i,r,s=new Map,d=new Map,f,_,b=[]){return(new sW).buildKeyframes(n,t,e,i,r,s,d,f,_,b)}class sW{buildKeyframes(t,e,i,r,s,d,f,_,b,E=[]){b=b||new dI;const k=new t1(t,e,b,r,s,E,[]);k.options=_;const V=_.delay?ih(_.delay):0;k.currentTimeline.delayNextStep(V),k.currentTimeline.setStyles([d],null,k.errors,_),qs(this,i,k);const L=k.timelines.filter(U=>U.containsAnimation());if(L.length&&f.size){let U;for(let Y=L.length-1;Y>=0;Y--){const he=L[Y];if(he.element===e){U=he;break}}U&&!U.allowOnlyTimelineStyles()&&U.setStyles([f],null,k.errors,_)}return L.length?L.map(U=>U.buildKeyframes()):[JM(e,[],[],[],0,V,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,d=this._visitSubInstructions(i,r,r.options);s!=d&&e.transformIntoNewTimeline(d)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const s=r?.delay;if(s){const d="number"==typeof s?s:ih(Bw(s,r?.params??{},e.errors));i.delayNextStep(d)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const d=null!=i.duration?ih(i.duration):null,f=null!=i.delay?ih(i.delay):null;return 0!==d&&t.forEach(_=>{const b=e.appendInstructionToTimeline(_,d,f);s=Math.max(s,b.duration+b.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),qs(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=uI);const d=ih(s.delay);r.delayNextStep(d)}t.steps.length&&(t.steps.forEach(d=>qs(this,d,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?ih(t.options.delay):0;t.steps.forEach(d=>{const f=e.createSubContext(t.options);s&&f.delayNextStep(s),qs(this,d,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(d=>e.currentTimeline.mergeTimelineCollectedStyles(d)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return iI(e.params?Bw(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,f=e.createSubContext().currentTimeline;f.easing=i.easing,t.styles.forEach(_=>{f.forwardTime((_.offset||0)*s),f.setStyles(_.styles,_.easing,e.errors,e.options),f.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(f),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?ih(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=uI);let d=i;const f=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=f.length;let _=null;f.forEach((b,E)=>{e.currentQueryIndex=E;const k=e.createSubContext(t.options,b);s&&k.delayNextStep(s),b===e.element&&(_=k.currentTimeline),qs(this,t.animation,k),k.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,k.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(d),_&&(e.currentTimeline.mergeTimelineCollectedStyles(_),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,d=Math.abs(s.duration),f=d*(e.currentQueryTotal-1);let _=d*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":_=f-_;break;case"full":_=i.currentStaggerTime}const E=e.currentTimeline;_&&E.delayNextStep(_);const k=E.currentTime;qs(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-k+(r.startTime-i.currentTimeline.startTime)}}const uI={};class t1{constructor(t,e,i,r,s,d,f,_){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=d,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=uI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new hI(this._driver,e,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=ih(i.duration)),null!=i.delay&&(r.delay=ih(i.delay));const s=i.params;if(s){let d=r.params;d||(d=this.options.params={}),Object.keys(s).forEach(f=>{(!e||!d.hasOwnProperty(f))&&(d[f]=Bw(s[f],d,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new t1(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=uI,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new aW(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,d){let f=[];if(r&&f.push(this.element),t.length>0){t=(t=t.replace(iW,"."+this._enterClassName)).replace(oW,"."+this._leaveClassName);let b=this._driver.query(this.element,t,1!=i);0!==i&&(b=i<0?b.slice(b.length+i,b.length):b.slice(0,i)),f.push(...b)}return!s&&0==f.length&&d.push(function u5(n){return new a.vHH(3014,!1)}()),f}}class hI{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new hI(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||eh),this._currentKeyframe.set(e,eh);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},d=function cW(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,eh)}else pm(r,e)}),e}(t,this._globalTimelineStyles);for(let[f,_]of d){const b=Bw(_,s,i);this._pendingStyles.set(f,b),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??eh),this._updateStyle(f,b)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,_)=>{const b=pm(f,new Map,this._backFill);b.forEach((E,k)=>{E===cM?t.add(k):E===eh&&e.add(k)}),i||b.set("offset",_/this.duration),r.push(b)});const s=t.size?rI(t.values()):[],d=e.size?rI(e.values()):[];if(i){const f=r[0],_=new Map(f);f.set("offset",0),_.set("offset",1),r=[f,_]}return JM(this.element,r,s,d,this.duration,this.startTime,this.easing,!1)}}class aW extends hI{constructor(t,e,i,r,s,d,f=!1){super(t,e,d.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=f,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],d=i+e,f=e/d,_=pm(t[0]);_.set("offset",0),s.push(_);const b=pm(t[0]);b.set("offset",P2(f)),s.push(b);const E=t.length-1;for(let k=1;k<=E;k++){let V=pm(t[k]);const L=V.get("offset");V.set("offset",P2((e+L*i)/d)),s.push(V)}i=d,e=0,r="",t=s}return JM(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function P2(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class n1{}const lW=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class dW extends n1{normalizePropertyName(t,e){return YM(t)}normalizeStyleValue(t,e,i,r){let s="";const d=i.toString().trim();if(lW.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function Jq(n,t){return new a.vHH(3005,!1)}())}return d+s}}function N2(n,t,e,i,r,s,d,f,_,b,E,k,V){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:d,timelines:f,queriedElements:_,preStyleProps:b,postStyleProps:E,totalTime:k,errors:V}}const r1={};class L2{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function uW(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,d,f,_,b,E){const k=[],V=this.ast.options&&this.ast.options.params||r1,U=this.buildStyles(i,f&&f.params||r1,k),Y=_&&_.params||r1,he=this.buildStyles(r,Y,k),Ue=new Set,ft=new Map,pt=new Map,_t="void"===r,Mt={params:hW(Y,V),delay:this.ast.options?.delay},Nt=E?[]:e1(t,e,this.ast.animation,s,d,U,he,Mt,b,k);let _n=0;if(Nt.forEach(rh=>{_n=Math.max(rh.duration+rh.delay,_n)}),k.length)return N2(e,this._triggerName,i,r,_t,U,he,[],[],ft,pt,_n,k);Nt.forEach(rh=>{const oh=rh.element,sV=Gs(ft,oh,new Set);rh.preStyleProps.forEach(pg=>sV.add(pg));const jw=Gs(pt,oh,new Set);rh.postStyleProps.forEach(pg=>jw.add(pg)),oh!==e&&Ue.add(oh)});const Lr=rI(Ue.values());return N2(e,this._triggerName,i,r,_t,U,he,Nt,Lr,ft,pt,_n)}}function hW(n,t){const e=Lw(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class fW{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=Lw(this.defaultParams);return Object.keys(t).forEach(s=>{const d=t[s];null!==d&&(r[s]=d)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((d,f)=>{d&&(d=Bw(d,r,e));const _=this.normalizer.normalizePropertyName(f,e);d=this.normalizer.normalizeStyleValue(f,_,d,e),i.set(f,d)})}),i}}class pW{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new fW(r.style,r.options&&r.options.params||{},i))}),V2(this.states,"true","1"),V2(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new L2(t,r,this.states))}),this.fallbackTransition=function gW(n,t,e){return new L2(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,f)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(d=>d.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function V2(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const _W=new dI;class yW{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],r=[],s=QM(this._driver,e,i,r);if(i.length)throw function y5(n){return new a.vHH(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=g2(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let d;const f=new Map;if(s?(d=e1(this._driver,e,s,qM,eI,new Map,new Map,i,_W,r),d.forEach(E=>{const k=Gs(f,E.element,new Map);E.postStyleProps.forEach(V=>k.set(V,null))})):(r.push(function v5(){return new a.vHH(3300,!1)}()),d=[]),r.length)throw function b5(n){return new a.vHH(3504,!1)}();f.forEach((E,k)=>{E.forEach((V,L)=>{E.set(L,this._driver.computeStyle(k,L,eh))})});const b=mm(d.map(E=>{const k=f.get(E.element);return this._buildPlayer(E,new Map,k)}));return this._playersById.set(t,b),b.onDestroy(()=>this.destroy(t)),this.players.push(b),b}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function w5(n){return new a.vHH(3301,!1)}();return e}listen(t,e,i,r){const s=zM(e,"","","");return UM(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const B2="ng-animate-queued",o1="ng-animate-disabled",EW=[],U2={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},CW={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Fa="__ng_removed";class s1{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function TW(n){return n??null}(i?t.value:t),i){const s=Lw(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Uw="void",a1=new s1(Uw);class SW{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Pa(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function x5(n,t){return new a.vHH(3302,!1)}();if(null==i||0==i.length)throw function E5(n){return new a.vHH(3303,!1)}();if(!function kW(n){return"start"==n||"done"==n}(i))throw function C5(n,t){return new a.vHH(3400,!1)}();const s=Gs(this._elementListeners,t,[]),d={name:e,phase:i,callback:r};s.push(d);const f=Gs(this._engine.statesByElement,t,new Map);return f.has(e)||(Pa(t,tI),Pa(t,tI+"-"+e),f.set(e,a1)),()=>{this._engine.afterFlush(()=>{const _=s.indexOf(d);_>=0&&s.splice(_,1),this._triggers.has(e)||f.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function S5(n){return new a.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),d=new c1(this.id,e,t);let f=this._engine.statesByElement.get(t);f||(Pa(t,tI),Pa(t,tI+"-"+e),this._engine.statesByElement.set(t,f=new Map));let _=f.get(e);const b=new s1(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&b.absorbOptions(_.options),f.set(e,b),_||(_=a1),b.value!==Uw&&_.value===b.value){if(!function RW(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(_.params,b.params)){const Y=[],he=s.matchStyles(_.value,_.params,Y),Ue=s.matchStyles(b.value,b.params,Y);Y.length?this._engine.reportError(Y):this._engine.afterFlush(()=>{fg(t,he),rd(t,Ue)})}return}const V=Gs(this._engine.playersByElement,t,[]);V.forEach(Y=>{Y.namespaceId==this.id&&Y.triggerName==e&&Y.queued&&Y.destroy()});let L=s.matchTransition(_.value,b.value,t,b.params),U=!1;if(!L){if(!r)return;L=s.fallbackTransition,U=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:L,fromState:_,toState:b,player:d,isFallbackTransition:U}),U||(Pa(t,B2),d.onStart(()=>{Gy(t,B2)})),d.onDone(()=>{let Y=this.players.indexOf(d);Y>=0&&this.players.splice(Y,1);const he=this._engine.playersByElement.get(t);if(he){let Ue=he.indexOf(d);Ue>=0&&he.splice(Ue,1)}}),this.players.push(d),V.push(d),d}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,nI,!0);i.forEach(r=>{if(r[Fa])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(d=>d.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),d=new Map;if(s){const f=[];if(s.forEach((_,b)=>{if(d.set(b,_.value),this._triggers.has(b)){const E=this.trigger(t,b,Uw,r);E&&f.push(E)}}),f.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,d),i&&mm(f).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const d=s.name;if(r.has(d))return;r.add(d);const _=this._triggers.get(d).fallbackTransition,b=i.get(d)||a1,E=new s1(Uw),k=new c1(this.id,d,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:d,transition:_,fromState:b,toState:E,player:k,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let d=t;for(;d=d.parentNode;)if(i.statesByElement.get(d)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[Fa];(!s||s===U2)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Pa(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,d=this._elementListeners.get(s);d&&d.forEach(f=>{if(f.name==i.triggerName){const _=zM(s,i.triggerName,i.fromState.value,i.toState.value);_._data=t,UM(i.player,f.phase,_,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,d=r.transition.ast.depCount;return 0==s||0==d?s-d:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class IW{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new SW(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let d=!1,f=this.driver.getParentElement(e);for(;f;){const _=r.get(f);if(_){const b=i.indexOf(_);i.splice(b+1,0,t),d=!0;break}f=this.driver.getParentElement(f)}d||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(fI(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!fI(e))return;const s=e[Fa];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const d=this.collectedLeaveElements.indexOf(e);d>=0&&this.collectedLeaveElements.splice(d,1)}if(t){const d=this._fetchNamespace(t);d&&d.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Pa(t,o1)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Gy(t,o1))}removeNode(t,e,i,r){if(fI(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const d=this.namespacesByHostElement.get(e);d&&d.id!==t&&d.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[Fa]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return fI(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,nI,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,WM,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return mm(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Fa];if(e&&e.setForRemoval){if(t[Fa]=U2,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(o1)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Pa(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?mm(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function I5(n){return new a.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new dI,r=[],s=new Map,d=[],f=new Map,_=new Map,b=new Map,E=new Set;this.disabledNodes.forEach(wt=>{E.add(wt);const Ot=this.driver.query(wt,".ng-animate-queued",!0);for(let Gt=0;Gt<Ot.length;Gt++)E.add(Ot[Gt])});const k=this.bodyNode,V=Array.from(this.statesByElement.keys()),L=H2(V,this.collectedEnterElements),U=new Map;let Y=0;L.forEach((wt,Ot)=>{const Gt=qM+Y++;U.set(Ot,Gt),wt.forEach(bn=>Pa(bn,Gt))});const he=[],Ue=new Set,ft=new Set;for(let wt=0;wt<this.collectedLeaveElements.length;wt++){const Ot=this.collectedLeaveElements[wt],Gt=Ot[Fa];Gt&&Gt.setForRemoval&&(he.push(Ot),Ue.add(Ot),Gt.hasAnimation?this.driver.query(Ot,".ng-star-inserted",!0).forEach(bn=>Ue.add(bn)):ft.add(Ot))}const pt=new Map,_t=H2(V,Array.from(Ue));_t.forEach((wt,Ot)=>{const Gt=eI+Y++;pt.set(Ot,Gt),wt.forEach(bn=>Pa(bn,Gt))}),t.push(()=>{L.forEach((wt,Ot)=>{const Gt=U.get(Ot);wt.forEach(bn=>Gy(bn,Gt))}),_t.forEach((wt,Ot)=>{const Gt=pt.get(Ot);wt.forEach(bn=>Gy(bn,Gt))}),he.forEach(wt=>{this.processLeaveNode(wt)})});const Mt=[],Nt=[];for(let wt=this._namespaceList.length-1;wt>=0;wt--)this._namespaceList[wt].drainQueuedTransitions(e).forEach(Gt=>{const bn=Gt.player,Vr=Gt.element;if(Mt.push(bn),this.collectedEnterElements.length){const yo=Vr[Fa];if(yo&&yo.setForMove){if(yo.previousTriggersValues&&yo.previousTriggersValues.has(Gt.triggerName)){const gg=yo.previousTriggersValues.get(Gt.triggerName),Na=this.statesByElement.get(Gt.element);if(Na&&Na.has(Gt.triggerName)){const _I=Na.get(Gt.triggerName);_I.value=gg,Na.set(Gt.triggerName,_I)}}return void bn.destroy()}}const od=!k||!this.driver.containsElement(k,Vr),Ws=pt.get(Vr),gm=U.get(Vr),Mi=this._buildInstruction(Gt,i,gm,Ws,od);if(Mi.errors&&Mi.errors.length)return void Nt.push(Mi);if(od)return bn.onStart(()=>fg(Vr,Mi.fromStyles)),bn.onDestroy(()=>rd(Vr,Mi.toStyles)),void r.push(bn);if(Gt.isFallbackTransition)return bn.onStart(()=>fg(Vr,Mi.fromStyles)),bn.onDestroy(()=>rd(Vr,Mi.toStyles)),void r.push(bn);const lV=[];Mi.timelines.forEach(yo=>{yo.stretchStartingKeyframe=!0,this.disabledNodes.has(yo.element)||lV.push(yo)}),Mi.timelines=lV,i.append(Vr,Mi.timelines),d.push({instruction:Mi,player:bn,element:Vr}),Mi.queriedElements.forEach(yo=>Gs(f,yo,[]).push(bn)),Mi.preStyleProps.forEach((yo,gg)=>{if(yo.size){let Na=_.get(gg);Na||_.set(gg,Na=new Set),yo.forEach((_I,g1)=>Na.add(g1))}}),Mi.postStyleProps.forEach((yo,gg)=>{let Na=b.get(gg);Na||b.set(gg,Na=new Set),yo.forEach((_I,g1)=>Na.add(g1))})});if(Nt.length){const wt=[];Nt.forEach(Ot=>{wt.push(function D5(n,t){return new a.vHH(3505,!1)}())}),Mt.forEach(Ot=>Ot.destroy()),this.reportError(wt)}const _n=new Map,Lr=new Map;d.forEach(wt=>{const Ot=wt.element;i.has(Ot)&&(Lr.set(Ot,Ot),this._beforeAnimationBuild(wt.player.namespaceId,wt.instruction,_n))}),r.forEach(wt=>{const Ot=wt.element;this._getPreviousPlayers(Ot,!1,wt.namespaceId,wt.triggerName,null).forEach(bn=>{Gs(_n,Ot,[]).push(bn),bn.destroy()})});const rh=he.filter(wt=>G2(wt,_,b)),oh=new Map;z2(oh,this.driver,ft,b,eh).forEach(wt=>{G2(wt,_,b)&&rh.push(wt)});const jw=new Map;L.forEach((wt,Ot)=>{z2(jw,this.driver,new Set(wt),_,cM)}),rh.forEach(wt=>{const Ot=oh.get(wt),Gt=jw.get(wt);oh.set(wt,new Map([...Array.from(Ot?.entries()??[]),...Array.from(Gt?.entries()??[])]))});const pg=[],aV=[],cV={};d.forEach(wt=>{const{element:Ot,player:Gt,instruction:bn}=wt;if(i.has(Ot)){if(E.has(Ot))return Gt.onDestroy(()=>rd(Ot,bn.toStyles)),Gt.disabled=!0,Gt.overrideTotalTime(bn.totalTime),void r.push(Gt);let Vr=cV;if(Lr.size>1){let Ws=Ot;const gm=[];for(;Ws=Ws.parentNode;){const Mi=Lr.get(Ws);if(Mi){Vr=Mi;break}gm.push(Ws)}gm.forEach(Mi=>Lr.set(Mi,Vr))}const od=this._buildAnimation(Gt.namespaceId,bn,_n,s,jw,oh);if(Gt.setRealPlayer(od),Vr===cV)pg.push(Gt);else{const Ws=this.playersByElement.get(Vr);Ws&&Ws.length&&(Gt.parentPlayer=mm(Ws)),r.push(Gt)}}else fg(Ot,bn.fromStyles),Gt.onDestroy(()=>rd(Ot,bn.toStyles)),aV.push(Gt),E.has(Ot)&&r.push(Gt)}),aV.forEach(wt=>{const Ot=s.get(wt.element);if(Ot&&Ot.length){const Gt=mm(Ot);wt.setRealPlayer(Gt)}}),r.forEach(wt=>{wt.parentPlayer?wt.syncPlayerEvents(wt.parentPlayer):wt.destroy()});for(let wt=0;wt<he.length;wt++){const Ot=he[wt],Gt=Ot[Fa];if(Gy(Ot,eI),Gt&&Gt.hasAnimation)continue;let bn=[];if(f.size){let od=f.get(Ot);od&&od.length&&bn.push(...od);let Ws=this.driver.query(Ot,WM,!0);for(let gm=0;gm<Ws.length;gm++){let Mi=f.get(Ws[gm]);Mi&&Mi.length&&bn.push(...Mi)}}const Vr=bn.filter(od=>!od.destroyed);Vr.length?AW(this,Ot,Vr):this.processLeaveNode(Ot)}return he.length=0,pg.forEach(wt=>{this.players.push(wt),wt.onDone(()=>{wt.destroy();const Ot=this.players.indexOf(wt);this.players.splice(Ot,1)}),wt.play()}),pg}elementContainsData(t,e){let i=!1;const r=e[Fa];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let d=[];if(e){const f=this.playersByQueriedElement.get(t);f&&(d=f)}else{const f=this.playersByElement.get(t);if(f){const _=!s||s==Uw;f.forEach(b=>{b.queued||!_&&b.triggerName!=r||d.push(b)})}}return(i||r)&&(d=d.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),d}_beforeAnimationBuild(t,e,i){const s=e.element,d=e.isRemovalTransition?void 0:t,f=e.isRemovalTransition?void 0:e.triggerName;for(const _ of e.timelines){const b=_.element,E=b!==s,k=Gs(i,b,[]);this._getPreviousPlayers(b,E,d,f,e.toState).forEach(L=>{const U=L.getRealPlayer();U.beforeDestroy&&U.beforeDestroy(),L.destroy(),k.push(L)})}fg(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,d){const f=e.triggerName,_=e.element,b=[],E=new Set,k=new Set,V=e.timelines.map(U=>{const Y=U.element;E.add(Y);const he=Y[Fa];if(he&&he.removedBeforeQueried)return new Dw(U.duration,U.delay);const Ue=Y!==_,ft=function MW(n){const t=[];return $2(n,t),t}((i.get(Y)||EW).map(_n=>_n.getRealPlayer())).filter(_n=>!!_n.element&&_n.element===Y),pt=s.get(Y),_t=d.get(Y),Mt=g2(0,this._normalizer,0,U.keyframes,pt,_t),Nt=this._buildPlayer(U,Mt,ft);if(U.subTimeline&&r&&k.add(Y),Ue){const _n=new c1(t,f,Y);_n.setRealPlayer(Nt),b.push(_n)}return Nt});b.forEach(U=>{Gs(this.playersByQueriedElement,U.element,[]).push(U),U.onDone(()=>function DW(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,U.element,U))}),E.forEach(U=>Pa(U,S2));const L=mm(V);return L.onDestroy(()=>{E.forEach(U=>Gy(U,S2)),rd(_,e.toStyles)}),k.forEach(U=>{Gs(r,U,[]).push(L)}),L}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Dw(t.duration,t.delay)}}class c1{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Dw,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>UM(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Gs(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function fI(n){return n&&1===n.nodeType}function j2(n,t){const e=n.style.display;return n.style.display=t??"none",e}function z2(n,t,e,i,r){const s=[];e.forEach(_=>s.push(j2(_)));const d=[];i.forEach((_,b)=>{const E=new Map;_.forEach(k=>{const V=t.computeStyle(b,k,r);E.set(k,V),(!V||0==V.length)&&(b[Fa]=CW,d.push(b))}),n.set(b,E)});let f=0;return e.forEach(_=>j2(_,s[f++])),d}function H2(n,t){const e=new Map;if(n.forEach(f=>e.set(f,[])),0==t.length)return e;const i=1,r=new Set(t),s=new Map;function d(f){if(!f)return i;let _=s.get(f);if(_)return _;const b=f.parentNode;return _=e.has(b)?b:r.has(b)?i:d(b),s.set(f,_),_}return t.forEach(f=>{const _=d(f);_!==i&&e.get(_).push(f)}),e}function Pa(n,t){n.classList?.add(t)}function Gy(n,t){n.classList?.remove(t)}function AW(n,t,e){mm(e).onDone(()=>n.processLeaveNode(t))}function $2(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof ON?$2(i.players,t):t.push(i)}}function G2(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class mI{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new IW(t,e,i),this._timelineEngine=new yW(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const d=t+"-"+r;let f=this._triggerCache[d];if(!f){const _=[],b=[],E=QM(this._driver,s,_,b);if(_.length)throw function g5(n,t){return new a.vHH(3404,!1)}();f=function mW(n,t,e){return new pW(n,t,e)}(r,E,this._normalizer),this._triggerCache[d]=f}this._transitionEngine.registerTrigger(e,r,f)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,d]=_2(i);this._timelineEngine.command(s,e,d,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[d,f]=_2(i);return this._timelineEngine.listen(d,e,f,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let FW=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&rd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(rd(this._element,this._initialStyles),this._endStyles&&(rd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(fg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(fg(this._element,this._endStyles),this._endStyles=null),rd(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function l1(n){let t=null;return n.forEach((e,i)=>{(function PW(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class q2{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:M2(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class NW{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return w2(t,e)}getParentElement(t){return $M(t)}query(t,e,i){return x2(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,d=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(_.easing=s);const b=new Map,E=d.filter(L=>L instanceof q2);(function U5(n,t){return 0===n||0===t})(i,r)&&E.forEach(L=>{L.currentSnapshot.forEach((U,Y)=>b.set(Y,U))});let k=function N5(n){return n.length?n[0]instanceof Map?n:n.map(t=>I2(t)):[]}(e).map(L=>pm(L));k=function j5(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,d)=>{i.has(d)||r.push(d),i.set(d,s)}),r.length)for(let s=1;s<t.length;s++){let d=t[s];r.forEach(f=>d.set(f,M2(n,f)))}}return t}(t,k,b);const V=function OW(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=l1(t[0]),t.length>1&&(i=l1(t[t.length-1]))):t instanceof Map&&(e=l1(t)),e||i?new FW(n,e,i):null}(t,k);return new q2(t,k,_,V)}}let LW=(()=>{class n extends AN{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?MN(e):e;return W2(this._renderer,null,i,"register",[r]),new VW(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.FYo),a.LFG(J))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class VW extends d6{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new BW(this._id,t,e||{},this._renderer)}}class BW{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return W2(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function W2(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const Z2="@.disabled";let UW=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,d)=>{const f=d?.parentNode(s);f&&d.removeChild(f,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let E=this._rendererCache.get(s);return E||(E=new K2("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,E)),E}const d=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,e);const _=E=>{Array.isArray(E)?E.forEach(_):this.engine.registerTrigger(d,f,e,E.name,E)};return i.data.animation.forEach(_),new jW(this,f,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[d,f]=s;d(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.FYo),a.LFG(mI),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class K2{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==Z2?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class jW extends K2{constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==Z2?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function zW(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),d="";return"@"!=s.charAt(0)&&([s,d]=function HW(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,d,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(t,e,i)}}let $W=(()=>{class n extends mI{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(J),a.LFG(GM),a.LFG(n1),a.LFG(a.z2F))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Y2=[{provide:AN,useClass:LW},{provide:n1,useFactory:function GW(){return new dW}},{provide:mI,useClass:$W},{provide:a.FYo,useFactory:function qW(n,t,e){return new UW(n,t,e)},deps:[Is,mI,a.R0b]}],d1=[{provide:GM,useFactory:()=>new NW},{provide:a.QbO,useValue:"BrowserAnimations"},...Y2],Q2=[{provide:GM,useClass:E2},{provide:a.QbO,useValue:"NoopAnimations"},...Y2];let WW=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?Q2:d1}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:d1,imports:[aa]}),n})(),u1=(()=>{class n{constructor(){}getId(e){return e+Math.floor(100*Math.random())+1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),ZW=(()=>{class n{constructor(e,i,r){this.actions$=e,this.router=i,this.settingsService=r,this.logout$=Xr(()=>this.actions$.pipe(Jr(VM),(0,Wn.b)(()=>{this.router.navigateByUrl("/"),this.settingsService.isLoggedIn=!1,this.settingsService.filterByNotApproved=!1})),{dispatch:!1})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Pc),a.LFG(hr),a.LFG(ug))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const h1=en(jo.LOGIN,{_as:"props",_p:void 0}),f1=en(jo.LOGIN_SUCCESS,{_as:"props",_p:void 0}),X2=en(jo.LOGIN_FAILURE,{_as:"props",_p:void 0});let gI=(()=>{class n{constructor(e,i,r,s){this.afAuth=e,this.firestore=i,this.service=r,this.store=s,this.db=mL()}getById(e){return this.firestore.doc("users/"+e).get()}getUser(e){return e.user}register(e){return this.firestore.collection("users").doc(e.user.email).set(e)}login(e){var i=this;return(0,ce.Z)(function*(){const r=p4(i.db,"users",e.user.email);return(yield g4(r)).data()})()}getCurrentUser(){return this.store.pipe(qn(hm))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(HC),a.LFG(Zu),a.LFG(u1),a.LFG(Tr))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),KW=(()=>{class n{constructor(e,i,r,s){this.actions$=e,this.authService=i,this.router=r,this.settingsService=s,this.login$=Xr(()=>this.actions$.pipe(Jr(h1),kn(({request:d})=>(0,$t.D)(this.authService.login(d)).pipe((0,F.U)(f=>f1({currentUser:f})),ur(f=>Ze(X2({errors:f}))))))),this.redirectAfterSubmit$=Xr(()=>this.actions$.pipe(Jr(f1),(0,Wn.b)(()=>{this.router.navigateByUrl("/"),this.settingsService.isLoggedIn=!0})),{dispatch:!1})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Pc),a.LFG(gI),a.LFG(hr),a.LFG(ug))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const m1=en(jo.REGISTRATION,{_as:"props",_p:void 0}),p1=en(jo.REGISTRATION_SUCCESS),J2=en(jo.REGISTRATION_FAILURE,{_as:"props",_p:void 0});let eV=(()=>{class n{constructor(){this.backendErrorsProps={}}ngOnInit(){console.log(this.backendErrorsProps)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-backend-error-message"]],inputs:{backendErrorsProps:["backendErrors","backendErrorsProps"]},decls:4,vars:1,consts:[[1,"backend-error"],[1,"backend-error__span"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0),a._uU(1," Error: "),a.TgZ(2,"span",1),a._uU(3),a.qZA()()),2&e&&(a.xp6(3),a.Oqu(i.backendErrorsProps))},styles:[".backend-error[_ngcontent-%COMP%]{color:#d92121;font-size:18px;font-weight:600;margin-top:20px}.backend-error__span[_ngcontent-%COMP%]{color:#784d4d}"]}),n})();function YW(n,t){if(1&n&&(a._UZ(0,"app-backend-error-message",13),a.ALo(1,"async")),2&n){const e=a.oxw();a.Q6J("backendErrors",a.lcZ(1,1,e.backendErrors$))}}const QW=function(){return["/login"]};let JW=(()=>{class n{constructor(e,i,r){this.formBuilder=e,this.store=i,this.service=r,this.form={},this.isSubmitting$={},this.backendErrors$={}}ngOnInit(){this.initializeForm(),this.initializeValues()}initializeValues(){this.isSubmitting$=this.store.pipe(qn(AL)),this.backendErrors$=this.store.pipe(qn(ML))}initializeForm(){this.form=this.formBuilder.group({name:["",ed.required],email:["",[ed.required,ed.email]],password:["",[ed.required,ed.minLength(8)]],isAdmin:[!1,ed.required]})}handleSubmit(){const e=this.service.getId(this.form.value.name),r={user:Object.assign({},this.form.value,{id:e})};this.store.dispatch(m1({request:r}))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(sw),a.Y36(Tr),a.Y36(u1))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-register"]],decls:21,vars:6,consts:[[1,"register"],[1,"register__container"],[1,"register__title-container"],[1,"register__title"],[1,"register__link",3,"routerLink"],[3,"backendErrors",4,"ngIf"],[1,"register__form",3,"formGroup","ngSubmit"],["appearance","fill"],["matInput","","type","text","placeholder","Name","formControlName","name"],["matInput","","type","email","placeholder","Email","formControlName","email"],["matInput","","type","password","placeholder","Password","formControlName","password"],["formControlName","isAdmin"],["type","submit","mat-raised-button","",1,"register__button"],[3,"backendErrors"]],template:function(e,i){1&e&&(a.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2",3),a._uU(4,"Sign Up"),a.qZA(),a.TgZ(5,"div")(6,"a",4),a._uU(7,"Have an account?"),a.qZA()()(),a.YNc(8,YW,2,3,"app-backend-error-message",5),a.ALo(9,"async"),a.TgZ(10,"form",6),a.NdJ("ngSubmit",function(){return i.handleSubmit()}),a.TgZ(11,"mat-form-field",7),a._UZ(12,"input",8),a.qZA(),a.TgZ(13,"mat-form-field",7),a._UZ(14,"input",9),a.qZA(),a.TgZ(15,"mat-form-field",7),a._UZ(16,"input",10),a.qZA(),a.TgZ(17,"mat-checkbox",11),a._uU(18,"Is Admin?"),a.qZA(),a.TgZ(19,"button",12),a._uU(20," Sign Up "),a.qZA()()()()),2&e&&(a.xp6(6),a.Q6J("routerLink",a.DdM(5,QW)),a.xp6(2),a.Q6J("ngIf",a.lcZ(9,3,i.backendErrors$)),a.xp6(2),a.Q6J("formGroup",i.form))},dependencies:[Ei,id,ow,ng,Q0,X0,sm,Iy,ZN,eL,jy,eV,fM,ri],styles:[".register[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;color:#45616b;margin-top:50px}.register__container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center;width:320px;height:auto;padding:20px}.register__link[_ngcontent-%COMP%]{font-size:16px;color:#d3b197;transition:all .5s ease-out}.register__link[_ngcontent-%COMP%]:hover{color:#dfcdbf;opacity:.8}.register__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:10px}.register__form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-top:8px}.register__title[_ngcontent-%COMP%]{font-size:32px;font-weight:500}.register__button[_ngcontent-%COMP%]{font-size:20px}"]}),n})();function eZ(n,t){if(1&n&&(a._UZ(0,"app-backend-error-message",11),a.ALo(1,"async")),2&n){const e=a.oxw();a.Q6J("backendErrors",a.lcZ(1,1,e.backendErrors$))}}const tZ=function(){return["/register"]};let nZ=(()=>{class n{constructor(e,i){this.formBuilder=e,this.store=i,this.form={},this.isSubmitting$={},this.backendErrors$={}}ngOnInit(){this.initializeForm(),this.initializeValues()}initializeValues(){this.isSubmitting$=this.store.pipe(qn(AL)),this.backendErrors$=this.store.pipe(qn(ML))}initializeForm(){this.form=this.formBuilder.group({email:["",[ed.required,ed.email]],password:["",ed.required]})}handleSubmit(){this.store.dispatch(h1({request:{user:this.form.value}}))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(sw),a.Y36(Tr))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-login"]],decls:17,vars:6,consts:[[1,"login"],[1,"login__container"],[1,"login__title-container"],[1,"login__title"],[1,"login__link",3,"routerLink"],[3,"backendErrors",4,"ngIf"],[1,"login__form",3,"formGroup","ngSubmit"],["appearance","fill"],["matInput","","type","email","placeholder","Email","formControlName","email"],["matInput","","type","password","placeholder","Password","formControlName","password"],["type","submit","mat-raised-button","",1,"login__button"],[3,"backendErrors"]],template:function(e,i){1&e&&(a.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2",3),a._uU(4,"Sign In"),a.qZA(),a.TgZ(5,"div")(6,"a",4),a._uU(7,"Need an account?"),a.qZA()()(),a.YNc(8,eZ,2,3,"app-backend-error-message",5),a.ALo(9,"async"),a.TgZ(10,"form",6),a.NdJ("ngSubmit",function(){return i.handleSubmit()}),a.TgZ(11,"mat-form-field",7),a._UZ(12,"input",8),a.qZA(),a.TgZ(13,"mat-form-field",7),a._UZ(14,"input",9),a.qZA(),a.TgZ(15,"button",10),a._uU(16," Sign In "),a.qZA()()()()),2&e&&(a.xp6(6),a.Q6J("routerLink",a.DdM(5,tZ)),a.xp6(2),a.Q6J("ngIf",a.lcZ(9,3,i.backendErrors$)),a.xp6(2),a.Q6J("formGroup",i.form))},dependencies:[Ei,id,ow,ng,Q0,X0,sm,Iy,ZN,eL,jy,eV,ri],styles:[".login[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;color:#45616b;margin-top:50px}.login__container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center;width:320px;height:auto;padding:20px}.login__link[_ngcontent-%COMP%]{font-size:16px;color:#d3b197;transition:all .5s ease-out}.login__link[_ngcontent-%COMP%]:hover{color:#dfcdbf;opacity:.8}.login__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:10px}.login__form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-top:8px}.login__title[_ngcontent-%COMP%]{font-size:32px;font-weight:500}.login__button[_ngcontent-%COMP%]{font-size:20px}"]}),n})();const tV={isSubmitting:!1,currentUser:null,isLoggedIn:!1,validationErrors:null,isLoading:!1},iZ=Z0(tV,An(m1,n=>({...n,isSubmitting:!0,validationErrors:null})),An(p1,n=>({...n,isSubmitting:!1,isLoading:!1})),An(J2,(n,t)=>({...n,isSubmitting:!1,validationErrors:t.errors})),An(h1,n=>({...n,isSubmitting:!0,validationErrors:null})),An(f1,(n,t)=>({...n,isSubmitting:!1,isLoggedIn:!0,currentUser:t.currentUser})),An(X2,(n,t)=>({...n,isSubmitting:!1,validationErrors:t.errors})),An(VM,n=>({...n,...tV,isLoggedIn:!1,currentUser:null})),An(LM,n=>({...n,isLoading:!0})),An(f2,(n,t)=>({...n,isLoading:!1,isLoggedIn:!0,currentUser:t.currentUser})),An(m2,n=>({...n,isLoading:!1,isLoggedIn:!1,currentUser:null})));function rZ(n,t){return iZ(n,t)}let nV=(()=>{class n{constructor(e,i,r){this.actions$=e,this.authService=i,this.router=r,this.register$=Xr(()=>this.actions$.pipe(Jr(m1),kn(({request:s})=>(0,$t.D)(this.authService.register(s)).pipe((0,F.U)(()=>p1()),ur(d=>Ze(J2({errors:d}))))))),this.redirectAfterSubmit$=Xr(()=>this.actions$.pipe(Jr(p1),(0,Wn.b)(()=>{this.router.navigateByUrl("/login")})),{dispatch:!1})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Pc),a.LFG(gI),a.LFG(hr))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),oZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Zn]}),n})(),sZ=(()=>{class n{constructor(e,i){this.actions$=e,this.authService=i,this.getCurrentUser$=Xr(()=>this.actions$.pipe(Jr(LM),kn(()=>this.authService.getCurrentUser().pipe((0,F.U)(r=>f2({currentUser:r})),ur(()=>Ze(m2()))))))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Pc),a.LFG(gI))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const aZ=[{path:"register",component:JW},{path:"login",component:nZ}];let cZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[gI,u1],imports:[Zn,Fc.forChild(aZ),_A,vy.forFeature("auth",rZ),By.forFeature([nV,KW,ZW,sZ,nV]),Tw,tL,kw,oZ,mM]}),n})();const lZ=["*"],hZ=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],fZ=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],mZ=new a.OlP("MAT_CARD_CONFIG");let iV=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(mZ,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(e,i){2&e&&a.ekj("mat-mdc-card-outlined","outlined"===i.appearance)("mdc-card--outlined","outlined"===i.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:lZ,decls:1,vars:0,template:function(e,i){1&e&&(a.F$t(),a.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),rV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),n})(),oV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:fZ,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(e,i){1&e&&(a.F$t(hZ),a.Hsn(0),a.TgZ(1,"div",0),a.Hsn(2,1),a.qZA(),a.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),IZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[fi,Zn,fi]}),n})();function DZ(n,t){if(1&n&&(a.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),a._uU(3,"Name: "),a.TgZ(4,"p",2),a._uU(5),a.qZA()(),a.TgZ(6,"mat-card-title"),a._uU(7,"E-mail: "),a.TgZ(8,"p",2),a._uU(9),a.qZA()(),a.TgZ(10,"mat-card-title"),a._uU(11,"Is Admin: "),a.TgZ(12,"p",2),a._uU(13),a.qZA()()()()),2&n){const e=a.oxw();a.xp6(5),a.hij(" ",e.userProfile.name," "),a.xp6(4),a.Oqu(e.userProfile.email),a.xp6(4),a.Oqu(e.userProfile.isAdmin)}}const TZ=[{path:"profile",component:(()=>{class n{constructor(e){this.store=e,this.userProfile={},this.userProfileSubscription={}}ngOnInit(){this.initializeListeners()}initializeListeners(){this.userProfileSubscription=this.store.pipe(qn(hm)).subscribe(e=>{this.userProfile=e.user})}ngOnDestroy(){this.userProfileSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Tr))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mc-user-profile"]],decls:2,vars:1,consts:[[1,"user-profile"],[4,"ngIf"],[1,"user-profile__p"]],template:function(e,i){1&e&&(a.TgZ(0,"section",0),a.YNc(1,DZ,14,3,"mat-card",1),a.qZA()),2&e&&(a.xp6(1),a.Q6J("ngIf",i.userProfile))},dependencies:[Ei,iV,oV,rV],styles:[".user-profile[_ngcontent-%COMP%]{margin-top:30px}.user-profile__p[_ngcontent-%COMP%]{font-size:14px;font-weight:400;margin-bottom:15px}.mat-mdc-card-header[_ngcontent-%COMP%]{height:300px;width:30vw;display:flex;flex-direction:column;justify-content:space-between}"]}),n})()}];let kZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Zn,Fc.forChild(TZ),IZ]}),n})(),AZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n,bootstrap:[Wq]}),n.\u0275inj=a.cJS({imports:[aa,Oq,cZ,xq,Mq,oq,R8,x4,xz,kZ,a8,By.forRoot([]),vy.forRoot({router:I4}),It.hO.initializeApp(Eq_firebase),fB,DR,WW]}),n})();nl().bootstrapModule(AZ).catch(n=>console.error(n))},9751:(ut,Se,P)=>{P.d(Se,{y:()=>le});var a=P(930),Q=P(727),N=P(8822),oe=P(9635),se=P(2416),J=P(576),_e=P(2806);let le=(()=>{class K{constructor(De){De&&(this._subscribe=De)}lift(De){const qe=new K;return qe.source=this,qe.operator=De,qe}subscribe(De,qe,ht){const ye=function G(K){return K&&K instanceof a.Lv||function H(K){return K&&(0,J.m)(K.next)&&(0,J.m)(K.error)&&(0,J.m)(K.complete)}(K)&&(0,Q.Nn)(K)}(De)?De:new a.Hp(De,qe,ht);return(0,_e.x)(()=>{const{operator:Ae,source:Ie}=this;ye.add(Ae?Ae.call(ye,Ie):Ie?this._subscribe(ye):this._trySubscribe(ye))}),ye}_trySubscribe(De){try{return this._subscribe(De)}catch(qe){De.error(qe)}}forEach(De,qe){return new(qe=ae(qe))((ht,ye)=>{const Ae=new a.Hp({next:Ie=>{try{De(Ie)}catch(Le){ye(Le),Ae.unsubscribe()}},error:ye,complete:ht});this.subscribe(Ae)})}_subscribe(De){var qe;return null===(qe=this.source)||void 0===qe?void 0:qe.subscribe(De)}[N.L](){return this}pipe(...De){return(0,oe.U)(De)(this)}toPromise(De){return new(De=ae(De))((qe,ht)=>{let ye;this.subscribe(Ae=>ye=Ae,Ae=>ht(Ae),()=>qe(ye))})}}return K.create=Pe=>new K(Pe),K})();function ae(K){var Pe;return null!==(Pe=K??se.v.Promise)&&void 0!==Pe?Pe:Promise}},7579:(ut,Se,P)=>{P.d(Se,{x:()=>_e});var a=P(9751),Q=P(727);const oe=(0,P(3888).d)(ae=>function(){ae(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=P(8737),J=P(2806);let _e=(()=>{class ae extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const K=new le(this,this);return K.operator=G,K}_throwIfClosed(){if(this.closed)throw new oe}next(G){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const K of this.currentObservers)K.next(G)}})}error(G){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:K}=this;for(;K.length;)K.shift().error(G)}})}complete(){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:K,isStopped:Pe,observers:De}=this;return K||Pe?Q.Lc:(this.currentObservers=null,De.push(G),new Q.w0(()=>{this.currentObservers=null,(0,se.P)(De,G)}))}_checkFinalizedStatuses(G){const{hasError:K,thrownError:Pe,isStopped:De}=this;K?G.error(Pe):De&&G.complete()}asObservable(){const G=new a.y;return G.source=this,G}}return ae.create=(H,G)=>new le(H,G),ae})();class le extends _e{constructor(H,G){super(),this.destination=H,this.source=G}next(H){var G,K;null===(K=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===K||K.call(G,H)}error(H){var G,K;null===(K=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===K||K.call(G,H)}complete(){var H,G;null===(G=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===G||G.call(H)}_subscribe(H){var G,K;return null!==(K=null===(G=this.source)||void 0===G?void 0:G.subscribe(H))&&void 0!==K?K:Q.Lc}}},930:(ut,Se,P)=>{P.d(Se,{Hp:()=>ht,Lv:()=>K});var a=P(576),Q=P(727),N=P(2416),oe=P(7849),se=P(5032);const J=ae("C",void 0,void 0);function ae(re,ie,pe){return{kind:re,value:ie,error:pe}}var H=P(3410),G=P(2806);class K extends Q.w0{constructor(ie){super(),this.isStopped=!1,ie?(this.destination=ie,(0,Q.Nn)(ie)&&ie.add(this)):this.destination=Le}static create(ie,pe,be){return new ht(ie,pe,be)}next(ie){this.isStopped?Ie(function le(re){return ae("N",re,void 0)}(ie),this):this._next(ie)}error(ie){this.isStopped?Ie(function _e(re){return ae("E",void 0,re)}(ie),this):(this.isStopped=!0,this._error(ie))}complete(){this.isStopped?Ie(J,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ie){this.destination.next(ie)}_error(ie){try{this.destination.error(ie)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Pe=Function.prototype.bind;function De(re,ie){return Pe.call(re,ie)}class qe{constructor(ie){this.partialObserver=ie}next(ie){const{partialObserver:pe}=this;if(pe.next)try{pe.next(ie)}catch(be){ye(be)}}error(ie){const{partialObserver:pe}=this;if(pe.error)try{pe.error(ie)}catch(be){ye(be)}else ye(ie)}complete(){const{partialObserver:ie}=this;if(ie.complete)try{ie.complete()}catch(pe){ye(pe)}}}class ht extends K{constructor(ie,pe,be){let Ee;if(super(),(0,a.m)(ie)||!ie)Ee={next:ie??void 0,error:pe??void 0,complete:be??void 0};else{let z;this&&N.v.useDeprecatedNextContext?(z=Object.create(ie),z.unsubscribe=()=>this.unsubscribe(),Ee={next:ie.next&&De(ie.next,z),error:ie.error&&De(ie.error,z),complete:ie.complete&&De(ie.complete,z)}):Ee=ie}this.destination=new qe(Ee)}}function ye(re){N.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(re):(0,oe.h)(re)}function Ie(re,ie){const{onStoppedNotification:pe}=N.v;pe&&H.z.setTimeout(()=>pe(re,ie))}const Le={closed:!0,next:se.Z,error:function Ae(re){throw re},complete:se.Z}},727:(ut,Se,P)=>{P.d(Se,{Lc:()=>J,w0:()=>se,Nn:()=>_e});var a=P(576);const N=(0,P(3888).d)(ae=>function(G){ae(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((K,Pe)=>`${Pe+1}) ${K.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var oe=P(8737);class se{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const De of G)De.remove(this);else G.remove(this);const{initialTeardown:K}=this;if((0,a.m)(K))try{K()}catch(De){H=De instanceof N?De.errors:[De]}const{_finalizers:Pe}=this;if(Pe){this._finalizers=null;for(const De of Pe)try{le(De)}catch(qe){H=H??[],qe instanceof N?H=[...H,...qe.errors]:H.push(qe)}}if(H)throw new N(H)}}add(H){var G;if(H&&H!==this)if(this.closed)le(H);else{if(H instanceof se){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(H)}}_hasParent(H){const{_parentage:G}=this;return G===H||Array.isArray(G)&&G.includes(H)}_addParent(H){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(H),G):G?[G,H]:H}_removeParent(H){const{_parentage:G}=this;G===H?this._parentage=null:Array.isArray(G)&&(0,oe.P)(G,H)}remove(H){const{_finalizers:G}=this;G&&(0,oe.P)(G,H),H instanceof se&&H._removeParent(this)}}se.EMPTY=(()=>{const ae=new se;return ae.closed=!0,ae})();const J=se.EMPTY;function _e(ae){return ae instanceof se||ae&&"closed"in ae&&(0,a.m)(ae.remove)&&(0,a.m)(ae.add)&&(0,a.m)(ae.unsubscribe)}function le(ae){(0,a.m)(ae)?ae():ae.unsubscribe()}},2416:(ut,Se,P)=>{P.d(Se,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ut,Se,P)=>{P.d(Se,{E:()=>Q});const Q=new(P(9751).y)(se=>se.complete())},8996:(ut,Se,P)=>{P.d(Se,{D:()=>ie});var a=P(8421),Q=P(5363),N=P(9468),J=P(9751),le=P(2202),ae=P(576),H=P(9672);function K(pe,be){if(!pe)throw new Error("Iterable cannot be null");return new J.y(Ee=>{(0,H.f)(Ee,be,()=>{const z=pe[Symbol.asyncIterator]();(0,H.f)(Ee,be,()=>{z.next().then(ve=>{ve.done?Ee.complete():Ee.next(ve.value)})},0,!0)})})}var Pe=P(3670),De=P(8239),qe=P(1144),ht=P(6495),ye=P(2206),Ae=P(4532),Ie=P(3260);function ie(pe,be){return be?function re(pe,be){if(null!=pe){if((0,Pe.c)(pe))return function oe(pe,be){return(0,a.Xf)(pe).pipe((0,N.R)(be),(0,Q.Q)(be))}(pe,be);if((0,qe.z)(pe))return function _e(pe,be){return new J.y(Ee=>{let z=0;return be.schedule(function(){z===pe.length?Ee.complete():(Ee.next(pe[z++]),Ee.closed||this.schedule())})})}(pe,be);if((0,De.t)(pe))return function se(pe,be){return(0,a.Xf)(pe).pipe((0,N.R)(be),(0,Q.Q)(be))}(pe,be);if((0,ye.D)(pe))return K(pe,be);if((0,ht.T)(pe))return function G(pe,be){return new J.y(Ee=>{let z;return(0,H.f)(Ee,be,()=>{z=pe[le.h](),(0,H.f)(Ee,be,()=>{let ve,je;try{({value:ve,done:je}=z.next())}catch(ze){return void Ee.error(ze)}je?Ee.complete():Ee.next(ve)},0,!0)}),()=>(0,ae.m)(z?.return)&&z.return()})}(pe,be);if((0,Ie.L)(pe))return function Le(pe,be){return K((0,Ie.Q)(pe),be)}(pe,be)}throw(0,Ae.z)(pe)}(pe,be):(0,a.Xf)(pe)}},8421:(ut,Se,P)=>{P.d(Se,{Xf:()=>Pe});var a=P(655),Q=P(1144),N=P(8239),oe=P(9751),se=P(3670),J=P(2206),_e=P(4532),le=P(6495),ae=P(3260),H=P(576),G=P(7849),K=P(8822);function Pe(re){if(re instanceof oe.y)return re;if(null!=re){if((0,se.c)(re))return function De(re){return new oe.y(ie=>{const pe=re[K.L]();if((0,H.m)(pe.subscribe))return pe.subscribe(ie);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(re);if((0,Q.z)(re))return function qe(re){return new oe.y(ie=>{for(let pe=0;pe<re.length&&!ie.closed;pe++)ie.next(re[pe]);ie.complete()})}(re);if((0,N.t)(re))return function ht(re){return new oe.y(ie=>{re.then(pe=>{ie.closed||(ie.next(pe),ie.complete())},pe=>ie.error(pe)).then(null,G.h)})}(re);if((0,J.D)(re))return Ae(re);if((0,le.T)(re))return function ye(re){return new oe.y(ie=>{for(const pe of re)if(ie.next(pe),ie.closed)return;ie.complete()})}(re);if((0,ae.L)(re))return function Ie(re){return Ae((0,ae.Q)(re))}(re)}throw(0,_e.z)(re)}function Ae(re){return new oe.y(ie=>{(function Le(re,ie){var pe,be,Ee,z;return(0,a.mG)(this,void 0,void 0,function*(){try{for(pe=(0,a.KL)(re);!(be=yield pe.next()).done;)if(ie.next(be.value),ie.closed)return}catch(ve){Ee={error:ve}}finally{try{be&&!be.done&&(z=pe.return)&&(yield z.call(pe))}finally{if(Ee)throw Ee.error}}ie.complete()})})(re,ie).catch(pe=>ie.error(pe))})}},6451:(ut,Se,P)=>{P.d(Se,{T:()=>J});var a=P(8189),Q=P(8421),N=P(515),oe=P(3269),se=P(8996);function J(..._e){const le=(0,oe.yG)(_e),ae=(0,oe._6)(_e,1/0),H=_e;return H.length?1===H.length?(0,Q.Xf)(H[0]):(0,a.J)(ae)((0,se.D)(H,le)):N.E}},5403:(ut,Se,P)=>{P.d(Se,{Q:()=>N,x:()=>Q});var a=P(930);function Q(oe,se,J,_e,le){return new N(oe,se,J,_e,le)}class N extends a.Lv{constructor(se,J,_e,le,ae,H){super(se),this.onFinalize=ae,this.shouldUnsubscribe=H,this._next=J?function(G){try{J(G)}catch(K){se.error(K)}}:super._next,this._error=le?function(G){try{le(G)}catch(K){se.error(K)}finally{this.unsubscribe()}}:super._error,this._complete=_e?function(){try{_e()}catch(G){se.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:J}=this;super.unsubscribe(),!J&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},4004:(ut,Se,P)=>{P.d(Se,{U:()=>N});var a=P(4482),Q=P(5403);function N(oe,se){return(0,a.e)((J,_e)=>{let le=0;J.subscribe((0,Q.x)(_e,ae=>{_e.next(oe.call(se,ae,le++))}))})}},8189:(ut,Se,P)=>{P.d(Se,{J:()=>N});var a=P(5577),Q=P(4671);function N(oe=1/0){return(0,a.z)(Q.y,oe)}},5577:(ut,Se,P)=>{P.d(Se,{z:()=>le});var a=P(4004),Q=P(8421),N=P(4482),oe=P(9672),se=P(5403),_e=P(576);function le(ae,H,G=1/0){return(0,_e.m)(H)?le((K,Pe)=>(0,a.U)((De,qe)=>H(K,De,Pe,qe))((0,Q.Xf)(ae(K,Pe))),G):("number"==typeof H&&(G=H),(0,N.e)((K,Pe)=>function J(ae,H,G,K,Pe,De,qe,ht){const ye=[];let Ae=0,Ie=0,Le=!1;const re=()=>{Le&&!ye.length&&!Ae&&H.complete()},ie=be=>Ae<K?pe(be):ye.push(be),pe=be=>{De&&H.next(be),Ae++;let Ee=!1;(0,Q.Xf)(G(be,Ie++)).subscribe((0,se.x)(H,z=>{Pe?.(z),De?ie(z):H.next(z)},()=>{Ee=!0},void 0,()=>{if(Ee)try{for(Ae--;ye.length&&Ae<K;){const z=ye.shift();qe?(0,oe.f)(H,qe,()=>pe(z)):pe(z)}re()}catch(z){H.error(z)}}))};return ae.subscribe((0,se.x)(H,ie,()=>{Le=!0,re()})),()=>{ht?.()}}(K,Pe,ae,G)))}},5363:(ut,Se,P)=>{P.d(Se,{Q:()=>oe});var a=P(9672),Q=P(4482),N=P(5403);function oe(se,J=0){return(0,Q.e)((_e,le)=>{_e.subscribe((0,N.x)(le,ae=>(0,a.f)(le,se,()=>le.next(ae),J),()=>(0,a.f)(le,se,()=>le.complete(),J),ae=>(0,a.f)(le,se,()=>le.error(ae),J)))})}},3099:(ut,Se,P)=>{P.d(Se,{B:()=>se});var a=P(8421),Q=P(7579),N=P(930),oe=P(4482);function se(_e={}){const{connector:le=(()=>new Q.x),resetOnError:ae=!0,resetOnComplete:H=!0,resetOnRefCountZero:G=!0}=_e;return K=>{let Pe,De,qe,ht=0,ye=!1,Ae=!1;const Ie=()=>{De?.unsubscribe(),De=void 0},Le=()=>{Ie(),Pe=qe=void 0,ye=Ae=!1},re=()=>{const ie=Pe;Le(),ie?.unsubscribe()};return(0,oe.e)((ie,pe)=>{ht++,!Ae&&!ye&&Ie();const be=qe=qe??le();pe.add(()=>{ht--,0===ht&&!Ae&&!ye&&(De=J(re,G))}),be.subscribe(pe),!Pe&&ht>0&&(Pe=new N.Hp({next:Ee=>be.next(Ee),error:Ee=>{Ae=!0,Ie(),De=J(Le,ae,Ee),be.error(Ee)},complete:()=>{ye=!0,Ie(),De=J(Le,H),be.complete()}}),(0,a.Xf)(ie).subscribe(Pe))})(K)}}function J(_e,le,...ae){if(!0===le)return void _e();if(!1===le)return;const H=new N.Hp({next:()=>{H.unsubscribe(),_e()}});return(0,a.Xf)(le(...ae)).subscribe(H)}},9468:(ut,Se,P)=>{P.d(Se,{R:()=>Q});var a=P(4482);function Q(N,oe=0){return(0,a.e)((se,J)=>{J.add(N.schedule(()=>se.subscribe(J),oe))})}},8505:(ut,Se,P)=>{P.d(Se,{b:()=>se});var a=P(576),Q=P(4482),N=P(5403),oe=P(4671);function se(J,_e,le){const ae=(0,a.m)(J)||_e||le?{next:J,error:_e,complete:le}:J;return ae?(0,Q.e)((H,G)=>{var K;null===(K=ae.subscribe)||void 0===K||K.call(ae);let Pe=!0;H.subscribe((0,N.x)(G,De=>{var qe;null===(qe=ae.next)||void 0===qe||qe.call(ae,De),G.next(De)},()=>{var De;Pe=!1,null===(De=ae.complete)||void 0===De||De.call(ae),G.complete()},De=>{var qe;Pe=!1,null===(qe=ae.error)||void 0===qe||qe.call(ae,De),G.error(De)},()=>{var De,qe;Pe&&(null===(De=ae.unsubscribe)||void 0===De||De.call(ae)),null===(qe=ae.finalize)||void 0===qe||qe.call(ae)}))}):oe.y}},4408:(ut,Se,P)=>{P.d(Se,{o:()=>se});var a=P(727);class Q extends a.w0{constructor(_e,le){super()}schedule(_e,le=0){return this}}const N={setInterval(J,_e,...le){const{delegate:ae}=N;return ae?.setInterval?ae.setInterval(J,_e,...le):setInterval(J,_e,...le)},clearInterval(J){const{delegate:_e}=N;return(_e?.clearInterval||clearInterval)(J)},delegate:void 0};var oe=P(8737);class se extends Q{constructor(_e,le){super(_e,le),this.scheduler=_e,this.work=le,this.pending=!1}schedule(_e,le=0){var ae;if(this.closed)return this;this.state=_e;const H=this.id,G=this.scheduler;return null!=H&&(this.id=this.recycleAsyncId(G,H,le)),this.pending=!0,this.delay=le,this.id=null!==(ae=this.id)&&void 0!==ae?ae:this.requestAsyncId(G,this.id,le),this}requestAsyncId(_e,le,ae=0){return N.setInterval(_e.flush.bind(_e,this),ae)}recycleAsyncId(_e,le,ae=0){if(null!=ae&&this.delay===ae&&!1===this.pending)return le;null!=le&&N.clearInterval(le)}execute(_e,le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ae=this._execute(_e,le);if(ae)return ae;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(_e,le){let H,ae=!1;try{this.work(_e)}catch(G){ae=!0,H=G||new Error("Scheduled action threw falsy error")}if(ae)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:_e,scheduler:le}=this,{actions:ae}=le;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(ae,this),null!=_e&&(this.id=this.recycleAsyncId(le,_e,null)),this.delay=null,super.unsubscribe()}}}},7565:(ut,Se,P)=>{P.d(Se,{v:()=>N});var a=P(6063);class Q{constructor(se,J=Q.now){this.schedulerActionCtor=se,this.now=J}schedule(se,J=0,_e){return new this.schedulerActionCtor(this,se).schedule(_e,J)}}Q.now=a.l.now;class N extends Q{constructor(se,J=Q.now){super(se,J),this.actions=[],this._active=!1}flush(se){const{actions:J}=this;if(this._active)return void J.push(se);let _e;this._active=!0;do{if(_e=se.execute(se.state,se.delay))break}while(se=J.shift());if(this._active=!1,_e){for(;se=J.shift();)se.unsubscribe();throw _e}}}},4986:(ut,Se,P)=>{P.d(Se,{P:()=>oe,z:()=>N});var a=P(4408);const N=new(P(7565).v)(a.o),oe=N},6063:(ut,Se,P)=>{P.d(Se,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},233:(ut,Se,P)=>{P.d(Se,{N:()=>se});var a=P(4408),N=P(7565);const se=new class oe extends N.v{}(class Q extends a.o{constructor(le,ae){super(le,ae),this.scheduler=le,this.work=ae}schedule(le,ae=0){return ae>0?super.schedule(le,ae):(this.delay=ae,this.state=le,this.scheduler.flush(this),this)}execute(le,ae){return ae>0||this.closed?super.execute(le,ae):this._execute(le,ae)}requestAsyncId(le,ae,H=0){return null!=H&&H>0||null==H&&this.delay>0?super.requestAsyncId(le,ae,H):(le.flush(this),0)}})},3410:(ut,Se,P)=>{P.d(Se,{z:()=>a});const a={setTimeout(Q,N,...oe){const{delegate:se}=a;return se?.setTimeout?se.setTimeout(Q,N,...oe):setTimeout(Q,N,...oe)},clearTimeout(Q){const{delegate:N}=a;return(N?.clearTimeout||clearTimeout)(Q)},delegate:void 0}},2202:(ut,Se,P)=>{P.d(Se,{h:()=>Q});const Q=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ut,Se,P)=>{P.d(Se,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ut,Se,P)=>{P.d(Se,{_6:()=>J,jO:()=>oe,yG:()=>se});var a=P(576),Q=P(3532);function N(_e){return _e[_e.length-1]}function oe(_e){return(0,a.m)(N(_e))?_e.pop():void 0}function se(_e){return(0,Q.K)(N(_e))?_e.pop():void 0}function J(_e,le){return"number"==typeof N(_e)?_e.pop():le}},8737:(ut,Se,P)=>{function a(Q,N){if(Q){const oe=Q.indexOf(N);0<=oe&&Q.splice(oe,1)}}P.d(Se,{P:()=>a})},3888:(ut,Se,P)=>{function a(Q){const oe=Q(se=>{Error.call(se),se.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}P.d(Se,{d:()=>a})},2806:(ut,Se,P)=>{P.d(Se,{O:()=>oe,x:()=>N});var a=P(2416);let Q=null;function N(se){if(a.v.useDeprecatedSynchronousErrorHandling){const J=!Q;if(J&&(Q={errorThrown:!1,error:null}),se(),J){const{errorThrown:_e,error:le}=Q;if(Q=null,_e)throw le}}else se()}function oe(se){a.v.useDeprecatedSynchronousErrorHandling&&Q&&(Q.errorThrown=!0,Q.error=se)}},9672:(ut,Se,P)=>{function a(Q,N,oe,se=0,J=!1){const _e=N.schedule(function(){oe(),J?Q.add(this.schedule(null,se)):this.unsubscribe()},se);if(Q.add(_e),!J)return _e}P.d(Se,{f:()=>a})},4671:(ut,Se,P)=>{function a(Q){return Q}P.d(Se,{y:()=>a})},1144:(ut,Se,P)=>{P.d(Se,{z:()=>a});const a=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},2206:(ut,Se,P)=>{P.d(Se,{D:()=>Q});var a=P(576);function Q(N){return Symbol.asyncIterator&&(0,a.m)(N?.[Symbol.asyncIterator])}},576:(ut,Se,P)=>{function a(Q){return"function"==typeof Q}P.d(Se,{m:()=>a})},3670:(ut,Se,P)=>{P.d(Se,{c:()=>N});var a=P(8822),Q=P(576);function N(oe){return(0,Q.m)(oe[a.L])}},6495:(ut,Se,P)=>{P.d(Se,{T:()=>N});var a=P(2202),Q=P(576);function N(oe){return(0,Q.m)(oe?.[a.h])}},8239:(ut,Se,P)=>{P.d(Se,{t:()=>Q});var a=P(576);function Q(N){return(0,a.m)(N?.then)}},3260:(ut,Se,P)=>{P.d(Se,{L:()=>oe,Q:()=>N});var a=P(655),Q=P(576);function N(se){return(0,a.FC)(this,arguments,function*(){const _e=se.getReader();try{for(;;){const{value:le,done:ae}=yield(0,a.qq)(_e.read());if(ae)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(le)}}finally{_e.releaseLock()}})}function oe(se){return(0,Q.m)(se?.getReader)}},3532:(ut,Se,P)=>{P.d(Se,{K:()=>Q});var a=P(576);function Q(N){return N&&(0,a.m)(N.schedule)}},4482:(ut,Se,P)=>{P.d(Se,{A:()=>Q,e:()=>N});var a=P(576);function Q(oe){return(0,a.m)(oe?.lift)}function N(oe){return se=>{if(Q(se))return se.lift(function(J){try{return oe(J,this)}catch(_e){this.error(_e)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ut,Se,P)=>{function a(){}P.d(Se,{Z:()=>a})},9635:(ut,Se,P)=>{P.d(Se,{U:()=>N,z:()=>Q});var a=P(4671);function Q(...oe){return N(oe)}function N(oe){return 0===oe.length?a.y:1===oe.length?oe[0]:function(J){return oe.reduce((_e,le)=>le(_e),J)}}},7849:(ut,Se,P)=>{P.d(Se,{h:()=>N});var a=P(2416),Q=P(3410);function N(oe){Q.z.setTimeout(()=>{const{onUnhandledError:se}=a.v;if(!se)throw oe;se(oe)})}},4532:(ut,Se,P)=>{function a(Q){return new TypeError(`You provided ${null!==Q&&"object"==typeof Q?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Se,{z:()=>a})},8848:()=>{Zone.__load_patch("Error",(ut,Se,P)=>{const a=P.symbol("zoneJsInternalStackFrames"),Q=ut[P.symbol("Error")]=ut.Error,N={};let oe,se,J,_e,le;ut.Error=Pe;const ae="stackRewrite",H=ut.__Zone_Error_BlacklistedStackFrames_policy||ut.__Zone_Error_ZoneJsInternalStackFrames_policy||"default";function K(re,ie,pe=!0){let be=re.split("\n"),Ee=0;for(;be[Ee]!==oe&&be[Ee]!==se&&be[Ee]!==J&&be[Ee]!==_e&&be[Ee]!==le&&Ee<be.length;)Ee++;for(;Ee<be.length&&ie;Ee++){let z=be[Ee];if(z.trim())switch(N[z]){case 0:be.splice(Ee,1),Ee--;break;case 1:ie=ie.parent?ie.parent:null,be.splice(Ee,1),Ee--;break;default:be[Ee]+=pe?` [${ie.zone.name}]`:` [${ie.zoneName}]`}}return be.join("\n")}function Pe(){let re=Q.apply(this,arguments);const ie=re.originalStack=re.stack;if(Pe[ae]&&ie){let pe=P.currentZoneFrame();if("lazy"===H)re[P.symbol("zoneFrameNames")]=function G(re){let ie={zoneName:re.zone.name},pe=ie;for(;re.parent;){const be={zoneName:(re=re.parent).zone.name};ie.parent=be,ie=be}return pe}(pe);else if("default"===H)try{re.stack=re.zoneAwareStack=K(ie,pe)}catch{}}return this instanceof Q&&this.constructor!=Q?(Object.keys(re).concat("stack","message").forEach(pe=>{const be=re[pe];if(void 0!==be)try{this[pe]=be}catch{}}),this):re}Pe.prototype=Q.prototype,Pe[a]=N,Pe[ae]=!1;const De=P.symbol("zoneAwareStack");"lazy"===H&&Object.defineProperty(Pe.prototype,"zoneAwareStack",{configurable:!0,enumerable:!0,get:function(){return this[De]||(this[De]=K(this.originalStack,this[P.symbol("zoneFrameNames")],!1)),this[De]},set:function(re){this.originalStack=re,this[De]=K(this.originalStack,this[P.symbol("zoneFrameNames")],!1)}});const qe=["stackTraceLimit","captureStackTrace","prepareStackTrace"],ht=Object.keys(Q);if(ht&&ht.forEach(re=>{0===qe.filter(ie=>ie===re).length&&Object.defineProperty(Pe,re,{get:function(){return Q[re]},set:function(ie){Q[re]=ie}})}),Q.hasOwnProperty("stackTraceLimit")&&(Q.stackTraceLimit=Math.max(Q.stackTraceLimit,15),Object.defineProperty(Pe,"stackTraceLimit",{get:function(){return Q.stackTraceLimit},set:function(re){return Q.stackTraceLimit=re}})),Q.hasOwnProperty("captureStackTrace")&&Object.defineProperty(Pe,"captureStackTrace",{value:function(ie,pe){Q.captureStackTrace(ie,pe)}}),Object.defineProperty(Pe,"prepareStackTrace",{get:function(){return Q.prepareStackTrace},set:function(re){return Q.prepareStackTrace=re&&"function"==typeof re?function(ie,pe){if(pe)for(let be=0;be<pe.length;be++)if("zoneCaptureStackTrace"===pe[be].getFunctionName()){pe.splice(be,1);break}return re.call(this,ie,pe)}:re}}),"disable"===H)return;const Ie=Se.current.fork({name:"detect",onHandleError:function(re,ie,pe,be){if(be.originalStack&&Error===Pe){let Ee=be.originalStack.split(/\n/),z=!1,ve=!1,je=!1;for(;Ee.length;){let ze=Ee.shift();if(/:\d+:\d+/.test(ze)||"ZoneAwareError"===ze){let mt=ze.split("(")[0].split("@")[0],tt=1;if(-1!==mt.indexOf("ZoneAwareError")&&(-1!==mt.indexOf("new ZoneAwareError")?(oe=ze,se=ze.replace("new ZoneAwareError","new Error.ZoneAwareError")):(J=ze,_e=ze.replace("Error.",""),-1===ze.indexOf("Error.ZoneAwareError")&&(le=ze.replace("ZoneAwareError","Error.ZoneAwareError"))),N[se]=0),-1!==mt.indexOf("runGuarded")?ve=!0:-1!==mt.indexOf("runTask")?je=!0:-1!==mt.indexOf("run")?z=!0:tt=0,N[ze]=tt,z&&ve&&je){Pe[ae]=!0;break}}}}return!1}}).fork({name:"child",onScheduleTask:function(re,ie,pe,be){return re.scheduleTask(pe,be)},onInvokeTask:function(re,ie,pe,be,Ee,z){return re.invokeTask(pe,be,Ee,z)},onCancelTask:function(re,ie,pe,be){return re.cancelTask(pe,be)},onInvoke:function(re,ie,pe,be,Ee,z,ve){return re.invoke(pe,be,Ee,z,ve)}}),Le=Error.stackTraceLimit;Error.stackTraceLimit=100,Ie.run(()=>{Ie.runGuarded(()=>{const re=()=>{};Ie.scheduleEventTask(a,()=>{Ie.scheduleMacroTask(a,()=>{Ie.scheduleMicroTask(a,()=>{throw new Error},void 0,ie=>{ie._transitionTo=re,ie.invoke()}),Ie.scheduleMicroTask(a,()=>{throw Error()},void 0,ie=>{ie._transitionTo=re,ie.invoke()})},void 0,ie=>{ie._transitionTo=re,ie.invoke()},()=>{})},void 0,ie=>{ie._transitionTo=re,ie.invoke()},()=>{})})}),Error.stackTraceLimit=Le})},655:(ut,Se,P)=>{function oe(ue,ge){var Ce={};for(var Re in ue)Object.prototype.hasOwnProperty.call(ue,Re)&&ge.indexOf(Re)<0&&(Ce[Re]=ue[Re]);if(null!=ue&&"function"==typeof Object.getOwnPropertySymbols){var Be=0;for(Re=Object.getOwnPropertySymbols(ue);Be<Re.length;Be++)ge.indexOf(Re[Be])<0&&Object.prototype.propertyIsEnumerable.call(ue,Re[Be])&&(Ce[Re[Be]]=ue[Re[Be]])}return Ce}function K(ue,ge,Ce,Re){return new(Ce||(Ce=Promise))(function(He,ot){function Je(rn){try{St(Re.next(rn))}catch(ct){ot(ct)}}function hn(rn){try{St(Re.throw(rn))}catch(ct){ot(ct)}}function St(rn){rn.done?He(rn.value):function Be(He){return He instanceof Ce?He:new Ce(function(ot){ot(He)})}(rn.value).then(Je,hn)}St((Re=Re.apply(ue,ge||[])).next())})}function re(ue){return this instanceof re?(this.v=ue,this):new re(ue)}function ie(ue,ge,Ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Be,Re=Ce.apply(ue,ge||[]),He=[];return Be={},ot("next"),ot("throw"),ot("return"),Be[Symbol.asyncIterator]=function(){return this},Be;function ot(Lt){Re[Lt]&&(Be[Lt]=function(ti){return new Promise(function(wn,Mn){He.push([Lt,ti,wn,Mn])>1||Je(Lt,ti)})})}function Je(Lt,ti){try{!function hn(Lt){Lt.value instanceof re?Promise.resolve(Lt.value.v).then(St,rn):ct(He[0][2],Lt)}(Re[Lt](ti))}catch(wn){ct(He[0][3],wn)}}function St(Lt){Je("next",Lt)}function rn(Lt){Je("throw",Lt)}function ct(Lt,ti){Lt(ti),He.shift(),He.length&&Je(He[0][0],He[0][1])}}function be(ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ce,ge=ue[Symbol.asyncIterator];return ge?ge.call(ue):(ue=function ht(ue){var ge="function"==typeof Symbol&&Symbol.iterator,Ce=ge&&ue[ge],Re=0;if(Ce)return Ce.call(ue);if(ue&&"number"==typeof ue.length)return{next:function(){return ue&&Re>=ue.length&&(ue=void 0),{value:ue&&ue[Re++],done:!ue}}};throw new TypeError(ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(ue),Ce={},Re("next"),Re("throw"),Re("return"),Ce[Symbol.asyncIterator]=function(){return this},Ce);function Re(He){Ce[He]=ue[He]&&function(ot){return new Promise(function(Je,hn){!function Be(He,ot,Je,hn){Promise.resolve(hn).then(function(St){He({value:St,done:Je})},ot)}(Je,hn,(ot=ue[He](ot)).done,ot.value)})}}}P.d(Se,{FC:()=>ie,KL:()=>be,_T:()=>oe,mG:()=>K,qq:()=>re})},4650:(ut,Se,P)=>{P.d(Se,{$8M:()=>sa,$WT:()=>$o,$Z:()=>yc,AFp:()=>ju,ALo:()=>H_,AaK:()=>le,B6R:()=>sh,CHM:()=>mh,CRH:()=>W_,CZH:()=>ry,CqO:()=>Lx,D6c:()=>GT,DdM:()=>Nu,EJc:()=>vC,EiD:()=>Kw,EpF:()=>Wv,F$t:()=>Cf,F4k:()=>Nx,FYo:()=>lx,FiY:()=>X,Gf:()=>q_,GfV:()=>dx,Gpc:()=>G,Hsn:()=>Bs,Ikx:()=>Au,JOm:()=>es,JVY:()=>me,JZr:()=>ht,KtG:()=>bm,L6k:()=>$e,LAX:()=>Dt,LFG:()=>Ge,Lbi:()=>dT,Lck:()=>UD,MAs:()=>Ox,MMx:()=>Pp,MR2:()=>ex,NdJ:()=>Zv,O4$:()=>el,OlP:()=>mn,Oqu:()=>C_,P3R:()=>Xh,PXZ:()=>Wp,Q6J:()=>Yt,QGY:()=>y_,QbO:()=>Gn,Qsj:()=>SI,R0b:()=>cr,RDi:()=>fa,Rgc:()=>Vu,SBq:()=>nf,Sil:()=>mT,Suo:()=>eC,TTD:()=>ws,TgZ:()=>jl,Udp:()=>ob,VKq:()=>Ic,W1O:()=>nC,X6Q:()=>fy,XFs:()=>vt,Xpm:()=>Nc,Xts:()=>lu,Y36:()=>uf,YKP:()=>V_,YNc:()=>wf,Yjl:()=>cd,Yz7:()=>ct,Z0I:()=>Mn,ZZ4:()=>V0,_Bn:()=>$b,_UZ:()=>xf,_Vd:()=>Cl,_c5:()=>HT,_uU:()=>Tf,aQg:()=>OC,c2e:()=>w1,cJS:()=>ti,cg1:()=>D_,dDg:()=>CC,dqk:()=>Ut,eBb:()=>dt,eFA:()=>Xf,eJc:()=>u0,ekj:()=>sb,eoX:()=>cy,f3M:()=>lt,g9A:()=>oy,h0i:()=>zf,hGG:()=>$T,hij:()=>kf,iGM:()=>Da,ifc:()=>te,ip1:()=>C0,jDz:()=>Pu,kL8:()=>Ru,kcU:()=>vh,lG2:()=>ad,lcZ:()=>GE,lqb:()=>ga,lri:()=>qp,mCW:()=>bl,n5z:()=>Fd,n_E:()=>qf,oAB:()=>Vc,oxw:()=>v_,pB0:()=>Et,q3G:()=>li,q4F:()=>pv,qLn:()=>yi,qOj:()=>u_,qZA:()=>zl,qzn:()=>O,rWj:()=>Qf,sBO:()=>IT,s_b:()=>Vp,soG:()=>ei,tBr:()=>F,tb:()=>Ql,tp0:()=>ke,uIk:()=>m_,vHH:()=>ye,vpe:()=>Ia,wAp:()=>At,xi3:()=>e0,xp6:()=>mx,z2F:()=>A0,z3N:()=>D,zSh:()=>du,zs3:()=>_c});var a=P(7579),Q=P(727),N=P(9751),oe=P(6451),se=P(3099);function J(o){for(let c in o)if(o[c]===J)return c;throw Error("Could not find renamed property on target object.")}function _e(o,c){for(const l in c)c.hasOwnProperty(l)&&!o.hasOwnProperty(l)&&(o[l]=c[l])}function le(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(le).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const c=o.toString();if(null==c)return""+c;const l=c.indexOf("\n");return-1===l?c:c.substring(0,l)}function ae(o,c){return null==o||""===o?null===c?"":c:null==c||""===c?o:o+" "+c}const H=J({__forward_ref__:J});function G(o){return o.__forward_ref__=G,o.toString=function(){return le(this())},o}function K(o){return Pe(o)?o():o}function Pe(o){return"function"==typeof o&&o.hasOwnProperty(H)&&o.__forward_ref__===G}function De(o){return o&&!!o.\u0275providers}const ht="https://g.co/ng/security#xss";class ye extends Error{constructor(c,l){super(Ae(c,l)),this.code=c}}function Ae(o,c){return`NG0${Math.abs(o)}${c?": "+c.trim():""}`}function Ie(o){return"string"==typeof o?o:null==o?"":String(o)}function be(o,c){throw new ye(-201,!1)}function ot(o,c){null==o&&function Je(o,c,l,u){throw new Error(`ASSERTION ERROR: ${o}`+(null==u?"":` [Expected=> ${l} ${u} ${c} <=Actual]`))}(c,o,null,"!=")}function ct(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function ti(o){return{providers:o.providers||[],imports:o.imports||[]}}function wn(o){return Pn(o,mr)||Pn(o,Rn)}function Mn(o){return null!==wn(o)}function Pn(o,c){return o.hasOwnProperty(c)?o[c]:null}function Rr(o){return o&&(o.hasOwnProperty(zo)||o.hasOwnProperty(pr))?o[zo]:null}const mr=J({\u0275prov:J}),zo=J({\u0275inj:J}),Rn=J({ngInjectableDef:J}),pr=J({ngInjectorDef:J});var vt=(()=>((vt=vt||{})[vt.Default=0]="Default",vt[vt.Host=1]="Host",vt[vt.Self=2]="Self",vt[vt.SkipSelf=4]="SkipSelf",vt[vt.Optional=8]="Optional",vt))();let Ho;function Nn(o){const c=Ho;return Ho=o,c}function Vi(o,c,l){const u=wn(o);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:l&vt.Optional?null:void 0!==c?c:void be(le(o))}const Ut=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Dn={},ni="__NG_DI_FLAG__",Yi="ngTempTokenPath",Bi="ngTokenPath",La=/\n/gm,pn="\u0275",vo="__source";let tn;function Qi(o){const c=tn;return tn=o,c}function eo(o,c=vt.Default){if(void 0===tn)throw new ye(-203,!1);return null===tn?Vi(o,void 0,c):tn.get(o,c&vt.Optional?null:void 0,c)}function Ge(o,c=vt.Default){return(function Br(){return Ho}()||eo)(K(o),c)}function lt(o,c=vt.Default){return Ge(o,Tt(c))}function Tt(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function Vt(o){const c=[];for(let l=0;l<o.length;l++){const u=K(o[l]);if(Array.isArray(u)){if(0===u.length)throw new ye(900,!1);let h,p=vt.Default;for(let v=0;v<u.length;v++){const x=u[v],C=Ui(x);"number"==typeof C?-1===C?h=x.token:p|=C:h=x}c.push(Ge(h,p))}else c.push(Ge(u))}return c}function Wt(o,c){return o[ni]=c,o.prototype[ni]=c,o}function Ui(o){return o[ni]}function Z(o){return{toString:o}.toString()}var we=(()=>((we=we||{})[we.OnPush=0]="OnPush",we[we.Default=1]="Default",we))(),te=(()=>{return(o=te||(te={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",te;var o})();const st={},Xe=[],yn=J({\u0275cmp:J}),Ln=J({\u0275dir:J}),jn=J({\u0275pipe:J}),mi=J({\u0275mod:J}),zt=J({\u0275fac:J}),Xi=J({__NG_ELEMENT_ID__:J});let to=0;function Nc(o){return Z(()=>{const c=ji(o),l={...c,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===we.OnPush,directiveDefs:null,pipeDefs:null,dependencies:c.standalone&&o.dependencies||null,getStandaloneInjector:null,data:o.data||{},encapsulation:o.encapsulation||te.Emulated,id:"c"+to++,styles:o.styles||Xe,_:null,schemas:o.schemas||null,tView:null};Va(l);const u=o.dependencies;return l.directiveDefs=ps(u,!1),l.pipeDefs=ps(u,!0),l})}function sh(o,c,l){const u=o.\u0275cmp;u.directiveDefs=ps(c,!1),u.pipeDefs=ps(l,!0)}function sd(o){return nn(o)||ii(o)}function Lc(o){return null!==o}function Vc(o){return Z(()=>({type:o.type,bootstrap:o.bootstrap||Xe,declarations:o.declarations||Xe,imports:o.imports||Xe,exports:o.exports||Xe,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function zn(o,c){if(null==o)return st;const l={};for(const u in o)if(o.hasOwnProperty(u)){let h=o[u],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),l[h]=u,c&&(c[h]=p)}return l}function ad(o){return Z(()=>{const c=ji(o);return Va(c),c})}function cd(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function nn(o){return o[yn]||null}function ii(o){return o[Ln]||null}function xi(o){return o[jn]||null}function $o(o){const c=nn(o)||ii(o)||xi(o);return null!==c&&c.standalone}function pi(o,c){const l=o[mi]||null;if(!l&&!0===c)throw new Error(`Type ${le(o)} does not have '\u0275mod' property.`);return l}function ji(o){const c={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:c,exportAs:o.exportAs||null,standalone:!0===o.standalone,selectors:o.selectors||Xe,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:zn(o.inputs,c),outputs:zn(o.outputs)}}function Va(o){o.features?.forEach(c=>c(o))}function ps(o,c){if(!o)return null;const l=c?xi:sd;return()=>("function"==typeof o?o():o).map(u=>l(u)).filter(Lc)}const Or=0,nt=1,Ht=2,Cn=3,gr=4,no=5,Sn=6,gs=7,On=8,Ei=9,Ba=10,Kt=11,Zs=12,_s=13,Go=14,Ua=15,Ci=16,Ks=17,qo=18,Ji=19,zi=20,ld=21,Xt=22,dd=1,Bc=2,ys=7,ri=8,Ys=9,Si=10;function _r(o){return Array.isArray(o)&&"object"==typeof o[dd]}function yr(o){return Array.isArray(o)&&!0===o[dd]}function wo(o){return 0!=(4&o.flags)}function Uc(o){return o.componentOffset>-1}function Wo(o){return 1==(1&o.flags)}function Hi(o){return!!o.template}function ah(o){return 0!=(256&o[Ht])}function vr(o,c){return o.hasOwnProperty(zt)?o[zt]:null}class dh{constructor(c,l,u){this.previousValue=c,this.currentValue=l,this.firstChange=u}isFirstChange(){return this.firstChange}}function ws(){return za}function za(o){return o.type.prototype.ngOnChanges&&(o.setInput=Js),Xs}function Xs(){const o=Hc(this),c=o?.current;if(c){const l=o.previous;if(l===st)o.previous=c;else for(let u in c)l[u]=c[u];o.current=null,this.ngOnChanges(c)}}function Js(o,c,l,u){const h=this.declaredInputs[l],p=Hc(o)||function $c(o,c){return o[Ha]=c}(o,{previous:st,current:null}),v=p.current||(p.current={}),x=p.previous,C=x[h];v[h]=new dh(C&&C.currentValue,c,x===st),o[u]=c}ws.ngInherit=!0;const Ha="__ngSimpleChanges__";function Hc(o){return o[Ha]||null}const cn=function(o,c,l){},Gc="svg";function Vn(o){for(;Array.isArray(o);)o=o[Or];return o}function ro(o,c){return Vn(c[o])}function $i(o,c){return Vn(c[o.index])}function md(o,c){return o.data[c]}function oo(o,c){return o[c]}function Ii(o,c){const l=c[o];return _r(l)?l:l[Or]}function xs(o){return 64==(64&o[Ht])}function Ur(o,c){return null==c?null:o[c]}function Wc(o){o[qo]=0}function qa(o,c){o[no]+=c;let l=o,u=o[Cn];for(;null!==u&&(1===c&&1===l[no]||-1===c&&0===l[no]);)u[no]+=c,l=u,u=u[Cn]}const Ft={lFrame:xg(null),bindingsEnabled:!0};function fh(){return Ft.bindingsEnabled}function Me(){return Ft.lFrame.lView}function Jt(){return Ft.lFrame.tView}function mh(o){return Ft.lFrame.contextLView=o,o[On]}function bm(o){return Ft.lFrame.contextLView=null,o}function Kn(){let o=wm();for(;null!==o&&64===o.type;)o=o.parent;return o}function wm(){return Ft.lFrame.currentTNode}function jr(o,c){const l=Ft.lFrame;l.currentTNode=o,l.isParent=c}function Kc(){return Ft.lFrame.isParent}function Yc(){Ft.lFrame.isParent=!1}function oi(){const o=Ft.lFrame;let c=o.bindingRootIndex;return-1===c&&(c=o.bindingRootIndex=o.tView.bindingStartIndex),c}function Es(){return Ft.lFrame.bindingIndex++}function Ed(o,c){const l=Ft.lFrame;l.bindingIndex=l.bindingRootIndex=o,Eo(c)}function Eo(o){Ft.lFrame.currentDirectiveIndex=o}function gh(){return Ft.lFrame.currentQueryIndex}function Jc(o){Ft.lFrame.currentQueryIndex=o}function wg(o){const c=o[nt];return 2===c.type?c.declTNode:1===c.type?o[Sn]:null}function Sd(o,c,l){if(l&vt.SkipSelf){let h=c,p=o;for(;!(h=h.parent,null!==h||l&vt.Host||(h=wg(p),null===h||(p=p[Ua],10&h.type))););if(null===h)return!1;c=h,o=p}const u=Ft.lFrame=qy();return u.currentTNode=c,u.lView=o,!0}function _h(o){const c=qy(),l=o[nt];Ft.lFrame=c,c.currentTNode=l.firstChild,c.lView=o,c.tView=l,c.contextLView=o,c.bindingIndex=l.bindingStartIndex,c.inI18n=!1}function qy(){const o=Ft.lFrame,c=null===o?null:o.child;return null===c?xg(o):c}function xg(o){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=c),c}function Id(){const o=Ft.lFrame;return Ft.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Wy=Id;function Em(){const o=Id();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function er(){return Ft.lFrame.selectedIndex}function Yo(o){Ft.lFrame.selectedIndex=o}function gn(){const o=Ft.lFrame;return md(o.tView,o.selectedIndex)}function el(){Ft.lFrame.currentNamespace=Gc}function vh(){!function Cg(){Ft.lFrame.currentNamespace=null}()}function Cs(o,c){for(let l=c.directiveStart,u=c.directiveEnd;l<u;l++){const p=o.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:x,ngAfterViewInit:C,ngAfterViewChecked:T,ngOnDestroy:M}=p;v&&(o.contentHooks||(o.contentHooks=[])).push(-l,v),x&&((o.contentHooks||(o.contentHooks=[])).push(l,x),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(l,x)),C&&(o.viewHooks||(o.viewHooks=[])).push(-l,C),T&&((o.viewHooks||(o.viewHooks=[])).push(l,T),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(l,T)),null!=M&&(o.destroyHooks||(o.destroyHooks=[])).push(l,M)}}function Dd(o,c,l){ta(o,c,3,l)}function Co(o,c,l,u){(3&o[Ht])===l&&ta(o,c,l,u)}function ea(o,c){let l=o[Ht];(3&l)===c&&(l&=2047,l+=1,o[Ht]=l)}function ta(o,c,l,u){const p=u??-1,v=c.length-1;let x=0;for(let C=void 0!==u?65535&o[qo]:0;C<v;C++)if("number"==typeof c[C+1]){if(x=c[C],null!=u&&x>=u)break}else c[C]<0&&(o[qo]+=65536),(x<p||-1==p)&&(Cm(o,l,c,C),o[qo]=(4294901760&o[qo])+C+2),C++}function Cm(o,c,l,u){const h=l[u]<0,p=l[u+1],x=o[h?-l[u]:l[u]];if(h){if(o[Ht]>>11<o[qo]>>16&&(3&o[Ht])===c){o[Ht]+=2048,cn(4,x,p);try{p.call(x)}finally{cn(5,x,p)}}}else{cn(4,x,p);try{p.call(x)}finally{cn(5,x,p)}}}const So=-1;class Oi{constructor(c,l,u){this.factory=c,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=u}}function na(o,c,l){let u=0;for(;u<l.length;){const h=l[u];if("number"==typeof h){if(0!==h)break;u++;const p=l[u++],v=l[u++],x=l[u++];o.setAttribute(c,v,x,p)}else{const p=h,v=l[++u];ia(p)?o.setProperty(c,p,v):o.setAttribute(c,p,v),u++}}return u}function Io(o){return 3===o||4===o||6===o}function ia(o){return 64===o.charCodeAt(0)}function Do(o,c){if(null!==c&&0!==c.length)if(null===o||0===o.length)o=c.slice();else{let l=-1;for(let u=0;u<c.length;u++){const h=c[u];"number"==typeof h?l=h:0===l||Td(o,l,h,null,-1===l||2===l?c[++u]:null)}}return o}function Td(o,c,l,u,h){let p=0,v=o.length;if(-1===c)v=-1;else for(;p<o.length;){const x=o[p++];if("number"==typeof x){if(x===c){v=-1;break}if(x>c){v=p-1;break}}}for(;p<o.length;){const x=o[p];if("number"==typeof x)break;if(x===l){if(null===u)return void(null!==h&&(o[p+1]=h));if(u===o[p+1])return void(o[p+2]=h)}p++,null!==u&&p++,null!==h&&p++}-1!==v&&(o.splice(v,0,c),p=v+1),o.splice(p++,0,l),null!==u&&o.splice(p++,0,u),null!==h&&o.splice(p++,0,h)}function kd(o){return o!==So}function Ss(o){return 32767&o}function To(o,c){let l=function Dm(o){return o>>16}(o),u=c;for(;l>0;)u=u[Ua],l--;return u}let Ya=!0;function co(o){const c=Ya;return Ya=o,c}const Qa=255,Xa=5;let Is=0;const tr={};function ko(o,c){const l=Rd(o,c);if(-1!==l)return l;const u=c[nt];u.firstCreatePass&&(o.injectorIndex=c.length,ra(u.data,o),ra(c,null),ra(u.blueprint,null));const h=Ja(o,c),p=o.injectorIndex;if(kd(h)){const v=Ss(h),x=To(h,c),C=x[nt].data;for(let T=0;T<8;T++)c[p+T]=x[v+T]|C[v+T]}return c[p+8]=h,p}function ra(o,c){o.push(0,0,0,0,0,0,0,0,c)}function Rd(o,c){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===c[o.injectorIndex+8]?-1:o.injectorIndex}function Ja(o,c){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let l=0,u=null,h=c;for(;null!==h;){if(u=Pd(h),null===u)return So;if(l++,h=h[Ua],-1!==u.injectorIndex)return u.injectorIndex|l<<16}return So}function ec(o,c,l){!function Md(o,c,l){let u;"string"==typeof l?u=l.charCodeAt(0)||0:l.hasOwnProperty(Xi)&&(u=l[Xi]),null==u&&(u=l[Xi]=Is++);const h=u&Qa;c.data[o+(h>>Xa)]|=1<<h}(o,c,l)}function tc(o,c,l){if(l&vt.Optional||void 0!==o)return o;be()}function wh(o,c,l,u){if(l&vt.Optional&&void 0===u&&(u=null),!(l&(vt.Self|vt.Host))){const h=o[Ei],p=Nn(void 0);try{return h?h.get(c,u,l&vt.Optional):Vi(c,u,l&vt.Optional)}finally{Nn(p)}}return tc(u,0,l)}function lo(o,c,l,u=vt.Default,h){if(null!==o){if(1024&c[Ht]){const v=function xh(o,c,l,u,h){let p=o,v=c;for(;null!==p&&null!==v&&1024&v[Ht]&&!(256&v[Ht]);){const x=nc(p,v,l,u|vt.Self,tr);if(x!==tr)return x;let C=p.parent;if(!C){const T=v[ld];if(T){const M=T.get(l,tr,u);if(M!==tr)return M}C=Pd(v),v=v[Ua]}p=C}return h}(o,c,l,u,tr);if(v!==tr)return v}const p=nc(o,c,l,u,tr);if(p!==tr)return p}return wh(c,l,u,h)}function nc(o,c,l,u,h){const p=function Od(o){if("string"==typeof o)return o.charCodeAt(0)||0;const c=o.hasOwnProperty(Xi)?o[Xi]:void 0;return"number"==typeof c?c>=0?c&Qa:Tm:c}(l);if("function"==typeof p){if(!Sd(c,o,u))return u&vt.Host?tc(h,0,u):wh(c,l,u,h);try{const v=p(u);if(null!=v||u&vt.Optional)return v;be()}finally{Wy()}}else if("number"==typeof p){let v=null,x=Rd(o,c),C=So,T=u&vt.Host?c[Ci][Sn]:null;for((-1===x||u&vt.SkipSelf)&&(C=-1===x?Ja(o,c):c[x+8],C!==So&&Ts(u,!1)?(v=c[nt],x=Ss(C),c=To(C,c)):x=-1);-1!==x;){const M=c[nt];if(Ao(p,x,M.data)){const B=tl(x,c,l,v,u,T);if(B!==tr)return B}C=c[x+8],C!==So&&Ts(u,c[nt].data[x+8]===T)&&Ao(p,x,c)?(v=M,x=Ss(C),c=To(C,c)):x=-1}}return h}function tl(o,c,l,u,h,p){const v=c[nt],x=v.data[o+8],M=Ds(x,v,l,null==u?Uc(x)&&Ya:u!=v&&0!=(3&x.type),h&vt.Host&&p===x);return null!==M?Xo(c,v,M,x):tr}function Ds(o,c,l,u,h){const p=o.providerIndexes,v=c.data,x=1048575&p,C=o.directiveStart,M=p>>20,q=h?x+M:o.directiveEnd;for(let ee=u?x:x+M;ee<q;ee++){const xe=v[ee];if(ee<C&&l===xe||ee>=C&&xe.type===l)return ee}if(h){const ee=v[C];if(ee&&Hi(ee)&&ee.type===l)return C}return null}function Xo(o,c,l,u){let h=o[l];const p=c.data;if(function Za(o){return o instanceof Oi}(h)){const v=h;v.resolving&&function re(o,c){const l=c?`. Dependency path: ${c.join(" > ")} > ${o}`:"";throw new ye(-200,`Circular dependency in DI detected for ${o}${l}`)}(function Le(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Ie(o)}(p[l]));const x=co(v.canSeeViewProviders);v.resolving=!0;const C=v.injectImpl?Nn(v.injectImpl):null;Sd(o,u,vt.Default);try{h=o[l]=v.factory(void 0,p,o,u),c.firstCreatePass&&l>=u.directiveStart&&function bh(o,c,l){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:p}=c.type.prototype;if(u){const v=za(c);(l.preOrderHooks||(l.preOrderHooks=[])).push(o,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(o,v)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-o,h),p&&((l.preOrderHooks||(l.preOrderHooks=[])).push(o,p),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(o,p))}(l,p[l],c)}finally{null!==C&&Nn(C),co(x),v.resolving=!1,Wy()}}return h}function Ao(o,c,l){return!!(l[c+(o>>Xa)]&1<<o)}function Ts(o,c){return!(o&vt.Self||o&vt.Host&&c)}class ic{constructor(c,l){this._tNode=c,this._lView=l}get(c,l,u){return lo(this._tNode,this._lView,c,Tt(u),l)}}function Tm(){return new ic(Kn(),Me())}function Fd(o){return Z(()=>{const c=o.prototype.constructor,l=c[zt]||nl(c),u=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==u;){const p=h[zt]||nl(h);if(p&&p!==l)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function nl(o){return Pe(o)?()=>{const c=nl(K(o));return c&&c()}:vr(o)}function Pd(o){const c=o[nt],l=c.type;return 2===l?c.declTNode:1===l?o[Sn]:null}function sa(o){return function oa(o,c){if("class"===c)return o.classes;if("style"===c)return o.styles;const l=o.attrs;if(l){const u=l.length;let h=0;for(;h<u;){const p=l[h];if(Io(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<u&&"string"==typeof l[h];)h++;else{if(p===c)return l[h+1];h+=2}}}return null}(Kn(),o)}const il="__parameters__";function ks(o,c,l){return Z(()=>{const u=function Eh(o){return function(...l){if(o){const u=o(...l);for(const h in u)this[h]=u[h]}}}(c);function h(...p){if(this instanceof h)return u.apply(this,p),this;const v=new h(...p);return x.annotation=v,x;function x(C,T,M){const B=C.hasOwnProperty(il)?C[il]:Object.defineProperty(C,il,{value:[]})[il];for(;B.length<=M;)B.push(null);return(B[M]=B[M]||[]).push(v),C}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}class mn{constructor(c,l){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=ct({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function da(o,c){o.forEach(l=>Array.isArray(l)?da(l,c):c(l))}function Tg(o,c,l){c>=o.length?o.push(l):o.splice(c,0,l)}function kh(o,c){return c>=o.length-1?o.pop():o.splice(c,1)[0]}function ua(o,c){const l=[];for(let u=0;u<o;u++)l.push(c);return l}function ai(o,c,l){let u=$t(o,c);return u>=0?o[1|u]=l:(u=~u,function Ld(o,c,l,u){let h=o.length;if(h==c)o.push(l,u);else if(1===h)o.push(u,o[0]),o[0]=l;else{for(h--,o.push(o[h-1],o[h]);h>c;)o[h]=o[h-2],h--;o[c]=l,o[c+1]=u}}(o,u,c,l)),u}function fn(o,c){const l=$t(o,c);if(l>=0)return o[1|l]}function $t(o,c){return function Ze(o,c,l){let u=0,h=o.length>>l;for(;h!==u;){const p=u+(h-u>>1),v=o[p<<l];if(c===v)return p<<l;v>c?h=p:u=p+1}return~(h<<l)}(o,c,1)}const F=Wt(ks("Inject",o=>({token:o})),-1),X=Wt(ks("Optional"),8),ke=Wt(ks("SkipSelf"),4);var es=(()=>((es=es||{})[es.Important=1]="Important",es[es.DashCase=2]="DashCase",es))();const Pm=new Map;let Oh=0;const Lm="__ngContext__";function gi(o,c){_r(c)?(o[Lm]=c[zi],function Ph(o){Pm.set(o[zi],o)}(c)):o[Lm]=c}let Gd;function qd(o,c){return Gd(o,c)}function fl(o){const c=o[Cn];return yr(c)?c[Cn]:c}function Bh(o){return jh(o[_s])}function Uh(o){return jh(o[gr])}function jh(o){for(;null!==o&&!yr(o);)o=o[gr];return o}function lc(o,c,l,u,h){if(null!=u){let p,v=!1;yr(u)?p=u:_r(u)&&(v=!0,u=u[Or]);const x=Vn(u);0===o&&null!==l?null==h?Xd(c,l,x):Oo(c,l,x,h||null,!0):1===o&&null!==l?Oo(c,l,x,h||null,!0):2===o?function ts(o,c,l){const u=$h(o,c);u&&function Wm(o,c,l,u){o.removeChild(c,l,u)}(o,u,c,l)}(c,x,v):3===o&&c.destroyNode(x),null!=p&&function Zm(o,c,l,u,h){const p=l[ys];p!==Vn(l)&&lc(c,o,u,p,h);for(let x=Si;x<l.length;x++){const C=l[x];ns(C[nt],C,o,c,u,p)}}(c,o,p,l,h)}}function Yd(o,c,l){return o.createElement(c,l)}function Hm(o,c){const l=o[Ys],u=l.indexOf(c),h=c[Cn];512&c[Ht]&&(c[Ht]&=-513,qa(h,-1)),l.splice(u,1)}function $m(o,c){if(o.length<=Si)return;const l=Si+c,u=o[l];if(u){const h=u[Ks];null!==h&&h!==o&&Hm(h,u),c>0&&(o[l-1][gr]=u[gr]);const p=kh(o,Si+c);!function Fi(o,c){ns(o,c,c[Kt],2,null,null),c[Or]=null,c[Sn]=null}(u[nt],u);const v=p[Ji];null!==v&&v.detachView(p[nt]),u[Cn]=null,u[gr]=null,u[Ht]&=-65}return u}function Pg(o,c){if(!(128&c[Ht])){const l=c[Kt];l.destroyNode&&ns(o,c,l,3,null,null),function zm(o){let c=o[_s];if(!c)return Qd(o[nt],o);for(;c;){let l=null;if(_r(c))l=c[_s];else{const u=c[Si];u&&(l=u)}if(!l){for(;c&&!c[gr]&&c!==o;)_r(c)&&Qd(c[nt],c),c=c[Cn];null===c&&(c=o),_r(c)&&Qd(c[nt],c),l=c&&c[gr]}c=l}}(c)}}function Qd(o,c){if(!(128&c[Ht])){c[Ht]&=-65,c[Ht]|=128,function tv(o,c){let l;if(null!=o&&null!=(l=o.destroyHooks))for(let u=0;u<l.length;u+=2){const h=c[l[u]];if(!(h instanceof Oi)){const p=l[u+1];if(Array.isArray(p))for(let v=0;v<p.length;v+=2){const x=h[p[v]],C=p[v+1];cn(4,x,C);try{C.call(x)}finally{cn(5,x,C)}}else{cn(4,h,p);try{p.call(h)}finally{cn(5,h,p)}}}}}(o,c),function Gm(o,c){const l=o.cleanup,u=c[gs];let h=-1;if(null!==l)for(let p=0;p<l.length-1;p+=2)if("string"==typeof l[p]){const v=l[p+3];v>=0?u[h=v]():u[h=-v].unsubscribe(),p+=2}else{const v=u[h=l[p+1]];l[p].call(v)}if(null!==u){for(let p=h+1;p<u.length;p++)(0,u[p])();c[gs]=null}}(o,c),1===c[nt].type&&c[Kt].destroy();const l=c[Ks];if(null!==l&&yr(c[Cn])){l!==c[Cn]&&Hm(l,c);const u=c[Ji];null!==u&&u.detachView(o)}!function jd(o){Pm.delete(o[zi])}(c)}}function Hh(o,c,l){return function qm(o,c,l){let u=c;for(;null!==u&&40&u.type;)u=(c=u).parent;if(null===u)return l[Or];{const{componentOffset:h}=u;if(h>-1){const{encapsulation:p}=o.data[u.directiveStart+h];if(p===te.None||p===te.Emulated)return null}return $i(u,l)}}(o,c.parent,l)}function Oo(o,c,l,u,h){o.insertBefore(c,l,u,h)}function Xd(o,c,l){o.appendChild(c,l)}function Jd(o,c,l,u,h){null!==u?Oo(o,c,l,u,h):Xd(o,c,l)}function $h(o,c){return o.parentNode(c)}function Gh(o,c,l){return nu(o,c,l)}let dc,ru,$r,_l,nu=function tu(o,c,l){return 40&o.type?$i(o,l):null};function pl(o,c,l,u){const h=Hh(o,u,c),p=c[Kt],x=Gh(u.parent||c[Sn],u,c);if(null!=h)if(Array.isArray(l))for(let C=0;C<l.length;C++)Jd(p,h,l[C],x,!1);else Jd(p,h,l,x,!1);void 0!==dc&&dc(p,u,c,l,h)}function Fs(o,c){if(null!==c){const l=c.type;if(3&l)return $i(c,o);if(4&l)return uc(-1,o[c.index]);if(8&l){const u=c.child;if(null!==u)return Fs(o,u);{const h=o[c.index];return yr(h)?uc(-1,h):Vn(h)}}if(32&l)return qd(c,o)()||Vn(o[c.index]);{const u=Nr(o,c);return null!==u?Array.isArray(u)?u[0]:Fs(fl(o[Ci]),u):Fs(o,c.next)}}return null}function Nr(o,c){return null!==c?o[Ci][Sn].projection[c.projection]:null}function uc(o,c){const l=Si+o+1;if(l<c.length){const u=c[l],h=u[nt].firstChild;if(null!==h)return Fs(u,h)}return c[ys]}function qh(o,c,l,u,h,p,v){for(;null!=l;){const x=u[l.index],C=l.type;if(v&&0===c&&(x&&gi(Vn(x),u),l.flags|=2),32!=(32&l.flags))if(8&C)qh(o,c,l.child,u,h,p,!1),lc(c,o,h,x,p);else if(32&C){const T=qd(l,u);let M;for(;M=T();)lc(c,o,h,M,p);lc(c,o,h,x,p)}else 16&C?gl(o,c,u,l,h,p):lc(c,o,h,x,p);l=v?l.projectionNext:l.next}}function ns(o,c,l,u,h,p){qh(l,u,o.firstChild,c,h,p,!1)}function gl(o,c,l,u,h,p){const v=l[Ci],C=v[Sn].projection[u.projection];if(Array.isArray(C))for(let T=0;T<C.length;T++)lc(c,o,h,C[T],p);else qh(o,c,C,v[Cn],h,p,!0)}function hc(o,c,l){""===l?o.removeAttribute(c,"class"):o.setAttribute(c,"class",l)}function iu(o,c,l){const{mergedAttrs:u,classes:h,styles:p}=l;null!==u&&na(o,c,u),null!==h&&hc(o,c,h),null!==p&&function Ps(o,c,l){o.setAttribute(c,"style",l)}(o,c,p)}function ha(o){return function ou(){if(void 0===ru&&(ru=null,Ut.trustedTypes))try{ru=Ut.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return ru}()?.createHTML(o)||o}function fa(o){$r=o}function Kh(o){return function Ym(){if(void 0===_l&&(_l=null,Ut.trustedTypes))try{_l=Ut.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return _l}()?.createScriptURL(o)||o}class ma{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ht})`}}class Lg extends ma{getTypeName(){return"HTML"}}class y extends ma{getTypeName(){return"Style"}}class m extends ma{getTypeName(){return"Script"}}class g extends ma{getTypeName(){return"URL"}}class w extends ma{getTypeName(){return"ResourceURL"}}function D(o){return o instanceof ma?o.changingThisBreaksApplicationSecurity:o}function O(o,c){const l=function W(o){return o instanceof ma&&o.getTypeName()||null}(o);if(null!=l&&l!==c){if("ResourceURL"===l&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${l} (see ${ht})`)}return l===c}function me(o){return new Lg(o)}function $e(o){return new y(o)}function dt(o){return new m(o)}function Dt(o){return new g(o)}function Et(o){return new w(o)}class Wi{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const l=(new window.DOMParser).parseFromString(ha(c),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(c):(l.removeChild(l.firstChild),l)}catch{return null}}}class ho{constructor(c){this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(c){const l=this.inertDocument.createElement("template");return l.innerHTML=ha(c),l}}const vl=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function bl(o){return(o=String(o)).match(vl)?o:"unsafe:"+o}function ln(o){const c={};for(const l of o.split(","))c[l]=!0;return c}function is(...o){const c={};for(const l of o)for(const u in l)l.hasOwnProperty(u)&&(c[u]=!0);return c}const pc=ln("area,br,col,hr,img,wbr"),gc=ln("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Yh=ln("rp,rt"),Qm=is(pc,is(gc,ln("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),is(Yh,ln("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),is(Yh,gc)),iv=ln("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),rv=is(iv,ln("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ln("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),qw=ln("script,style,template");class Ww{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let l=c.firstChild,u=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?u=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,u&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(c){const l=c.nodeName.toLowerCase();if(!Qm.hasOwnProperty(l))return this.sanitizedSomething=!0,!qw.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const u=c.attributes;for(let h=0;h<u.length;h++){const p=u.item(h),v=p.name,x=v.toLowerCase();if(!rv.hasOwnProperty(x)){this.sanitizedSomething=!0;continue}let C=p.value;iv[x]&&(C=bl(C)),this.buf.push(" ",v,'="',Zw(C),'"')}return this.buf.push(">"),!0}endElement(c){const l=c.nodeName.toLowerCase();Qm.hasOwnProperty(l)&&!pc.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(c){this.buf.push(Zw(c))}checkClobberedElement(c,l){if(l&&(c.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return l}}const Qh=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,yI=/([^\#-~ |!])/g;function Zw(o){return o.replace(/&/g,"&amp;").replace(Qh,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(yI,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Xm;function Kw(o,c){let l=null;try{Xm=Xm||function _i(o){const c=new ho(o);return function au(){try{return!!(new window.DOMParser).parseFromString(ha(""),"text/html")}catch{return!1}}()?new Wi(c):c}(o);let u=c?String(c):"";l=Xm.getInertBodyElement(u);let h=5,p=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=p,p=l.innerHTML,l=Xm.getInertBodyElement(u)}while(u!==p);return ha((new Ww).sanitizeChildren(jg(l)||l))}finally{if(l){const u=jg(l)||l;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function jg(o){return"content"in o&&function Yw(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var li=(()=>((li=li||{})[li.NONE=0]="NONE",li[li.HTML=1]="HTML",li[li.STYLE=2]="STYLE",li[li.SCRIPT=3]="SCRIPT",li[li.URL=4]="URL",li[li.RESOURCE_URL=5]="RESOURCE_URL",li))();function sv(o){const c=Jh();return c?c.sanitize(li.URL,o)||"":O(o,"URL")?D(o):bl(Ie(o))}function zg(o){const c=Jh();if(c)return Kh(c.sanitize(li.RESOURCE_URL,o)||"");if(O(o,"ResourceURL"))return Kh(D(o));throw new ye(904,!1)}function Xh(o,c,l){return function Hg(o,c){return"src"===c&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===c&&("base"===o||"link"===o)?zg:sv}(c,l)(o)}function Jh(){const o=Me();return o&&o[Zs]}const lu=new mn("ENVIRONMENT_INITIALIZER"),ef=new mn("INJECTOR",-1),Jw=new mn("INJECTOR_DEF_TYPES");class di{get(c,l=Dn){if(l===Dn){const u=new Error(`NullInjectorError: No provider for ${le(c)}!`);throw u.name="NullInjectorError",u}return l}}function ex(o){return{\u0275providers:o}}function xI(...o){return{\u0275providers:tx(0,o),\u0275fromNgModule:!0}}function tx(o,...c){const l=[],u=new Set;let h;return da(c,p=>{const v=p;$g(v,l,[],u)&&(h||(h=[]),h.push(v))}),void 0!==h&&nx(h,l),l}function nx(o,c){for(let l=0;l<o.length;l++){const{providers:h}=o[l];Gg(h,p=>{c.push(p)})}}function $g(o,c,l,u){if(!(o=K(o)))return!1;let h=null,p=Rr(o);const v=!p&&nn(o);if(p||v){if(v&&!v.standalone)return!1;h=o}else{const C=o.ngModule;if(p=Rr(C),!p)return!1;h=C}const x=u.has(h);if(v){if(x)return!1;if(u.add(h),v.dependencies){const C="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const T of C)$g(T,c,l,u)}}else{if(!p)return!1;{if(null!=p.imports&&!x){let T;u.add(h);try{da(p.imports,M=>{$g(M,c,l,u)&&(T||(T=[]),T.push(M))})}finally{}void 0!==T&&nx(T,c)}if(!x){const T=vr(h)||(()=>new h);c.push({provide:h,useFactory:T,deps:Xe},{provide:Jw,useValue:h,multi:!0},{provide:lu,useValue:()=>Ge(h),multi:!0})}const C=p.providers;null==C||x||Gg(C,M=>{c.push(M)})}}return h!==o&&void 0!==o.providers}function Gg(o,c){for(let l of o)De(l)&&(l=l.\u0275providers),Array.isArray(l)?Gg(l,c):c(l)}const qg=J({provide:String,useValue:J});function Wg(o){return null!==o&&"object"==typeof o&&qg in o}function wl(o){return"function"==typeof o}const du=new mn("Set Injector scope."),Jm={},dv={};let tf;function ep(){return void 0===tf&&(tf=new di),tf}class ga{}class ix extends ga{get destroyed(){return this._destroyed}constructor(c,l,u,h){super(),this.parent=l,this.source=u,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Yg(c,v=>this.processProvider(v)),this.records.set(ef,xl(void 0,this)),h.has("environment")&&this.records.set(ga,xl(void 0,this));const p=this.records.get(du);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Jw.multi,Xe,vt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();for(const c of this._onDestroyHooks)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(c){this._onDestroyHooks.push(c)}runInContext(c){this.assertNotDestroyed();const l=Qi(this),u=Nn(void 0);try{return c()}finally{Qi(l),Nn(u)}}get(c,l=Dn,u=vt.Default){this.assertNotDestroyed(),u=Tt(u);const h=Qi(this),p=Nn(void 0);try{if(!(u&vt.SkipSelf)){let x=this.records.get(c);if(void 0===x){const C=function Kg(o){return"function"==typeof o||"object"==typeof o&&o instanceof mn}(c)&&wn(c);x=C&&this.injectableDefInScope(C)?xl(Zg(c),Jm):null,this.records.set(c,x)}if(null!=x)return this.hydrate(c,x)}return(u&vt.Self?ep():this.parent).get(c,l=u&vt.Optional&&l===Dn?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[Yi]=v[Yi]||[]).unshift(le(c)),h)throw v;return function $(o,c,l,u){const h=o[Yi];throw c[vo]&&h.unshift(c[vo]),o.message=function j(o,c,l,u=null){o=o&&"\n"===o.charAt(0)&&o.charAt(1)==pn?o.slice(2):o;let h=le(c);if(Array.isArray(c))h=c.map(le).join(" -> ");else if("object"==typeof c){let p=[];for(let v in c)if(c.hasOwnProperty(v)){let x=c[v];p.push(v+":"+("string"==typeof x?JSON.stringify(x):le(x)))}h=`{${p.join(", ")}}`}return`${l}${u?"("+u+")":""}[${h}]: ${o.replace(La,"\n  ")}`}("\n"+o.message,h,l,u),o[Bi]=h,o[Yi]=null,o}(v,c,"R3InjectorError",this.source)}throw v}finally{Nn(p),Qi(h)}}resolveInjectorInitializers(){const c=Qi(this),l=Nn(void 0);try{const u=this.get(lu.multi,Xe,vt.Self);for(const h of u)h()}finally{Qi(c),Nn(l)}}toString(){const c=[],l=this.records;for(const u of l.keys())c.push(le(u));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ye(205,!1)}processProvider(c){let l=wl(c=K(c))?c:K(c&&c.provide);const u=function rx(o){return Wg(o)?xl(void 0,o.useValue):xl(uv(o),Jm)}(c);if(wl(c)||!0!==c.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=xl(void 0,Jm,!0),h.factory=()=>Vt(h.multi),this.records.set(l,h)),l=c,h.multi.push(c)}this.records.set(l,u)}hydrate(c,l){return l.value===Jm&&(l.value=dv,l.value=l.factory()),"object"==typeof l.value&&l.value&&function ox(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(c){if(!c.providedIn)return!1;const l=K(c.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function Zg(o){const c=wn(o),l=null!==c?c.factory:vr(o);if(null!==l)return l;if(o instanceof mn)throw new ye(204,!1);if(o instanceof Function)return function tp(o){const c=o.length;if(c>0)throw ua(c,"?"),new ye(204,!1);const l=function Mr(o){const c=o&&(o[mr]||o[Rn]);return c?(function hs(o){if(o.hasOwnProperty("name"))return o.name;(""+o).match(/^function\s*([^\s(]+)/)}(o),c):null}(o);return null!==l?()=>l.factory(o):()=>new o}(o);throw new ye(204,!1)}function uv(o,c,l){let u;if(wl(o)){const h=K(o);return vr(h)||Zg(h)}if(Wg(o))u=()=>K(o.useValue);else if(function cv(o){return!(!o||!o.useFactory)}(o))u=()=>o.useFactory(...Vt(o.deps||[]));else if(function pa(o){return!(!o||!o.useExisting)}(o))u=()=>Ge(K(o.useExisting));else{const h=K(o&&(o.useClass||o.provide));if(!function hv(o){return!!o.deps}(o))return vr(h)||Zg(h);u=()=>new h(...Vt(o.deps))}return u}function xl(o,c,l=!1){return{factory:o,value:c,multi:l?[]:void 0}}function Yg(o,c){for(const l of o)Array.isArray(l)?Yg(l,c):l&&De(l)?Yg(l.\u0275providers,c):c(l)}class sx{}class El{}class cx{resolveComponentFactory(c){throw function ax(o){const c=Error(`No component factory found for ${le(o)}. Did you add it to @NgModule.entryComponents?`);return c.ngComponent=o,c}(c)}}let Cl=(()=>{class o{}return o.NULL=new cx,o})();function Fo(){return uu(Kn(),Me())}function uu(o,c){return new nf($i(o,c))}let nf=(()=>{class o{constructor(l){this.nativeElement=l}}return o.__NG_ELEMENT_ID__=Fo,o})();function rf(o){return o instanceof nf?o.nativeElement:o}class lx{}let SI=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function mv(){const o=Me(),l=Ii(Kn().index,o);return(_r(l)?l:o)[Kt]}(),o})(),II=(()=>{class o{}return o.\u0275prov=ct({token:o,providedIn:"root",factory:()=>null}),o})();class dx{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const pv=new dx("15.2.4"),gv={},sf="ngOriginalError";function Qg(o){return o[sf]}class yi{constructor(){this._console=console}handleError(c){const l=this._findOriginalError(c);this._console.error("ERROR",c),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(c){let l=c&&Qg(c);for(;l&&Qg(l);)l=Qg(l);return l||null}}function it(o){return o instanceof Function?o():o}function yv(o,c,l){let u=o.length;for(;;){const h=o.indexOf(c,l);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const p=c.length;if(h+p===u||o.charCodeAt(h+p)<=32)return h}l=h+1}}const ux="ng-template";function AI(o,c,l){let u=0,h=!0;for(;u<o.length;){let p=o[u++];if("string"==typeof p&&h){const v=o[u++];if(l&&"class"===p&&-1!==yv(v.toLowerCase(),c,0))return!0}else{if(1===p){for(;u<o.length&&"string"==typeof(p=o[u++]);)if(p.toLowerCase()===c)return!0;return!1}"number"==typeof p&&(h=!1)}}return!1}function hx(o){return 4===o.type&&o.value!==ux}function MI(o,c,l){return c===(4!==o.type||l?o.value:ux)}function RI(o,c,l){let u=4;const h=o.attrs||[],p=function fx(o){for(let c=0;c<o.length;c++)if(Io(o[c]))return c;return o.length}(h);let v=!1;for(let x=0;x<c.length;x++){const C=c[x];if("number"!=typeof C){if(!v)if(4&u){if(u=2|1&u,""!==C&&!MI(o,C,l)||""===C&&1===c.length){if(rs(u))return!1;v=!0}}else{const T=8&u?C:c[++x];if(8&u&&null!==o.attrs){if(!AI(o.attrs,T,l)){if(rs(u))return!1;v=!0}continue}const B=OI(8&u?"class":C,h,hx(o),l);if(-1===B){if(rs(u))return!1;v=!0;continue}if(""!==T){let q;q=B>p?"":h[B+1].toLowerCase();const ee=8&u?q:null;if(ee&&-1!==yv(ee,T,0)||2&u&&T!==q){if(rs(u))return!1;v=!0}}}}else{if(!v&&!rs(u)&&!rs(C))return!1;if(v&&rs(C))continue;v=!1,u=C|1&u}}return rs(u)||v}function rs(o){return 0==(1&o)}function OI(o,c,l,u){if(null===c)return-1;let h=0;if(u||!l){let p=!1;for(;h<c.length;){const v=c[h];if(v===o)return h;if(3===v||6===v)p=!0;else{if(1===v||2===v){let x=c[++h];for(;"string"==typeof x;)x=c[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=p?1:2}return-1}return function Zt(o,c){let l=o.indexOf(4);if(l>-1)for(l++;l<o.length;){const u=o[l];if("number"==typeof u)return-1;if(u===c)return l;l++}return-1}(c,o)}function FI(o,c,l=!1){for(let u=0;u<c.length;u++)if(RI(o,c[u],l))return!0;return!1}function cf(o,c){e:for(let l=0;l<c.length;l++){const u=c[l];if(o.length===u.length){for(let h=0;h<o.length;h++)if(o[h]!==u[h])continue e;return!0}}return!1}function vv(o,c){return o?":not("+c.trim()+")":c}function Yn(o){let c=o[0],l=1,u=2,h="",p=!1;for(;l<o.length;){let v=o[l];if("string"==typeof v)if(2&u){const x=o[++l];h+="["+v+(x.length>0?'="'+x+'"':"")+"]"}else 8&u?h+="."+v:4&u&&(h+=" "+v);else""!==h&&!rs(v)&&(c+=vv(p,h),h=""),u=v,p=p||!rs(u);l++}return""!==h&&(c+=vv(p,h)),c}const et={};function mx(o){ui(Jt(),Me(),er()+o,!1)}function ui(o,c,l,u){if(!u)if(3==(3&c[Ht])){const p=o.preOrderCheckHooks;null!==p&&Dd(c,p,l)}else{const p=o.preOrderHooks;null!==p&&Co(c,p,0,l)}Yo(l)}function wv(o,c=null,l=null,u){const h=fo(o,c,l,u);return h.resolveInjectorInitializers(),h}function fo(o,c=null,l=null,u,h=new Set){const p=[l||Xe,xI(o)];return u=u||("object"==typeof o?void 0:le(o)),new ix(p,c||ep(),u||null,h)}let _c=(()=>{class o{static create(l,u){if(Array.isArray(l))return wv({name:""},u,l,"");{const h=l.name??"";return wv({name:h},l.parent,l.providers,h)}}}return o.THROW_IF_NOT_FOUND=Dn,o.NULL=new di,o.\u0275prov=ct({token:o,providedIn:"any",factory:()=>Ge(ef)}),o.__NG_ELEMENT_ID__=-1,o})();function uf(o,c=vt.Default){const l=Me();return null===l?Ge(o,c):lo(Kn(),l,K(o),c)}function yc(){throw new Error("invalid")}function kl(o,c){const l=o.contentQueries;if(null!==l)for(let u=0;u<l.length;u+=2){const p=l[u+1];if(-1!==p){const v=o.data[p];Jc(l[u]),v.contentQueries(2,c[p],p)}}}function Al(o,c,l,u,h,p,v,x,C,T,M){const B=c.blueprint.slice();return B[Or]=h,B[Ht]=76|u,(null!==M||o&&1024&o[Ht])&&(B[Ht]|=1024),Wc(B),B[Cn]=B[Ua]=o,B[On]=l,B[Ba]=v||o&&o[Ba],B[Kt]=x||o&&o[Kt],B[Zs]=C||o&&o[Zs]||null,B[Ei]=T||o&&o[Ei]||null,B[Sn]=p,B[zi]=function Fh(){return Oh++}(),B[ld]=M,B[Ci]=2==c.type?o[Ci]:B,B}function Po(o,c,l,u,h){let p=o.data[c];if(null===p)p=function hf(o,c,l,u,h){const p=wm(),v=Kc(),C=o.data[c]=function i_(o,c,l,u,h,p){return{type:l,index:u,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?p:p&&p.parent,l,c,u,h);return null===o.firstChild&&(o.firstChild=C),null!==p&&(v?null==p.child&&null!==C.parent&&(p.child=C):null===p.next&&(p.next=C,C.prev=p)),C}(o,c,l,u,h),function Xc(){return Ft.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=l,p.value=u,p.attrs=h;const v=function Ko(){const o=Ft.lFrame,c=o.currentTNode;return o.isParent?c:c.parent}();p.injectorIndex=null===v?-1:v.injectorIndex}return jr(p,!0),p}function Ns(o,c,l,u){if(0===l)return-1;const h=c.length;for(let p=0;p<l;p++)c.push(u),o.blueprint.push(u),o.data.push(null);return h}function ss(o,c,l){_h(c);try{const u=o.viewQuery;null!==u&&Pi(1,u,l);const h=o.template;null!==h&&vc(o,c,h,1,l),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&kl(o,c),o.staticViewQueries&&Pi(2,o.viewQuery,l);const p=o.components;null!==p&&function _x(o,c){for(let l=0;l<c.length;l++)a_(o,c[l])}(c,p)}catch(u){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),u}finally{c[Ht]&=-5,Em()}}function Ml(o,c,l,u){const h=c[Ht];if(128!=(128&h)){_h(c);try{Wc(c),function wd(o){return Ft.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==l&&vc(o,c,l,2,u);const v=3==(3&h);if(v){const T=o.preOrderCheckHooks;null!==T&&Dd(c,T,null)}else{const T=o.preOrderHooks;null!==T&&Co(c,T,0,null),ea(c,0)}if(function pf(o){for(let c=Bh(o);null!==c;c=Uh(c)){if(!c[Bc])continue;const l=c[Ys];for(let u=0;u<l.length;u++){const h=l[u];512&h[Ht]||qa(h[Cn],1),h[Ht]|=512}}}(c),function JI(o){for(let c=Bh(o);null!==c;c=Uh(c))for(let l=Si;l<c.length;l++){const u=c[l],h=u[nt];xs(u)&&Ml(h,u,h.template,u[On])}}(c),null!==o.contentQueries&&kl(o,c),v){const T=o.contentCheckHooks;null!==T&&Dd(c,T)}else{const T=o.contentHooks;null!==T&&Co(c,T,1),ea(c,1)}!function vi(o,c){const l=o.hostBindingOpCodes;if(null!==l)try{for(let u=0;u<l.length;u++){const h=l[u];if(h<0)Yo(~h);else{const p=h,v=l[++u],x=l[++u];Ed(v,p),x(2,c[p])}}}finally{Yo(-1)}}(o,c);const x=o.components;null!==x&&function Tv(o,c){for(let l=0;l<c.length;l++)eD(o,c[l])}(c,x);const C=o.viewQuery;if(null!==C&&Pi(2,C,u),v){const T=o.viewCheckHooks;null!==T&&Dd(c,T)}else{const T=o.viewHooks;null!==T&&Co(c,T,2),ea(c,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),c[Ht]&=-41,512&c[Ht]&&(c[Ht]&=-513,qa(c[Cn],-1))}finally{Em()}}}function vc(o,c,l,u,h){const p=er(),v=2&u;try{Yo(-1),v&&c.length>Xt&&ui(o,c,Xt,!1),cn(v?2:0,h),l(u,h)}finally{Yo(p),cn(v?3:1,h)}}function n_(o,c,l){if(wo(c)){const h=c.directiveEnd;for(let p=c.directiveStart;p<h;p++){const v=o.data[p];v.contentQueries&&v.contentQueries(1,l[p],p)}}}function Rl(o,c,l){fh()&&(function mf(o,c,l,u){const h=l.directiveStart,p=l.directiveEnd;Uc(l)&&function QI(o,c,l){const u=$i(c,o),h=Ol(l),p=o[Ba],v=vn(o,Al(o,h,null,l.onPush?32:16,u,c,p,p.createRenderer(u,l),null,null,null));o[c.index]=v}(c,l,o.data[h+l.componentOffset]),o.firstCreatePass||ko(l,c),gi(u,c);const v=l.initialInputs;for(let x=h;x<p;x++){const C=o.data[x],T=Xo(c,o,x,l);gi(T,c),null!==v&&XI(0,x-h,T,C,0,v),Hi(C)&&(Ii(l.index,c)[On]=Xo(c,o,x,l))}}(o,c,l,$i(l,c)),64==(64&l.flags)&&o_(o,c,l))}function op(o,c,l=$i){const u=c.localNames;if(null!==u){let h=c.index+1;for(let p=0;p<u.length;p+=2){const v=u[p+1],x=-1===v?l(c,o):o[v];o[h++]=x}}}function Ol(o){const c=o.tView;return null===c||c.incompleteFirstPass?o.tView=sp(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):c}function sp(o,c,l,u,h,p,v,x,C,T){const M=Xt+u,B=M+h,q=function ap(o,c){const l=[];for(let u=0;u<c;u++)l.push(u<o?null:et);return l}(M,B),ee="function"==typeof T?T():T;return q[nt]={type:o,blueprint:q,template:l,queries:null,viewQuery:x,declTNode:c,data:q.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:B,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:C,consts:ee,incompleteFirstPass:!1}}function kv(o,c,l,u){const h=Un(c);null===l?h.push(u):(h.push(l),o.firstCreatePass&&Sx(o).push(u,h.length-1))}function ff(o,c,l,u){for(let h in o)if(o.hasOwnProperty(h)){l=null===l?{}:l;const p=o[h];null===u?Av(l,c,h,p):u.hasOwnProperty(h)&&Av(l,c,u[h],p)}return l}function Av(o,c,l,u){o.hasOwnProperty(l)?o[l].push(c,u):o[l]=[c,u]}function po(o,c,l,u,h,p,v,x){const C=$i(c,l);let M,T=c.inputs;!x&&null!=T&&(M=T[u])?(gu(o,l,M,u,h),Uc(c)&&Mv(l,c.index)):3&c.type&&(u=function ZI(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(u),h=null!=v?v(h,c.value||"",u):h,p.setProperty(C,u,h))}function Mv(o,c){const l=Ii(c,o);16&l[Ht]||(l[Ht]|=32)}function r_(o,c,l,u){if(fh()){const h=null===u?null:{"":-1},p=function vx(o,c){const l=o.directiveRegistry;let u=null,h=null;if(l)for(let p=0;p<l.length;p++){const v=l[p];if(FI(c,v.selectors,!1))if(u||(u=[]),Hi(v))if(null!==v.findHostDirectiveDefs){const x=[];h=h||new Map,v.findHostDirectiveDefs(v,x,h),u.unshift(...x,v),cp(o,c,x.length)}else u.unshift(v),cp(o,c,0);else h=h||new Map,v.findHostDirectiveDefs?.(v,u,h),u.push(v)}return null===u?null:[u,h]}(o,l);let v,x;null===p?v=x=null:[v,x]=p,null!==v&&Rv(o,c,l,v,h,x),h&&function bx(o,c,l){if(c){const u=o.localNames=[];for(let h=0;h<c.length;h+=2){const p=l[c[h+1]];if(null==p)throw new ye(-301,!1);u.push(c[h],p)}}}(l,u,h)}l.mergedAttrs=Do(l.mergedAttrs,l.attrs)}function Rv(o,c,l,u,h,p){for(let T=0;T<u.length;T++)ec(ko(l,c),o,u[T].type);!function xx(o,c,l){o.flags|=1,o.directiveStart=c,o.directiveEnd=c+l,o.providerIndexes=c}(l,o.data.length,u.length);for(let T=0;T<u.length;T++){const M=u[T];M.providersResolver&&M.providersResolver(M)}let v=!1,x=!1,C=Ns(o,c,u.length,null);for(let T=0;T<u.length;T++){const M=u[T];l.mergedAttrs=Do(l.mergedAttrs,M.hostAttrs),YI(o,l,c,C,M),wx(C,M,h),null!==M.contentQueries&&(l.flags|=4),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(l.flags|=64);const B=M.type.prototype;!v&&(B.ngOnChanges||B.ngOnInit||B.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(l.index),v=!0),!x&&(B.ngOnChanges||B.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(l.index),x=!0),C++}!function WI(o,c,l){const h=c.directiveEnd,p=o.data,v=c.attrs,x=[];let C=null,T=null;for(let M=c.directiveStart;M<h;M++){const B=p[M],q=l?l.get(B):null,xe=q?q.outputs:null;C=ff(B.inputs,M,C,q?q.inputs:null),T=ff(B.outputs,M,T,xe);const Ve=null===C||null===v||hx(c)?null:Ex(C,M,v);x.push(Ve)}null!==C&&(C.hasOwnProperty("class")&&(c.flags|=8),C.hasOwnProperty("style")&&(c.flags|=16)),c.initialInputs=x,c.inputs=C,c.outputs=T}(o,l,p)}function o_(o,c,l){const u=l.directiveStart,h=l.directiveEnd,p=l.index,v=function xm(){return Ft.lFrame.currentDirectiveIndex}();try{Yo(p);for(let x=u;x<h;x++){const C=o.data[x],T=c[x];Eo(x),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&Ov(C,T)}}finally{Yo(-1),Eo(v)}}function Ov(o,c){null!==o.hostBindings&&o.hostBindings(1,c)}function cp(o,c,l){c.componentOffset=l,(o.components||(o.components=[])).push(c.index)}function wx(o,c,l){if(l){if(c.exportAs)for(let u=0;u<c.exportAs.length;u++)l[c.exportAs[u]]=o;Hi(c)&&(l[""]=o)}}function YI(o,c,l,u,h){o.data[u]=h;const p=h.factory||(h.factory=vr(h.type)),v=new Oi(p,Hi(h),uf);o.blueprint[u]=v,l[u]=v,function on(o,c,l,u,h){const p=h.hostBindings;if(p){let v=o.hostBindingOpCodes;null===v&&(v=o.hostBindingOpCodes=[]);const x=~c.index;(function In(o){let c=o.length;for(;c>0;){const l=o[--c];if("number"==typeof l&&l<0)return l}return 0})(v)!=x&&v.push(x),v.push(l,u,p)}}(o,c,u,Ns(o,l,h.hostVars,et),h)}function va(o,c,l,u,h,p){const v=$i(o,c);!function s_(o,c,l,u,h,p,v){if(null==p)o.removeAttribute(c,h,l);else{const x=null==v?Ie(p):v(p,u||"",h);o.setAttribute(c,h,x,l)}}(c[Kt],v,p,o.value,l,u,h)}function XI(o,c,l,u,h,p){const v=p[c];if(null!==v){const x=u.setInput;for(let C=0;C<v.length;){const T=v[C++],M=v[C++],B=v[C++];null!==x?u.setInput(l,B,T,M):l[M]=B}}}function Ex(o,c,l){let u=null,h=0;for(;h<l.length;){const p=l[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(o.hasOwnProperty(p)){null===u&&(u=[]);const v=o[p];for(let x=0;x<v.length;x+=2)if(v[x]===c){u.push(p,v[x+1],l[h+1]);break}}h+=2}else h+=2;else h+=4}return u}function Cx(o,c,l,u){return[o,!0,!1,c,null,0,u,l,null,null]}function eD(o,c){const l=Ii(c,o);if(xs(l)){const u=l[nt];48&l[Ht]?Ml(u,l,u.template,l[On]):l[no]>0&&Qn(l)}}function Qn(o){for(let u=Bh(o);null!==u;u=Uh(u))for(let h=Si;h<u.length;h++){const p=u[h];if(xs(p))if(512&p[Ht]){const v=p[nt];Ml(v,p,v.template,p[On])}else p[no]>0&&Qn(p)}const l=o[nt].components;if(null!==l)for(let u=0;u<l.length;u++){const h=Ii(l[u],o);xs(h)&&h[no]>0&&Qn(h)}}function a_(o,c){const l=Ii(c,o),u=l[nt];(function Cr(o,c){for(let l=c.length;l<o.blueprint.length;l++)c.push(o.blueprint[l])})(u,l),ss(u,l,l[On])}function vn(o,c){return o[_s]?o[Go][gr]=c:o[_s]=c,o[Go]=c,c}function c_(o){for(;o;){o[Ht]|=32;const c=fl(o);if(ah(o)&&!c)return o;o=c}return null}function bc(o,c,l,u=!0){const h=c[Ba];h.begin&&h.begin();try{Ml(o,c,o.template,l)}catch(v){throw u&&Pl(c,v),v}finally{h.end&&h.end()}}function Pi(o,c,l){Jc(0),c(o,l)}function Un(o){return o[gs]||(o[gs]=[])}function Sx(o){return o.cleanup||(o.cleanup=[])}function Pl(o,c){const l=o[Ei],u=l?l.get(yi,null):null;u&&u.handleError(c)}function gu(o,c,l,u,h){for(let p=0;p<l.length;){const v=l[p++],x=l[p++],C=c[v],T=o.data[v];null!==T.setInput?T.setInput(C,h,u,x):C[x]=h}}function _u(o,c,l){let u=l?o.styles:null,h=l?o.classes:null,p=0;if(null!==c)for(let v=0;v<c.length;v++){const x=c[v];"number"==typeof x?p=x:1==p?h=ae(h,x):2==p&&(u=ae(u,x+": "+c[++v]+";"))}l?o.styles=u:o.stylesWithoutHost=u,l?o.classes=h:o.classesWithoutHost=h}function lp(o,c,l,u,h=!1){for(;null!==l;){const p=c[l.index];if(null!==p&&u.push(Vn(p)),yr(p))for(let x=Si;x<p.length;x++){const C=p[x],T=C[nt].firstChild;null!==T&&lp(C[nt],C,T,u)}const v=l.type;if(8&v)lp(o,c,l.child,u);else if(32&v){const x=qd(l,c);let C;for(;C=x();)u.push(C)}else if(16&v){const x=Nr(c,l);if(Array.isArray(x))u.push(...x);else{const C=fl(c[Ci]);lp(C[nt],C,x,u,!0)}}l=h?l.projectionNext:l.next}return u}class gf{get rootNodes(){const c=this._lView,l=c[nt];return lp(l,c,l.firstChild,[])}constructor(c,l){this._lView=c,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[On]}set context(c){this._lView[On]=c}get destroyed(){return 128==(128&this._lView[Ht])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[Cn];if(yr(c)){const l=c[ri],u=l?l.indexOf(this):-1;u>-1&&($m(c,u),kh(l,u))}this._attachedToViewContainer=!1}Pg(this._lView[nt],this._lView)}onDestroy(c){kv(this._lView[nt],this._lView,null,c)}markForCheck(){c_(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ht]&=-65}reattach(){this._lView[Ht]|=64}detectChanges(){bc(this._lView[nt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ye(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ml(o,c){ns(o,c,c[Kt],2,null,null)}(this._lView[nt],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new ye(902,!1);this._appRef=c}}class wc extends gf{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;bc(c[nt],c,c[On],!1)}checkNoChanges(){}get context(){return null}}class Fv extends Cl{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const l=nn(c);return new Nl(l,this.ngModule)}}function yu(o){const c=[];for(let l in o)o.hasOwnProperty(l)&&c.push({propName:o[l],templateName:l});return c}class Pv{constructor(c,l){this.injector=c,this.parentInjector=l}get(c,l,u){u=Tt(u);const h=this.injector.get(c,gv,u);return h!==gv||l===gv?h:this.parentInjector.get(c,l,u)}}class Nl extends El{get inputs(){return yu(this.componentDef.inputs)}get outputs(){return yu(this.componentDef.outputs)}constructor(c,l){super(),this.componentDef=c,this.ngModule=l,this.componentType=c.type,this.selector=function Ct(o){return o.map(Yn).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!l}create(c,l,u,h){let p=(h=h||this.ngModule)instanceof ga?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const v=p?new Pv(c,p):c,x=v.get(lx,null);if(null===x)throw new ye(407,!1);const C=v.get(II,null),T=x.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",B=u?function yx(o,c,l){return o.selectRootElement(c,l===te.ShadowDom)}(T,u,this.componentDef.encapsulation):Yd(T,M,function Ix(o){const c=o.toLowerCase();return"svg"===c?Gc:"math"===c?"math":null}(M)),q=this.componentDef.onPush?288:272,ee=sp(0,null,null,1,0,null,null,null,null,null),xe=Al(null,ee,null,q,null,null,x,T,C,v,null);let Ve,Ke;_h(xe);try{const Qe=this.componentDef;let Rt,Fe=null;Qe.findHostDirectiveDefs?(Rt=[],Fe=new Map,Qe.findHostDirectiveDefs(Qe,Rt,Fe),Rt.push(Qe)):Rt=[Qe];const Pt=function Gr(o,c){const l=o[nt],u=Xt;return o[u]=c,Po(l,u,2,"#host",null)}(xe,B),En=function Lv(o,c,l,u,h,p,v,x){const C=h[nt];!function d_(o,c,l,u){for(const h of o)c.mergedAttrs=Do(c.mergedAttrs,h.hostAttrs);null!==c.mergedAttrs&&(_u(c,c.mergedAttrs,!0),null!==l&&iu(u,l,c))}(u,o,c,v);const T=p.createRenderer(c,l),M=Al(h,Ol(l),null,l.onPush?32:16,h[o.index],o,p,T,x||null,null,null);return C.firstCreatePass&&cp(C,o,u.length-1),vn(h,M),h[o.index]=M}(Pt,B,Qe,Rt,xe,x,T);Ke=md(ee,Xt),B&&function Dx(o,c,l,u){if(u)na(o,l,["ng-version",pv.full]);else{const{attrs:h,classes:p}=function np(o){const c=[],l=[];let u=1,h=2;for(;u<o.length;){let p=o[u];if("string"==typeof p)2===h?""!==p&&c.push(p,o[++u]):8===h&&l.push(p);else{if(!rs(h))break;h=p}u++}return{attrs:c,classes:l}}(c.selectors[0]);h&&na(o,l,h),p&&p.length>0&&hc(o,l,p.join(" "))}}(T,Qe,B,u),void 0!==l&&function Vv(o,c,l){const u=o.projection=[];for(let h=0;h<c.length;h++){const p=l[h];u.push(null!=p?Array.from(p):null)}}(Ke,this.ngContentSelectors,l),Ve=function dp(o,c,l,u,h,p){const v=Kn(),x=h[nt],C=$i(v,h);Rv(x,h,v,l,null,u);for(let M=0;M<l.length;M++)gi(Xo(h,x,v.directiveStart+M,v),h);o_(x,h,v),C&&gi(C,h);const T=Xo(h,x,v.directiveStart+v.componentOffset,v);if(o[On]=h[On]=T,null!==p)for(const M of p)M(T,c);return n_(x,v,o),T}(En,Qe,Rt,Fe,xe,[up]),ss(ee,xe,null)}finally{Em()}return new Nv(this.componentType,Ve,uu(Ke,xe),xe,Ke)}}class Nv extends sx{constructor(c,l,u,h,p){super(),this.location=u,this._rootLView=h,this._tNode=p,this.instance=l,this.hostView=this.changeDetectorRef=new wc(h),this.componentType=c}setInput(c,l){const u=this._tNode.inputs;let h;if(null!==u&&(h=u[c])){const p=this._rootLView;gu(p[nt],p,h,c,l),Mv(p,this._tNode.index)}}get injector(){return new ic(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function up(){const o=Kn();Cs(Me()[nt],o)}function u_(o){let c=function Bv(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),l=!0;const u=[o];for(;c;){let h;if(Hi(o))h=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new ye(903,!1);h=c.\u0275dir}if(h){if(l){u.push(h);const v=o;v.inputs=h_(o.inputs),v.declaredInputs=h_(o.declaredInputs),v.outputs=h_(o.outputs);const x=h.hostBindings;x&&f_(o,x);const C=h.viewQuery,T=h.contentQueries;if(C&&Tx(o,C),T&&kx(o,T),_e(o.inputs,h.inputs),_e(o.declaredInputs,h.declaredInputs),_e(o.outputs,h.outputs),Hi(h)&&h.data.animation){const M=o.data;M.animation=(M.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let v=0;v<p.length;v++){const x=p[v];x&&x.ngInherit&&x(o),x===u_&&(l=!1)}}c=Object.getPrototypeOf(c)}!function nD(o){let c=0,l=null;for(let u=o.length-1;u>=0;u--){const h=o[u];h.hostVars=c+=h.hostVars,h.hostAttrs=Do(h.hostAttrs,l=Do(l,h.hostAttrs))}}(u)}function h_(o){return o===st?{}:o===Xe?[]:o}function Tx(o,c){const l=o.viewQuery;o.viewQuery=l?(u,h)=>{c(u,h),l(u,h)}:c}function kx(o,c){const l=o.contentQueries;o.contentQueries=l?(u,h,p)=>{c(u,h,p),l(u,h,p)}:c}function f_(o,c){const l=o.hostBindings;o.hostBindings=l?(u,h)=>{c(u,h),l(u,h)}:c}function hp(o){return!!jv(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function jv(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Lo(o,c,l){return o[c]=l}function Sr(o,c,l){return!Object.is(o[c],l)&&(o[c]=l,!0)}function m_(o,c,l,u){const h=Me();return Sr(h,Es(),c)&&(Jt(),va(gn(),h,o,c,l,u)),m_}function wf(o,c,l,u,h,p,v,x){const C=Me(),T=Jt(),M=o+Xt,B=T.firstCreatePass?function Rx(o,c,l,u,h,p,v,x,C){const T=c.consts,M=Po(c,o,4,v||null,Ur(T,x));r_(c,l,M,Ur(T,C)),Cs(c,M);const B=M.tView=sp(2,M,u,h,p,c.directiveRegistry,c.pipeRegistry,null,c.schemas,T);return null!==c.queries&&(c.queries.template(c,M),B.queries=c.queries.embeddedTView(M)),M}(M,T,C,c,l,u,h,p,v):T.data[M];jr(B,!1);const q=C[Kt].createComment("");pl(T,C,q,B),gi(q,C),vn(C,C[M]=Cx(q,C,q,B)),Wo(B)&&Rl(T,C,B),null!=v&&op(C,B,x)}function Ox(o){return oo(function Qc(){return Ft.lFrame.contextLView}(),Xt+o)}function Yt(o,c,l){const u=Me();return Sr(u,Es(),c)&&po(Jt(),gn(),u,o,c,u[Kt],l,!1),Yt}function qv(o,c,l,u,h){const v=h?"class":"style";gu(o,l,c.inputs[v],v,u)}function jl(o,c,l,u){const h=Me(),p=Jt(),v=Xt+o,x=h[Kt],C=p.firstCreatePass?function p_(o,c,l,u,h,p){const v=c.consts,C=Po(c,o,2,u,Ur(v,h));return r_(c,l,C,Ur(v,p)),null!==C.attrs&&_u(C,C.attrs,!1),null!==C.mergedAttrs&&_u(C,C.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,C),C}(v,p,h,c,l,u):p.data[v],T=h[v]=Yd(x,c,function Sg(){return Ft.lFrame.currentNamespace}()),M=Wo(C);return jr(C,!0),iu(x,T,C),32!=(32&C.flags)&&pl(p,h,T,C),0===function _d(){return Ft.lFrame.elementDepthCount}()&&gi(T,h),function yd(){Ft.lFrame.elementDepthCount++}(),M&&(Rl(p,h,C),n_(p,C,h)),null!==u&&op(h,C),jl}function zl(){let o=Kn();Kc()?Yc():(o=o.parent,jr(o,!1));const c=o;!function vd(){Ft.lFrame.elementDepthCount--}();const l=Jt();return l.firstCreatePass&&(Cs(l,o),wo(o)&&l.queries.elementEnd(o)),null!=c.classesWithoutHost&&function Im(o){return 0!=(8&o.flags)}(c)&&qv(l,c,Me(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function Qo(o){return 0!=(16&o.flags)}(c)&&qv(l,c,Me(),c.stylesWithoutHost,!1),zl}function xf(o,c,l,u){return jl(o,c,l,u),zl(),xf}function Wv(){return Me()}function y_(o){return!!o&&"function"==typeof o.then}function Nx(o){return!!o&&"function"==typeof o.subscribe}const Lx=Nx;function Zv(o,c,l,u){const h=Me(),p=Jt(),v=Kn();return function Kv(o,c,l,u,h,p,v){const x=Wo(u),T=o.firstCreatePass&&Sx(o),M=c[On],B=Un(c);let q=!0;if(3&u.type||v){const Ve=$i(u,c),Ke=v?v(Ve):Ve,Qe=B.length,Rt=v?Pt=>v(Vn(Pt[u.index])):u.index;let Fe=null;if(!v&&x&&(Fe=function Ef(o,c,l,u){const h=o.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const v=h[p];if(v===l&&h[p+1]===u){const x=c[gs],C=h[p+2];return x.length>C?x[C]:null}"string"==typeof v&&(p+=2)}return null}(o,c,h,u.index)),null!==Fe)(Fe.__ngLastListenerFn__||Fe).__ngNextListenerFn__=p,Fe.__ngLastListenerFn__=p,q=!1;else{p=bi(u,c,M,p,!1);const Pt=l.listen(Ke,h,p);B.push(p,Pt),T&&T.push(h,Rt,Qe,Qe+1)}}else p=bi(u,c,M,p,!1);const ee=u.outputs;let xe;if(q&&null!==ee&&(xe=ee[h])){const Ve=xe.length;if(Ve)for(let Ke=0;Ke<Ve;Ke+=2){const En=c[xe[Ke]][xe[Ke+1]].subscribe(p),hi=B.length;B.push(p,En),T&&T.push(h,u.index,hi,-(hi+1))}}}(p,h,h[Kt],v,o,c,u),Zv}function Bx(o,c,l,u){try{return cn(6,c,l),!1!==l(u)}catch(h){return Pl(o,h),!1}finally{cn(7,c,l)}}function bi(o,c,l,u,h){return function p(v){if(v===Function)return u;c_(o.componentOffset>-1?Ii(o.index,c):c);let C=Bx(c,l,u,v),T=p.__ngNextListenerFn__;for(;T;)C=Bx(c,l,T,v)&&C,T=T.__ngNextListenerFn__;return h&&!1===C&&(v.preventDefault(),v.returnValue=!1),C}}function v_(o=1){return function yh(o){return(Ft.lFrame.contextLView=function Eg(o,c){for(;o>0;)c=c[Ua],o--;return c}(o,Ft.lFrame.contextLView))[On]}(o)}function Ux(o,c){let l=null;const u=function PI(o){const c=o.attrs;if(null!=c){const l=c.indexOf(5);if(!(1&l))return c[l+1]}return null}(o);for(let h=0;h<c.length;h++){const p=c[h];if("*"!==p){if(null===u?FI(o,p,!0):cf(u,p))return h}else l=h}return l}function Cf(o){const c=Me()[Ci][Sn];if(!c.projection){const u=c.projection=ua(o?o.length:1,null),h=u.slice();let p=c.child;for(;null!==p;){const v=o?Ux(p,o):0;null!==v&&(h[v]?h[v].projectionNext=p:u[v]=p,h[v]=p),p=p.next}}}function Bs(o,c=0,l){const u=Me(),h=Jt(),p=Po(h,Xt+o,16,null,l||null);null===p.projection&&(p.projection=c),Yc(),32!=(32&p.flags)&&function Wh(o,c,l){gl(c[Kt],0,c,l,Hh(o,l,c),Gh(l.parent||c[Sn],l,c))}(h,u,p)}function E_(o,c){return o<<17|c<<2}function Ec(o){return o>>17&32767}function eb(o){return 2|o}function Hl(o){return(131068&o)>>2}function tb(o,c){return-131069&o|c<<2}function nb(o){return 1|o}function ib(o,c,l,u,h){const p=o[l+1],v=null===c;let x=u?Ec(p):Hl(p),C=!1;for(;0!==x&&(!1===C||v);){const M=o[x+1];Wr(o[x],c)&&(C=!0,o[x+1]=u?nb(M):eb(M)),x=u?Ec(M):Hl(M)}C&&(o[l+1]=u?eb(p):nb(p))}function Wr(o,c){return null===o||null==c||(Array.isArray(o)?o[1]:o)===c||!(!Array.isArray(o)||"string"!=typeof c)&&$t(o,c)>=0}function ob(o,c,l){return ls(o,c,l,!1),ob}function sb(o,c){return ls(o,c,null,!0),sb}function ls(o,c,l,u){const h=Me(),p=Jt(),v=function so(o){const c=Ft.lFrame,l=c.bindingIndex;return c.bindingIndex=c.bindingIndex+o,l}(2);p.firstUpdatePass&&function cb(o,c,l,u){const h=o.data;if(null===h[l+1]){const p=h[er()],v=function ab(o,c){return c>=o.expandoStartIndex}(o,l);(function Gl(o,c){return 0!=(o.flags&(c?8:16))})(p,u)&&null===c&&!v&&(c=!1),c=function gD(o,c,l,u){const h=function Cd(o){const c=Ft.lFrame.currentDirectiveIndex;return-1===c?null:o[c]}(o);let p=u?c.residualClasses:c.residualStyles;if(null===h)0===(u?c.classBindings:c.styleBindings)&&(l=Iu(l=gp(null,o,c,l,u),c.attrs,u),p=null);else{const v=c.directiveStylingLast;if(-1===v||o[v]!==h)if(l=gp(h,o,c,l,u),null===p){let C=function lb(o,c,l){const u=l?c.classBindings:c.styleBindings;if(0!==Hl(u))return o[Ec(u)]}(o,c,u);void 0!==C&&Array.isArray(C)&&(C=gp(null,o,c,C[1],u),C=Iu(C,c.attrs,u),function ar(o,c,l,u){o[Ec(l?c.classBindings:c.styleBindings)]=u}(o,c,u,C))}else p=function db(o,c,l){let u;const h=c.directiveEnd;for(let p=1+c.directiveStylingLast;p<h;p++)u=Iu(u,o[p].hostAttrs,l);return Iu(u,c.attrs,l)}(o,c,u)}return void 0!==p&&(u?c.residualClasses=p:c.residualStyles=p),l}(h,p,c,u),function $x(o,c,l,u,h,p){let v=p?c.classBindings:c.styleBindings,x=Ec(v),C=Hl(v);o[u]=l;let M,T=!1;if(Array.isArray(l)?(M=l[1],(null===M||$t(l,M)>0)&&(T=!0)):M=l,h)if(0!==C){const q=Ec(o[x+1]);o[u+1]=E_(q,x),0!==q&&(o[q+1]=tb(o[q+1],u)),o[x+1]=function Hx(o,c){return 131071&o|c<<17}(o[x+1],u)}else o[u+1]=E_(x,0),0!==x&&(o[x+1]=tb(o[x+1],u)),x=u;else o[u+1]=E_(C,0),0===x?x=u:o[C+1]=tb(o[C+1],u),C=u;T&&(o[u+1]=eb(o[u+1])),ib(o,M,u,!0),ib(o,M,u,!1),function dD(o,c,l,u,h){const p=h?o.residualClasses:o.residualStyles;null!=p&&"string"==typeof c&&$t(p,c)>=0&&(l[u+1]=nb(l[u+1]))}(c,M,o,u,p),v=E_(x,C),p?c.classBindings=v:c.styleBindings=v}(h,p,c,l,v,u)}}(p,o,v,u),c!==et&&Sr(h,v,c)&&function hb(o,c,l,u,h,p,v,x){if(!(3&c.type))return;const C=o.data,T=C[x+1],M=function lD(o){return 1==(1&o)}(T)?_p(C,c,l,h,Hl(T),v):void 0;Ca(M)||(Ca(p)||function Jv(o){return 2==(2&o)}(T)&&(p=_p(C,null,l,h,x,v)),function xr(o,c,l,u,h){if(c)h?o.addClass(l,u):o.removeClass(l,u);else{let p=-1===u.indexOf("-")?void 0:es.DashCase;null==h?o.removeStyle(l,u,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=es.Important),o.setStyle(l,u,h,p))}}(u,v,ro(er(),l),h,p))}(p,p.data[er()],h,h[Kt],o,h[v+1]=function Du(o,c){return null==o||("string"==typeof c?o+=c:"object"==typeof o&&(o=le(D(o)))),o}(c,l),u,v)}function gp(o,c,l,u,h){let p=null;const v=l.directiveEnd;let x=l.directiveStylingLast;for(-1===x?x=l.directiveStart:x++;x<v&&(p=c[x],u=Iu(u,p.hostAttrs,h),p!==o);)x++;return null!==o&&(l.directiveStylingLast=x),u}function Iu(o,c,l){const u=l?1:2;let h=-1;if(null!==c)for(let p=0;p<c.length;p++){const v=c[p];"number"==typeof v?h=v:h===u&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),ai(o,v,!!l||c[++p]))}return void 0===o?null:o}function _p(o,c,l,u,h,p){const v=null===c;let x;for(;h>0;){const C=o[h],T=Array.isArray(C),M=T?C[1]:C,B=null===M;let q=l[h+1];q===et&&(q=B?Xe:void 0);let ee=B?fn(q,u):M===u?q:void 0;if(T&&!Ca(ee)&&(ee=fn(C,u)),Ca(ee)&&(x=ee,v))return x;const xe=o[h+1];h=v?Ec(xe):Hl(xe)}if(null!==c){let C=p?c.residualClasses:c.residualStyles;null!=C&&(x=fn(C,u))}return x}function Ca(o){return void 0!==o}function Tf(o,c=""){const l=Me(),u=Jt(),h=o+Xt,p=u.firstCreatePass?Po(u,h,1,c,null):u.data[h],v=l[h]=function jm(o,c){return o.createText(c)}(l[Kt],c);pl(u,l,v,p),jr(p,!1)}function C_(o){return kf("",o,""),C_}function kf(o,c,l){const u=Me(),h=function go(o,c,l,u){return Sr(o,Es(),l)?c+Ie(l)+u:et}(u,o,c,l);return h!==et&&function as(o,c,l){const u=ro(c,o);!function Zd(o,c,l){o.setValue(c,l)}(o[Kt],u,l)}(u,er(),h),kf}function Au(o,c,l){const u=Me();return Sr(u,Es(),c)&&po(Jt(),gn(),u,o,c,u[Kt],l,!0),Au}const Wl=void 0;var rE=["en",[["a","p"],["AM","PM"],Wl],[["AM","PM"],Wl,Wl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wl,"{1} 'at' {0}",Wl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function _o(o){const l=Math.floor(Math.abs(o)),u=o.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===u?1:5}];let Cc={};function D_(o){const c=function Of(o){return o.toLowerCase().replace(/_/g,"-")}(o);let l=Sb(c);if(l)return l;const u=c.split("-")[0];if(l=Sb(u),l)return l;if("en"===u)return rE;throw new ye(701,!1)}function Ru(o){return D_(o)[At.PluralCase]}function Sb(o){return o in Cc||(Cc[o]=Ut.ng&&Ut.ng.common&&Ut.ng.common.locales&&Ut.ng.common.locales[o]),Cc[o]}var At=(()=>((At=At||{})[At.LocaleId=0]="LocaleId",At[At.DayPeriodsFormat=1]="DayPeriodsFormat",At[At.DayPeriodsStandalone=2]="DayPeriodsStandalone",At[At.DaysFormat=3]="DaysFormat",At[At.DaysStandalone=4]="DaysStandalone",At[At.MonthsFormat=5]="MonthsFormat",At[At.MonthsStandalone=6]="MonthsStandalone",At[At.Eras=7]="Eras",At[At.FirstDayOfWeek=8]="FirstDayOfWeek",At[At.WeekendRange=9]="WeekendRange",At[At.DateFormat=10]="DateFormat",At[At.TimeFormat=11]="TimeFormat",At[At.DateTimeFormat=12]="DateTimeFormat",At[At.NumberSymbols=13]="NumberSymbols",At[At.NumberFormats=14]="NumberFormats",At[At.CurrencyCode=15]="CurrencyCode",At[At.CurrencySymbol=16]="CurrencySymbol",At[At.CurrencyName=17]="CurrencyName",At[At.Currencies=18]="Currencies",At[At.Directionality=19]="Directionality",At[At.PluralCase=20]="PluralCase",At[At.ExtraData=21]="ExtraData",At))();const Ou="en-US";let Db=Ou;function Mp(o,c,l,u,h){if(o=K(o),Array.isArray(o))for(let p=0;p<o.length;p++)Mp(o[p],c,l,u,h);else{const p=Jt(),v=Me();let x=wl(o)?o:K(o.provide),C=uv(o);const T=Kn(),M=1048575&T.providerIndexes,B=T.directiveStart,q=T.providerIndexes>>20;if(wl(o)||!o.multi){const ee=new Oi(C,h,uf),xe=Rp(x,c,h?M:M+q,B);-1===xe?(ec(ko(T,v),p,x),Uf(p,o,c.length),c.push(x),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),l.push(ee),v.push(ee)):(l[xe]=ee,v[xe]=ee)}else{const ee=Rp(x,c,M+q,B),xe=Rp(x,c,M,M+q),Ke=xe>=0&&l[xe];if(h&&!Ke||!h&&!(ee>=0&&l[ee])){ec(ko(T,v),p,x);const Qe=function Sc(o,c,l,u,h){const p=new Oi(o,l,uf);return p.multi=[],p.index=c,p.componentProviders=0,jf(p,h,u&&!l),p}(h?Hb:ME,l.length,h,u,C);!h&&Ke&&(l[xe].providerFactory=Qe),Uf(p,o,c.length,0),c.push(x),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),l.push(Qe),v.push(Qe)}else Uf(p,o,ee>-1?ee:xe,jf(l[h?xe:ee],C,!h&&u));!h&&u&&Ke&&l[xe].componentProviders++}}}function Uf(o,c,l,u){const h=wl(c),p=function lv(o){return!!o.useClass}(c);if(h||p){const C=(p?K(c.useClass):c).prototype.ngOnDestroy;if(C){const T=o.destroyHooks||(o.destroyHooks=[]);if(!h&&c.multi){const M=T.indexOf(l);-1===M?T.push(l,[u,C]):T[M+1].push(u,C)}else T.push(l,C)}}}function jf(o,c,l){return l&&o.componentProviders++,o.multi.push(c)-1}function Rp(o,c,l,u){for(let h=l;h<u;h++)if(c[h]===o)return h;return-1}function ME(o,c,l,u){return Op(this.multi,[])}function Hb(o,c,l,u){const h=this.multi;let p;if(this.providerFactory){const v=this.providerFactory.componentProviders,x=Xo(l,l[nt],this.providerFactory.index,u);p=x.slice(0,v),Op(h,p);for(let C=v;C<x.length;C++)p.push(x[C])}else p=[],Op(h,p);return p}function Op(o,c){for(let l=0;l<o.length;l++)c.push((0,o[l])());return c}function $b(o,c=[]){return l=>{l.providersResolver=(u,h)=>function Bf(o,c,l){const u=Jt();if(u.firstCreatePass){const h=Hi(o);Mp(l,u.data,u.blueprint,h,!0),Mp(c,u.data,u.blueprint,h,!1)}}(u,h?h(o):o,c)}}class zf{}class V_{}function UD(o,c){return new OE(o,c??null)}class OE extends zf{constructor(c,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Fv(this);const u=pi(c);this._bootstrapComponents=it(u.bootstrap),this._r3Injector=fo(c,l,[{provide:zf,useValue:this},{provide:Cl,useValue:this.componentFactoryResolver}],le(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class Fp extends V_{constructor(c){super(),this.moduleType=c}create(c){return new OE(this.moduleType,c)}}class B_ extends zf{constructor(c,l,u){super(),this.componentFactoryResolver=new Fv(this),this.instance=null;const h=new ix([...c,{provide:zf,useValue:this},{provide:Cl,useValue:this.componentFactoryResolver}],l||ep(),u,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function Pp(o,c,l=null){return new B_(o,c,l).injector}let FE=(()=>{class o{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const u=tx(0,l.type),h=u.length>0?Pp([u],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,h)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=ct({token:o,providedIn:"environment",factory:()=>new o(Ge(ga))}),o})();function Pu(o){o.getStandaloneInjector=c=>c.get(FE).getOrCreateStandaloneInjector(o)}function Nu(o,c,l){const u=oi()+o,h=Me();return h[u]===et?Lo(h,u,l?c.call(l):c()):function Vl(o,c){return o[c]}(h,u)}function Ic(o,c,l,u){return U_(Me(),oi(),o,c,l,u)}function Lu(o,c){const l=o[c];return l===et?void 0:l}function U_(o,c,l,u,h,p){const v=c+l;return Sr(o,v,h)?Lo(o,v+1,p?u.call(p,h):u(h)):Lu(o,v+1)}function j_(o,c,l,u,h,p,v){const x=c+l;return function wu(o,c,l,u){const h=Sr(o,c,l);return Sr(o,c+1,u)||h}(o,x,h,p)?Lo(o,x+2,v?u.call(v,h,p):u(h,p)):Lu(o,x+2)}function H_(o,c){const l=Jt();let u;const h=o+Xt;l.firstCreatePass?(u=function GD(o,c){if(c)for(let l=c.length-1;l>=0;l--){const u=c[l];if(o===u.name)return u}}(c,l.pipeRegistry),l.data[h]=u,u.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,u.onDestroy)):u=l.data[h];const p=u.factory||(u.factory=vr(u.type)),v=Nn(uf);try{const x=co(!1),C=p();return co(x),function cD(o,c,l,u){l>=o.data.length&&(o.data[l]=null,o.blueprint[l]=null),c[l]=u}(l,Me(),h,C),C}finally{Nn(v)}}function GE(o,c,l){const u=o+Xt,h=Me(),p=oo(h,u);return Lp(h,u)?U_(h,oi(),c,p.transform,l,p):p.transform(l)}function e0(o,c,l,u){const h=o+Xt,p=Me(),v=oo(p,h);return Lp(p,h)?j_(p,oi(),c,v.transform,l,u,v):v.transform(l,u)}function Lp(o,c){return o[nt].data[c].pure}function t0(o){return c=>{setTimeout(o,void 0,c)}}const Ia=class WD extends a.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,l,u){let h=c,p=l||(()=>null),v=u;if(c&&"object"==typeof c){const C=c;h=C.next?.bind(C),p=C.error?.bind(C),v=C.complete?.bind(C)}this.__isAsync&&(p=t0(p),h&&(h=t0(h)),v&&(v=t0(v)));const x=super.subscribe({next:h,error:p,complete:v});return c instanceof Q.w0&&c.add(x),x}};function n0(){return this._results[Symbol.iterator]()}class qf{get changes(){return this._changes||(this._changes=new Ia)}constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=qf.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=n0)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,l){return this._results.reduce(c,l)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,l){const u=this;u.dirty=!1;const h=function qi(o){return o.flat(Number.POSITIVE_INFINITY)}(c);(this._changesDetected=!function Th(o,c,l){if(o.length!==c.length)return!1;for(let u=0;u<o.length;u++){let h=o[u],p=c[u];if(l&&(h=l(h),p=l(p)),p!==h)return!1}return!0}(u._results,h,l))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Vu=(()=>{class o{}return o.__NG_ELEMENT_ID__=KD,o})();const ZD=Vu,r0=class extends ZD{constructor(c,l,u){super(),this._declarationLView=c,this._declarationTContainer=l,this.elementRef=u}createEmbeddedView(c,l){const u=this._declarationTContainer.tView,h=Al(this._declarationLView,u,c,16,null,u.declTNode,null,null,null,null,l||null);h[Ks]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[Ji];return null!==v&&(h[Ji]=v.createEmbeddedView(u)),ss(u,h,c),new gf(h)}};function KD(){return Wf(Kn(),Me())}function Wf(o,c){return 4&o.type?new r0(c,o,uu(o,c)):null}let Vp=(()=>{class o{}return o.__NG_ELEMENT_ID__=o0,o})();function o0(){return G_(Kn(),Me())}const KE=Vp,YE=class extends KE{constructor(c,l,u){super(),this._lContainer=c,this._hostTNode=l,this._hostLView=u}get element(){return uu(this._hostTNode,this._hostLView)}get injector(){return new ic(this._hostTNode,this._hostLView)}get parentInjector(){const c=Ja(this._hostTNode,this._hostLView);if(kd(c)){const l=To(c,this._hostLView),u=Ss(c);return new ic(l[nt].data[u+8],l)}return new ic(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const l=$_(this._lContainer);return null!==l&&l[c]||null}get length(){return this._lContainer.length-Si}createEmbeddedView(c,l,u){let h,p;"number"==typeof u?h=u:null!=u&&(h=u.index,p=u.injector);const v=c.createEmbeddedView(l||{},p);return this.insert(v,h),v}createComponent(c,l,u,h,p){const v=c&&!function Ms(o){return"function"==typeof o}(c);let x;if(v)x=l;else{const B=l||{};x=B.index,u=B.injector,h=B.projectableNodes,p=B.environmentInjector||B.ngModuleRef}const C=v?c:new Nl(nn(c)),T=u||this.parentInjector;if(!p&&null==C.ngModule){const q=(v?T:this.parentInjector).get(ga,null);q&&(p=q)}const M=C.create(T,h,void 0,p);return this.insert(M.hostView,x),M}insert(c,l){const u=c._lView,h=u[nt];if(function hh(o){return yr(o[Cn])}(u)){const M=this.indexOf(c);if(-1!==M)this.detach(M);else{const B=u[Cn],q=new YE(B,B[Sn],B[Cn]);q.detach(q.indexOf(c))}}const p=this._adjustIndex(l),v=this._lContainer;!function ev(o,c,l,u){const h=Si+u,p=l.length;u>0&&(l[h-1][gr]=c),u<p-Si?(c[gr]=l[h],Tg(l,Si+u,c)):(l.push(c),c[gr]=null),c[Cn]=l;const v=c[Ks];null!==v&&l!==v&&function zh(o,c){const l=o[Ys];c[Ci]!==c[Cn][Cn][Ci]&&(o[Bc]=!0),null===l?o[Ys]=[c]:l.push(c)}(v,c);const x=c[Ji];null!==x&&x.insertView(o),c[Ht]|=64}(h,u,v,p);const x=uc(p,v),C=u[Kt],T=$h(C,v[ys]);return null!==T&&function Ti(o,c,l,u,h,p){u[Or]=h,u[Sn]=c,ns(o,u,l,1,h,p)}(h,v[Sn],C,u,T,x),c.attachToViewContainerRef(),Tg(s0(v),p,c),c}move(c,l){return this.insert(c,l)}indexOf(c){const l=$_(this._lContainer);return null!==l?l.indexOf(c):-1}remove(c){const l=this._adjustIndex(c,-1),u=$m(this._lContainer,l);u&&(kh(s0(this._lContainer),l),Pg(u[nt],u))}detach(c){const l=this._adjustIndex(c,-1),u=$m(this._lContainer,l);return u&&null!=kh(s0(this._lContainer),l)?new gf(u):null}_adjustIndex(c,l=0){return c??this.length+l}};function $_(o){return o[ri]}function s0(o){return o[ri]||(o[ri]=[])}function G_(o,c){let l;const u=c[o.index];if(yr(u))l=u;else{let h;if(8&o.type)h=Vn(u);else{const p=c[Kt];h=p.createComment("");const v=$i(o,c);Oo(p,$h(p,v),h,function eu(o,c){return o.nextSibling(c)}(p,v),!1)}c[o.index]=l=Cx(u,c,h,o),vn(c,l)}return new YE(l,o,c)}class a0{constructor(c){this.queryList=c,this.matches=null}clone(){return new a0(this.queryList)}setDirty(){this.queryList.setDirty()}}class Bp{constructor(c=[]){this.queries=c}createEmbeddedView(c){const l=c.queries;if(null!==l){const u=null!==c.contentQueries?c.contentQueries[0]:l.length,h=[];for(let p=0;p<u;p++){const v=l.getByIndex(p);h.push(this.queries[v.indexInDeclarationView].clone())}return new Bp(h)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let l=0;l<this.queries.length;l++)null!==K_(c,l).matches&&this.queries[l].setDirty()}}class QE{constructor(c,l,u=null){this.predicate=c,this.flags=l,this.read=u}}class Up{constructor(c=[]){this.queries=c}elementStart(c,l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(c,l)}elementEnd(c){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(c)}embeddedTView(c){let l=null;for(let u=0;u<this.length;u++){const h=null!==l?l.length:0,p=this.getByIndex(u).embeddedTView(c,h);p&&(p.indexInDeclarationView=u,null!==l?l.push(p):l=[p])}return null!==l?new Up(l):null}template(c,l){for(let u=0;u<this.queries.length;u++)this.queries[u].template(c,l)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class jp{constructor(c,l=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(c,l){this.isApplyingToNode(l)&&this.matchTNode(c,l)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,l){this.elementStart(c,l)}embeddedTView(c,l){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,l),new jp(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let u=c.parent;for(;null!==u&&8&u.type&&u.index!==l;)u=u.parent;return l===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(c,l){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const p=u[h];this.matchTNodeWithReadOption(c,l,c0(l,p)),this.matchTNodeWithReadOption(c,l,Ds(l,c,p,!1,!1))}else u===Vu?4&l.type&&this.matchTNodeWithReadOption(c,l,-1):this.matchTNodeWithReadOption(c,l,Ds(l,c,u,!1,!1))}matchTNodeWithReadOption(c,l,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===nf||h===Vp||h===Vu&&4&l.type)this.addMatch(l.index,-2);else{const p=Ds(l,c,h,!1,!1);null!==p&&this.addMatch(l.index,p)}else this.addMatch(l.index,u)}}addMatch(c,l){null===this.matches?this.matches=[c,l]:this.matches.push(c,l)}}function c0(o,c){const l=o.localNames;if(null!==l)for(let u=0;u<l.length;u+=2)if(l[u]===c)return l[u+1];return null}function XE(o,c,l,u){return-1===l?function Zf(o,c){return 11&o.type?uu(o,c):4&o.type?Wf(o,c):null}(c,o):-2===l?function l0(o,c,l){return l===nf?uu(c,o):l===Vu?Wf(c,o):l===Vp?G_(c,o):void 0}(o,c,u):Xo(o,o[nt],l,c)}function JE(o,c,l,u){const h=c[Ji].queries[u];if(null===h.matches){const p=o.data,v=l.matches,x=[];for(let C=0;C<v.length;C+=2){const T=v[C];x.push(T<0?null:XE(c,p[T],v[C+1],l.metadata.read))}h.matches=x}return h.matches}function zp(o,c,l,u){const h=o.queries.getByIndex(l),p=h.matches;if(null!==p){const v=JE(o,c,h,l);for(let x=0;x<p.length;x+=2){const C=p[x];if(C>0)u.push(v[x/2]);else{const T=p[x+1],M=c[-C];for(let B=Si;B<M.length;B++){const q=M[B];q[Ks]===q[Cn]&&zp(q[nt],q,T,u)}if(null!==M[Ys]){const B=M[Ys];for(let q=0;q<B.length;q++){const ee=B[q];zp(ee[nt],ee,T,u)}}}}}return u}function Da(o){const c=Me(),l=Jt(),u=gh();Jc(u+1);const h=K_(l,u);if(o.dirty&&function pd(o){return 4==(4&o[Ht])}(c)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const p=h.crossesNgTemplate?zp(l,c,u,[]):JE(l,c,h,u);o.reset(p,rf),o.notifyOnChanges()}return!0}return!1}function q_(o,c,l){const u=Jt();u.firstCreatePass&&(Z_(u,new QE(o,c,l),-1),2==(2&c)&&(u.staticViewQueries=!0)),tC(u,Me(),c)}function eC(o,c,l,u){const h=Jt();if(h.firstCreatePass){const p=Kn();Z_(h,new QE(c,l,u),p.index),function QD(o,c){const l=o.contentQueries||(o.contentQueries=[]);c!==(l.length?l[l.length-1]:-1)&&l.push(o.queries.length-1,c)}(h,o),2==(2&l)&&(h.staticContentQueries=!0)}tC(h,Me(),l)}function W_(){return function YD(o,c){return o[Ji].queries[c].queryList}(Me(),gh())}function tC(o,c,l){const u=new qf(4==(4&l));kv(o,c,u,u.destroy),null===c[Ji]&&(c[Ji]=new Bp),c[Ji].queries.push(new a0(u))}function Z_(o,c,l){null===o.queries&&(o.queries=new Up),o.queries.track(new jp(c,l))}function K_(o,c){return o.queries.getByIndex(c)}function nC(o,c){return Wf(o,c)}function u0(o){return!!pi(o)}function Ni(...o){}const C0=new mn("Application Initializer");let ry=(()=>{class o{constructor(l){this.appInits=l,this.resolve=Ni,this.reject=Ni,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(y_(p))l.push(p);else if(Lx(p)){const v=new Promise((x,C)=>{p.subscribe({complete:x,error:C})});l.push(v)}}Promise.all(l).then(()=>{u()}).catch(h=>{this.reject(h)}),0===l.length&&u(),this.initialized=!0}}return o.\u0275fac=function(l){return new(l||o)(Ge(C0,8))},o.\u0275prov=ct({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const ju=new mn("AppId",{providedIn:"root",factory:function S0(){return`${I0()}${I0()}${I0()}`}});function I0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const oy=new mn("Platform Initializer"),dT=new mn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Gn=new mn("AnimationModuleType");let w1=(()=>{class o{log(l){console.log(l)}warn(l){console.warn(l)}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=ct({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const ei=new mn("LocaleId",{providedIn:"root",factory:()=>lt(ei,vt.Optional|vt.SkipSelf)||function uT(){return typeof $localize<"u"&&$localize.locale||Ou}()}),vC=new mn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class fT{constructor(c,l){this.ngModuleFactory=c,this.componentFactories=l}}let mT=(()=>{class o{compileModuleSync(l){return new Fp(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const u=this.compileModuleSync(l),p=it(pi(l).declarations).reduce((v,x)=>{const C=nn(x);return C&&v.push(new Nl(C)),v},[]);return new fT(u,p)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=ct({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const _T=(()=>Promise.resolve(0))();function ds(o){typeof Zone>"u"?_T.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class cr{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ia(!1),this.onMicrotaskEmpty=new Ia(!1),this.onStable=new Ia(!1),this.onError=new Ia(!1),typeof Zone>"u")throw new ye(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&l,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Tc(){let o=Ut.requestAnimationFrame,c=Ut.cancelAnimationFrame;if(typeof Zone<"u"&&o&&c){const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l);const u=c[Zone.__symbol__("OriginalDelegate")];u&&(c=u)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function xC(o){const c=()=>{!function yT(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Ut,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,ay(o),o.isCheckStableRunning=!0,D0(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),ay(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,u,h,p,v,x)=>{try{return Gp(o),l.invokeTask(h,p,v,x)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||o.shouldCoalesceRunChangeDetection)&&c(),EC(o)}},onInvoke:(l,u,h,p,v,x,C)=>{try{return Gp(o),l.invoke(h,p,v,x,C)}finally{o.shouldCoalesceRunChangeDetection&&c(),EC(o)}},onHasTask:(l,u,h,p)=>{l.hasTask(h,p),u===h&&("microTask"==p.change?(o._hasPendingMicrotasks=p.microTask,ay(o),D0(o)):"macroTask"==p.change&&(o.hasPendingMacrotasks=p.macroTask))},onHandleError:(l,u,h,p)=>(l.handleError(h,p),o.runOutsideAngular(()=>o.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!cr.isInAngularZone())throw new ye(909,!1)}static assertNotInAngularZone(){if(cr.isInAngularZone())throw new ye(909,!1)}run(c,l,u){return this._inner.run(c,l,u)}runTask(c,l,u,h){const p=this._inner,v=p.scheduleEventTask("NgZoneEvent: "+h,c,sy,Ni,Ni);try{return p.runTask(v,l,u)}finally{p.cancelTask(v)}}runGuarded(c,l,u){return this._inner.runGuarded(c,l,u)}runOutsideAngular(c){return this._outer.run(c)}}const sy={};function D0(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function ay(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function Gp(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function EC(o){o._nesting--,D0(o)}class zu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ia,this.onMicrotaskEmpty=new Ia,this.onStable=new Ia,this.onError=new Ia}run(c,l,u){return c.apply(l,u)}runGuarded(c,l,u){return c.apply(l,u)}runOutsideAngular(c){return c()}runTask(c,l,u,h){return c.apply(l,u)}}const qp=new mn(""),Qf=new mn("");let T0,CC=(()=>{class o{constructor(l,u,h){this._ngZone=l,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,T0||(function vT(o){T0=o}(h),h.addToWindow(u)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{cr.assertNotInAngularZone(),ds(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ds(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(l)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,u,h){let p=-1;u&&u>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==p),l(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:l,timeoutId:p,updateCb:h})}whenStable(l,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,u,h){return[]}}return o.\u0275fac=function(l){return new(l||o)(Ge(cr),Ge(cy),Ge(Qf))},o.\u0275prov=ct({token:o,factory:o.\u0275fac}),o})(),cy=(()=>{class o{constructor(){this._applications=new Map}registerApplication(l,u){this._applications.set(l,u)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,u=!0){return T0?.findTestabilityInTree(this,l,u)??null}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=ct({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const kc=!1;let Ta=null;const ly=new mn("AllowMultipleToken"),dy=new mn("PlatformDestroyListeners"),Ql=new mn("appBootstrapListener");class Wp{constructor(c,l){this.name=c,this.token=l}}function Xf(o,c,l=[]){const u=`Platform: ${c}`,h=new mn(u);return(p=[])=>{let v=Yp();if(!v||v.injector.get(ly,!1)){const x=[...l,...p,{provide:h,useValue:!0}];o?o(x):function wT(o){if(Ta&&!Ta.get(ly,!1))throw new ye(400,!1);Ta=o;const c=o.get(Jf);(function Zp(o){const c=o.get(oy,null);c&&c.forEach(l=>l())})(o)}(function Kp(o=[],c){return _c.create({name:c,providers:[{provide:du,useValue:"platform"},{provide:dy,useValue:new Set([()=>Ta=null])},...o]})}(x,u))}return function ET(o){const c=Yp();if(!c)throw new ye(401,!1);return c}()}}function Yp(){return Ta?.get(Jf)??null}let Jf=(()=>{class o{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,u){const h=function em(o,c){let l;return l="noop"===o?new zu:("zone.js"===o?void 0:o)||new cr(c),l}(u?.ngZone,function Ac(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(u)),p=[{provide:cr,useValue:h}];return h.run(()=>{const v=_c.create({providers:p,parent:this.injector,name:l.moduleType.name}),x=l.create(v),C=x.injector.get(yi,null);if(!C)throw new ye(402,!1);return h.runOutsideAngular(()=>{const T=h.onError.subscribe({next:M=>{C.handleError(M)}});x.onDestroy(()=>{M0(this._modules,x),T.unsubscribe()})}),function IC(o,c,l){try{const u=l();return y_(u)?u.catch(h=>{throw c.runOutsideAngular(()=>o.handleError(h)),h}):u}catch(u){throw c.runOutsideAngular(()=>o.handleError(u)),u}}(C,h,()=>{const T=x.injector.get(ry);return T.runInitializers(),T.donePromise.then(()=>(function sE(o){ot(o,"Expected localeId to be defined"),"string"==typeof o&&(Db=o.toLowerCase().replace(/_/g,"-"))}(x.injector.get(ei,Ou)||Ou),this._moduleDoBootstrap(x),x))})})}bootstrapModule(l,u=[]){const h=Hu({},u);return function SC(o,c,l){const u=new Fp(l);return Promise.resolve(u)}(0,0,l).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(l){const u=l.injector.get(A0);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new ye(-403,!1);l.instance.ngDoBootstrap(u)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ye(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const l=this._injector.get(dy,null);l&&(l.forEach(u=>u()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(l){return new(l||o)(Ge(_c))},o.\u0275prov=ct({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function Hu(o,c){return Array.isArray(c)?c.reduce(Hu,o):{...o,...c}}let A0=(()=>{class o{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(l,u,h){this._zone=l,this._injector=u,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new N.y(x=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{x.next(this._stable),x.complete()})}),v=new N.y(x=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{cr.assertNotInAngularZone(),ds(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,x.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{cr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{x.next(!1)}))});return()=>{C.unsubscribe(),T.unsubscribe()}});this.isStable=(0,oe.T)(p,v.pipe((0,se.B)()))}bootstrap(l,u){const h=l instanceof El;if(!this._injector.get(ry).done){!h&&$o(l);throw new ye(405,kc)}let v;v=h?l:this._injector.get(Cl).resolveComponentFactory(l),this.componentTypes.push(v.componentType);const x=function k0(o){return o.isBoundToModule}(v)?void 0:this._injector.get(zf),T=v.create(_c.NULL,[],u||v.selector,x),M=T.location.nativeElement,B=T.injector.get(qp,null);return B?.registerApplication(M),T.onDestroy(()=>{this.detachView(T.hostView),M0(this.components,T),B?.unregisterApplication(M)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new ye(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const u=l;this._views.push(u),u.attachToAppRef(this)}detachView(l){const u=l;M0(this._views,u),u.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const u=this._injector.get(Ql,[]);u.push(...this._bootstrapListeners),u.forEach(h=>h(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>M0(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new ye(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(l){return new(l||o)(Ge(cr),Ge(ga),Ge(yi))},o.\u0275prov=ct({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function M0(o,c){const l=o.indexOf(c);l>-1&&o.splice(l,1)}function fy(){return!1}let IT=(()=>{class o{}return o.__NG_ELEMENT_ID__=my,o})();function my(o){return function DT(o,c,l){if(Uc(o)&&!l){const u=Ii(o.index,c);return new gf(u,u)}return 47&o.type?new gf(c[Ci],c):null}(Kn(),Me(),16==(16&o))}class Rc{constructor(){}supports(c){return hp(c)}create(c){return new PT(c)}}const FT=(o,c)=>c;class PT{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||FT}forEachItem(c){let l;for(l=this._itHead;null!==l;l=l._next)c(l)}forEachOperation(c){let l=this._itHead,u=this._removalsHead,h=0,p=null;for(;l||u;){const v=!u||l&&l.currentIndex<P0(u,h,p)?l:u,x=P0(v,h,p),C=v.currentIndex;if(v===u)h--,u=u._nextRemoved;else if(l=l._next,null==v.previousIndex)h++;else{p||(p=[]);const T=x-h,M=C-h;if(T!=M){for(let q=0;q<T;q++){const ee=q<p.length?p[q]:p[q]=0,xe=ee+q;M<=xe&&xe<T&&(p[q]=ee+1)}p[v.previousIndex]=M-T}}x!==C&&c(v,x,C)}}forEachPreviousItem(c){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)c(l)}forEachAddedItem(c){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)c(l)}forEachMovedItem(c){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)c(l)}forEachRemovedItem(c){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)c(l)}forEachIdentityChange(c){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)c(l)}diff(c){if(null==c&&(c=[]),!hp(c))throw new ye(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let h,p,v,l=this._itHead,u=!1;if(Array.isArray(c)){this.length=c.length;for(let x=0;x<this.length;x++)p=c[x],v=this._trackByFn(x,p),null!==l&&Object.is(l.trackById,v)?(u&&(l=this._verifyReinsertion(l,p,v,x)),Object.is(l.item,p)||this._addIdentityChange(l,p)):(l=this._mismatch(l,p,v,x),u=!0),l=l._next}else h=0,function aD(o,c){if(Array.isArray(o))for(let l=0;l<o.length;l++)c(o[l]);else{const l=o[Symbol.iterator]();let u;for(;!(u=l.next()).done;)c(u.value)}}(c,x=>{v=this._trackByFn(h,x),null!==l&&Object.is(l.trackById,v)?(u&&(l=this._verifyReinsertion(l,x,v,h)),Object.is(l.item,x)||this._addIdentityChange(l,x)):(l=this._mismatch(l,x,v,h),u=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,l,u,h){let p;return null===c?p=this._itTail:(p=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(c.item,l)||this._addIdentityChange(c,l),this._reinsertAfter(c,p,h)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(c.item,l)||this._addIdentityChange(c,l),this._moveAfter(c,p,h)):c=this._addAfter(new NT(l,u),p,h),c}_verifyReinsertion(c,l,u,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==p?c=this._reinsertAfter(p,c._prev,h):c.currentIndex!=h&&(c.currentIndex=h,this._addToMoves(c,h)),c}_truncate(c){for(;null!==c;){const l=c._next;this._addToRemovals(this._unlink(c)),c=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,l,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const h=c._prevRemoved,p=c._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(c,l,u),this._addToMoves(c,u),c}_moveAfter(c,l,u){return this._unlink(c),this._insertAfter(c,l,u),this._addToMoves(c,u),c}_addAfter(c,l,u){return this._insertAfter(c,l,u),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,l,u){const h=null===l?this._itHead:l._next;return c._next=h,c._prev=l,null===h?this._itTail=c:h._prev=c,null===l?this._itHead=c:l._next=c,null===this._linkedRecords&&(this._linkedRecords=new RC),this._linkedRecords.put(c),c.currentIndex=u,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const l=c._prev,u=c._next;return null===l?this._itHead=u:l._next=u,null===u?this._itTail=l:u._prev=l,c}_addToMoves(c,l){return c.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new RC),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,l){return c.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class NT{constructor(c,l){this.item=c,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class LT{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,l){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===l||l<=u.currentIndex)&&Object.is(u.trackById,c))return u;return null}remove(c){const l=c._prevDup,u=c._nextDup;return null===l?this._head=u:l._nextDup=u,null===u?this._tail=l:u._prevDup=l,null===this._head}}class RC{constructor(){this.map=new Map}put(c){const l=c.trackById;let u=this.map.get(l);u||(u=new LT,this.map.set(l,u)),u.add(c)}get(c,l){const h=this.map.get(c);return h?h.get(c,l):null}remove(c){const l=c.trackById;return this.map.get(l).remove(c)&&this.map.delete(l),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function P0(o,c,l){const u=o.previousIndex;if(null===u)return u;let h=0;return l&&u<l.length&&(h=l[u]),u+c+h}class N0{constructor(){}supports(c){return c instanceof Map||jv(c)}create(){return new VT}}class VT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let l;for(l=this._mapHead;null!==l;l=l._next)c(l)}forEachPreviousItem(c){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)c(l)}forEachChangedItem(c){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)c(l)}forEachAddedItem(c){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)c(l)}forEachRemovedItem(c){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)c(l)}diff(c){if(c){if(!(c instanceof Map||jv(c)))throw new ye(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(c,(u,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,u),this._appendAfter=l,l=l._next;else{const p=this._getOrCreateRecordForKey(h,u);l=this._insertBeforeOrAppend(l,p)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let u=l;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,l){if(c){const u=c._prev;return l._next=c,l._prev=u,c._prev=l,u&&(u._next=l),c===this._mapHead&&(this._mapHead=l),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(c,l){if(this._records.has(c)){const h=this._records.get(c);this._maybeAddToChanges(h,l);const p=h._prev,v=h._next;return p&&(p._next=v),v&&(v._prev=p),h._next=null,h._prev=null,h}const u=new BT(c);return this._records.set(c,u),u.currentValue=l,this._addToAdditions(u),u}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,l){Object.is(l,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=l,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,l){c instanceof Map?c.forEach(l):Object.keys(c).forEach(u=>l(c[u],u))}}class BT{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function L0(){return new V0([new Rc])}let V0=(()=>{class o{constructor(l){this.factories=l}static create(l,u){if(null!=u){const h=u.factories.slice();l=l.concat(h)}return new o(l)}static extend(l){return{provide:o,useFactory:u=>o.create(l,u||L0()),deps:[[o,new ke,new X]]}}find(l){const u=this.factories.find(h=>h.supports(l));if(null!=u)return u;throw new ye(901,!1)}}return o.\u0275prov=ct({token:o,providedIn:"root",factory:L0}),o})();function gy(){return new OC([new N0])}let OC=(()=>{class o{constructor(l){this.factories=l}static create(l,u){if(u){const h=u.factories.slice();l=l.concat(h)}return new o(l)}static extend(l){return{provide:o,useFactory:u=>o.create(l,u||gy()),deps:[[o,new ke,new X]]}}find(l){const u=this.factories.find(h=>h.supports(l));if(u)return u;throw new ye(901,!1)}}return o.\u0275prov=ct({token:o,providedIn:"root",factory:gy}),o})();const HT=Xf(null,"core",[]);let $T=(()=>{class o{constructor(l){}}return o.\u0275fac=function(l){return new(l||o)(Ge(A0))},o.\u0275mod=Vc({type:o}),o.\u0275inj=ti({}),o})();function GT(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(ut,Se,P)=>{P.d(Se,{Z:()=>qe});var a=P(2090),Q=P(4859),N=P(9681),oe=P(1877);class se{constructor(ye,Ae){this._delegate=ye,this.firebase=Ae,(0,N._addComponent)(ye,new Q.wA("app-compat",()=>this,"PUBLIC")),this.container=ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this._delegate.automaticDataCollectionEnabled=ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ye=>{this._delegate.checkDestroyed(),ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(ye,Ae=N._DEFAULT_ENTRY_NAME){var Ie;this._delegate.checkDestroyed();const Le=this._delegate.container.getProvider(ye);return!Le.isInitialized()&&"EXPLICIT"===(null===(Ie=Le.getComponent())||void 0===Ie?void 0:Ie.instantiationMode)&&Le.initialize(),Le.getImmediate({identifier:Ae})}_removeServiceInstance(ye,Ae=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ye).clearInstance(Ae)}_addComponent(ye){(0,N._addComponent)(this._delegate,ye)}_addOrOverwriteComponent(ye){(0,N._addOrOverwriteComponent)(this._delegate,ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const _e=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function ae(){const ht=function le(ht){const ye={},Ae={__esModule:!0,initializeApp:function re(Ee,z={}){const ve=N.initializeApp(Ee,z);if((0,a.r3)(ye,ve.name))return ye[ve.name];const je=new ht(ve,Ae);return ye[ve.name]=je,je},app:Le,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function pe(Ee){const z=Ee.name,ve=z.replace("-compat","");if(N._registerComponent(Ee)&&"PUBLIC"===Ee.type){const je=(ze=Le())=>{if("function"!=typeof ze[ve])throw _e.create("invalid-app-argument",{appName:z});return ze[ve]()};void 0!==Ee.serviceProps&&(0,a.ZB)(je,Ee.serviceProps),Ae[ve]=je,ht.prototype[ve]=function(...ze){return this._getService.bind(this,z).apply(this,Ee.multipleInstances?ze:[])}}return"PUBLIC"===Ee.type?Ae[ve]:null},removeApp:function Ie(Ee){delete ye[Ee]},useAsService:function be(Ee,z){return"serverAuth"===z?null:z},modularAPIs:N}};function Le(Ee){if(!(0,a.r3)(ye,Ee=Ee||N._DEFAULT_ENTRY_NAME))throw _e.create("no-app",{appName:Ee});return ye[Ee]}return Ae.default=Ae,Object.defineProperty(Ae,"apps",{get:function ie(){return Object.keys(ye).map(Ee=>ye[Ee])}}),Le.App=ht,Ae}(se);return ht.INTERNAL=Object.assign(Object.assign({},ht.INTERNAL),{createFirebaseNamespace:ae,extendNamespace:function ye(Ae){(0,a.ZB)(ht,Ae)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),ht}(),G=new oe.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ht=self.firebase.SDK_VERSION;ht&&ht.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const qe=H;!function De(ht){(0,N.registerVersion)("@firebase/app-compat","0.2.5",ht)}()},9681:(ut,Se,P)=>{P.r(Se),P.d(Se,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>Mr,_DEFAULT_ENTRY_NAME:()=>Be,_addComponent:()=>hn,_addOrOverwriteComponent:()=>St,_apps:()=>ot,_clearComponents:()=>ti,_components:()=>Je,_getProvider:()=>ct,_registerComponent:()=>rn,_removeServiceInstance:()=>Lt,deleteApp:()=>zo,getApp:()=>Rr,getApps:()=>mr,initializeApp:()=>hs,onLog:()=>vt,registerVersion:()=>pr,setLogLevel:()=>Ho});var a=P(5861),Q=P(4859),N=P(1877),oe=P(2090),se=P(8766);class J{constructor(Te){this.container=Te}getPlatformInfoString(){return this.container.getProviders().map(lt=>{if(function _e(Ge){return"VERSION"===Ge.getComponent()?.type}(lt)){const Tt=lt.getImmediate();return`${Tt.library}/${Tt.version}`}return null}).filter(lt=>lt).join(" ")}}const le="@firebase/app",H=new N.Yd("@firebase/app"),Be="[DEFAULT]",He={[le]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ot=new Map,Je=new Map;function hn(Ge,Te){try{Ge.container.addComponent(Te)}catch(lt){H.debug(`Component ${Te.name} failed to register with FirebaseApp ${Ge.name}`,lt)}}function St(Ge,Te){Ge.container.addOrOverwriteComponent(Te)}function rn(Ge){const Te=Ge.name;if(Je.has(Te))return H.debug(`There were multiple attempts to register component ${Te}.`),!1;Je.set(Te,Ge);for(const lt of ot.values())hn(lt,Ge);return!0}function ct(Ge,Te){const lt=Ge.container.getProvider("heartbeat").getImmediate({optional:!0});return lt&&lt.triggerHeartbeat(),Ge.container.getProvider(Te)}function Lt(Ge,Te,lt=Be){ct(Ge,Te).clearInstance(lt)}function ti(){Je.clear()}const Mn=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Pn{constructor(Te,lt,Tt){this._isDeleted=!1,this._options=Object.assign({},Te),this._config=Object.assign({},lt),this._name=lt.name,this._automaticDataCollectionEnabled=lt.automaticDataCollectionEnabled,this._container=Tt,this.container.addComponent(new Q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this.checkDestroyed(),this._automaticDataCollectionEnabled=Te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Te){this._isDeleted=Te}checkDestroyed(){if(this.isDeleted)throw Mn.create("app-deleted",{appName:this._name})}}const Mr="9.18.0";function hs(Ge,Te={}){let lt=Ge;"object"!=typeof Te&&(Te={name:Te});const Tt=Object.assign({name:Be,automaticDataCollectionEnabled:!1},Te),Vt=Tt.name;if("string"!=typeof Vt||!Vt)throw Mn.create("bad-app-name",{appName:String(Vt)});if(lt||(lt=(0,oe.aH)()),!lt)throw Mn.create("no-options");const Wt=ot.get(Vt);if(Wt){if((0,oe.vZ)(lt,Wt.options)&&(0,oe.vZ)(Tt,Wt.config))return Wt;throw Mn.create("duplicate-app",{appName:Vt})}const Ui=new Q.H0(Vt);for(const j of Je.values())Ui.addComponent(j);const $=new Pn(lt,Tt,Ui);return ot.set(Vt,$),$}function Rr(Ge=Be){const Te=ot.get(Ge);if(!Te&&Ge===Be)return hs();if(!Te)throw Mn.create("no-app",{appName:Ge});return Te}function mr(){return Array.from(ot.values())}function zo(Ge){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,a.Z)(function*(Ge){const Te=Ge.name;ot.has(Te)&&(ot.delete(Te),yield Promise.all(Ge.container.getProviders().map(lt=>lt.delete())),Ge.isDeleted=!0)})).apply(this,arguments)}function pr(Ge,Te,lt){var Tt;let Vt=null!==(Tt=He[Ge])&&void 0!==Tt?Tt:Ge;lt&&(Vt+=`-${lt}`);const Wt=Vt.match(/\s|\//),Ui=Te.match(/\s|\//);if(Wt||Ui){const $=[`Unable to register library "${Vt}" with version "${Te}":`];return Wt&&$.push(`library name "${Vt}" contains illegal characters (whitespace or "/")`),Wt&&Ui&&$.push("and"),Ui&&$.push(`version name "${Te}" contains illegal characters (whitespace or "/")`),void H.warn($.join(" "))}rn(new Q.wA(`${Vt}-version`,()=>({library:Vt,version:Te}),"VERSION"))}function vt(Ge,Te){if(null!==Ge&&"function"!=typeof Ge)throw Mn.create("invalid-log-argument");(0,N.Am)(Ge,Te)}function Ho(Ge){(0,N.Ub)(Ge)}const Br="firebase-heartbeat-database",Nn=1,Vi="firebase-heartbeat-store";let fs=null;function Ut(){return fs||(fs=(0,se.X3)(Br,Nn,{upgrade:(Ge,Te)=>{0===Te&&Ge.createObjectStore(Vi)}}).catch(Ge=>{throw Mn.create("idb-open",{originalErrorMessage:Ge.message})})),fs}function kt(){return(kt=(0,a.Z)(function*(Ge){try{return(yield Ut()).transaction(Vi).objectStore(Vi).get(ni(Ge))}catch(Te){if(Te instanceof oe.ZR)H.warn(Te.message);else{const lt=Mn.create("idb-get",{originalErrorMessage:Te?.message});H.warn(lt.message)}}})).apply(this,arguments)}function ms(Ge,Te){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,a.Z)(function*(Ge,Te){try{const Tt=(yield Ut()).transaction(Vi,"readwrite");return yield Tt.objectStore(Vi).put(Te,ni(Ge)),Tt.done}catch(lt){if(lt instanceof oe.ZR)H.warn(lt.message);else{const Tt=Mn.create("idb-set",{originalErrorMessage:lt?.message});H.warn(Tt.message)}}})).apply(this,arguments)}function ni(Ge){return`${Ge.name}!${Ge.options.appId}`}class La{constructor(Te){this.container=Te,this._heartbeatsCache=null;const lt=this.container.getProvider("app").getImmediate();this._storage=new tn(lt),this._heartbeatsCachePromise=this._storage.read().then(Tt=>(this._heartbeatsCache=Tt,Tt))}triggerHeartbeat(){var Te=this;return(0,a.Z)(function*(){const Tt=Te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Vt=pn();if(null===Te._heartbeatsCache&&(Te._heartbeatsCache=yield Te._heartbeatsCachePromise),Te._heartbeatsCache.lastSentHeartbeatDate!==Vt&&!Te._heartbeatsCache.heartbeats.some(Wt=>Wt.date===Vt))return Te._heartbeatsCache.heartbeats.push({date:Vt,agent:Tt}),Te._heartbeatsCache.heartbeats=Te._heartbeatsCache.heartbeats.filter(Wt=>{const Ui=new Date(Wt.date).valueOf();return Date.now()-Ui<=2592e6}),Te._storage.overwrite(Te._heartbeatsCache)})()}getHeartbeatsHeader(){var Te=this;return(0,a.Z)(function*(){if(null===Te._heartbeatsCache&&(yield Te._heartbeatsCachePromise),null===Te._heartbeatsCache||0===Te._heartbeatsCache.heartbeats.length)return"";const lt=pn(),{heartbeatsToSend:Tt,unsentEntries:Vt}=function vo(Ge,Te=1024){const lt=[];let Tt=Ge.slice();for(const Vt of Ge){const Wt=lt.find(Ui=>Ui.agent===Vt.agent);if(Wt){if(Wt.dates.push(Vt.date),Qi(lt)>Te){Wt.dates.pop();break}}else if(lt.push({agent:Vt.agent,dates:[Vt.date]}),Qi(lt)>Te){lt.pop();break}Tt=Tt.slice(1)}return{heartbeatsToSend:lt,unsentEntries:Tt}}(Te._heartbeatsCache.heartbeats),Wt=(0,oe.L)(JSON.stringify({version:2,heartbeats:Tt}));return Te._heartbeatsCache.lastSentHeartbeatDate=lt,Vt.length>0?(Te._heartbeatsCache.heartbeats=Vt,yield Te._storage.overwrite(Te._heartbeatsCache)):(Te._heartbeatsCache.heartbeats=[],Te._storage.overwrite(Te._heartbeatsCache)),Wt})()}}function pn(){return(new Date).toISOString().substring(0,10)}class tn{constructor(Te){this.app=Te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Te=this;return(0,a.Z)(function*(){return(yield Te._canUseIndexedDBPromise)&&(yield function xt(Ge){return kt.apply(this,arguments)}(Te.app))||{heartbeats:[]}})()}overwrite(Te){var lt=this;return(0,a.Z)(function*(){var Tt;if(yield lt._canUseIndexedDBPromise){const Wt=yield lt.read();return ms(lt.app,{lastSentHeartbeatDate:null!==(Tt=Te.lastSentHeartbeatDate)&&void 0!==Tt?Tt:Wt.lastSentHeartbeatDate,heartbeats:Te.heartbeats})}})()}add(Te){var lt=this;return(0,a.Z)(function*(){var Tt;if(yield lt._canUseIndexedDBPromise){const Wt=yield lt.read();return ms(lt.app,{lastSentHeartbeatDate:null!==(Tt=Te.lastSentHeartbeatDate)&&void 0!==Tt?Tt:Wt.lastSentHeartbeatDate,heartbeats:[...Wt.heartbeats,...Te.heartbeats]})}})()}}function Qi(Ge){return(0,oe.L)(JSON.stringify({version:2,heartbeats:Ge})).length}!function eo(Ge){rn(new Q.wA("platform-logger",Te=>new J(Te),"PRIVATE")),rn(new Q.wA("heartbeat",Te=>new La(Te),"PRIVATE")),pr(le,"0.9.5",Ge),pr(le,"0.9.5","esm2017"),pr("fire-js","")}("")},4859:(ut,Se,P)=>{P.d(Se,{H0:()=>le,wA:()=>N});var a=P(5861),Q=P(2090);class N{constructor(H,G,K){this.name=H,this.instanceFactory=G,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const oe="[DEFAULT]";class se{constructor(H,G){this.name=H,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const G=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(G)){const K=new Q.BH;if(this.instancesDeferred.set(G,K),this.isInitialized(G)||this.shouldAutoInitialize())try{const Pe=this.getOrInitializeService({instanceIdentifier:G});Pe&&K.resolve(Pe)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate(H){var G;const K=this.normalizeInstanceIdentifier(H?.identifier),Pe=null!==(G=H?.optional)&&void 0!==G&&G;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(Pe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(De){if(Pe)return null;throw De}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function _e(ae){return"EAGER"===ae.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[G,K]of this.instancesDeferred.entries()){const Pe=this.normalizeInstanceIdentifier(G);try{const De=this.getOrInitializeService({instanceIdentifier:Pe});K.resolve(De)}catch{}}}}clearInstance(H=oe){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,a.Z)(function*(){const G=Array.from(H.instances.values());yield Promise.all([...G.filter(K=>"INTERNAL"in K).map(K=>K.INTERNAL.delete()),...G.filter(K=>"_delete"in K).map(K=>K._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=oe){return this.instances.has(H)}getOptions(H=oe){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:G={}}=H,K=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Pe=this.getOrInitializeService({instanceIdentifier:K,options:G});for(const[De,qe]of this.instancesDeferred.entries())K===this.normalizeInstanceIdentifier(De)&&qe.resolve(Pe);return Pe}onInit(H,G){var K;const Pe=this.normalizeInstanceIdentifier(G),De=null!==(K=this.onInitCallbacks.get(Pe))&&void 0!==K?K:new Set;De.add(H),this.onInitCallbacks.set(Pe,De);const qe=this.instances.get(Pe);return qe&&H(qe,Pe),()=>{De.delete(H)}}invokeOnInitCallbacks(H,G){const K=this.onInitCallbacks.get(G);if(K)for(const Pe of K)try{Pe(H,G)}catch{}}getOrInitializeService({instanceIdentifier:H,options:G={}}){let K=this.instances.get(H);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:(ae=H,ae===oe?void 0:ae),options:G}),this.instances.set(H,K),this.instancesOptions.set(H,G),this.invokeOnInitCallbacks(K,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,K)}catch{}var ae;return K||null}normalizeInstanceIdentifier(H=oe){return this.component?this.component.multipleInstances?H:oe:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class le{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const G=this.getProvider(H.name);if(G.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);G.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const G=new se(H,this);return this.providers.set(H,G),G}getProviders(){return Array.from(this.providers.values())}}},1877:(ut,Se,P)=>{P.d(Se,{Am:()=>ae,Ub:()=>le,Yd:()=>_e,in:()=>Q});const a=[];var Q=(()=>{return(H=Q||(Q={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",Q;var H})();const N={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},oe=Q.INFO,se={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},J=(H,G,...K)=>{if(G<H.logLevel)return;const Pe=(new Date).toISOString(),De=se[G];if(!De)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[De](`[${Pe}]  ${H.name}:`,...K)};class _e{constructor(G){this.name=G,this._logLevel=oe,this._logHandler=J,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in Q))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?N[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...G),this._logHandler(this,Q.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...G),this._logHandler(this,Q.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...G),this._logHandler(this,Q.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...G),this._logHandler(this,Q.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...G),this._logHandler(this,Q.ERROR,...G)}}function le(H){a.forEach(G=>{G.setLogLevel(H)})}function ae(H,G){for(const K of a){let Pe=null;G&&G.level&&(Pe=N[G.level]),K.userLogHandler=null===H?null:(De,qe,...ht)=>{const ye=ht.map(Ae=>{if(null==Ae)return null;if("string"==typeof Ae)return Ae;if("number"==typeof Ae||"boolean"==typeof Ae)return Ae.toString();if(Ae instanceof Error)return Ae.message;try{return JSON.stringify(Ae)}catch{return null}}).filter(Ae=>Ae).join(" ");qe>=(Pe??De.logLevel)&&H({level:Q[qe].toLowerCase(),message:ye,args:ht,type:De.name})}}}},259:(ut,Se,P)=>{P.d(Se,{C6:()=>a.getApps,Mq:()=>a.getApp});var a=P(9681);(0,a.registerVersion)("firebase","9.18.0","app")},9260:(ut,Se,P)=>{P.d(Se,{Z:()=>a.Z});var a=P(3942);a.Z.registerVersion("firebase","9.18.0","app-compat")},8971:(ut,Se,P)=>{P.r(Se);var a=P(5861),Q=P(3942),N=P(2090),oe=P(9681),se=P(1877),J=P(655),_e=P(4859);const ae={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},K_EMAIL_SIGNIN="EMAIL_SIGNIN",K_PASSWORD_RESET="PASSWORD_RESET",K_RECOVER_EMAIL="RECOVER_EMAIL",K_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",K_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",K_VERIFY_EMAIL="VERIFY_EMAIL";const qe=function Pe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ht=function De(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ye=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ie=new se.Yd("@firebase/auth");function Le(y,...m){Ie.logLevel<=se.in.ERROR&&Ie.error(`Auth (${oe.SDK_VERSION}): ${y}`,...m)}function re(y,...m){throw Ee(y,...m)}function ie(y,...m){return Ee(y,...m)}function pe(y,m,g){const w=Object.assign(Object.assign({},ht()),{[m]:g});return new N.LL("auth","Firebase",w).create(m,{appName:y.name})}function be(y,m,g){if(!(m instanceof g))throw g.name!==m.constructor.name&&re(y,"argument-error"),pe(y,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ee(y,...m){if("string"!=typeof y){const g=m[0],w=[...m.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(g,...w)}return ye.create(y,...m)}function z(y,m,...g){if(!y)throw Ee(m,...g)}function ve(y){const m="INTERNAL ASSERTION FAILED: "+y;throw Le(m),new Error(m)}function je(y,m){y||ve(m)}const ze=new Map;function mt(y){je(y instanceof Function,"Expected a class definition");let m=ze.get(y);return m?(je(m instanceof y,"Instance stored in cache mismatched with class"),m):(m=new y,ze.set(y,m),m)}function ge(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Ce(){return"http:"===Re()||"https:"===Re()}function Re(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class ot{constructor(m,g){this.shortDelay=m,this.longDelay=g,je(g>m,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function Be(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ce()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Je(y,m){je(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return m?`${g}${m.startsWith("/")?m.slice(1):m}`:g}class hn{static initialize(m,g,w){this.fetchImpl=m,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ve("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ve("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ve("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const St={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},rn=new ot(3e4,6e4);function ct(y,m){return y.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:y.tenantId}):m}function Lt(y,m,g,w){return ti.apply(this,arguments)}function ti(){return(ti=(0,a.Z)(function*(y,m,g,w,D={}){return wn(y,D,(0,a.Z)(function*(){let O={},W={};w&&("GET"===m?W=w:O={body:JSON.stringify(w)});const me=(0,N.xO)(Object.assign({key:y.config.apiKey},W)).slice(1),$e=yield y._getAdditionalHeaders();return $e["Content-Type"]="application/json",y.languageCode&&($e["X-Firebase-Locale"]=y.languageCode),hn.fetch()(hs(y,y.config.apiHost,g,me),Object.assign({method:m,headers:$e,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function wn(y,m,g){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,a.Z)(function*(y,m,g){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},St),m);try{const D=new Rr(y),O=yield Promise.race([g(),D.promise]);D.clearNetworkTimeout();const W=yield O.json();if("needConfirmation"in W)throw mr(y,"account-exists-with-different-credential",W);if(O.ok&&!("errorMessage"in W))return W;{const me=O.ok?W.errorMessage:W.error.message,[$e,dt]=me.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===$e)throw mr(y,"credential-already-in-use",W);if("EMAIL_EXISTS"===$e)throw mr(y,"email-already-in-use",W);if("USER_DISABLED"===$e)throw mr(y,"user-disabled",W);const Dt=w[$e]||$e.toLowerCase().replace(/[_\s]+/g,"-");if(dt)throw pe(y,Dt,dt);re(y,Dt)}}catch(D){if(D instanceof N.ZR)throw D;re(y,"internal-error",{message:String(D)})}})).apply(this,arguments)}function Pn(y,m,g,w){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,a.Z)(function*(y,m,g,w,D={}){const O=yield Lt(y,m,g,w,D);return"mfaPendingCredential"in O&&re(y,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function hs(y,m,g,w){const D=`${m}${g}?${w}`;return y.config.emulator?Je(y.config,D):`${y.config.apiScheme}://${D}`}class Rr{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(ie(this.auth,"network-request-failed")),rn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function mr(y,m,g){const w={appName:y.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const D=ie(y,m,w);return D.customData._tokenResponse=g,D}function Rn(){return(Rn=(0,a.Z)(function*(y,m){return Lt(y,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function vt(){return(vt=(0,a.Z)(function*(y,m){return Lt(y,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Br(){return(Br=(0,a.Z)(function*(y,m){return Lt(y,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Nn(y){if(y)try{const m=new Date(Number(y));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function Ut(){return(Ut=(0,a.Z)(function*(y,m=!1){const g=(0,N.m9)(y),w=yield g.getIdToken(m),D=kt(w);z(D&&D.exp&&D.auth_time&&D.iat,g.auth,"internal-error");const O="object"==typeof D.firebase?D.firebase:void 0,W=O?.sign_in_provider;return{claims:D,token:w,authTime:Nn(xt(D.auth_time)),issuedAtTime:Nn(xt(D.iat)),expirationTime:Nn(xt(D.exp)),signInProvider:W||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function xt(y){return 1e3*Number(y)}function kt(y){const[m,g,w]=y.split(".");if(void 0===m||void 0===g||void 0===w)return Le("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,N.tV)(g);return D?JSON.parse(D):(Le("Failed to decode base64 JWT payload"),null)}catch(D){return Le("Caught error parsing JWT payload as JSON",D?.toString()),null}}function Dn(y,m){return ni.apply(this,arguments)}function ni(){return(ni=(0,a.Z)(function*(y,m,g=!1){if(g)return m;try{return yield m}catch(w){throw w instanceof N.ZR&&function Yi({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}class Bi{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var g;if(m){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const D=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(m=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(m);this.timerId=setTimeout((0,a.Z)(function*(){yield g.iteration()}),w)}iteration(){var m=this;return(0,a.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&m.schedule(!0))}m.schedule()})()}}class La{constructor(m,g){this.createdAt=m,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nn(this.lastLoginAt),this.creationTime=Nn(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function pn(y){return vo.apply(this,arguments)}function vo(){return vo=(0,a.Z)(function*(y){var m;const g=y.auth,w=yield y.getIdToken(),D=yield Dn(y,function Ho(y,m){return Br.apply(this,arguments)}(g,{idToken:w}));z(D?.users.length,g,"internal-error");const O=D.users[0];y._notifyReloadListener(O);const W=null!==(m=O.providerUserInfo)&&void 0!==m&&m.length?function Ge(y){return y.map(m=>{var{providerId:g}=m,w=(0,J._T)(m,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(O.providerUserInfo):[],me=function eo(y,m){return[...y.filter(w=>!m.some(D=>D.providerId===w.providerId)),...m]}(y.providerData,W),Dt=!!y.isAnonymous&&!(y.email&&O.passwordHash||me?.length),Et={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:me,metadata:new La(O.createdAt,O.lastLoginAt),isAnonymous:Dt};Object.assign(y,Et)}),vo.apply(this,arguments)}function Qi(){return(Qi=(0,a.Z)(function*(y){const m=(0,N.m9)(y);yield pn(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function lt(){return(lt=(0,a.Z)(function*(y,m){const g=yield wn(y,{},(0,a.Z)(function*(){const w=(0,N.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:D,apiKey:O}=y.config,W=hs(y,D,"/v1/token",`key=${O}`),me=yield y._getAdditionalHeaders();return me["Content-Type"]="application/x-www-form-urlencoded",hn.fetch()(W,{method:"POST",headers:me,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Tt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){z(m.idToken,"internal-error"),z(typeof m.idToken<"u","internal-error"),z(typeof m.refreshToken<"u","internal-error");const g="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function ms(y){const m=kt(y);return z(m,"internal-error"),z(typeof m.exp<"u","internal-error"),z(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,g)}getToken(m,g=!1){var w=this;return(0,a.Z)(function*(){return z(!w.accessToken||w.refreshToken,m,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(m,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,g){var w=this;return(0,a.Z)(function*(){const{accessToken:D,refreshToken:O,expiresIn:W}=yield function Te(y,m){return lt.apply(this,arguments)}(m,g);w.updateTokensAndExpiration(D,O,Number(W))})()}updateTokensAndExpiration(m,g,w){this.refreshToken=g||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(m,g){const{refreshToken:w,accessToken:D,expirationTime:O}=g,W=new Tt;return w&&(z("string"==typeof w,"internal-error",{appName:m}),W.refreshToken=w),D&&(z("string"==typeof D,"internal-error",{appName:m}),W.accessToken=D),O&&(z("number"==typeof O,"internal-error",{appName:m}),W.expirationTime=O),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new Tt,this.toJSON())}_performRefresh(){return ve("not implemented")}}function Vt(y,m){z("string"==typeof y||typeof y>"u","internal-error",{appName:m})}class Wt{constructor(m){var{uid:g,auth:w,stsTokenManager:D}=m,O=(0,J._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new La(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(m){var g=this;return(0,a.Z)(function*(){const w=yield Dn(g,g.stsTokenManager.getToken(g.auth,m));return z(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(m){return function fs(y){return Ut.apply(this,arguments)}(this,m)}reload(){return function tn(y){return Qi.apply(this,arguments)}(this)}_assign(m){this!==m&&(z(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(g=>Object.assign({},g)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const g=new Wt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(m){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,g=!1){var w=this;return(0,a.Z)(function*(){let D=!1;m.idToken&&m.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(m),D=!0),g&&(yield pn(w)),yield w.auth._persistUserIfCurrent(w),D&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var m=this;return(0,a.Z)(function*(){const g=yield m.getIdToken();return yield Dn(m,function zo(y,m){return Rn.apply(this,arguments)}(m.auth,{idToken:g})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,g){var w,D,O,W,me,$e,dt,Dt;const Et=null!==(w=g.displayName)&&void 0!==w?w:void 0,_i=null!==(D=g.email)&&void 0!==D?D:void 0,Wi=null!==(O=g.phoneNumber)&&void 0!==O?O:void 0,ho=null!==(W=g.photoURL)&&void 0!==W?W:void 0,au=null!==(me=g.tenantId)&&void 0!==me?me:void 0,vl=null!==($e=g._redirectEventId)&&void 0!==$e?$e:void 0,bl=null!==(dt=g.createdAt)&&void 0!==dt?dt:void 0,ln=null!==(Dt=g.lastLoginAt)&&void 0!==Dt?Dt:void 0,{uid:is,emailVerified:pc,isAnonymous:gc,providerData:Yh,stsTokenManager:Vg}=g;z(is&&Vg,m,"internal-error");const Gw=Tt.fromJSON(this.name,Vg);z("string"==typeof is,m,"internal-error"),Vt(Et,m.name),Vt(_i,m.name),z("boolean"==typeof pc,m,"internal-error"),z("boolean"==typeof gc,m,"internal-error"),Vt(Wi,m.name),Vt(ho,m.name),Vt(au,m.name),Vt(vl,m.name),Vt(bl,m.name),Vt(ln,m.name);const Bg=new Wt({uid:is,auth:m,email:_i,emailVerified:pc,displayName:Et,isAnonymous:gc,photoURL:ho,phoneNumber:Wi,tenantId:au,stsTokenManager:Gw,createdAt:bl,lastLoginAt:ln});return Yh&&Array.isArray(Yh)&&(Bg.providerData=Yh.map(Qm=>Object.assign({},Qm))),vl&&(Bg._redirectEventId=vl),Bg}static _fromIdTokenResponse(m,g,w=!1){return(0,a.Z)(function*(){const D=new Tt;D.updateFromServerResponse(g);const O=new Wt({uid:g.localId,auth:m,stsTokenManager:D,isAnonymous:w});return yield pn(O),O})()}}const $=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(g,w){var D=this;return(0,a.Z)(function*(){D.storage[g]=w})()}_get(g){var w=this;return(0,a.Z)(function*(){const D=w.storage[g];return void 0===D?null:D})()}_remove(g){var w=this;return(0,a.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return y.type="NONE",y})();function j(y,m,g){return`firebase:${y}:${m}:${g}`}class Z{constructor(m,g,w){this.persistence=m,this.auth=g,this.userKey=w;const{config:D,name:O}=this.auth;this.fullUserKey=j(this.userKey,D.apiKey,O),this.fullPersistenceKey=j("persistence",D.apiKey,O),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,a.Z)(function*(){const g=yield m.persistence._get(m.fullUserKey);return g?Wt._fromJSON(m.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var g=this;return(0,a.Z)(function*(){if(g.persistence===m)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=m,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,g,w="authUser"){return(0,a.Z)(function*(){if(!g.length)return new Z(mt($),m,w);const D=(yield Promise.all(g.map(function(){var dt=(0,a.Z)(function*(Dt){if(yield Dt._isAvailable())return Dt});return function(Dt){return dt.apply(this,arguments)}}()))).filter(dt=>dt);let O=D[0]||mt($);const W=j(w,m.config.apiKey,m.name);let me=null;for(const dt of g)try{const Dt=yield dt._get(W);if(Dt){const Et=Wt._fromJSON(m,Dt);dt!==O&&(me=Et),O=dt;break}}catch{}const $e=D.filter(dt=>dt._shouldAllowMigration);return O._shouldAllowMigration&&$e.length?(O=$e[0],me&&(yield O._set(W,me.toJSON())),yield Promise.all(g.map(function(){var dt=(0,a.Z)(function*(Dt){if(Dt!==O)try{yield Dt._remove(W)}catch{}});return function(Dt){return dt.apply(this,arguments)}}())),new Z(O,m,w)):new Z(O,m,w)})()}}function we(y){const m=y.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(yn(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(te(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(jn(m))return"Blackberry";if(mi(m))return"Webos";if(st(m))return"Safari";if((m.includes("chrome/")||Xe(m))&&!m.includes("edge/"))return"Chrome";if(Ln(m))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function te(y=(0,N.z$)()){return/firefox\//i.test(y)}function st(y=(0,N.z$)()){const m=y.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function Xe(y=(0,N.z$)()){return/crios\//i.test(y)}function yn(y=(0,N.z$)()){return/iemobile/i.test(y)}function Ln(y=(0,N.z$)()){return/android/i.test(y)}function jn(y=(0,N.z$)()){return/blackberry/i.test(y)}function mi(y=(0,N.z$)()){return/webos/i.test(y)}function zt(y=(0,N.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function sh(y=(0,N.z$)()){return zt(y)||Ln(y)||mi(y)||jn(y)||/windows phone/i.test(y)||yn(y)}function Lc(y,m=[]){let g;switch(y){case"Browser":g=we((0,N.z$)());break;case"Worker":g=`${we((0,N.z$)())}-${y}`;break;default:g=y}const w=m.length?m.join(","):"FirebaseCore-web";return`${g}/JsCore/${oe.SDK_VERSION}/${w}`}class Vc{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,g){const w=O=>new Promise((W,me)=>{try{W(m(O))}catch($e){me($e)}});w.onAbort=g,this.queue.push(w);const D=this.queue.length-1;return()=>{this.queue[D]=()=>Promise.resolve()}}runMiddleware(m){var g=this;return(0,a.Z)(function*(){if(g.auth.currentUser===m)return;const w=[];try{for(const D of g.queue)yield D(m),D.onAbort&&w.push(D.onAbort)}catch(D){w.reverse();for(const O of w)try{O()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:D?.message})}})()}}class _m{constructor(m,g,w){this.app=m,this.heartbeatServiceProvider=g,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ad(this),this.idTokenSubscription=new ad(this),this.beforeStateQueue=new Vc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ye,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(m,g){var w=this;return g&&(this._popupRedirectResolver=mt(g)),this._initializationPromise=this.queue((0,a.Z)(function*(){var D,O;if(!w._deleted&&(w.persistenceManager=yield Z.create(w,m),!w._deleted)){if(null!==(D=w._popupRedirectResolver)&&void 0!==D&&D._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(O=w.currentUser)||void 0===O?void 0:O.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,a.Z)(function*(){if(m._deleted)return;const g=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||g){if(m.currentUser&&g&&m.currentUser.uid===g.uid)return m._currentUser._assign(g),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(g,!0)}})()}initializeCurrentUser(m){var g=this;return(0,a.Z)(function*(){var w;const D=yield g.assertedPersistence.getCurrentUser();let O=D,W=!1;if(m&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const me=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,$e=O?._redirectEventId,dt=yield g.tryRedirectSignIn(m);(!me||me===$e)&&dt?.user&&(O=dt.user,W=!0)}if(!O)return g.directlySetCurrentUser(null);if(!O._redirectEventId){if(W)try{yield g.beforeStateQueue.runMiddleware(O)}catch(me){O=D,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(me))}return O?g.reloadAndSetCurrentUserOrClear(O):g.directlySetCurrentUser(null)}return z(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===O._redirectEventId?g.directlySetCurrentUser(O):g.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(m){var g=this;return(0,a.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,m,!0)}catch{yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(m){var g=this;return(0,a.Z)(function*(){try{yield pn(m)}catch(w){if("auth/network-request-failed"!==w?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function He(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var m=this;return(0,a.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var g=this;return(0,a.Z)(function*(){const w=m?(0,N.m9)(m):null;return w&&z(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(m,g=!1){var w=this;return(0,a.Z)(function*(){if(!w._deleted)return m&&z(w.tenantId===m.tenantId,w,"tenant-id-mismatch"),g||(yield w.beforeStateQueue.runMiddleware(m)),w.queue((0,a.Z)(function*(){yield w.directlySetCurrentUser(m),w.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,a.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var g=this;return this.queue((0,a.Z)(function*(){yield g.assertedPersistence.setPersistence(mt(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new N.LL("auth","Firebase",m())}onAuthStateChanged(m,g,w){return this.registerStateListener(this.authStateSubscription,m,g,w)}beforeAuthStateChanged(m,g){return this.beforeStateQueue.pushCallback(m,g)}onIdTokenChanged(m,g,w){return this.registerStateListener(this.idTokenSubscription,m,g,w)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,g){var w=this;return(0,a.Z)(function*(){const D=yield w.getOrInitRedirectPersistenceManager(g);return null===m?D.removeCurrentUser():D.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var g=this;return(0,a.Z)(function*(){if(!g.redirectPersistenceManager){const w=m&&mt(m)||g._popupRedirectResolver;z(w,g,"argument-error"),g.redirectPersistenceManager=yield Z.create(g,[mt(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(m){var g=this;return(0,a.Z)(function*(){var w,D;return g._isInitialized&&(yield g.queue((0,a.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===m?g._currentUser:(null===(D=g.redirectUser)||void 0===D?void 0:D._redirectEventId)===m?g.redirectUser:null})()}_persistUserIfCurrent(m){var g=this;return(0,a.Z)(function*(){if(m===g.currentUser)return g.queue((0,a.Z)(function*(){return g.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,g,w,D){if(this._deleted)return()=>{};const O="function"==typeof g?g:g.next.bind(g),W=this._isInitialized?Promise.resolve():this._initializationPromise;return z(W,this,"internal-error"),W.then(()=>O(this.currentUser)),"function"==typeof g?m.addObserver(g,w,D):m.addObserver(g)}directlySetCurrentUser(m){var g=this;return(0,a.Z)(function*(){g.currentUser&&g.currentUser!==m&&g._currentUser._stopProactiveRefresh(),m&&g.isProactiveRefreshEnabled&&m._startProactiveRefresh(),g.currentUser=m,m?yield g.assertedPersistence.setCurrentUser(m):yield g.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Lc(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,a.Z)(function*(){var g;const w={"X-Client-Version":m.clientVersion};m.app.options.appId&&(w["X-Firebase-gmpid"]=m.app.options.appId);const D=yield null===(g=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return D&&(w["X-Firebase-Client"]=D),w})()}}function zn(y){return(0,N.m9)(y)}class ad{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,N.ne)(g=>this.observer=g)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function nn(y){const m=y.indexOf(":");return m<0?"":y.substr(0,m+1)}function xi(y){if(!y)return null;const m=Number(y);return isNaN(m)?null:m}class pi{constructor(m,g){this.providerId=m,this.signInMethod=g}toJSON(){return ve("not implemented")}_getIdTokenResponse(m){return ve("not implemented")}_linkToIdToken(m,g){return ve("not implemented")}_getReauthenticationResolver(m){return ve("not implemented")}}function ji(y,m){return Va.apply(this,arguments)}function Va(){return(Va=(0,a.Z)(function*(y,m){return Lt(y,"POST","/v1/accounts:resetPassword",ct(y,m))})).apply(this,arguments)}function ps(y,m){return Or.apply(this,arguments)}function Or(){return(Or=(0,a.Z)(function*(y,m){return Lt(y,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Ht(){return(Ht=(0,a.Z)(function*(y,m){return Lt(y,"POST","/v1/accounts:update",ct(y,m))})).apply(this,arguments)}function gr(){return(gr=(0,a.Z)(function*(y,m){return Pn(y,"POST","/v1/accounts:signInWithPassword",ct(y,m))})).apply(this,arguments)}function no(y,m){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,a.Z)(function*(y,m){return Lt(y,"POST","/v1/accounts:sendOobCode",ct(y,m))})).apply(this,arguments)}function On(){return(On=(0,a.Z)(function*(y,m){return no(y,m)})).apply(this,arguments)}function Ba(){return(Ba=(0,a.Z)(function*(y,m){return no(y,m)})).apply(this,arguments)}function Zs(){return(Zs=(0,a.Z)(function*(y,m){return no(y,m)})).apply(this,arguments)}function Go(){return(Go=(0,a.Z)(function*(y,m){return no(y,m)})).apply(this,arguments)}function Ci(){return(Ci=(0,a.Z)(function*(y,m){return Pn(y,"POST","/v1/accounts:signInWithEmailLink",ct(y,m))})).apply(this,arguments)}function qo(){return(qo=(0,a.Z)(function*(y,m){return Pn(y,"POST","/v1/accounts:signInWithEmailLink",ct(y,m))})).apply(this,arguments)}class Ji extends pi{constructor(m,g,w,D=null){super("password",w),this._email=m,this._password=g,this._tenantId=D}static _fromEmailAndPassword(m,g){return new Ji(m,g,"password")}static _fromEmailAndCode(m,g,w=null){return new Ji(m,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const g="string"==typeof m?JSON.parse(m):m;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(m){var g=this;return(0,a.Z)(function*(){switch(g.signInMethod){case"password":return function Cn(y,m){return gr.apply(this,arguments)}(m,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Ua(y,m){return Ci.apply(this,arguments)}(m,{email:g._email,oobCode:g._password});default:re(m,"internal-error")}})()}_linkToIdToken(m,g){var w=this;return(0,a.Z)(function*(){switch(w.signInMethod){case"password":return ps(m,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Ks(y,m){return qo.apply(this,arguments)}(m,{idToken:g,email:w._email,oobCode:w._password});default:re(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function zi(y,m){return ld.apply(this,arguments)}function ld(){return(ld=(0,a.Z)(function*(y,m){return Pn(y,"POST","/v1/accounts:signInWithIdp",ct(y,m))})).apply(this,arguments)}class bo extends pi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const g=new bo(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(g.idToken=m.idToken),m.accessToken&&(g.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(g.nonce=m.nonce),m.pendingToken&&(g.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(g.accessToken=m.oauthToken,g.secret=m.oauthTokenSecret):re("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const g="string"==typeof m?JSON.parse(m):m,{providerId:w,signInMethod:D}=g,O=(0,J._T)(g,["providerId","signInMethod"]);if(!w||!D)return null;const W=new bo(w,D);return W.idToken=O.idToken||void 0,W.accessToken=O.accessToken||void 0,W.secret=O.secret,W.nonce=O.nonce,W.pendingToken=O.pendingToken||null,W}_getIdTokenResponse(m){return zi(m,this.buildRequest())}_linkToIdToken(m,g){const w=this.buildRequest();return w.idToken=g,zi(m,w)}_getReauthenticationResolver(m){const g=this.buildRequest();return g.autoCreate=!1,zi(m,g)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),m.postBody=(0,N.xO)(g)}return m}}function Bc(){return(Bc=(0,a.Z)(function*(y,m){return Lt(y,"POST","/v1/accounts:sendVerificationCode",ct(y,m))})).apply(this,arguments)}function ri(){return(ri=(0,a.Z)(function*(y,m){return Pn(y,"POST","/v1/accounts:signInWithPhoneNumber",ct(y,m))})).apply(this,arguments)}function Si(){return(Si=(0,a.Z)(function*(y,m){const g=yield Pn(y,"POST","/v1/accounts:signInWithPhoneNumber",ct(y,m));if(g.temporaryProof)throw mr(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const _g={USER_NOT_FOUND:"user-not-found"};function yr(){return(yr=(0,a.Z)(function*(y,m){return Pn(y,"POST","/v1/accounts:signInWithPhoneNumber",ct(y,Object.assign(Object.assign({},m),{operation:"REAUTH"})),_g)})).apply(this,arguments)}class wo extends pi{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,g){return new wo({verificationId:m,verificationCode:g})}static _fromTokenResponse(m,g){return new wo({phoneNumber:m,temporaryProof:g})}_getIdTokenResponse(m){return function ys(y,m){return ri.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,g){return function Ys(y,m){return Si.apply(this,arguments)}(m,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function _r(y,m){return yr.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:g,verificationId:w,verificationCode:D}=this.params;return m&&g?{temporaryProof:m,phoneNumber:g}:{sessionInfo:w,code:D}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:g,verificationCode:w,phoneNumber:D,temporaryProof:O}=m;return w||g||D||O?new wo({verificationId:g,verificationCode:w,phoneNumber:D,temporaryProof:O}):null}}class Hi{constructor(m){var g,w,D,O,W,me;const $e=(0,N.zd)((0,N.pd)(m)),dt=null!==(g=$e.apiKey)&&void 0!==g?g:null,Dt=null!==(w=$e.oobCode)&&void 0!==w?w:null,Et=function Uc(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=$e.mode)&&void 0!==D?D:null);z(dt&&Dt&&Et,"argument-error"),this.apiKey=dt,this.operation=Et,this.code=Dt,this.continueUrl=null!==(O=$e.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(W=$e.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(me=$e.tenantId)&&void 0!==me?me:null}static parseLink(m){const g=function Wo(y){const m=(0,N.zd)((0,N.pd)(y)).link,g=m?(0,N.zd)((0,N.pd)(m)).deep_link_id:null,w=(0,N.zd)((0,N.pd)(y)).deep_link_id;return(w?(0,N.zd)((0,N.pd)(w)).link:null)||w||g||m||y}(m);try{return new Hi(g)}catch{return null}}}let ch=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,w){return Ji._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const D=Hi.parseLink(w);return z(D,"argument-error"),Ji._fromEmailAndCode(g,D.code,D.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class xo{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class vs extends xo{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class ja extends vs{static credentialFromJSON(m){const g="string"==typeof m?JSON.parse(m):m;return z("providerId"in g&&"signInMethod"in g,"argument-error"),bo._fromParams(g)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return z(m.idToken||m.accessToken,"argument-error"),bo._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return ja.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return ja.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:D,pendingToken:O,nonce:W,providerId:me}=m;if(!w&&!D&&!g&&!O||!me)return null;try{return new ja(me)._credential({idToken:g,accessToken:w,nonce:W,pendingToken:O})}catch{return null}}}let ud=(()=>{class y extends vs{constructor(){super("facebook.com")}static credential(g){return bo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),ym=(()=>{class y extends vs{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return bo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:D}=g;if(!w&&!D)return null;try{return y.credential(w,D)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),vm=(()=>{class y extends vs{constructor(){super("github.com")}static credential(g){return bo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Qs extends pi{constructor(m,g){super(m,m),this.pendingToken=g}_getIdTokenResponse(m){return zi(m,this.buildRequest())}_linkToIdToken(m,g){const w=this.buildRequest();return w.idToken=g,zi(m,w)}_getReauthenticationResolver(m){const g=this.buildRequest();return g.autoCreate=!1,zi(m,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const g="string"==typeof m?JSON.parse(m):m,{providerId:w,signInMethod:D,pendingToken:O}=g;return w&&D&&O&&w===D?new Qs(w,O):null}static _create(m,g){return new Qs(m,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class io extends xo{constructor(m){z(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return io.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return io.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const g=Qs.fromJSON(m);return z(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:g,providerId:w}=m;if(!g||!w)return null;try{return Qs._create(w,g)}catch{return null}}}let vg=(()=>{class y extends vs{constructor(){super("twitter.com")}static credential(g,w){return bo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:D}=g;if(!w||!D)return null;try{return y.credential(w,D)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Zn(y,m){return hd.apply(this,arguments)}function hd(){return(hd=(0,a.Z)(function*(y,m){return Pn(y,"POST","/v1/accounts:signUp",ct(y,m))})).apply(this,arguments)}class Fr{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,g,w,D=!1){return(0,a.Z)(function*(){const O=yield Wt._fromIdTokenResponse(m,w,D),W=fd(w);return new Fr({user:O,providerId:W,_tokenResponse:w,operationType:g})})()}static _forOperation(m,g,w){return(0,a.Z)(function*(){yield m._updateTokensIfNecessary(w,!0);const D=fd(w);return new Fr({user:m,providerId:D,_tokenResponse:w,operationType:g})})()}}function fd(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function lh(){return(lh=(0,a.Z)(function*(y){var m;const g=zn(y);if(yield g._initializationPromise,null!==(m=g.currentUser)&&void 0!==m&&m.isAnonymous)return new Fr({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield Zn(g,{returnSecureToken:!0}),D=yield Fr._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(D.user),D})).apply(this,arguments)}class zc extends N.ZR{constructor(m,g,w,D){var O;super(g.code,g.message),this.operationType=w,this.user=D,Object.setPrototypeOf(this,zc.prototype),this.customData={appName:m.name,tenantId:null!==(O=m.tenantId)&&void 0!==O?O:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(m,g,w,D){return new zc(m,g,w,D)}}function bg(y,m,g,w){return("reauthenticate"===m?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?zc._fromErrorAndOperation(y,O,m,w):O})}function vr(y){return new Set(y.map(({providerId:m})=>m).filter(m=>!!m))}function ws(){return ws=(0,a.Z)(function*(y,m){const g=(0,N.m9)(y);yield Js(!0,g,m);const{providerUserInfo:w}=yield function pr(y,m){return vt.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[m]}),D=vr(w||[]);return g.providerData=g.providerData.filter(O=>D.has(O.providerId)),D.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),ws.apply(this,arguments)}function za(y,m){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,a.Z)(function*(y,m,g=!1){const w=yield Dn(y,m._linkToIdToken(y.auth,yield y.getIdToken()),g);return Fr._forOperation(y,"link",w)})).apply(this,arguments)}function Js(y,m,g){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,a.Z)(function*(y,m,g){yield pn(m);const D=!1===y?"provider-already-linked":"no-such-provider";z(vr(m.providerData).has(g)===y,m.auth,D)})).apply(this,arguments)}function Hc(y,m){return $c.apply(this,arguments)}function $c(){return($c=(0,a.Z)(function*(y,m,g=!1){const{auth:w}=y,D="reauthenticate";try{const O=yield Dn(y,bg(w,D,m,y),g);z(O.idToken,w,"internal-error");const W=kt(O.idToken);z(W,w,"internal-error");const{sub:me}=W;return z(y.uid===me,w,"user-mismatch"),Fr._forOperation(y,D,O)}catch(O){throw"auth/user-not-found"===O?.code&&re(w,"user-mismatch"),O}})).apply(this,arguments)}function Zo(y,m){return uh.apply(this,arguments)}function uh(){return(uh=(0,a.Z)(function*(y,m,g=!1){const w="signIn",D=yield bg(y,w,m),O=yield Fr._fromIdTokenResponse(y,w,D);return g||(yield y._updateCurrentUser(O.user)),O})).apply(this,arguments)}function cn(y,m){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,a.Z)(function*(y,m){return Zo(zn(y),m)})).apply(this,arguments)}function $a(y,m){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,a.Z)(function*(y,m){const g=(0,N.m9)(y);return yield Js(!1,g,m.providerId),za(g,m)})).apply(this,arguments)}function qc(y,m){return ro.apply(this,arguments)}function ro(){return(ro=(0,a.Z)(function*(y,m){return Hc((0,N.m9)(y),m)})).apply(this,arguments)}function Ga(){return(Ga=(0,a.Z)(function*(y,m){return Pn(y,"POST","/v1/accounts:signInWithCustomToken",ct(y,m))})).apply(this,arguments)}function oo(){return oo=(0,a.Z)(function*(y,m){const g=zn(y),w=yield function $i(y,m){return Ga.apply(this,arguments)}(g,{token:m,returnSecureToken:!0}),D=yield Fr._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(D.user),D}),oo.apply(this,arguments)}class Ii{constructor(m,g){this.factorId=m,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(m,g){return"phoneInfo"in g?pd._fromServerResponse(m,g):re(m,"internal-error")}}class pd extends Ii{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,g){return new pd(g)}}function xs(y,m,g){var w;z((null===(w=g.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),z(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),m.continueUrl=g.url,m.dynamicLinkDomain=g.dynamicLinkDomain,m.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(z(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),m.iOSBundleId=g.iOS.bundleId),g.android&&(z(g.android.packageName.length>0,y,"missing-android-pkg-name"),m.androidInstallApp=g.android.installApp,m.androidMinimumVersionCode=g.android.minimumVersion,m.androidPackageName=g.android.packageName)}function Ur(){return Ur=(0,a.Z)(function*(y,m,g){const w=(0,N.m9)(y),D={requestType:"PASSWORD_RESET",email:m};g&&xs(w,D,g),yield function Ei(y,m){return Ba.apply(this,arguments)}(w,D)}),Ur.apply(this,arguments)}function qa(){return(qa=(0,a.Z)(function*(y,m,g){yield ji((0,N.m9)(y),{oobCode:m,newPassword:g})})).apply(this,arguments)}function Zc(){return Zc=(0,a.Z)(function*(y,m){yield function nt(y,m){return Ht.apply(this,arguments)}((0,N.m9)(y),{oobCode:m})}),Zc.apply(this,arguments)}function gd(y,m){return _d.apply(this,arguments)}function _d(){return(_d=(0,a.Z)(function*(y,m){const g=(0,N.m9)(y),w=yield ji(g,{oobCode:m}),D=w.requestType;switch(z(D,g,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":z(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":z(w.mfaInfo,g,"internal-error");default:z(w.email,g,"internal-error")}let O=null;return w.mfaInfo&&(O=Ii._fromServerResponse(zn(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:O},operation:D}})).apply(this,arguments)}function vd(){return(vd=(0,a.Z)(function*(y,m){const{data:g}=yield gd((0,N.m9)(y),m);return g.email})).apply(this,arguments)}function bd(){return(bd=(0,a.Z)(function*(y,m,g){const w=zn(y),D=yield Zn(w,{returnSecureToken:!0,email:m,password:g}),O=yield Fr._fromIdTokenResponse(w,"signIn",D);return yield w._updateCurrentUser(O.user),O})).apply(this,arguments)}function Jt(){return Jt=(0,a.Z)(function*(y,m,g){const w=(0,N.m9)(y),D={requestType:"EMAIL_SIGNIN",email:m};z(g.handleCodeInApp,w,"argument-error"),g&&xs(w,D,g),yield function Kt(y,m){return Zs.apply(this,arguments)}(w,D)}),Jt.apply(this,arguments)}function Kn(){return(Kn=(0,a.Z)(function*(y,m,g){const w=(0,N.m9)(y),D=ch.credentialWithLink(m,g||ge());return z(D._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),cn(w,D)})).apply(this,arguments)}function Ko(){return(Ko=(0,a.Z)(function*(y,m){return Lt(y,"POST","/v1/accounts:createAuthUri",ct(y,m))})).apply(this,arguments)}function Kc(){return Kc=(0,a.Z)(function*(y,m){const w={identifier:m,continueUri:Ce()?ge():"http://localhost"},{signinMethods:D}=yield function wm(y,m){return Ko.apply(this,arguments)}((0,N.m9)(y),w);return D||[]}),Kc.apply(this,arguments)}function Qc(){return Qc=(0,a.Z)(function*(y,m){const g=(0,N.m9)(y),D={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};m&&xs(g.auth,D,m);const{email:O}=yield function gs(y,m){return On.apply(this,arguments)}(g.auth,D);O!==y.email&&(yield y.reload())}),Qc.apply(this,arguments)}function Wa(){return Wa=(0,a.Z)(function*(y,m,g){const w=(0,N.m9)(y),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:m};g&&xs(w.auth,O,g);const{email:W}=yield function _s(y,m){return Go.apply(this,arguments)}(w.auth,O);W!==y.email&&(yield y.reload())}),Wa.apply(this,arguments)}function Gi(){return(Gi=(0,a.Z)(function*(y,m){return Lt(y,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Es(){return Es=(0,a.Z)(function*(y,{displayName:m,photoURL:g}){if(void 0===m&&void 0===g)return;const w=(0,N.m9)(y),O={idToken:yield w.getIdToken(),displayName:m,photoUrl:g,returnSecureToken:!0},W=yield Dn(w,function oi(y,m){return Gi.apply(this,arguments)}(w.auth,O));w.displayName=W.displayName||null,w.photoURL=W.photoUrl||null;const me=w.providerData.find(({providerId:$e})=>"password"===$e);me&&(me.displayName=w.displayName,me.photoURL=w.photoURL),yield w._updateTokensIfNecessary(W)}),Es.apply(this,arguments)}function xd(y,m,g){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,a.Z)(function*(y,m,g){const{auth:w}=y,O={idToken:yield y.getIdToken(),returnSecureToken:!0};m&&(O.email=m),g&&(O.password=g);const W=yield Dn(y,ps(w,O));yield y._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class Eo{constructor(m,g,w={}){this.isNewUser=m,this.providerId=g,this.profile=w}}class Cd extends Eo{constructor(m,g,w,D){super(m,g,w),this.username=D}}class gh extends Eo{constructor(m,g){super(m,"facebook.com",g)}}class Jc extends Cd{constructor(m,g){super(m,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class wg extends Eo{constructor(m,g){super(m,"google.com",g)}}class Sd extends Cd{constructor(m,g,w){super(m,"twitter.com",g,w)}}function _h(y){const{user:m,_tokenResponse:g}=y;return m.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function xm(y){var m,g;if(!y)return null;const{providerId:w}=y,D=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},O=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&y?.idToken){const W=null===(g=null===(m=kt(y.idToken))||void 0===m?void 0:m.firebase)||void 0===g?void 0:g.sign_in_provider;if(W)return new Eo(O,"anonymous"!==W&&"custom"!==W?W:null)}if(!w)return null;switch(w){case"facebook.com":return new gh(O,D);case"github.com":return new Jc(O,D);case"google.com":return new wg(O,D);case"twitter.com":return new Sd(O,D,y.screenName||null);case"custom":case"anonymous":return new Eo(O,null);default:return new Eo(O,w,D)}}(g)}class gn{constructor(m,g,w){this.type=m,this.credential=g,this.auth=w}static _fromIdtoken(m,g){return new gn("enroll",m,g)}static _fromMfaPendingCredential(m){return new gn("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var g,w;if(m?.multiFactorSession){if(null!==(g=m.multiFactorSession)&&void 0!==g&&g.pendingCredential)return gn._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(w=m.multiFactorSession)&&void 0!==w&&w.idToken)return gn._fromIdtoken(m.multiFactorSession.idToken)}return null}}class el{constructor(m,g,w){this.session=m,this.hints=g,this.signInResolver=w}static _fromError(m,g){const w=zn(m),D=g.customData._serverResponse,O=(D.mfaInfo||[]).map(me=>Ii._fromServerResponse(w,me));z(D.mfaPendingCredential,w,"internal-error");const W=gn._fromMfaPendingCredential(D.mfaPendingCredential);return new el(W,O,function(){var me=(0,a.Z)(function*($e){const dt=yield $e._process(w,W);delete D.mfaInfo,delete D.mfaPendingCredential;const Dt=Object.assign(Object.assign({},D),{idToken:dt.idToken,refreshToken:dt.refreshToken});switch(g.operationType){case"signIn":const Et=yield Fr._fromIdTokenResponse(w,g.operationType,Dt);return yield w._updateCurrentUser(Et.user),Et;case"reauthenticate":return z(g.user,w,"internal-error"),Fr._forOperation(g.user,g.operationType,Dt);default:re(w,"internal-error")}});return function($e){return me.apply(this,arguments)}}())}resolveSignIn(m){var g=this;return(0,a.Z)(function*(){return g.signInResolver(m)})()}}class bh{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>Ii._fromServerResponse(m.auth,w)))})}static _fromUser(m){return new bh(m)}getSession(){var m=this;return(0,a.Z)(function*(){return gn._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,g){var w=this;return(0,a.Z)(function*(){const D=m,O=yield w.getSession(),W=yield Dn(w.user,D._process(w.user.auth,O,g));return yield w.user._updateTokensIfNecessary(W),w.user.reload()})()}unenroll(m){var g=this;return(0,a.Z)(function*(){const w="string"==typeof m?m:m.uid,D=yield g.user.getIdToken();try{const O=yield Dn(g.user,function Sg(y,m){return Lt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",ct(y,m))}(g.user.auth,{idToken:D,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:W})=>W!==w),yield g.user._updateTokensIfNecessary(O),yield g.user.reload()}catch(O){throw O}})()}}const Cs=new WeakMap,Co="__sak";class ea{constructor(m,g){this.storageRetriever=m,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Co,"1"),this.storage.removeItem(Co),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,g){return this.storage.setItem(m,JSON.stringify(g)),Promise.resolve()}_get(m){const g=this.storage.getItem(m);return Promise.resolve(g?JSON.parse(g):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Za=(()=>{class y extends ea{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ta(){const y=(0,N.z$)();return st(y)||zt(y)}()&&function sd(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=sh(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const D=this.storage.getItem(w),O=this.localCache[w];D!==O&&g(w,O,D)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((me,$e,dt)=>{this.notifyListeners(me,dt)});const D=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const me=this.storage.getItem(D);if(g.newValue!==me)null!==g.newValue?this.storage.setItem(D,g.newValue):this.storage.removeItem(D);else if(this.localCache[D]===g.newValue&&!w)return}const O=()=>{const me=this.storage.getItem(D);!w&&this.localCache[D]===me||this.notifyListeners(D,me)},W=this.storage.getItem(D);!function Nc(){return(0,N.w1)()&&10===document.documentMode}()||W===g.newValue||g.newValue===g.oldValue?O():setTimeout(O,10)}notifyListeners(g,w){this.localCache[g]=w;const D=this.listeners[g];if(D)for(const O of Array.from(D))O(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var D=()=>super._set,O=this;return(0,a.Z)(function*(){yield D().call(O,g,w),O.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,D=this;return(0,a.Z)(function*(){const O=yield w().call(D,g);return D.localCache[g]=JSON.stringify(O),O})()}_remove(g){var w=()=>super._remove,D=this;return(0,a.Z)(function*(){yield w().call(D,g),delete D.localCache[g]})()}}return y.type="LOCAL",y})(),ao=(()=>{class y extends ea{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return y.type="SESSION",y})();let Im=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(O=>O.isListeningto(g));if(w)return w;const D=new y(g);return this.receivers.push(D),D}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,a.Z)(function*(){const D=g,{eventId:O,eventType:W,data:me}=D.data,$e=w.handlersMap[W];if(!$e?.size)return;D.ports[0].postMessage({status:"ack",eventId:O,eventType:W});const dt=Array.from($e).map(function(){var Et=(0,a.Z)(function*(_i){return _i(D.origin,me)});return function(_i){return Et.apply(this,arguments)}}()),Dt=yield function Sm(y){return Promise.all(y.map(function(){var m=(0,a.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return m.apply(this,arguments)}}()))}(dt);D.ports[0].postMessage({status:"done",eventId:O,eventType:W,response:Dt})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Qo(y="",m=10){let g="";for(let w=0;w<m;w++)g+=Math.floor(10*Math.random());return y+g}class Ka{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,g,w=50){var D=this;return(0,a.Z)(function*(){const O=typeof MessageChannel<"u"?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let W,me;return new Promise(($e,dt)=>{const Dt=Qo("",20);O.port1.start();const Et=setTimeout(()=>{dt(new Error("unsupported_event"))},w);me={messageChannel:O,onMessage(_i){const Wi=_i;if(Wi.data.eventId===Dt)switch(Wi.data.status){case"ack":clearTimeout(Et),W=setTimeout(()=>{dt(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),$e(Wi.data.response);break;default:clearTimeout(Et),clearTimeout(W),dt(new Error("invalid_response"))}}},D.handlers.add(me),O.port1.addEventListener("message",me.onMessage),D.target.postMessage({eventType:m,eventId:Dt,data:g},[O.port2])}).finally(()=>{me&&D.removeMessageHandler(me)})})()}}function si(){return window}function Io(){return typeof si().WorkerGlobalScope<"u"&&"function"==typeof si().importScripts}function Do(){return(Do=(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ss="firebaseLocalStorageDb",Dm=1,To="firebaseLocalStorage",Ya="fbase_key";class co{constructor(m){this.request=m}toPromise(){return new Promise((m,g)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Ad(y,m){return y.transaction([To],m?"readwrite":"readonly").objectStore(To)}function Xa(){const y=indexedDB.open(Ss,Dm);return new Promise((m,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(To,{keyPath:Ya})}catch(D){g(D)}}),y.addEventListener("success",(0,a.Z)(function*(){const w=y.result;w.objectStoreNames.contains(To)?m(w):(w.close(),yield function Qa(){const y=indexedDB.deleteDatabase(Ss);return new co(y).toPromise()}(),m(yield Xa()))}))})}function Is(y,m,g){return tr.apply(this,arguments)}function tr(){return(tr=(0,a.Z)(function*(y,m,g){const w=Ad(y,!0).put({[Ya]:m,value:g});return new co(w).toPromise()})).apply(this,arguments)}function ko(){return(ko=(0,a.Z)(function*(y,m){const g=Ad(y,!1).get(m),w=yield new co(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function ra(y,m){const g=Ad(y,!0).delete(m);return new co(g).toPromise()}const oa=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,a.Z)(function*(){return g.db||(g.db=yield Xa()),g.db})()}_withRetries(g){var w=this;return(0,a.Z)(function*(){let D=0;for(;;)try{const O=yield w._openDb();return yield g(O)}catch(O){if(D++>3)throw O;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,a.Z)(function*(){return Io()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,a.Z)(function*(){g.receiver=Im._getInstance(function kd(){return Io()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,a.Z)(function*(D,O){return{keyProcessed:(yield g._poll()).includes(O.key)}});return function(D,O){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,a.Z)(function*(D,O){return["keyChanged"]});return function(D,O){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,a.Z)(function*(){var w,D;if(g.activeServiceWorker=yield function ia(){return Do.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Ka(g.activeServiceWorker);const O=yield g.sender._send("ping",{},800);O&&null!==(w=O[0])&&void 0!==w&&w.fulfilled&&null!==(D=O[0])&&void 0!==D&&D.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,a.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Td(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Xa();return yield Is(g,Co,"1"),yield ra(g,Co),!0}catch{}return!1})()}_withPendingWrite(g){var w=this;return(0,a.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var D=this;return(0,a.Z)(function*(){return D._withPendingWrite((0,a.Z)(function*(){return yield D._withRetries(O=>Is(O,g,w)),D.localCache[g]=w,D.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,a.Z)(function*(){const D=yield w._withRetries(O=>function Md(y,m){return ko.apply(this,arguments)}(O,g));return w.localCache[g]=D,D})()}_remove(g){var w=this;return(0,a.Z)(function*(){return w._withPendingWrite((0,a.Z)(function*(){return yield w._withRetries(D=>ra(D,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,a.Z)(function*(){const w=yield g._withRetries(W=>{const me=Ad(W,!1).getAll();return new co(me).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const D=[],O=new Set;for(const{fbase_key:W,value:me}of w)O.add(W),JSON.stringify(g.localCache[W])!==JSON.stringify(me)&&(g.notifyListeners(W,me),D.push(W));for(const W of Object.keys(g.localCache))g.localCache[W]&&!O.has(W)&&(g.notifyListeners(W,null),D.push(W));return D})()}notifyListeners(g,w){this.localCache[g]=w;const D=this.listeners[g];if(D)for(const O of Array.from(D))O(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function nc(){return(nc=(0,a.Z)(function*(y){return(yield Lt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ds(y){return new Promise((m,g)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=m,w.onerror=D=>{const O=ie("internal-error");O.customData=D,g(O)},w.type="text/javascript",w.charset="UTF-8",function tl(){var y,m;return null!==(m=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==m?m:document}().appendChild(w)})}function Xo(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Ts=1e12;class ic{constructor(m){this.auth=m,this.counter=Ts,this._widgets=new Map}render(m,g){const w=this.counter;return this._widgets.set(w,new Tm(m,this.auth.name,g||{})),this.counter++,w}reset(m){var g;const w=m||Ts;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(m){var g;return(null===(g=this._widgets.get(m||Ts))||void 0===g?void 0:g.getResponse())||""}execute(m){var g=this;return(0,a.Z)(function*(){var w;return null===(w=g._widgets.get(m||Ts))||void 0===w||w.execute(),""})()}}class Tm{constructor(m,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof m?document.getElementById(m):m;z(D,"argument-error",{appName:g}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Fd(y){const m=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)m.push(g.charAt(Math.floor(Math.random()*g.length)));return m.join("")}(50);const{callback:m,"expired-callback":g}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const nl=Xo("rcb"),xh=new ot(3e4,6e4);class sa{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=si().grecaptcha)||void 0===m||!m.render)}load(m,g=""){return z(function aa(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),m,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(si().grecaptcha):new Promise((w,D)=>{const O=si().setTimeout(()=>{D(ie(m,"network-request-failed"))},xh.get());si()[nl]=()=>{si().clearTimeout(O),delete si()[nl];const me=si().grecaptcha;if(!me)return void D(ie(m,"internal-error"));const $e=me.render;me.render=(dt,Dt)=>{const Et=$e(dt,Dt);return this.counter++,Et},this.hostLanguage=g,w(me)},Ds(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:nl,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(O),D(ie(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var g;return!(null===(g=si().grecaptcha)||void 0===g||!g.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class il{load(m){return(0,a.Z)(function*(){return new ic(m)})()}clearedOneInstance(){}}const ca="recaptcha",Ig={theme:"light",type:"image"};class Eh{constructor(m,g=Object.assign({},Ig),w){this.parameters=g,this.type=ca,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=zn(w),this.isInvisible="invisible"===this.parameters.size,z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof m?document.getElementById(m):m;z(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new il:new sa,this.validateStartingState()}verify(){var m=this;return(0,a.Z)(function*(){m.assertNotDestroyed();const g=yield m.render(),w=m.getAssertedRecaptcha();return w.getResponse(g)||new Promise(O=>{const W=me=>{me&&(m.tokenChangeListeners.delete(W),O(me))};m.tokenChangeListeners.add(W),m.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){z(!this.parameters.sitekey,this.auth,"argument-error"),z(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof m)m(g);else if("string"==typeof m){const w=si()[m];"function"==typeof w&&w(g)}}}assertNotDestroyed(){z(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,a.Z)(function*(){if(yield m.init(),!m.widgetId){let g=m.container;if(!m.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}m.widgetId=m.getAssertedRecaptcha().render(g,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,a.Z)(function*(){z(Ce()&&!Io(),m.auth,"internal-error"),yield function ks(){let y=null;return new Promise(m=>{"complete"!==document.readyState?(y=()=>m(),window.addEventListener("load",y)):m()}).catch(m=>{throw y&&window.removeEventListener("load",y),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const g=yield function lo(y){return nc.apply(this,arguments)}(m.auth);z(g,m.auth,"internal-error"),m.parameters.sitekey=g})()}getAssertedRecaptcha(){return z(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ch{constructor(m,g){this.verificationId=m,this.onConfirmation=g}confirm(m){const g=wo._fromVerification(this.verificationId,m);return this.onConfirmation(g)}}function mn(){return(mn=(0,a.Z)(function*(y,m,g){const w=zn(y),D=yield Ih(w,m,(0,N.m9)(g));return new Ch(D,O=>cn(w,O))})).apply(this,arguments)}function rl(){return(rl=(0,a.Z)(function*(y,m,g){const w=(0,N.m9)(y);yield Js(!1,w,"phone");const D=yield Ih(w.auth,m,(0,N.m9)(g));return new Ch(D,O=>$a(w,O))})).apply(this,arguments)}function Sh(){return(Sh=(0,a.Z)(function*(y,m,g){const w=(0,N.m9)(y),D=yield Ih(w.auth,m,(0,N.m9)(g));return new Ch(D,O=>qc(w,O))})).apply(this,arguments)}function Ih(y,m,g){return Dh.apply(this,arguments)}function Dh(){return Dh=(0,a.Z)(function*(y,m,g){var w;const D=yield g.verify();try{let O;if(z("string"==typeof D,y,"argument-error"),z(g.type===ca,y,"argument-error"),O="string"==typeof m?{phoneNumber:m}:m,"session"in O){const W=O.session;if("phoneNumber"in O)return z("enroll"===W.type,y,"internal-error"),(yield function vh(y,m){return Lt(y,"POST","/v2/accounts/mfaEnrollment:start",ct(y,m))}(y,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{z("signin"===W.type,y,"internal-error");const me=(null===(w=O.multiFactorHint)||void 0===w?void 0:w.uid)||O.multiFactorUid;return z(me,y,"missing-multi-factor-info"),(yield function tc(y,m){return Lt(y,"POST","/v2/accounts/mfaSignIn:start",ct(y,m))}(y,{mfaPendingCredential:W.credential,mfaEnrollmentId:me,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield function dd(y,m){return Bc.apply(this,arguments)}(y,{phoneNumber:O.phoneNumber,recaptchaToken:D});return W}}finally{g._reset()}}),Dh.apply(this,arguments)}function la(){return(la=(0,a.Z)(function*(y,m){yield za((0,N.m9)(y),m)})).apply(this,arguments)}let rc=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=zn(g)}verifyPhoneNumber(g,w){return Ih(this.auth,g,(0,N.m9)(w))}static credential(g,w){return wo._fromVerification(g,w)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:D}=g;return w&&D?wo._fromTokenResponse(w,D):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function As(y,m){return m?mt(m):(z(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Bn extends pi{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return zi(m,this._buildIdpRequest())}_linkToIdToken(m,g){return zi(m,this._buildIdpRequest(g))}_getReauthenticationResolver(m){return zi(m,this._buildIdpRequest())}_buildIdpRequest(m){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(g.idToken=m),g}}function ol(y){return Zo(y.auth,new Bn(y),y.bypassAuthState)}function Ms(y){const{auth:m,user:g}=y;return z(g,m,"internal-error"),Hc(g,new Bn(y),y.bypassAuthState)}function Th(y){return qi.apply(this,arguments)}function qi(){return(qi=(0,a.Z)(function*(y){const{auth:m,user:g}=y;return z(g,m,"internal-error"),za(g,new Bn(y),y.bypassAuthState)})).apply(this,arguments)}class da{constructor(m,g,w,D,O=!1){this.auth=m,this.resolver=w,this.user=D,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var m=this;return new Promise(function(){var g=(0,a.Z)(function*(w,D){m.pendingPromise={resolve:w,reject:D};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(O){m.reject(O)}});return function(w,D){return g.apply(this,arguments)}}())}onAuthEvent(m){var g=this;return(0,a.Z)(function*(){const{urlResponse:w,sessionId:D,postBody:O,tenantId:W,error:me,type:$e}=m;if(me)return void g.reject(me);const dt={auth:g.auth,requestUri:w,sessionId:D,tenantId:W||void 0,postBody:O||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask($e)(dt))}catch(Dt){g.reject(Dt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return ol;case"linkViaPopup":case"linkViaRedirect":return Th;case"reauthViaPopup":case"reauthViaRedirect":return Ms;default:re(this.auth,"internal-error")}}resolve(m){je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Tg=new ot(2e3,1e4);function ua(){return(ua=(0,a.Z)(function*(y,m,g){const w=zn(y);be(y,m,xo);const D=As(w,g);return new ai(w,"signInViaPopup",m,D).executeNotNull()})).apply(this,arguments)}function Rs(){return(Rs=(0,a.Z)(function*(y,m,g){const w=(0,N.m9)(y);be(w.auth,m,xo);const D=As(w.auth,g);return new ai(w.auth,"reauthViaPopup",m,D,w).executeNotNull()})).apply(this,arguments)}function Mm(){return(Mm=(0,a.Z)(function*(y,m,g){const w=(0,N.m9)(y);be(w.auth,m,xo);const D=As(w.auth,g);return new ai(w.auth,"linkViaPopup",m,D,w).executeNotNull()})).apply(this,arguments)}let ai=(()=>{class y extends da{constructor(g,w,D,O,W){super(g,w,O,W),this.provider=D,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,a.Z)(function*(){const w=yield g.execute();return z(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,a.Z)(function*(){je(1===g.filter.length,"Popup operations only handle one event");const w=Qo();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(D=>{g.reject(D)}),g.resolver._isIframeWebStorageSupported(g.auth,D=>{D||g.reject(ie(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ie(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,D;this.pollId=null!==(D=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==D&&D.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ie(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Tg.get())};g()}}return y.currentPopupAction=null,y})();const fn="pendingRedirect",$t=new Map;class Pr extends da{constructor(m,g,w=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var m=()=>super.execute,g=this;return(0,a.Z)(function*(){let w=$t.get(g.auth._key());if(!w){try{const O=(yield function Ze(y,m){return Tn.apply(this,arguments)}(g.resolver,g.auth))?yield m().call(g):null;w=()=>Promise.resolve(O)}catch(D){w=()=>Promise.reject(D)}$t.set(g.auth._key(),w)}return g.bypassAuthState||$t.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(m){var g=()=>super.onAuthEvent,w=this;return(0,a.Z)(function*(){if("signInViaRedirect"===m.type)return g().call(w,m);if("unknown"!==m.type){if(m.eventId){const D=yield w.auth._redirectUserForId(m.eventId);if(D)return w.user=D,g().call(w,m);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function Tn(){return(Tn=(0,a.Z)(function*(y,m){const g=I(m),w=S(y);if(!(yield w._isAvailable()))return!1;const D="true"===(yield w._get(g));return yield w._remove(g),D})).apply(this,arguments)}function Jo(y,m){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,a.Z)(function*(y,m){return S(y)._set(I(m),"true")})).apply(this,arguments)}function xn(y,m){$t.set(y._key(),m)}function S(y){return mt(y._redirectPersistence)}function I(y){return j(fn,y.config.apiKey,y.name)}function R(y,m,g){return function F(y,m,g){return X.apply(this,arguments)}(y,m,g)}function X(){return(X=(0,a.Z)(function*(y,m,g){const w=zn(y);be(y,m,xo),yield w._initializationPromise;const D=As(w,g);return yield Jo(D,w),D._openRedirect(w,m,"signInViaRedirect")})).apply(this,arguments)}function ne(y,m,g){return function ke(y,m,g){return at.apply(this,arguments)}(y,m,g)}function at(){return(at=(0,a.Z)(function*(y,m,g){const w=(0,N.m9)(y);be(w.auth,m,xo),yield w.auth._initializationPromise;const D=As(w.auth,g);yield Jo(D,w.auth);const O=yield zr(w);return D._openRedirect(w.auth,m,"reauthViaRedirect",O)})).apply(this,arguments)}function yt(y,m,g){return function We(y,m,g){return It.apply(this,arguments)}(y,m,g)}function It(){return(It=(0,a.Z)(function*(y,m,g){const w=(0,N.m9)(y);be(w.auth,m,xo),yield w.auth._initializationPromise;const D=As(w.auth,g);yield Js(!1,w,m.providerId),yield Jo(D,w.auth);const O=yield zr(w);return D._openRedirect(w.auth,m,"linkViaRedirect",O)})).apply(this,arguments)}function nr(){return(nr=(0,a.Z)(function*(y,m){return yield zn(y)._initializationPromise,ce(y,m,!1)})).apply(this,arguments)}function ce(y,m){return ci.apply(this,arguments)}function ci(){return(ci=(0,a.Z)(function*(y,m,g=!1){const w=zn(y),D=As(w,m),W=yield new Pr(w,D,g).execute();return W&&!g&&(delete W.user._redirectEventId,yield w._persistUserIfCurrent(W.user),yield w._setRedirectUser(null,m)),W})).apply(this,arguments)}function zr(y){return ir.apply(this,arguments)}function ir(){return(ir=(0,a.Z)(function*(y){const m=Qo(`${y.uid}:::`);return y._redirectEventId=m,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),m})).apply(this,arguments)}class uo{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(m,w)&&(g=!0,this.sendToConsumer(m,w),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function Rm(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gt(y);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=m,g=!0)),g}sendToConsumer(m,g){var w;if(m.error&&!gt(m)){const D=(null===(w=m.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(ie(this.auth,D))}else g.onAuthEvent(m)}isEventForConsumer(m,g){const w=null===g.eventId||!!m.eventId&&m.eventId===g.eventId;return g.filter.includes(m.type)&&w}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hr(m))}saveEventToCache(m){this.cachedEventUids.add(Hr(m)),this.lastProcessedEventTime=Date.now()}}function Hr(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(m=>m).join("-")}function gt({type:y,error:m}){return"unknown"===y&&"auth/no-auth-event"===m?.code}function jt(y){return sl.apply(this,arguments)}function sl(){return(sl=(0,a.Z)(function*(y,m={}){return Lt(y,"GET","/v1/projects",m)})).apply(this,arguments)}const sc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,al=/^https?/;function cl(){return(cl=(0,a.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:m}=yield jt(y);for(const g of m)try{if(zw(g))return}catch{}re(y,"unauthorized-domain")})).apply(this,arguments)}function zw(y){const m=ge(),{protocol:g,hostname:w}=new URL(m);if(y.startsWith("chrome-extension://")){const W=new URL(y);return""===W.hostname&&""===w?"chrome-extension:"===g&&y.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===g&&W.hostname===w}if(!al.test(g))return!1;if(sc.test(y))return w===y;const D=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(w)}const kg=new ot(3e4,6e4);function Yy(){const y=si().___jsl;if(y?.H)for(const m of Object.keys(y.H))if(y.H[m].r=y.H[m].r||[],y.H[m].L=y.H[m].L||[],y.H[m].r=[...y.H[m].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let ac=null;const cc=new ot(5e3,15e3),Hw="__/auth/iframe",Ah="emulator/auth/iframe",Ag={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qy=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function br(y){const m=y.config;z(m.authDomain,y,"auth-domain-config-required");const g=m.emulator?Je(m,Ah):`https://${y.config.authDomain}/${Hw}`,w={apiKey:m.apiKey,appName:y.name,v:oe.SDK_VERSION},D=Qy.get(y.config.apiHost);D&&(w.eid=D);const O=y._getFrameworks();return O.length&&(w.fw=O.join(",")),`${g}?${(0,N.xO)(w).slice(1)}`}function Bd(){return Bd=(0,a.Z)(function*(y){const m=yield function Di(y){return ac=ac||function rr(y){return new Promise((m,g)=>{var w,D,O;function W(){Yy(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Yy(),g(ie(y,"network-request-failed"))},timeout:kg.get()})}if(null!==(D=null===(w=si().gapi)||void 0===w?void 0:w.iframes)&&void 0!==D&&D.Iframe)m(gapi.iframes.getContext());else{if(null===(O=si().gapi)||void 0===O||!O.load){const me=Xo("iframefcb");return si()[me]=()=>{gapi.load?W():g(ie(y,"network-request-failed"))},Ds(`https://apis.google.com/js/api.js?onload=${me}`).catch($e=>g($e))}W()}}).catch(m=>{throw ac=null,m})}(y),ac}(y),g=si().gapi;return z(g,y,"internal-error"),m.open({where:document.body,url:br(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ag,dontclear:!0},w=>new Promise(function(){var D=(0,a.Z)(function*(O,W){yield w.restyle({setHideOnLeave:!1});const me=ie(y,"network-request-failed"),$e=si().setTimeout(()=>{W(me)},cc.get());function dt(){si().clearTimeout($e),O(w)}w.ping(dt).then(dt,()=>{W(me)})});return function(O,W){return D.apply(this,arguments)}}()))}),Bd.apply(this,arguments)}const Mg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Mh=500,ll=600,Ro="_blank",Rh="http://localhost";class Om{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Rg="__/auth/handler",Fm="emulator/auth/handler";function Ud(y,m,g,w,D,O){z(y.config.authDomain,y,"auth-domain-config-required"),z(y.config.apiKey,y,"invalid-api-key");const W={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:w,v:oe.SDK_VERSION,eventId:D};if(m instanceof xo){m.setDefaultLanguage(y.languageCode),W.providerId=m.providerId||"",(0,N.xb)(m.getCustomParameters())||(W.customParameters=JSON.stringify(m.getCustomParameters()));for(const[$e,dt]of Object.entries(O||{}))W[$e]=dt}if(m instanceof vs){const $e=m.getScopes().filter(dt=>""!==dt);$e.length>0&&(W.scopes=$e.join(","))}y.tenantId&&(W.tid=y.tenantId);const me=W;for(const $e of Object.keys(me))void 0===me[$e]&&delete me[$e];return`${function Pm({config:y}){return y.emulator?Je(y,Fm):`https://${y.authDomain}/${Rg}`}(y)}?${(0,N.xO)(me).slice(1)}`}const Oh="webStorageSupport",Ph=class Fh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ao,this._completeRedirectFn=ce,this._overrideRedirectResult=xn}_openPopup(m,g,w,D){var O=this;return(0,a.Z)(function*(){var W;je(null===(W=O.eventManagers[m._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const me=Ud(m,g,w,ge(),D);return function es(y,m,g,w=Mh,D=ll){const O=Math.max((window.screen.availHeight-D)/2,0).toString(),W=Math.max((window.screen.availWidth-w)/2,0).toString();let me="";const $e=Object.assign(Object.assign({},Mg),{width:w.toString(),height:D.toString(),top:O,left:W}),dt=(0,N.z$)().toLowerCase();g&&(me=Xe(dt)?Ro:g),te(dt)&&(m=m||Rh,$e.scrollbars="yes");const Dt=Object.entries($e).reduce((_i,[Wi,ho])=>`${_i}${Wi}=${ho},`,"");if(function to(y=(0,N.z$)()){var m;return zt(y)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(dt)&&"_self"!==me)return function dl(y,m){const g=document.createElement("a");g.href=y,g.target=m;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(m||"",me),new Om(null);const Et=window.open(m||"",me,Dt);z(Et,y,"popup-blocked");try{Et.focus()}catch{}return new Om(Et)}(m,me,Qo())})()}_openRedirect(m,g,w,D){var O=this;return(0,a.Z)(function*(){return yield O._originValidation(m),function na(y){si().location.href=y}(Ud(m,g,w,ge(),D)),new Promise(()=>{})})()}_initialize(m){const g=m._key();if(this.eventManagers[g]){const{manager:D,promise:O}=this.eventManagers[g];return D?Promise.resolve(D):(je(O,"If manager is not set, promise should be"),O)}const w=this.initAndGetManager(m);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(m){var g=this;return(0,a.Z)(function*(){const w=yield function $w(y){return Bd.apply(this,arguments)}(m),D=new uo(m);return w.register("authEvent",O=>(z(O?.authEvent,m,"invalid-auth-event"),{status:D.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[m._key()]={manager:D},g.iframes[m._key()]=w,D})()}_isIframeWebStorageSupported(m,g){this.iframes[m._key()].send(Oh,{type:Oh},D=>{var O;const W=null===(O=D?.[0])||void 0===O?void 0:O[Oh];void 0!==W&&g(!!W),re(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const g=m._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Ky(y){return cl.apply(this,arguments)}(m)),this.originValidationPromises[g]}get _shouldInitProactively(){return sh()||st()||zt()}};class Nh{constructor(m){this.factorId=m}_process(m,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(m,g.credential,w);case"signin":return this._finalizeSignIn(m,g.credential);default:return ve("unexpected MultiFactorSessionType")}}}class jd extends Nh{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new jd(m)}_finalizeEnroll(m,g,w){return function Cg(y,m){return Lt(y,"POST","/v2/accounts/mfaEnrollment:finalize",ct(y,m))}(m,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,g){return function wh(y,m){return Lt(y,"POST","/v2/accounts/mfaSignIn:finalize",ct(y,m))}(m,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Xy=(()=>{class y{constructor(){}static assertion(g){return jd._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var wr="@firebase/auth";class Nm{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var g=this;return(0,a.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const g=this.auth.onIdTokenChanged(w=>{m(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,g),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const g=this.internalListeners.get(m);g&&(this.internalListeners.delete(m),g(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Os(){return window}(0,N.Pz)("authIdTokenMaxAge"),function gi(y){(0,oe._registerComponent)(new _e.wA("auth",(m,{options:g})=>{const w=m.getProvider("app").getImmediate(),D=m.getProvider("heartbeat"),{apiKey:O,authDomain:W}=w.options;return((me,$e)=>{z(O&&!O.includes(":"),"invalid-api-key",{appName:me.name}),z(!W?.includes(":"),"argument-error",{appName:me.name});const dt={apiKey:O,authDomain:W,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Lc(y)},Dt=new _m(me,$e,dt);return function ue(y,m){const g=m?.persistence||[],w=(Array.isArray(g)?g:[g]).map(mt);m?.errorMap&&y._updateErrorMap(m.errorMap),y._initializeWithPersistence(w,m?.popupRedirectResolver)}(Dt,g),Dt})(w,D)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,g,w)=>{m.getProvider("auth-internal").initialize()})),(0,oe._registerComponent)(new _e.wA("auth-internal",m=>{const g=zn(m.getProvider("auth").getImmediate());return new Nm(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,oe.registerVersion)(wr,"0.21.5",function Lm(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,oe.registerVersion)(wr,"0.21.5","esm2017")}("Browser");const Bm=2e3;function Hd(){return Hd=(0,a.Z)(function*(y,m,g){var w;const{BuildInfo:D}=Os();je(m.sessionId,"AuthEvent did not contain a session ID");const O=yield function Fg(y){return Um.apply(this,arguments)}(m.sessionId),W={};return zt()?W.ibi=D.packageName:Ln()?W.apn=D.packageName:re(y,"operation-not-supported-in-this-environment"),D.displayName&&(W.appDisplayName=D.displayName),W.sessionId=O,Ud(y,g,m.type,void 0,null!==(w=m.eventId)&&void 0!==w?w:void 0,W)}),Hd.apply(this,arguments)}function $d(){return($d=(0,a.Z)(function*(y){const{BuildInfo:m}=Os(),g={};zt()?g.iosBundleId=m.packageName:Ln()?g.androidPackageName=m.packageName:re(y,"operation-not-supported-in-this-environment"),yield jt(y,g)})).apply(this,arguments)}function Wd(){return(Wd=(0,a.Z)(function*(y,m,g){const{cordova:w}=Os();let D=()=>{};try{yield new Promise((O,W)=>{let me=null;function $e(){var Et;O();const _i=null===(Et=w.plugins.browsertab)||void 0===Et?void 0:Et.close;"function"==typeof _i&&_i(),"function"==typeof g?.close&&g.close()}function dt(){me||(me=window.setTimeout(()=>{W(ie(y,"redirect-cancelled-by-user"))},Bm))}function Dt(){"visible"===document?.visibilityState&&dt()}m.addPassiveListener($e),document.addEventListener("resume",dt,!1),Ln()&&document.addEventListener("visibilitychange",Dt,!1),D=()=>{m.removePassiveListener($e),document.removeEventListener("resume",dt,!1),document.removeEventListener("visibilitychange",Dt,!1),me&&window.clearTimeout(me)}})}finally{D()}})).apply(this,arguments)}function Um(){return(Um=(0,a.Z)(function*(y){const m=function Bh(y){if(je(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const m=new ArrayBuffer(y.length),g=new Uint8Array(m);for(let w=0;w<y.length;w++)g[w]=y.charCodeAt(w);return g}(y),g=yield crypto.subtle.digest("SHA-256",m);return Array.from(new Uint8Array(g)).map(D=>D.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Uh=20;class jh extends uo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(m=>{this.resolveInialized=m})}addPassiveListener(m){this.passiveListeners.add(m)}removePassiveListener(m){this.passiveListeners.delete(m)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(m){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(m)),super.onEvent(m)}initialized(){var m=this;return(0,a.Z)(function*(){yield m.initPromise})()}}function Zd(y){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,a.Z)(function*(y){const m=yield Ti()._get(ml(y));return m&&(yield Ti()._remove(ml(y))),m})).apply(this,arguments)}function Fi(){const y=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<Uh;g++){const w=Math.floor(Math.random()*m.length);y.push(m.charAt(w))}return y.join("")}function Ti(){return mt(Za)}function ml(y){return j("authEvent",y.config.apiKey,y.name)}function zh(y){if(!y?.includes("?"))return{};const[m,...g]=y.split("?");return(0,N.zd)(g.join("?"))}const Pg=class $m{constructor(){this._redirectPersistence=ao,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ce,this._overrideRedirectResult=xn}_initialize(m){var g=this;return(0,a.Z)(function*(){const w=m._key();let D=g.eventManagers.get(w);return D||(D=new jh(m),g.eventManagers.set(w,D),g.attachCallbackListeners(m,D)),D})()}_openPopup(m){re(m,"operation-not-supported-in-this-environment")}_openRedirect(m,g,w,D){var O=this;return(0,a.Z)(function*(){!function fl(y){var m,g,w,D,O,W,me,$e,dt,Dt;const Et=Os();z("function"==typeof(null===(m=Et?.universalLinks)||void 0===m?void 0:m.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),z(typeof(null===(g=Et?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),z("function"==typeof(null===(O=null===(D=null===(w=Et?.cordova)||void 0===w?void 0:w.plugins)||void 0===D?void 0:D.browsertab)||void 0===O?void 0:O.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),z("function"==typeof(null===($e=null===(me=null===(W=Et?.cordova)||void 0===W?void 0:W.plugins)||void 0===me?void 0:me.browsertab)||void 0===$e?void 0:$e.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),z("function"==typeof(null===(Dt=null===(dt=Et?.cordova)||void 0===dt?void 0:dt.InAppBrowser)||void 0===Dt?void 0:Dt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(m);const W=yield O._initialize(m);yield W.initialized(),W.resetRedirect(),function oc(){$t.clear()}(),yield O._originValidation(m);const me=function lc(y,m,g=null){return{type:m,eventId:g,urlResponse:null,sessionId:Fi(),postBody:null,tenantId:y.tenantId,error:ie(y,"no-auth-event")}}(m,w,D);yield function jm(y,m){return Ti()._set(ml(y),m)}(m,me);const $e=yield function Og(y,m,g){return Hd.apply(this,arguments)}(m,me,g),dt=yield function Gd(y){const{cordova:m}=Os();return new Promise(g=>{m.plugins.browsertab.isAvailable(w=>{let D=null;w?m.plugins.browsertab.openUrl(y):D=m.InAppBrowser.open(y,function Xi(y=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(D)})})}($e);return function qd(y,m,g){return Wd.apply(this,arguments)}(m,W,dt)})()}_isIframeWebStorageSupported(m,g){throw new Error("Method not implemented.")}_originValidation(m){const g=m._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Vh(y){return $d.apply(this,arguments)}(m)),this.originValidationPromises[g]}attachCallbackListeners(m,g){const{universalLinks:w,handleOpenURL:D,BuildInfo:O}=Os(),W=setTimeout((0,a.Z)(function*(){yield Zd(m),g.onEvent(Qd())}),500),me=function(){var Dt=(0,a.Z)(function*(Et){clearTimeout(W);const _i=yield Zd(m);let Wi=null;_i&&Et?.url&&(Wi=function Yd(y,m){var g,w;const D=function ev(y){const m=zh(y),g=m.link?decodeURIComponent(m.link):void 0,w=zh(g).link,D=m.deep_link_id?decodeURIComponent(m.deep_link_id):void 0;return zh(D).link||D||w||g||y}(m);if(D.includes("/__/auth/callback")){const O=zh(D),W=O.firebaseError?function zm(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(O.firebaseError)):null,me=null===(w=null===(g=W?.code)||void 0===g?void 0:g.split("auth/"))||void 0===w?void 0:w[1],$e=me?ie(me):null;return $e?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:$e,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:D,postBody:null}}return null}(_i,Et.url)),g.onEvent(Wi||Qd())});return function(_i){return Dt.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,me);const $e=D,dt=`${O.packageName.toLowerCase()}://`;Os().handleOpenURL=function(){var Dt=(0,a.Z)(function*(Et){if(Et.toLowerCase().startsWith(dt)&&me({url:Et}),"function"==typeof $e)try{$e(Et)}catch(_i){console.error(_i)}});return function(Et){return Dt.apply(this,arguments)}}()}};function Qd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ie("no-auth-event")}}const qm=1e3;function Oo(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Jd(y=(0,N.z$)()){return!("file:"!==Oo()&&"ionic:"!==Oo()&&"capacitor:"!==Oo()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Gh(){try{const y=self.localStorage,m=Qo();if(y)return y.setItem(m,"1"),y.removeItem(m),!function eu(y=(0,N.z$)()){return function nv(){return(0,N.w1)()&&11===document?.documentMode}()||function $h(y=(0,N.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,N.hl)()}catch{return tu()&&(0,N.hl)()}return!1}function tu(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function nu(){return(function Xd(){return"http:"===Oo()||"https:"===Oo()}()||(0,N.ru)()||Jd())&&!function Wm(){return(0,N.b$)()||(0,N.UG)()}()&&Gh()&&!tu()}function dc(){return Jd()&&typeof document<"u"}function pl(){return(pl=(0,a.Z)(function*(){return!!dc()&&new Promise(y=>{const m=setTimeout(()=>{y(!1)},qm);document.addEventListener("deviceready",()=>{clearTimeout(m),y(!0)})})})).apply(this,arguments)}const Nr={LOCAL:"local",NONE:"none",SESSION:"session"},uc=z,ts="persistence";function ns(y){return Wh.apply(this,arguments)}function Wh(){return(Wh=(0,a.Z)(function*(y){yield y._initializationPromise;const m=Zm(),g=j(ts,y.config.apiKey,y.name);m&&m.setItem(g,y._getPersistence())})).apply(this,arguments)}function Zm(){var y;try{return(null===(y=function Fs(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const xr=z;class Ps{constructor(){this.browserResolver=mt(Ph),this.cordovaResolver=mt(Pg),this.underlyingResolver=null,this._redirectPersistence=ao,this._completeRedirectFn=ce,this._overrideRedirectResult=xn}_initialize(m){var g=this;return(0,a.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(m)})()}_openPopup(m,g,w,D){var O=this;return(0,a.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(m,g,w,D)})()}_openRedirect(m,g,w,D){var O=this;return(0,a.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(m,g,w,D)})()}_isIframeWebStorageSupported(m,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(m,g)}_originValidation(m){return this.assertedUnderlyingResolver._originValidation(m)}get _shouldInitProactively(){return dc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return xr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var m=this;return(0,a.Z)(function*(){if(m.underlyingResolver)return;const g=yield function Ng(){return pl.apply(this,arguments)}();m.underlyingResolver=g?m.cordovaResolver:m.browserResolver})()}}function hc(y){return y.unwrap()}function ru(y){return ha(y)}function ha(y){const{_tokenResponse:m}=y instanceof N.ZR?y.customData:y;if(!m)return null;if(!(y instanceof N.ZR)&&"temporaryProof"in m&&"phoneNumber"in m)return rc.credentialFromResult(y);const g=m.providerId;if(!g||g===ae.PASSWORD)return null;let w;switch(g){case ae.GOOGLE:w=ym;break;case ae.FACEBOOK:w=ud;break;case ae.GITHUB:w=vm;break;case ae.TWITTER:w=vg;break;default:const{oauthIdToken:D,oauthAccessToken:O,oauthTokenSecret:W,pendingToken:me,nonce:$e}=m;return O||W||D||me?me?g.startsWith("saml.")?Qs._create(g,me):bo._fromParams({providerId:g,signInMethod:g,pendingToken:me,idToken:D,accessToken:O}):new ja(g).credential({idToken:D,accessToken:O,rawNonce:$e}):null}return y instanceof N.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function Er(y,m){return m.catch(g=>{throw g instanceof N.ZR&&function ou(y,m){var g;const w=null===(g=m.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===m?.code)m.resolver=new Km(y,function Ri(y,m){var g;const w=(0,N.m9)(y),D=m;return z(m.customData.operationType,w,"argument-error"),z(null===(g=D.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),el._fromError(w,D)}(y,m));else if(w){const D=ha(m),O=m;D&&(O.credential=D,O.tenantId=w.tenantId||void 0,O.email=w.email||void 0,O.phoneNumber=w.phoneNumber||void 0)}}(y,g),g}).then(g=>{const D=g.user;return{operationType:g.operationType,credential:ru(g),additionalUserInfo:_h(g),user:$r.getOrCreate(D)}})}function fc(y,m){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,a.Z)(function*(y,m){const g=yield m;return{verificationId:g.verificationId,confirm:w=>Er(y,g.confirm(w))}})).apply(this,arguments)}class Km{constructor(m,g){this.resolver=g,this.auth=function iu(y){return y.wrapped()}(m)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(m){return Er(hc(this.auth),this.resolver.resolveSignIn(m))}}class $r{constructor(m){this._delegate=m,this.multiFactor=function Dd(y){const m=(0,N.m9)(y);return Cs.has(m)||Cs.set(m,bh._fromUser(m)),Cs.get(m)}(m)}static getOrCreate(m){return $r.USER_MAP.has(m)||$r.USER_MAP.set(m,new $r(m)),$r.USER_MAP.get(m)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(m){return this._delegate.getIdTokenResult(m)}getIdToken(m){return this._delegate.getIdToken(m)}linkAndRetrieveDataWithCredential(m){return this.linkWithCredential(m)}linkWithCredential(m){var g=this;return(0,a.Z)(function*(){return Er(g.auth,$a(g._delegate,m))})()}linkWithPhoneNumber(m,g){var w=this;return(0,a.Z)(function*(){return fc(w.auth,function Dg(y,m,g){return rl.apply(this,arguments)}(w._delegate,m,g))})()}linkWithPopup(m){var g=this;return(0,a.Z)(function*(){return Er(g.auth,function Ld(y,m,g){return Mm.apply(this,arguments)}(g._delegate,m,Ps))})()}linkWithRedirect(m){var g=this;return(0,a.Z)(function*(){return yield ns(zn(g.auth)),yt(g._delegate,m,Ps)})()}reauthenticateAndRetrieveDataWithCredential(m){return this.reauthenticateWithCredential(m)}reauthenticateWithCredential(m){var g=this;return(0,a.Z)(function*(){return Er(g.auth,qc(g._delegate,m))})()}reauthenticateWithPhoneNumber(m,g){return fc(this.auth,function km(y,m,g){return Sh.apply(this,arguments)}(this._delegate,m,g))}reauthenticateWithPopup(m){return Er(this.auth,function Nd(y,m,g){return Rs.apply(this,arguments)}(this._delegate,m,Ps))}reauthenticateWithRedirect(m){var g=this;return(0,a.Z)(function*(){return yield ns(zn(g.auth)),ne(g._delegate,m,Ps)})()}sendEmailVerification(m){return function Yc(y,m){return Qc.apply(this,arguments)}(this._delegate,m)}unlink(m){var g=this;return(0,a.Z)(function*(){return yield function dh(y,m){return ws.apply(this,arguments)}(g._delegate,m),g})()}updateEmail(m){return function so(y,m){return xd((0,N.m9)(y),m,null)}(this._delegate,m)}updatePassword(m){return function Xc(y,m){return xd((0,N.m9)(y),null,m)}(this._delegate,m)}updatePhoneNumber(m){return function Am(y,m){return la.apply(this,arguments)}(this._delegate,m)}updateProfile(m){return function wd(y,m){return Es.apply(this,arguments)}(this._delegate,m)}verifyBeforeUpdateEmail(m,g){return function ph(y,m,g){return Wa.apply(this,arguments)}(this._delegate,m,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}$r.USER_MAP=new WeakMap;const fa=z;let mc=(()=>{class y{constructor(g,w){if(this.app=g,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:D}=g.options;fa(D,"invalid-api-key",{appName:g.name}),fa(D,"invalid-api-key",{appName:g.name});const O=typeof window<"u"?Ps:void 0;this._delegate=w.initialize({options:{persistence:Ym(D,g.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(qe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?$r.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,w){!function cd(y,m,g){const w=zn(y);z(w._canInitEmulator,w,"emulator-config-failed"),z(/^https?:\/\//.test(m),w,"invalid-emulator-scheme");const D=!!g?.disableWarnings,O=nn(m),{host:W,port:me}=function ii(y){const m=nn(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(m.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(w);if(D){const O=D[1];return{host:O,port:xi(w.substr(O.length+1))}}{const[O,W]=w.split(":");return{host:O,port:xi(W)}}}(m);w.config.emulator={url:`${O}//${W}${null===me?"":`:${me}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:W,port:me,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function $o(){function y(){const m=document.createElement("p"),g=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,w)}applyActionCode(g){return function Ft(y,m){return Zc.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return gd(this._delegate,g)}confirmPasswordReset(g,w){return function Wc(y,m,g){return qa.apply(this,arguments)}(this._delegate,g,w)}createUserWithEmailAndPassword(g,w){var D=this;return(0,a.Z)(function*(){return Er(D._delegate,function fh(y,m,g){return bd.apply(this,arguments)}(D._delegate,g,w))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function jr(y,m){return Kc.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function mh(y,m){return"EMAIL_SIGNIN"===Hi.parseLink(m)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,a.Z)(function*(){fa(nu(),g._delegate,"operation-not-supported-in-this-environment");const w=yield function Bt(y,m){return nr.apply(this,arguments)}(g._delegate,Ps);return w?Er(g._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Gm(y,m){zn(y)._logFramework(m)}(this._delegate,g)}onAuthStateChanged(g,w,D){const{next:O,error:W,complete:me}=_l(g,w,D);return this._delegate.onAuthStateChanged(O,W,me)}onIdTokenChanged(g,w,D){const{next:O,error:W,complete:me}=_l(g,w,D);return this._delegate.onIdTokenChanged(O,W,me)}sendSignInLinkToEmail(g,w){return function Me(y,m,g){return Jt.apply(this,arguments)}(this._delegate,g,w)}sendPasswordResetEmail(g,w){return function hh(y,m,g){return Ur.apply(this,arguments)}(this._delegate,g,w||void 0)}setPersistence(g){var w=this;return(0,a.Z)(function*(){let D;switch(function qh(y,m){uc(Object.values(Nr).includes(m),y,"invalid-persistence-type"),(0,N.b$)()?uc(m!==Nr.SESSION,y,"unsupported-persistence-type"):(0,N.UG)()?uc(m===Nr.NONE,y,"unsupported-persistence-type"):tu()?uc(m===Nr.NONE||m===Nr.LOCAL&&(0,N.hl)(),y,"unsupported-persistence-type"):uc(m===Nr.NONE||Gh(),y,"unsupported-persistence-type")}(w._delegate,g),g){case Nr.SESSION:D=ao;break;case Nr.LOCAL:D=(yield mt(oa)._isAvailable())?oa:Za;break;case Nr.NONE:D=$;break;default:return re("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(D)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Er(this._delegate,function jc(y){return lh.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Er(this._delegate,cn(this._delegate,g))}signInWithCustomToken(g){return Er(this._delegate,function md(y,m){return oo.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,w){return Er(this._delegate,function Hn(y,m,g){return cn((0,N.m9)(y),ch.credential(m,g))}(this._delegate,g,w))}signInWithEmailLink(g,w){return Er(this._delegate,function bm(y,m,g){return Kn.apply(this,arguments)}(this._delegate,g,w))}signInWithPhoneNumber(g,w){return fc(this._delegate,function Mo(y,m,g){return mn.apply(this,arguments)}(this._delegate,g,w))}signInWithPopup(g){var w=this;return(0,a.Z)(function*(){return fa(nu(),w._delegate,"operation-not-supported-in-this-environment"),Er(w._delegate,function kh(y,m,g){return ua.apply(this,arguments)}(w._delegate,g,Ps))})()}signInWithRedirect(g){var w=this;return(0,a.Z)(function*(){return fa(nu(),w._delegate,"operation-not-supported-in-this-environment"),yield ns(w._delegate),R(w._delegate,g,Ps)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function yd(y,m){return vd.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Nr,y})();function _l(y,m,g){let w=y;"function"!=typeof y&&({next:w,error:m,complete:g}=y);const D=w;return{next:W=>D(W&&$r.getOrCreate(W)),error:m,complete:g}}function Ym(y,m){const g=function gl(y,m){const g=Zm();if(!g)return[];const w=j(ts,y,m);switch(g.getItem(w)){case Nr.NONE:return[$];case Nr.LOCAL:return[oa,ao];case Nr.SESSION:return[ao];default:return[]}}(y,m);if(typeof self<"u"&&!g.includes(oa)&&g.push(oa),typeof window<"u")for(const w of[Za,ao])g.includes(w)||g.push(w);return g.includes($)||g.push($),g}class yl{constructor(){this.providerId="phone",this._delegate=new rc(hc(Q.Z.auth()))}static credential(m,g){return rc.credential(m,g)}verifyPhoneNumber(m,g){return this._delegate.verifyPhoneNumber(m,g)}unwrap(){return this._delegate}}yl.PHONE_SIGN_IN_METHOD=rc.PHONE_SIGN_IN_METHOD,yl.PROVIDER_ID=rc.PROVIDER_ID;const su=z;class Kh{constructor(m,g,w=Q.Z.app()){var D;su(null===(D=w.options)||void 0===D?void 0:D.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Eh(m,g,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Lg(y){y.INTERNAL.registerComponent(new _e.wA("auth-compat",m=>{const g=m.getProvider("app-compat").getImmediate(),w=m.getProvider("auth");return new mc(g,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:K_EMAIL_SIGNIN,PASSWORD_RESET:K_PASSWORD_RESET,RECOVER_EMAIL:K_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:K_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:K_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:K_VERIFY_EMAIL}},EmailAuthProvider:ch,FacebookAuthProvider:ud,GithubAuthProvider:vm,GoogleAuthProvider:ym,OAuthProvider:ja,SAMLAuthProvider:io,PhoneAuthProvider:yl,PhoneMultiFactorGenerator:Xy,RecaptchaVerifier:Kh,TwitterAuthProvider:vg,Auth:mc,AuthCredential:pi,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.3.5")}(Q.Z)},8766:(ut,Se,P)=>{P.d(Se,{Lj:()=>re,X3:()=>Le});var a=P(5861);const Q=(z,ve)=>ve.some(je=>z instanceof je);let N,oe;const _e=new WeakMap,le=new WeakMap,ae=new WeakMap,H=new WeakMap,G=new WeakMap;let De={get(z,ve,je){if(z instanceof IDBTransaction){if("done"===ve)return le.get(z);if("objectStoreNames"===ve)return z.objectStoreNames||ae.get(z);if("store"===ve)return je.objectStoreNames[1]?void 0:je.objectStore(je.objectStoreNames[0])}return Ae(z[ve])},set:(z,ve,je)=>(z[ve]=je,!0),has:(z,ve)=>z instanceof IDBTransaction&&("done"===ve||"store"===ve)||ve in z};function ye(z){return"function"==typeof z?function ht(z){return z!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function J(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(z)?function(...ve){return z.apply(Ie(this),ve),Ae(_e.get(this))}:function(...ve){return Ae(z.apply(Ie(this),ve))}:function(ve,...je){const ze=z.call(Ie(this),ve,...je);return ae.set(ze,ve.sort?ve.sort():[ve]),Ae(ze)}}(z):(z instanceof IDBTransaction&&function Pe(z){if(le.has(z))return;const ve=new Promise((je,ze)=>{const mt=()=>{z.removeEventListener("complete",tt),z.removeEventListener("error",ue),z.removeEventListener("abort",ue)},tt=()=>{je(),mt()},ue=()=>{ze(z.error||new DOMException("AbortError","AbortError")),mt()};z.addEventListener("complete",tt),z.addEventListener("error",ue),z.addEventListener("abort",ue)});le.set(z,ve)}(z),Q(z,function se(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(z,De):z)}function Ae(z){if(z instanceof IDBRequest)return function K(z){const ve=new Promise((je,ze)=>{const mt=()=>{z.removeEventListener("success",tt),z.removeEventListener("error",ue)},tt=()=>{je(Ae(z.result)),mt()},ue=()=>{ze(z.error),mt()};z.addEventListener("success",tt),z.addEventListener("error",ue)});return ve.then(je=>{je instanceof IDBCursor&&_e.set(je,z)}).catch(()=>{}),G.set(ve,z),ve}(z);if(H.has(z))return H.get(z);const ve=ye(z);return ve!==z&&(H.set(z,ve),G.set(ve,z)),ve}const Ie=z=>G.get(z);function Le(z,ve,{blocked:je,upgrade:ze,blocking:mt,terminated:tt}={}){const ue=indexedDB.open(z,ve),ge=Ae(ue);return ze&&ue.addEventListener("upgradeneeded",Ce=>{ze(Ae(ue.result),Ce.oldVersion,Ce.newVersion,Ae(ue.transaction))}),je&&ue.addEventListener("blocked",()=>je()),ge.then(Ce=>{tt&&Ce.addEventListener("close",()=>tt()),mt&&Ce.addEventListener("versionchange",()=>mt())}).catch(()=>{}),ge}function re(z,{blocked:ve}={}){const je=indexedDB.deleteDatabase(z);return ve&&je.addEventListener("blocked",()=>ve()),Ae(je).then(()=>{})}const ie=["get","getKey","getAll","getAllKeys","count"],pe=["put","add","delete","clear"],be=new Map;function Ee(z,ve){if(!(z instanceof IDBDatabase)||ve in z||"string"!=typeof ve)return;if(be.get(ve))return be.get(ve);const je=ve.replace(/FromIndex$/,""),ze=ve!==je,mt=pe.includes(je);if(!(je in(ze?IDBIndex:IDBObjectStore).prototype)||!mt&&!ie.includes(je))return;const tt=function(){var ue=(0,a.Z)(function*(ge,...Ce){const Re=this.transaction(ge,mt?"readwrite":"readonly");let Be=Re.store;return ze&&(Be=Be.index(Ce.shift())),(yield Promise.all([Be[je](...Ce),mt&&Re.done]))[0]});return function(Ce){return ue.apply(this,arguments)}}();return be.set(ve,tt),tt}!function qe(z){De=z(De)}(z=>({...z,get:(ve,je,ze)=>Ee(ve,je)||z.get(ve,je,ze),has:(ve,je)=>!!Ee(ve,je)||z.has(ve,je)}))},5861:(ut,Se,P)=>{function a(N,oe,se,J,_e,le,ae){try{var H=N[le](ae),G=H.value}catch(K){return void se(K)}H.done?oe(G):Promise.resolve(G).then(J,_e)}function Q(N){return function(){var oe=this,se=arguments;return new Promise(function(J,_e){var le=N.apply(oe,se);function ae(G){a(le,J,_e,ae,H,"next",G)}function H(G){a(le,J,_e,ae,H,"throw",G)}ae(void 0)})}}P.d(Se,{Z:()=>Q})}},ut=>{ut(ut.s=623)}]);