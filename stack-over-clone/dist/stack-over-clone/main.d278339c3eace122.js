"use strict";(self.webpackChunkstack_over_clone=self.webpackChunkstack_over_clone||[]).push([[179],{2011:(ne,W,D)=>{D.d(W,{Dh:()=>ee,GT:()=>K,cc:()=>we,hO:()=>pe,on:()=>U,pX:()=>q,xv:()=>Y});var s=D(4650),H=D(9260),P=D(263);ne=D.hmd(ne);const J=["ngOnDestroy"],q=(Ee,Ie,Fe,le={})=>new Proxy(Ee,{get:(de,Ce)=>Fe.runOutsideAngular(()=>{var Te;if(Ee[Ce])return!(null===(Te=le?.spy)||void 0===Te)&&Te.get&&le.spy.get(Ce,Ee[Ce]),Ee[Ce];if(J.indexOf(Ce)>-1)return()=>{};const Pe=Ie.toPromise().then(Q=>{const Oe=Q&&Q[Ce];return"function"==typeof Oe?Oe.bind(Q):Oe&&Oe.then?Oe.then(qe=>Fe.run(()=>qe)):Fe.run(()=>Oe)});return new Proxy(()=>{},{get:(Q,Oe)=>Pe[Oe],apply:(Q,Oe,qe)=>Pe.then(Qe=>{var gt;const ct=Qe&&Qe(...qe);return!(null===(gt=le?.spy)||void 0===gt)&&gt.apply&&le.spy.apply(Ce,qe,ct),ct})})})}),K=(Ee,Ie)=>{Ie.forEach(Fe=>{Object.getOwnPropertyNames(Fe.prototype||Fe).forEach(le=>{Object.defineProperty(Ee.prototype,le,Object.getOwnPropertyDescriptor(Fe.prototype||Fe,le))})})};class te{constructor(Ie){return Ie}}const ee=new s.OlP("angularfire2.app.options"),Y=new s.OlP("angularfire2.app.name");function U(Ee,Ie,Fe){const de="object"==typeof Fe&&Fe||{};de.name=de.name||"string"==typeof Fe&&Fe||"[DEFAULT]";const Te=H.Z.apps.filter(Pe=>Pe&&Pe.name===de.name)[0]||Ie.runOutsideAngular(()=>H.Z.initializeApp(Ee,de));try{JSON.stringify(Ee)!==JSON.stringify(Te.options)&&z("error",`${Te.name} Firebase App already initialized with different options${ne.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new te(Te)}const z=(Ee,...Ie)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Ee](...Ie)},G={provide:te,useFactory:U,deps:[ee,s.R0b,[new s.FiY,Y]]};let pe=(()=>{class Ee{constructor(Fe){H.Z.registerVersion("angularfire",P.q4.full,"core"),H.Z.registerVersion("angularfire",P.q4.full,"app-compat"),H.Z.registerVersion("angular",s.q4F.full,Fe.toString())}static initializeApp(Fe,le){return{ngModule:Ee,providers:[{provide:ee,useValue:Fe},{provide:Y,useValue:le}]}}}return Ee.\u0275fac=function(Fe){return new(Fe||Ee)(s.LFG(s.Lbi))},Ee.\u0275mod=s.oAB({type:Ee}),Ee.\u0275inj=s.cJS({providers:[G]}),Ee})();function we(Ee,Ie,Fe,le,de){const[,Ce,Te]=globalThis.\u0275AngularfireInstanceCache.find(Pe=>Pe[0]===Ee)||[];if(Ce)return function Ve(Ee,Ie){try{return Ee.toString()===Ie.toString()}catch{return Ee===Ie}}(de,Te)||(xe("error",`${Ie} was already initialized on the ${Fe} Firebase App with different settings.${Ze?" You may need to reload as Firebase is not HMR aware.":""}`),xe("warn",{is:de,was:Te})),Ce;{const Pe=le();return globalThis.\u0275AngularfireInstanceCache.push([Ee,Pe,de]),Pe}}const Ze=!!ne.hot,xe=(Ee,...Ie)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Ee](...Ie)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},263:(ne,W,D)=>{D.d(W,{q4:()=>_a,iC:()=>el,HU:()=>Ei,vb:()=>_d,JM:()=>va,u3:()=>Ri});var s=D(4650),H=D(259),P=D(5861),J=D(9681),q=D(2090),K=D(4859),te=D(1877),ee=D(8766);const Y="@firebase/installations",U="0.6.4",z=1e4,G=`w:${U}`,pe="FIS_v2",we="https://firebaseinstallations.googleapis.com/v1",Ve=36e5,Ie=new q.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Fe(I){return I instanceof q.ZR&&I.code.includes("request-failed")}function le({projectId:I}){return`${we}/projects/${I}/installations`}function de(I){return{token:I.token,requestStatus:2,expiresIn:Qe(I.expiresIn),creationTime:Date.now()}}function Ce(I,S){return Te.apply(this,arguments)}function Te(){return(Te=(0,P.Z)(function*(I,S){const N=(yield S.json()).error;return Ie.create("request-failed",{requestName:I,serverCode:N.code,serverMessage:N.message,serverStatus:N.status})})).apply(this,arguments)}function Pe({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function Oe(I){return qe.apply(this,arguments)}function qe(){return(qe=(0,P.Z)(function*(I){const S=yield I();return S.status>=500&&S.status<600?I():S})).apply(this,arguments)}function Qe(I){return Number(I.replace("s","000"))}function ve(){return(ve=(0,P.Z)(function*({appConfig:I,heartbeatServiceProvider:S},{fid:O}){const N=le(I),se=Pe(I),ge=S.getImmediate({optional:!0});if(ge){const Tt=yield ge.getHeartbeatsHeader();Tt&&se.append("x-firebase-client",Tt)}const at={method:"POST",headers:se,body:JSON.stringify({fid:O,authVersion:pe,appId:I.appId,sdkVersion:G})},Dt=yield Oe(()=>fetch(N,at));if(Dt.ok){const Tt=yield Dt.json();return{fid:Tt.fid||O,registrationStatus:2,refreshToken:Tt.refreshToken,authToken:de(Tt.authToken)}}throw yield Ce("Create Installation",Dt)})).apply(this,arguments)}function Me(I){return new Promise(S=>{setTimeout(S,I)})}const ze=/^[cdef][\w-]{21}$/,Ke="";function Xe(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const O=function dt(I){return function Le(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return ze.test(O)?O:Ke}catch{return Ke}}function ot(I){return`${I.appName}!${I.appId}`}const un=new Map;function It(I,S){const O=ot(I);Bt(O,S),function Ln(I,S){const O=function Sn(){return!fn&&"BroadcastChannel"in self&&(fn=new BroadcastChannel("[Firebase] FID Change"),fn.onmessage=I=>{Bt(I.data.key,I.data.fid)}),fn}();O&&O.postMessage({key:I,fid:S}),function Bn(){0===un.size&&fn&&(fn.close(),fn=null)}()}(O,S)}function Bt(I,S){const O=un.get(I);if(O)for(const N of O)N(S)}let fn=null;const zi="firebase-installations-database",ko=1,tr="firebase-installations-store";let Hi=null;function ho(){return Hi||(Hi=(0,ee.X3)(zi,ko,{upgrade:(I,S)=>{0===S&&I.createObjectStore(tr)}})),Hi}function vn(I,S){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,P.Z)(function*(I,S){const O=ot(I),se=(yield ho()).transaction(tr,"readwrite"),ge=se.objectStore(tr),Re=yield ge.get(O);return yield ge.put(S,O),yield se.done,(!Re||Re.fid!==S.fid)&&It(I,S.fid),S})).apply(this,arguments)}function Et(I){return fr.apply(this,arguments)}function fr(){return(fr=(0,P.Z)(function*(I){const S=ot(I),N=(yield ho()).transaction(tr,"readwrite");yield N.objectStore(tr).delete(S),yield N.done})).apply(this,arguments)}function Sr(I,S){return En.apply(this,arguments)}function En(){return(En=(0,P.Z)(function*(I,S){const O=ot(I),se=(yield ho()).transaction(tr,"readwrite"),ge=se.objectStore(tr),Re=yield ge.get(O),at=S(Re);return void 0===at?yield ge.delete(O):yield ge.put(at,O),yield se.done,at&&(!Re||Re.fid!==at.fid)&&It(I,at.fid),at})).apply(this,arguments)}function Mi(I){return Qr.apply(this,arguments)}function Qr(){return Qr=(0,P.Z)(function*(I){let S;const O=yield Sr(I.appConfig,N=>{const se=function Vt(I){return wi(I||{fid:Xe(),registrationStatus:0})}(N),ge=function St(I,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(Ie.create("app-offline"))};const O={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},N=function Lt(I,S){return Dr.apply(this,arguments)}(I,O);return{installationEntry:O,registrationPromise:N}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:Rn(I)}:{installationEntry:S}}(I,se);return S=ge.registrationPromise,ge.installationEntry});return O.fid===Ke?{installationEntry:yield S}:{installationEntry:O,registrationPromise:S}}),Qr.apply(this,arguments)}function Dr(){return Dr=(0,P.Z)(function*(I,S){try{const O=yield function ct(I,S){return ve.apply(this,arguments)}(I,S);return vn(I.appConfig,O)}catch(O){throw Fe(O)&&409===O.customData.serverCode?yield Et(I.appConfig):yield vn(I.appConfig,{fid:S.fid,registrationStatus:0}),O}}),Dr.apply(this,arguments)}function Rn(I){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,P.Z)(function*(I){let S=yield bi(I.appConfig);for(;1===S.registrationStatus;)yield Me(100),S=yield bi(I.appConfig);if(0===S.registrationStatus){const{installationEntry:O,registrationPromise:N}=yield Mi(I);return N||O}return S})).apply(this,arguments)}function bi(I){return Sr(I,S=>{if(!S)throw Ie.create("installation-not-found");return wi(S)})}function wi(I){return function Qo(I){return 1===I.registrationStatus&&I.registrationTime+z<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function Xr(){return(Xr=(0,P.Z)(function*({appConfig:I,heartbeatServiceProvider:S},O){const N=function cn(I,{fid:S}){return`${le(I)}/${S}/authTokens:generate`}(I,O),se=function Q(I,{refreshToken:S}){const O=Pe(I);return O.append("Authorization",function gt(I){return`${pe} ${I}`}(S)),O}(I,O),ge=S.getImmediate({optional:!0});if(ge){const Tt=yield ge.getHeartbeatsHeader();Tt&&se.append("x-firebase-client",Tt)}const at={method:"POST",headers:se,body:JSON.stringify({installation:{sdkVersion:G,appId:I.appId}})},Dt=yield Oe(()=>fetch(N,at));if(Dt.ok)return de(yield Dt.json());throw yield Ce("Generate Auth Token",Dt)})).apply(this,arguments)}function $i(I){return Tr.apply(this,arguments)}function Tr(){return Tr=(0,P.Z)(function*(I,S=!1){let O;const N=yield Sr(I.appConfig,ge=>{if(!Yt(ge))throw Ie.create("not-registered");const Re=ge.authToken;if(!S&&function Gi(I){return 2===I.requestStatus&&!function X(I){const S=Date.now();return S<I.creationTime||I.creationTime+I.expiresIn<S+Ve}(I)}(Re))return ge;if(1===Re.requestStatus)return O=function tt(I,S){return Ue.apply(this,arguments)}(I,S),ge;{if(!navigator.onLine)throw Ie.create("app-offline");const at=function Z(I){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:S})}(ge);return O=function Nt(I,S){return jt.apply(this,arguments)}(I,at),at}});return O?yield O:N.authToken}),Tr.apply(this,arguments)}function Ue(){return(Ue=(0,P.Z)(function*(I,S){let O=yield mt(I.appConfig);for(;1===O.authToken.requestStatus;)yield Me(100),O=yield mt(I.appConfig);const N=O.authToken;return 0===N.requestStatus?$i(I,S):N})).apply(this,arguments)}function mt(I){return Sr(I,S=>{if(!Yt(S))throw Ie.create("not-registered");return function re(I){return 1===I.requestStatus&&I.requestTime+z<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function jt(){return jt=(0,P.Z)(function*(I,S){try{const O=yield function pn(I,S){return Xr.apply(this,arguments)}(I,S),N=Object.assign(Object.assign({},S),{authToken:O});return yield vn(I.appConfig,N),O}catch(O){if(!Fe(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const N=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield vn(I.appConfig,N)}else yield Et(I.appConfig);throw O}}),jt.apply(this,arguments)}function Yt(I){return void 0!==I&&2===I.registrationStatus}function me(){return(me=(0,P.Z)(function*(I){const S=I,{installationEntry:O,registrationPromise:N}=yield Mi(S);return N?N.catch(console.error):$i(S).catch(console.error),O.fid})).apply(this,arguments)}function st(){return st=(0,P.Z)(function*(I,S=!1){const O=I;return yield function bn(I){return Un.apply(this,arguments)}(O),(yield $i(O,S)).token}),st.apply(this,arguments)}function Un(){return(Un=(0,P.Z)(function*(I){const{registrationPromise:S}=yield Mi(I);S&&(yield S)})).apply(this,arguments)}function Xo(I){return Ie.create("missing-app-config-values",{valueName:I})}const ra="installations",Hn=I=>{const S=I.getProvider("app").getImmediate(),O=function qa(I){if(!I||!I.options)throw Xo("App Configuration");if(!I.name)throw Xo("App Name");const S=["projectId","apiKey","appId"];for(const O of S)if(!I.options[O])throw Xo(O);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(S);return{app:S,appConfig:O,heartbeatServiceProvider:(0,J._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},ys=I=>{const S=I.getProvider("app").getImmediate(),O=(0,J._getProvider)(S,ra).getImmediate();return{getId:()=>function Ne(I){return me.apply(this,arguments)}(O),getToken:se=>function ut(I){return st.apply(this,arguments)}(O,se)}};(function Wa(){(0,J._registerComponent)(new K.wA(ra,Hn,"PUBLIC")),(0,J._registerComponent)(new K.wA("installations-internal",ys,"PRIVATE"))})(),(0,J.registerVersion)(Y,U),(0,J.registerVersion)(Y,U,"esm2017");const on="@firebase/remote-config",ki=new q.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class j{constructor(S,O,N,se){this.client=S,this.storage=O,this.storageCache=N,this.logger=se}isCachedDataFresh(S,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const N=Date.now()-O,se=N<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${N}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${se}.`),se}fetch(S){var O=this;return(0,P.Z)(function*(){const[N,se]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(se&&O.isCachedDataFresh(S.cacheMaxAgeMillis,N))return se;S.eTag=se&&se.eTag;const ge=yield O.client.fetch(S),Re=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ge.status&&Re.push(O.storage.setLastSuccessfulFetchResponse(ge)),yield Promise.all(Re),ge})()}}function _e(I=navigator){return I.languages&&I.languages[0]||I.language}class ae{constructor(S,O,N,se,ge,Re){this.firebaseInstallations=S,this.sdkVersion=O,this.namespace=N,this.projectId=se,this.apiKey=ge,this.appId=Re}fetch(S){var O=this;return(0,P.Z)(function*(){const[N,se]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),Re=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,at={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},Dt={sdk_version:O.sdkVersion,app_instance_id:N,app_instance_id_token:se,app_id:O.appId,language_code:_e()},Tt={method:"POST",headers:at,body:JSON.stringify(Dt)},ue=fetch(Re,Tt),Rt=new Promise((pt,jr)=>{S.signal.addEventListener(()=>{const zt=new Error("The operation was aborted.");zt.name="AbortError",jr(zt)})});let Pi;try{yield Promise.race([ue,Rt]),Pi=yield ue}catch(pt){let jr="fetch-client-network";throw"AbortError"===pt?.name&&(jr="fetch-timeout"),ki.create(jr,{originalErrorMessage:pt?.message})}let Mn=Pi.status;const Jt=Pi.headers.get("ETag")||void 0;let os,sr;if(200===Pi.status){let pt;try{pt=yield Pi.json()}catch(jr){throw ki.create("fetch-client-parse",{originalErrorMessage:jr?.message})}os=pt.entries,sr=pt.state}if("INSTANCE_STATE_UNSPECIFIED"===sr?Mn=500:"NO_CHANGE"===sr?Mn=304:("NO_TEMPLATE"===sr||"EMPTY_CONFIG"===sr)&&(os={}),304!==Mn&&200!==Mn)throw ki.create("fetch-status",{httpStatus:Mn});return{status:Mn,eTag:Jt,config:os}})()}}class je{constructor(S,O){this.client=S,this.storage=O}fetch(S){var O=this;return(0,P.Z)(function*(){const N=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(S,N)})()}attemptFetch(S,{throttleEndTimeMillis:O,backoffCount:N}){var se=this;return(0,P.Z)(function*(){yield function ye(I,S){return new Promise((O,N)=>{const se=Math.max(S-Date.now(),0),ge=setTimeout(O,se);I.addEventListener(()=>{clearTimeout(ge),N(ki.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,O);try{const ge=yield se.client.fetch(S);return yield se.storage.deleteThrottleMetadata(),ge}catch(ge){if(!function et(I){if(!(I instanceof q.ZR&&I.customData))return!1;const S=Number(I.customData.httpStatus);return 429===S||500===S||503===S||504===S}(ge))throw ge;const Re={throttleEndTimeMillis:Date.now()+(0,q.$s)(N),backoffCount:N+1};return yield se.storage.setThrottleMetadata(Re),se.attemptFetch(S,Re)}})()}}class Fn{constructor(S,O,N,se,ge){this.app=S,this._client=O,this._storageCache=N,this._storage=se,this._logger=ge,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ri(I,S){const O=I.target.error||void 0;return ki.create(S,{originalErrorMessage:O&&O?.message})}const Zt="app_namespace_store";class Wi{constructor(S,O,N,se=function Gl(){return new Promise((I,S)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=N=>{S(ri(N,"storage-open"))},O.onsuccess=N=>{I(N.target.result)},O.onupgradeneeded=N=>{0===N.oldVersion&&N.target.result.createObjectStore(Zt,{keyPath:"compositeKey"})}}catch(O){S(ki.create("storage-open",{originalErrorMessage:O?.message}))}})}()){this.appId=S,this.appName=O,this.namespace=N,this.openDbPromise=se}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var O=this;return(0,P.Z)(function*(){const N=yield O.openDbPromise;return new Promise((se,ge)=>{const at=N.transaction([Zt],"readonly").objectStore(Zt),Dt=O.createCompositeKey(S);try{const Tt=at.get(Dt);Tt.onerror=ue=>{ge(ri(ue,"storage-get"))},Tt.onsuccess=ue=>{const Rt=ue.target.result;se(Rt?Rt.value:void 0)}}catch(Tt){ge(ki.create("storage-get",{originalErrorMessage:Tt?.message}))}})})()}set(S,O){var N=this;return(0,P.Z)(function*(){const se=yield N.openDbPromise;return new Promise((ge,Re)=>{const Dt=se.transaction([Zt],"readwrite").objectStore(Zt),Tt=N.createCompositeKey(S);try{const ue=Dt.put({compositeKey:Tt,value:O});ue.onerror=Rt=>{Re(ri(Rt,"storage-set"))},ue.onsuccess=()=>{ge()}}catch(ue){Re(ki.create("storage-set",{originalErrorMessage:ue?.message}))}})})()}delete(S){var O=this;return(0,P.Z)(function*(){const N=yield O.openDbPromise;return new Promise((se,ge)=>{const at=N.transaction([Zt],"readwrite").objectStore(Zt),Dt=O.createCompositeKey(S);try{const Tt=at.delete(Dt);Tt.onerror=ue=>{ge(ri(ue,"storage-delete"))},Tt.onsuccess=()=>{se()}}catch(Tt){ge(ki.create("storage-delete",{originalErrorMessage:Tt?.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class Mr{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,P.Z)(function*(){const O=S.storage.getLastFetchStatus(),N=S.storage.getLastSuccessfulFetchTimestampMillis(),se=S.storage.getActiveConfig(),ge=yield O;ge&&(S.lastFetchStatus=ge);const Re=yield N;Re&&(S.lastSuccessfulFetchTimestampMillis=Re);const at=yield se;at&&(S.activeConfig=at)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function nr(){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,P.Z)(function*(){if(!(0,q.hl)())return!1;try{return yield(0,q.eu)()}catch{return!1}})).apply(this,arguments)}!function Fo(){(0,J._registerComponent)(new K.wA("remote-config",function I(S,{instanceIdentifier:O}){const N=S.getProvider("app").getImmediate(),se=S.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ki.create("registration-window");if(!(0,q.hl)())throw ki.create("indexed-db-unavailable");const{projectId:ge,apiKey:Re,appId:at}=N.options;if(!ge)throw ki.create("registration-project-id");if(!Re)throw ki.create("registration-api-key");if(!at)throw ki.create("registration-app-id");const Dt=new Wi(at,N.name,O=O||"firebase"),Tt=new Mr(Dt),ue=new te.Yd(on);ue.logLevel=te.in.ERROR;const Rt=new ae(se,J.SDK_VERSION,O,ge,Re,at),Pi=new je(Rt,Dt),Mn=new j(Pi,Dt,Tt,ue),Jt=new Fn(N,Mn,Tt,Dt,ue);return function Po(I){const S=(0,q.m9)(I);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(Jt),Jt},"PUBLIC").setMultipleInstances(!0)),(0,J.registerVersion)(on,"0.4.4"),(0,J.registerVersion)(on,"0.4.4","esm2017")}();const qu="/firebase-messaging-sw.js",No="/firebase-cloud-messaging-push-scope",ws="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ka="https://fcmregistrations.googleapis.com/v1",ql="google.c.a.c_id",Gf="google.c.a.c_l",qf="google.c.a.ts",Qp="google.c.a.e";var xs=(()=>{return(I=xs||(xs={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",xs;var I})();function _o(I){const S=new Uint8Array(I);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Xp(I){const O=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),N=atob(O),se=new Uint8Array(N.length);for(let ge=0;ge<N.length;++ge)se[ge]=N.charCodeAt(ge);return se}const gi="fcm_token_details_db",Wl=5,Vr="fcm_token_object_Store";function Fc(){return Fc=(0,P.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ge=>ge.name).includes(gi))return null;let S=null;return(yield(0,ee.X3)(gi,Wl,{upgrade:(N=(0,P.Z)(function*(se,ge,Re,at){var Dt;if(ge<2||!se.objectStoreNames.contains(Vr))return;const Tt=at.objectStore(Vr),ue=yield Tt.index("fcmSenderId").get(I);if(yield Tt.clear(),ue)if(2===ge){const Rt=ue;if(!Rt.auth||!Rt.p256dh||!Rt.endpoint)return;S={token:Rt.fcmToken,createTime:null!==(Dt=Rt.createTime)&&void 0!==Dt?Dt:Date.now(),subscriptionOptions:{auth:Rt.auth,p256dh:Rt.p256dh,endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:"string"==typeof Rt.vapidKey?Rt.vapidKey:_o(Rt.vapidKey)}}}else if(3===ge){const Rt=ue;S={token:Rt.fcmToken,createTime:Rt.createTime,subscriptionOptions:{auth:_o(Rt.auth),p256dh:_o(Rt.p256dh),endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:_o(Rt.vapidKey)}}}else if(4===ge){const Rt=ue;S={token:Rt.fcmToken,createTime:Rt.createTime,subscriptionOptions:{auth:_o(Rt.auth),p256dh:_o(Rt.p256dh),endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:_o(Rt.vapidKey)}}}}),function(ge,Re,at,Dt){return N.apply(this,arguments)})})).close(),yield(0,ee.Lj)(gi),yield(0,ee.Lj)("fcm_vapid_details_db"),yield(0,ee.Lj)("undefined"),function Wu(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:S}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}(S)?S:null;var N}),Fc.apply(this,arguments)}const Nc="firebase-messaging-database",Jp=1,kr="firebase-messaging-store";let Ku=null;function Es(){return Ku||(Ku=(0,ee.X3)(Nc,Jp,{upgrade:(I,S)=>{0===S&&I.createObjectStore(kr)}})),Ku}function Za(I){return sa.apply(this,arguments)}function sa(){return sa=(0,P.Z)(function*(I){const S=es(I),N=yield(yield Es()).transaction(kr).objectStore(kr).get(S);if(N)return N;{const se=yield function Kl(I){return Fc.apply(this,arguments)}(I.appConfig.senderId);if(se)return yield aa(I,se),se}}),sa.apply(this,arguments)}function aa(I,S){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,P.Z)(function*(I,S){const O=es(I),se=(yield Es()).transaction(kr,"readwrite");return yield se.objectStore(kr).put(S,O),yield se.done,S})).apply(this,arguments)}function Bc(){return(Bc=(0,P.Z)(function*(I){const S=es(I),N=(yield Es()).transaction(kr,"readwrite");yield N.objectStore(kr).delete(S),yield N.done})).apply(this,arguments)}function es({appConfig:I}){return I.appId}const gn=new q.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Uc(I,S){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,P.Z)(function*(I,S){const O=yield Zl(I),N=Oi(S),se={method:"POST",headers:O,body:JSON.stringify(N)};let ge;try{ge=yield(yield fetch(Xa(I.appConfig),se)).json()}catch(Re){throw gn.create("token-subscribe-failed",{errorInfo:Re?.toString()})}if(ge.error)throw gn.create("token-subscribe-failed",{errorInfo:ge.error.message});if(!ge.token)throw gn.create("token-subscribe-no-token");return ge.token})).apply(this,arguments)}function Vc(){return(Vc=(0,P.Z)(function*(I,S){const O=yield Zl(I),N=Oi(S.subscriptionOptions),se={method:"PATCH",headers:O,body:JSON.stringify(N)};let ge;try{ge=yield(yield fetch(`${Xa(I.appConfig)}/${S.token}`,se)).json()}catch(Re){throw gn.create("token-update-failed",{errorInfo:Re?.toString()})}if(ge.error)throw gn.create("token-update-failed",{errorInfo:ge.error.message});if(!ge.token)throw gn.create("token-update-no-token");return ge.token})).apply(this,arguments)}function yo(I,S){return ir.apply(this,arguments)}function ir(){return(ir=(0,P.Z)(function*(I,S){const N={method:"DELETE",headers:yield Zl(I)};try{const ge=yield(yield fetch(`${Xa(I.appConfig)}/${S}`,N)).json();if(ge.error)throw gn.create("token-unsubscribe-failed",{errorInfo:ge.error.message})}catch(se){throw gn.create("token-unsubscribe-failed",{errorInfo:se?.toString()})}})).apply(this,arguments)}function Xa({projectId:I}){return`${Ka}/projects/${I}/registrations`}function Zl(I){return vo.apply(this,arguments)}function vo(){return(vo=(0,P.Z)(function*({appConfig:I,installations:S}){const O=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function Oi({p256dh:I,auth:S,endpoint:O,vapidKey:N}){const se={web:{endpoint:O,auth:S,p256dh:I}};return N!==ws&&(se.web.applicationPubKey=N),se}const Yl=6048e5;function Yu(){return Yu=(0,P.Z)(function*(I){const S=yield function Xl(I,S){return Jl.apply(this,arguments)}(I.swRegistration,I.vapidKey),O={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:S.endpoint,auth:_o(S.getKey("auth")),p256dh:_o(S.getKey("p256dh"))},N=yield Za(I.firebaseDependencies);if(N){if(function ed(I,S){return S.vapidKey===I.vapidKey&&S.endpoint===I.endpoint&&S.auth===I.auth&&S.p256dh===I.p256dh}(N.subscriptionOptions,O))return Date.now()>=N.createTime+Yl?function Ja(I,S){return qt.apply(this,arguments)}(I,{token:N.token,createTime:Date.now(),subscriptionOptions:O}):N.token;try{yield yo(I.firebaseDependencies,N.token)}catch(se){console.warn(se)}return zc(I.firebaseDependencies,O)}return zc(I.firebaseDependencies,O)}),Yu.apply(this,arguments)}function jc(){return jc=(0,P.Z)(function*(I){const S=yield Za(I.firebaseDependencies);S&&(yield yo(I.firebaseDependencies,S.token),yield function Lc(I){return Bc.apply(this,arguments)}(I.firebaseDependencies));const O=yield I.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()}),jc.apply(this,arguments)}function qt(){return qt=(0,P.Z)(function*(I,S){try{const O=yield function Zn(I,S){return Vc.apply(this,arguments)}(I.firebaseDependencies,S),N=Object.assign(Object.assign({},S),{token:O,createTime:Date.now()});return yield aa(I.firebaseDependencies,N),O}catch(O){throw yield function Jr(I){return jc.apply(this,arguments)}(I),O}}),qt.apply(this,arguments)}function zc(I,S){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,P.Z)(function*(I,S){const N={token:yield Uc(I,S),createTime:Date.now(),subscriptionOptions:S};return yield aa(I,N),N.token})).apply(this,arguments)}function Jl(){return(Jl=(0,P.Z)(function*(I,S){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Xp(S)})})).apply(this,arguments)}function Qu(I){const S={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function td(I,S){if(!S.notification)return;I.notification={};const O=S.notification.title;O&&(I.notification.title=O);const N=S.notification.body;N&&(I.notification.body=N);const se=S.notification.image;se&&(I.notification.image=se);const ge=S.notification.icon;ge&&(I.notification.icon=ge)}(S,I),function Xn(I,S){S.data&&(I.data=S.data)}(S,I),function He(I,S){var O,N,se,ge,Re;if(!(S.fcmOptions||null!==(O=S.notification)&&void 0!==O&&O.click_action))return;I.fcmOptions={};const at=null!==(se=null===(N=S.fcmOptions)||void 0===N?void 0:N.link)&&void 0!==se?se:null===(ge=S.notification)||void 0===ge?void 0:ge.click_action;at&&(I.fcmOptions.link=at);const Dt=null===(Re=S.fcmOptions)||void 0===Re?void 0:Re.analytics_label;Dt&&(I.fcmOptions.analyticsLabel=Dt)}(S,I),S}function Xu(I,S){const O=[];for(let N=0;N<I.length;N++)O.push(I.charAt(N)),N<S.length&&O.push(S.charAt(N));return O.join("")}function oi(I){return gn.create("missing-app-config-values",{valueName:I})}Xu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Xu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Kf{constructor(S,O,N){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const se=function Wf(I){if(!I||!I.options)throw oi("App Configuration Object");if(!I.name)throw oi("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:O}=I;for(const N of S)if(!O[N])throw oi(N);return{appName:I.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:se,installations:O,analyticsProvider:N}}_delete(){return Promise.resolve()}}function ts(I){return eo.apply(this,arguments)}function eo(){return(eo=(0,P.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(qu,{scope:No}),I.swRegistration.update().catch(()=>{})}catch(S){throw gn.create("failed-service-worker-registration",{browserErrorMessage:S?.message})}})).apply(this,arguments)}function $c(){return($c=(0,P.Z)(function*(I,S){if(!S&&!I.swRegistration&&(yield ts(I)),S||!I.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw gn.create("invalid-sw-registration");I.swRegistration=S}})).apply(this,arguments)}function Ju(){return(Ju=(0,P.Z)(function*(I,S){S?I.vapidKey=S:I.vapidKey||(I.vapidKey=ws)})).apply(this,arguments)}function _i(){return _i=(0,P.Z)(function*(I,S){if(!navigator)throw gn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw gn.create("permission-blocked");return yield function Gc(I,S){return Ju.apply(this,arguments)}(I,S?.vapidKey),yield function Hc(I,S){return $c.apply(this,arguments)}(I,S?.serviceWorkerRegistration),function Cs(I){return Yu.apply(this,arguments)}(I)}),_i.apply(this,arguments)}function nd(){return(nd=(0,P.Z)(function*(I,S,O){const N=function Is(I){switch(I){case xs.NOTIFICATION_CLICKED:return"notification_open";case xs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(S);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(N,{message_id:O[ql],message_name:O[Gf],message_time:O[qf],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function qc(){return qc=(0,P.Z)(function*(I,S){const O=S.data;if(!O.isFirebaseMessaging)return;I.onMessageHandler&&O.messageType===xs.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(Qu(O)):I.onMessageHandler.next(Qu(O)));const N=O.data;(function ln(I){return"object"==typeof I&&!!I&&ql in I})(N)&&"1"===N[Qp]&&(yield function rr(I,S,O){return nd.apply(this,arguments)}(I,O.messageType,N))}),qc.apply(this,arguments)}const id="@firebase/messaging",Zf=I=>{const S=new Kf(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function bo(I,S){return qc.apply(this,arguments)}(S,O)),S},Lo=I=>{const S=I.getProvider("messaging").getImmediate();return{getToken:N=>function ec(I,S){return _i.apply(this,arguments)}(S,N)}};function eh(){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,P.Z)(function*(){try{yield(0,q.eu)()}catch{return!1}return typeof window<"u"&&(0,q.hl)()&&(0,q.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function od(){(0,J._registerComponent)(new K.wA("messaging",Zf,"PUBLIC")),(0,J._registerComponent)(new K.wA("messaging-internal",Lo,"PRIVATE")),(0,J.registerVersion)(id,"0.12.4"),(0,J.registerVersion)(id,"0.12.4","esm2017")}();const nh="analytics",ng="firebase_id",gr="origin",ns=6e4,Cn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Kc="https://www.googletagmanager.com/gtag/js",Ki=new te.Yd("@firebase/analytics");function ih(I){return Promise.all(I.map(S=>S.catch(O=>O)))}function Ss(){return(Ss=(0,P.Z)(function*(I,S,O,N,se,ge){const Re=N[se];try{if(Re)yield S[Re];else{const Dt=(yield ih(O)).find(Tt=>Tt.measurementId===se);Dt&&(yield S[Dt.appId])}}catch(at){Ki.error(at)}I("config",se,ge)})).apply(this,arguments)}function Bo(){return(Bo=(0,P.Z)(function*(I,S,O,N,se){try{let ge=[];if(se&&se.send_to){let Re=se.send_to;Array.isArray(Re)||(Re=[Re]);const at=yield ih(O);for(const Dt of Re){const Tt=at.find(Rt=>Rt.measurementId===Dt),ue=Tt&&S[Tt.appId];if(!ue){ge=[];break}ge.push(ue)}}0===ge.length&&(ge=Object.values(S)),yield Promise.all(ge),I("event",N,se||{})}catch(ge){Ki.error(ge)}})).apply(this,arguments)}const Zi=new q.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),tc=30,Xf=new class wo{constructor(S={},O=1e3){this.throttleMetadata=S,this.intervalMillis=O}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,O){this.throttleMetadata[S]=O}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function Jf(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function nc(){return(nc=(0,P.Z)(function*(I){var S;const{appId:O,apiKey:N}=I,se={method:"GET",headers:Jf(N)},ge=Cn.replace("{app-id}",O),Re=yield fetch(ge,se);if(200!==Re.status&&304!==Re.status){let at="";try{const Dt=yield Re.json();null!==(S=Dt.error)&&void 0!==S&&S.message&&(at=Dt.error.message)}catch{}throw Zi.create("config-fetch-failed",{httpStatus:Re.status,responseMessage:at})}return Re.json()})).apply(this,arguments)}function da(){return(da=(0,P.Z)(function*(I,S=Xf,O){const{appId:N,apiKey:se,measurementId:ge}=I.options;if(!N)throw Zi.create("no-app-id");if(!se){if(ge)return{measurementId:ge,appId:N};throw Zi.create("no-api-key")}const Re=S.getThrottleMetadata(N)||{backoffCount:0,throttleEndTimeMillis:Date.now()},at=new dd;return setTimeout((0,P.Z)(function*(){at.abort()}),void 0!==O?O:ns),Vo({appId:N,apiKey:se,measurementId:ge},Re,at,S)})).apply(this,arguments)}function Vo(I,S,O){return ua.apply(this,arguments)}function ua(){return ua=(0,P.Z)(function*(I,{throttleEndTimeMillis:S,backoffCount:O},N,se=Xf){var ge;const{appId:Re,measurementId:at}=I;try{yield function jo(I,S){return new Promise((O,N)=>{const se=Math.max(S-Date.now(),0),ge=setTimeout(O,se);I.addEventListener(()=>{clearTimeout(ge),N(Zi.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(N,S)}catch(Dt){if(at)return Ki.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${at} provided in the "measurementId" field in the local Firebase config. [${Dt?.message}]`),{appId:Re,measurementId:at};throw Dt}try{const Dt=yield function is(I){return nc.apply(this,arguments)}(I);return se.deleteThrottleMetadata(Re),Dt}catch(Dt){const Tt=Dt;if(!function ld(I){if(!(I instanceof q.ZR&&I.customData))return!1;const S=Number(I.customData.httpStatus);return 429===S||500===S||503===S||504===S}(Tt)){if(se.deleteThrottleMetadata(Re),at)return Ki.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${at} provided in the "measurementId" field in the local Firebase config. [${Tt?.message}]`),{appId:Re,measurementId:at};throw Dt}const ue=503===Number(null===(ge=Tt?.customData)||void 0===ge?void 0:ge.httpStatus)?(0,q.$s)(O,se.intervalMillis,tc):(0,q.$s)(O,se.intervalMillis),Rt={throttleEndTimeMillis:Date.now()+ue,backoffCount:O+1};return se.setThrottleMetadata(Re,Rt),Ki.debug(`Calling attemptFetch again in ${ue} millis`),Vo(I,Rt,N,se)}}),ua.apply(this,arguments)}class dd{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}let Ds,Ho;function zo(){return(zo=(0,P.Z)(function*(I,S,O,N,se){if(se&&se.global)I("event",O,N);else{const ge=yield S;I("event",O,Object.assign(Object.assign({},N),{send_to:ge}))}})).apply(this,arguments)}function ac(){return(ac=(0,P.Z)(function*(){if(!(0,q.hl)())return Ki.warn(Zi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,q.eu)()}catch(I){return Ki.warn(Zi.create("indexeddb-unavailable",{errorInfo:I?.toString()}).message),!1}return!0})).apply(this,arguments)}function cc(){return cc=(0,P.Z)(function*(I,S,O,N,se,ge,Re){var at;const Dt=function yi(I){return da.apply(this,arguments)}(I);Dt.then(Mn=>{O[Mn.measurementId]=Mn.appId,I.options.measurementId&&Mn.measurementId!==I.options.measurementId&&Ki.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${Mn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Mn=>Ki.error(Mn)),S.push(Dt);const Tt=function sc(){return ac.apply(this,arguments)}().then(Mn=>{if(Mn)return N.getId()}),[ue,Rt]=yield Promise.all([Dt,Tt]);(function Qf(I){const S=window.document.getElementsByTagName("script");for(const O of Object.values(S))if(O.src&&O.src.includes(Kc)&&O.src.includes(I))return O;return null})(ge)||function ig(I,S){const O=document.createElement("script");O.src=`${Kc}?l=${I}&id=${S}`,O.async=!0,document.head.appendChild(O)}(ge,ue.measurementId),Ho&&(se("consent","default",Ho),function ha(I){Ho=I}(void 0)),se("js",new Date);const Pi=null!==(at=Re?.config)&&void 0!==at?at:{};return Pi[gr]="firebase",Pi.update=!0,null!=Rt&&(Pi[ng]=Rt),se("config",ue.measurementId,Pi),Ds&&(se("set",Ds),function fd(I){Ds=I}(void 0)),ue.measurementId}),cc.apply(this,arguments)}class oh{constructor(S){this.app=S}_delete(){return delete Eo[this.app.options.appId],Promise.resolve()}}let Eo={},lc=[];const Zc={};let md,$o,As="dataLayer",rs="gtag",Ms=!1;function pd(I,S,O){!function tm(){const I=[];if((0,q.ru)()&&I.push("This is a browser extension environment."),(0,q.zI)()||I.push("Cookies are not available."),I.length>0){const S=I.map((N,se)=>`(${se+1}) ${N}`).join(" "),O=Zi.create("invalid-analytics-context",{errorInfo:S});Ki.warn(O.message)}}();const N=I.options.appId;if(!N)throw Zi.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw Zi.create("no-api-key");Ki.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Eo[N])throw Zi.create("already-exists",{id:N});if(!Ms){!function rg(I){let S=[];Array.isArray(window[I])?S=window[I]:window[I]=S}(As);const{wrappedGtag:ge,gtagCore:Re}=function la(I,S,O,N,se){let ge=function(...Re){window[N].push(arguments)};return window[se]&&"function"==typeof window[se]&&(ge=window[se]),window[se]=function ca(I,S,O,N){function ge(){return ge=(0,P.Z)(function*(Re,at,Dt){try{"event"===Re?yield function cd(I,S,O,N,se){return Bo.apply(this,arguments)}(I,S,O,at,Dt):"config"===Re?yield function rh(I,S,O,N,se,ge){return Ss.apply(this,arguments)}(I,S,O,N,at,Dt):"consent"===Re?I("consent","update",Dt):I("set",at)}catch(Tt){Ki.error(Tt)}}),ge.apply(this,arguments)}return function se(Re,at,Dt){return ge.apply(this,arguments)}}(ge,I,S,O),{gtagCore:ge,wrappedGtag:window[se]}}(Eo,lc,Zc,As,rs);$o=ge,md=Re,Ms=!0}return Eo[N]=function fa(I,S,O,N,se,ge,Re){return cc.apply(this,arguments)}(I,lc,Zc,S,md,As,O),new oh(I)}function gd(){return ma.apply(this,arguments)}function ma(){return(ma=(0,P.Z)(function*(){if((0,q.ru)()||!(0,q.zI)()||!(0,q.hl)())return!1;try{return yield(0,q.eu)()}catch{return!1}})).apply(this,arguments)}const Go="@firebase/analytics";!function sg(){(0,J._registerComponent)(new K.wA(nh,(S,{options:O})=>pd(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,J._registerComponent)(new K.wA("analytics-internal",function I(S){try{const O=S.getProvider(nh).getImmediate();return{logEvent:(N,se,ge)=>function ks(I,S,O,N){I=(0,q.m9)(I),function em(I,S,O,N,se){return zo.apply(this,arguments)}($o,Eo[I.app.options.appId],S,O,N).catch(se=>Ki.error(se))}(O,N,se,ge)}}catch(O){throw Zi.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,J.registerVersion)(Go,"0.9.4"),(0,J.registerVersion)(Go,"0.9.4","esm2017")}();var Xc=D(233),nm=D(4986),lh=D(9751),dh=D(8505),uh=D(9468),im=D(5363);const _a=new s.GfV("7.5.0"),uc="__angularfire_symbol__analyticsIsSupportedValue",Os="__angularfire_symbol__analyticsIsSupported",Yn="__angularfire_symbol__remoteConfigIsSupportedValue",Jc="__angularfire_symbol__remoteConfigIsSupported",Rs="__angularfire_symbol__messagingIsSupportedValue",hh="__angularfire_symbol__messagingIsSupported";function va(I,S,O){if(S){if(1===S.length)return S[0];const ge=S.filter(Re=>Re.app===O);if(1===ge.length)return ge[0]}return O.container.getProvider(I).getImmediate({optional:!0})}globalThis[Os]||(globalThis[Os]=gd().then(I=>globalThis[uc]=I).catch(()=>globalThis[uc]=!1)),globalThis[hh]||(globalThis[hh]=eh().then(I=>globalThis[Rs]=I).catch(()=>globalThis[Rs]=!1)),globalThis[Jc]||(globalThis[Jc]=nr().then(I=>globalThis[Yn]=I).catch(()=>globalThis[Yn]=!1));const _d=(I,S)=>{const O=S?[S]:(0,H.C6)(),N=[];return O.forEach(se=>{se.container.getProvider(I).instances.forEach(Re=>{N.includes(Re)||N.push(Re)})}),N};function Ps(){}class yd{constructor(S,O=Xc.N){this.zone=S,this.delegate=O}now(){return this.delegate.now()}schedule(S,O,N){const se=this.zone;return this.delegate.schedule(function(Re){se.runGuarded(()=>{S.apply(this,[Re])})},O,N)}}class rm{constructor(S){this.zone=S,this.task=null}call(S,O){const N=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ps,{},Ps,Ps)),O.pipe((0,dh.b)({next:N,complete:N,error:N})).subscribe(S).add(N)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ei=(()=>{class I{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new yd(Zone.current)),this.insideAngular=O.run(()=>new yd(Zone.current,nm.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(O){return new(O||I)(s.LFG(s.R0b))},I.\u0275prov=s.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function An(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function it(I){return An().ngZone.run(()=>I())}function el(I){return An(),function Fs(I){return function(O){return(O=O.lift(new rm(I.ngZone))).pipe((0,uh.R)(I.outsideAngular),(0,im.Q)(I.insideAngular))}}(An())(I)}const hc=(I,S)=>function(){const N=arguments;return S&&setTimeout(()=>{"scheduled"===S.state&&S.invoke()},10),it(()=>I.apply(void 0,N))},Ri=(I,S)=>function(){let O;const N=arguments;for(let ge=0;ge<arguments.length;ge++)"function"==typeof N[ge]&&(S&&(O||(O=it(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ps,{},Ps,Ps)))),N[ge]=hc(N[ge],O));const se=function tn(I){return An().ngZone.runOutsideAngular(()=>I())}(()=>I.apply(this,N));if(!S){if(se instanceof lh.y){const ge=An();return se.pipe((0,uh.R)(ge.outsideAngular),(0,im.Q)(ge.insideAngular))}return it(()=>se)}return se instanceof lh.y?se.pipe(el):se instanceof Promise?it(()=>new Promise((ge,Re)=>se.then(at=>it(()=>ge(at)),at=>it(()=>Re(at))))):"function"==typeof se&&O?function(){return setTimeout(()=>{O&&"scheduled"===O.state&&O.invoke()},10),se.apply(this,arguments)}:it(()=>se)}},2090:(ne,W,D)=>{D.d(W,{$s:()=>Nt,BH:()=>Ce,G6:()=>ze,L:()=>Y,LL:()=>It,P0:()=>Fe,Pz:()=>de,Sg:()=>Te,UG:()=>Oe,US:()=>K,ZB:()=>G,ZR:()=>un,aH:()=>le,b$:()=>gt,eu:()=>Xe,hl:()=>Ke,jU:()=>qe,m9:()=>Gi,ne:()=>Vt,pd:()=>Mi,r3:()=>tr,ru:()=>Qe,tV:()=>U,uI:()=>Q,vZ:()=>Ai,w1:()=>ve,xO:()=>Sr,xb:()=>ho,z$:()=>Pe,zI:()=>dt,zd:()=>En});const J=function(X){const Z=[];let re=0;for(let Ne=0;Ne<X.length;Ne++){let me=X.charCodeAt(Ne);me<128?Z[re++]=me:me<2048?(Z[re++]=me>>6|192,Z[re++]=63&me|128):55296==(64512&me)&&Ne+1<X.length&&56320==(64512&X.charCodeAt(Ne+1))?(me=65536+((1023&me)<<10)+(1023&X.charCodeAt(++Ne)),Z[re++]=me>>18|240,Z[re++]=me>>12&63|128,Z[re++]=me>>6&63|128,Z[re++]=63&me|128):(Z[re++]=me>>12|224,Z[re++]=me>>6&63|128,Z[re++]=63&me|128)}return Z},K={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(X,Z){if(!Array.isArray(X))throw Error("encodeByteArray takes an array as a parameter");this.init_();const re=Z?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ne=[];for(let me=0;me<X.length;me+=3){const ut=X[me],st=me+1<X.length,bn=st?X[me+1]:0,Un=me+2<X.length,zn=Un?X[me+2]:0;let qi=(15&bn)<<2|zn>>6,Ur=63&zn;Un||(Ur=64,st||(qi=64)),Ne.push(re[ut>>2],re[(3&ut)<<4|bn>>4],re[qi],re[Ur])}return Ne.join("")},encodeString(X,Z){return this.HAS_NATIVE_SUPPORT&&!Z?btoa(X):this.encodeByteArray(J(X),Z)},decodeString(X,Z){return this.HAS_NATIVE_SUPPORT&&!Z?atob(X):function(X){const Z=[];let re=0,Ne=0;for(;re<X.length;){const me=X[re++];if(me<128)Z[Ne++]=String.fromCharCode(me);else if(me>191&&me<224){const ut=X[re++];Z[Ne++]=String.fromCharCode((31&me)<<6|63&ut)}else if(me>239&&me<365){const Un=((7&me)<<18|(63&X[re++])<<12|(63&X[re++])<<6|63&X[re++])-65536;Z[Ne++]=String.fromCharCode(55296+(Un>>10)),Z[Ne++]=String.fromCharCode(56320+(1023&Un))}else{const ut=X[re++],st=X[re++];Z[Ne++]=String.fromCharCode((15&me)<<12|(63&ut)<<6|63&st)}}return Z.join("")}(this.decodeStringToByteArray(X,Z))},decodeStringToByteArray(X,Z){this.init_();const re=Z?this.charToByteMapWebSafe_:this.charToByteMap_,Ne=[];for(let me=0;me<X.length;){const ut=re[X.charAt(me++)],bn=me<X.length?re[X.charAt(me)]:0;++me;const zn=me<X.length?re[X.charAt(me)]:64;++me;const Qt=me<X.length?re[X.charAt(me)]:64;if(++me,null==ut||null==bn||null==zn||null==Qt)throw new te;Ne.push(ut<<2|bn>>4),64!==zn&&(Ne.push(bn<<4&240|zn>>2),64!==Qt&&Ne.push(zn<<6&192|Qt))}return Ne},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let X=0;X<this.ENCODED_VALS.length;X++)this.byteToCharMap_[X]=this.ENCODED_VALS.charAt(X),this.charToByteMap_[this.byteToCharMap_[X]]=X,this.byteToCharMapWebSafe_[X]=this.ENCODED_VALS_WEBSAFE.charAt(X),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[X]]=X,X>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(X)]=X,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(X)]=X)}}};class te extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Y=function(X){return function(X){const Z=J(X);return K.encodeByteArray(Z,!0)}(X).replace(/\./g,"")},U=function(X){try{return K.decodeString(X,!0)}catch(Z){console.error("base64Decode failed: ",Z)}return null};function G(X,Z){if(!(Z instanceof Object))return Z;switch(Z.constructor){case Date:return new Date(Z.getTime());case Object:void 0===X&&(X={});break;case Array:X=[];break;default:return Z}for(const re in Z)!Z.hasOwnProperty(re)||!pe(re)||(X[re]=G(X[re],Z[re]));return X}function pe(X){return"__proto__"!==X}const Ee=()=>{try{return function we(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const X=process.env.__FIREBASE_DEFAULTS__;return X?JSON.parse(X):void 0})()||(()=>{if(typeof document>"u")return;let X;try{X=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Z=X&&U(X[1]);return Z&&JSON.parse(Z)})()}catch(X){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${X}`)}},Fe=X=>{const Z=(X=>{var Z,re;return null===(re=null===(Z=Ee())||void 0===Z?void 0:Z.emulatorHosts)||void 0===re?void 0:re[X]})(X);if(!Z)return;const re=Z.lastIndexOf(":");if(re<=0||re+1===Z.length)throw new Error(`Invalid host ${Z} with no separate hostname and port!`);const Ne=parseInt(Z.substring(re+1),10);return"["===Z[0]?[Z.substring(1,re-1),Ne]:[Z.substring(0,re),Ne]},le=()=>{var X;return null===(X=Ee())||void 0===X?void 0:X.config},de=X=>{var Z;return null===(Z=Ee())||void 0===Z?void 0:Z[`_${X}`]};class Ce{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Z,re)=>{this.resolve=Z,this.reject=re})}wrapCallback(Z){return(re,Ne)=>{re?this.reject(re):this.resolve(Ne),"function"==typeof Z&&(this.promise.catch(()=>{}),1===Z.length?Z(re):Z(re,Ne))}}}function Te(X,Z){if(X.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ne=Z||"demo-project",me=X.iat||0,ut=X.sub||X.user_id;if(!ut)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const st=Object.assign({iss:`https://securetoken.google.com/${Ne}`,aud:Ne,iat:me,exp:me+3600,auth_time:me,sub:ut,user_id:ut,firebase:{sign_in_provider:"custom",identities:{}}},X);return[Y(JSON.stringify({alg:"none",type:"JWT"})),Y(JSON.stringify(st)),""].join(".")}function Pe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Q(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pe())}function Oe(){var X;const Z=null===(X=Ee())||void 0===X?void 0:X.forceEnvironment;if("node"===Z)return!0;if("browser"===Z)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function qe(){return"object"==typeof self&&self.self===self}function Qe(){const X="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof X&&void 0!==X.id}function gt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ve(){const X=Pe();return X.indexOf("MSIE ")>=0||X.indexOf("Trident/")>=0}function ze(){return!Oe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ke(){try{return"object"==typeof indexedDB}catch{return!1}}function Xe(){return new Promise((X,Z)=>{try{let re=!0;const Ne="validate-browser-context-for-indexeddb-analytics-module",me=self.indexedDB.open(Ne);me.onsuccess=()=>{me.result.close(),re||self.indexedDB.deleteDatabase(Ne),X(!0)},me.onupgradeneeded=()=>{re=!1},me.onerror=()=>{var ut;Z((null===(ut=me.error)||void 0===ut?void 0:ut.message)||"")}}catch(re){Z(re)}})}function dt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class un extends Error{constructor(Z,re,Ne){super(re),this.code=Z,this.customData=Ne,this.name="FirebaseError",Object.setPrototypeOf(this,un.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,It.prototype.create)}}class It{constructor(Z,re,Ne){this.service=Z,this.serviceName=re,this.errors=Ne}create(Z,...re){const Ne=re[0]||{},me=`${this.service}/${Z}`,ut=this.errors[Z],st=ut?function an(X,Z){return X.replace(ft,(re,Ne)=>{const me=Z[Ne];return null!=me?String(me):`<${Ne}?>`})}(ut,Ne):"Error";return new un(me,`${this.serviceName}: ${st} (${me}).`,Ne)}}const ft=/\{\$([^}]+)}/g;function tr(X,Z){return Object.prototype.hasOwnProperty.call(X,Z)}function ho(X){for(const Z in X)if(Object.prototype.hasOwnProperty.call(X,Z))return!1;return!0}function Ai(X,Z){if(X===Z)return!0;const re=Object.keys(X),Ne=Object.keys(Z);for(const me of re){if(!Ne.includes(me))return!1;const ut=X[me],st=Z[me];if(Et(ut)&&Et(st)){if(!Ai(ut,st))return!1}else if(ut!==st)return!1}for(const me of Ne)if(!re.includes(me))return!1;return!0}function Et(X){return null!==X&&"object"==typeof X}function Sr(X){const Z=[];for(const[re,Ne]of Object.entries(X))Array.isArray(Ne)?Ne.forEach(me=>{Z.push(encodeURIComponent(re)+"="+encodeURIComponent(me))}):Z.push(encodeURIComponent(re)+"="+encodeURIComponent(Ne));return Z.length?"&"+Z.join("&"):""}function En(X){const Z={};return X.replace(/^\?/,"").split("&").forEach(Ne=>{if(Ne){const[me,ut]=Ne.split("=");Z[decodeURIComponent(me)]=decodeURIComponent(ut)}}),Z}function Mi(X){const Z=X.indexOf("?");if(!Z)return"";const re=X.indexOf("#",Z);return X.substring(Z,re>0?re:void 0)}function Vt(X,Z){const re=new St(X,Z);return re.subscribe.bind(re)}class St{constructor(Z,re){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=re,this.task.then(()=>{Z(this)}).catch(Ne=>{this.error(Ne)})}next(Z){this.forEachObserver(re=>{re.next(Z)})}error(Z){this.forEachObserver(re=>{re.error(Z)}),this.close(Z)}complete(){this.forEachObserver(Z=>{Z.complete()}),this.close()}subscribe(Z,re,Ne){let me;if(void 0===Z&&void 0===re&&void 0===Ne)throw new Error("Missing Observer.");me=function Dr(X,Z){if("object"!=typeof X||null===X)return!1;for(const re of Z)if(re in X&&"function"==typeof X[re])return!0;return!1}(Z,["next","error","complete"])?Z:{next:Z,error:re,complete:Ne},void 0===me.next&&(me.next=Rn),void 0===me.error&&(me.error=Rn),void 0===me.complete&&(me.complete=Rn);const ut=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?me.error(this.finalError):me.complete()}catch{}}),this.observers.push(me),ut}unsubscribeOne(Z){void 0===this.observers||void 0===this.observers[Z]||(delete this.observers[Z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Z){if(!this.finalized)for(let re=0;re<this.observers.length;re++)this.sendOne(re,Z)}sendOne(Z,re){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Z])try{re(this.observers[Z])}catch(Ne){typeof console<"u"&&console.error&&console.error(Ne)}})}close(Z){this.finalized||(this.finalized=!0,void 0!==Z&&(this.finalError=Z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Rn(){}const Tr=1e3,tt=2,Ue=144e5,mt=.5;function Nt(X,Z=Tr,re=tt){const Ne=Z*Math.pow(re,X),me=Math.round(mt*Ne*(Math.random()-.5)*2);return Math.min(Ue,Ne+me)}function Gi(X){return X&&X._delegate?X._delegate:X}},7028:(ne,W,D)=>{var s=D(4650);let H=null;function P(){return H}class q{}const K=new s.OlP("DocumentToken");let te=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function ee(){return(0,s.LFG)(U)}()},providedIn:"platform"}),n})();const Y=new s.OlP("Location Initialized");let U=(()=>{class n extends te{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){z()?this._history.pushState(e,i,r):this._location.hash=r}replaceState(e,i,r){z()?this._history.replaceState(e,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(K))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function G(){return new U((0,s.LFG)(K))}()},providedIn:"platform"}),n})();function z(){return!!window.history.pushState}function pe(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function we(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ve(n){return n&&"?"!==n[0]?"?"+n:n}let Ze=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(Ee)},providedIn:"root"}),n})();const xe=new s.OlP("appBaseHref");let Ee=(()=>{class n extends Ze{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(K).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return pe(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Ve(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,a){const d=this.prepareExternalUrl(r+Ve(a));this._platformLocation.pushState(e,i,d)}replaceState(e,i,r,a){const d=this.prepareExternalUrl(r+Ve(a));this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te),s.LFG(xe,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ie=(()=>{class n extends Ze{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=pe(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,a){let d=this.prepareExternalUrl(r+Ve(a));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(e,i,d)}replaceState(e,i,r,a){let d=this.prepareExternalUrl(r+Ve(a));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te),s.LFG(xe,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Fe=(()=>{class n{constructor(e){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function Te(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(we(Ce(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Ve(i))}normalize(e){return n.stripTrailingSlash(function de(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,Ce(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ve(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ve(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Ve,n.joinWithSlash=pe,n.stripTrailingSlash=we,n.\u0275fac=function(e){return new(e||n)(s.LFG(Ze))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function le(){return new Fe((0,s.LFG)(Ze))}()},providedIn:"root"}),n})();function Ce(n){return n.replace(/\/index.html$/,"")}var qe=(()=>((qe=qe||{})[qe.Format=0]="Format",qe[qe.Standalone=1]="Standalone",qe))(),Qe=(()=>((Qe=Qe||{})[Qe.Narrow=0]="Narrow",Qe[Qe.Abbreviated=1]="Abbreviated",Qe[Qe.Wide=2]="Wide",Qe[Qe.Short=3]="Short",Qe))(),gt=(()=>((gt=gt||{})[gt.Short=0]="Short",gt[gt.Medium=1]="Medium",gt[gt.Long=2]="Long",gt[gt.Full=3]="Full",gt))(),ct=(()=>((ct=ct||{})[ct.Decimal=0]="Decimal",ct[ct.Group=1]="Group",ct[ct.List=2]="List",ct[ct.PercentSign=3]="PercentSign",ct[ct.PlusSign=4]="PlusSign",ct[ct.MinusSign=5]="MinusSign",ct[ct.Exponential=6]="Exponential",ct[ct.SuperscriptingExponent=7]="SuperscriptingExponent",ct[ct.PerMille=8]="PerMille",ct[ct.Infinity=9]="Infinity",ct[ct.NaN=10]="NaN",ct[ct.TimeSeparator=11]="TimeSeparator",ct[ct.CurrencyDecimal=12]="CurrencyDecimal",ct[ct.CurrencyGroup=13]="CurrencyGroup",ct))();function un(n,t){return vn((0,s.cg1)(n)[s.wAp.DateFormat],t)}function It(n,t){return vn((0,s.cg1)(n)[s.wAp.TimeFormat],t)}function an(n,t){return vn((0,s.cg1)(n)[s.wAp.DateTimeFormat],t)}function ft(n,t){const e=(0,s.cg1)(n),i=e[s.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===ct.CurrencyDecimal)return e[s.wAp.NumberSymbols][ct.Decimal];if(t===ct.CurrencyGroup)return e[s.wAp.NumberSymbols][ct.Group]}return i}function ko(n){if(!n[s.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[s.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function vn(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Ai(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const En=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Mi={},Qr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Vt=(()=>((Vt=Vt||{})[Vt.Short=0]="Short",Vt[Vt.ShortGMT=1]="ShortGMT",Vt[Vt.Long=2]="Long",Vt[Vt.Extended=3]="Extended",Vt))(),St=(()=>((St=St||{})[St.FullYear=0]="FullYear",St[St.Month=1]="Month",St[St.Date=2]="Date",St[St.Hours=3]="Hours",St[St.Minutes=4]="Minutes",St[St.Seconds=5]="Seconds",St[St.FractionalSeconds=6]="FractionalSeconds",St[St.Day=7]="Day",St))(),Lt=(()=>((Lt=Lt||{})[Lt.DayPeriods=0]="DayPeriods",Lt[Lt.Days=1]="Days",Lt[Lt.Months=2]="Months",Lt[Lt.Eras=3]="Eras",Lt))();function Dr(n,t,e,i){let r=function me(n){if(st(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,a=1,d=1]=n.split("-").map(f=>+f);return Rn(r,a-1,d)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(En))return function ut(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,a=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const d=Number(n[4]||0)-e,f=Number(n[5]||0)-i,_=Number(n[6]||0),b=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return a.call(t,d,f,_,b),t}(i)}const t=new Date(n);if(!st(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Wn(e,t)||t;let f,d=[];for(;t;){if(f=Qr.exec(t),!f){d.push(t);break}{d=d.concat(f.slice(1));const C=d.pop();if(!C)break;t=C}}let _=r.getTimezoneOffset();i&&(_=Z(i,_),r=function Ne(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function re(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(Z(t,r)-r))}(r,i,!0));let b="";return d.forEach(C=>{const k=function X(n){if(Gi[n])return Gi[n];let t;switch(n){case"G":case"GG":case"GGG":t=cn(Lt.Eras,Qe.Abbreviated);break;case"GGGG":t=cn(Lt.Eras,Qe.Wide);break;case"GGGGG":t=cn(Lt.Eras,Qe.Narrow);break;case"y":t=pn(St.FullYear,1,0,!1,!0);break;case"yy":t=pn(St.FullYear,2,0,!0,!0);break;case"yyy":t=pn(St.FullYear,3,0,!1,!0);break;case"yyyy":t=pn(St.FullYear,4,0,!1,!0);break;case"Y":t=Yt(1);break;case"YY":t=Yt(2,!0);break;case"YYY":t=Yt(3);break;case"YYYY":t=Yt(4);break;case"M":case"L":t=pn(St.Month,1,1);break;case"MM":case"LL":t=pn(St.Month,2,1);break;case"MMM":t=cn(Lt.Months,Qe.Abbreviated);break;case"MMMM":t=cn(Lt.Months,Qe.Wide);break;case"MMMMM":t=cn(Lt.Months,Qe.Narrow);break;case"LLL":t=cn(Lt.Months,Qe.Abbreviated,qe.Standalone);break;case"LLLL":t=cn(Lt.Months,Qe.Wide,qe.Standalone);break;case"LLLLL":t=cn(Lt.Months,Qe.Narrow,qe.Standalone);break;case"w":t=jt(1);break;case"ww":t=jt(2);break;case"W":t=jt(1,!0);break;case"d":t=pn(St.Date,1);break;case"dd":t=pn(St.Date,2);break;case"c":case"cc":t=pn(St.Day,1);break;case"ccc":t=cn(Lt.Days,Qe.Abbreviated,qe.Standalone);break;case"cccc":t=cn(Lt.Days,Qe.Wide,qe.Standalone);break;case"ccccc":t=cn(Lt.Days,Qe.Narrow,qe.Standalone);break;case"cccccc":t=cn(Lt.Days,Qe.Short,qe.Standalone);break;case"E":case"EE":case"EEE":t=cn(Lt.Days,Qe.Abbreviated);break;case"EEEE":t=cn(Lt.Days,Qe.Wide);break;case"EEEEE":t=cn(Lt.Days,Qe.Narrow);break;case"EEEEEE":t=cn(Lt.Days,Qe.Short);break;case"a":case"aa":case"aaa":t=cn(Lt.DayPeriods,Qe.Abbreviated);break;case"aaaa":t=cn(Lt.DayPeriods,Qe.Wide);break;case"aaaaa":t=cn(Lt.DayPeriods,Qe.Narrow);break;case"b":case"bb":case"bbb":t=cn(Lt.DayPeriods,Qe.Abbreviated,qe.Standalone,!0);break;case"bbbb":t=cn(Lt.DayPeriods,Qe.Wide,qe.Standalone,!0);break;case"bbbbb":t=cn(Lt.DayPeriods,Qe.Narrow,qe.Standalone,!0);break;case"B":case"BB":case"BBB":t=cn(Lt.DayPeriods,Qe.Abbreviated,qe.Format,!0);break;case"BBBB":t=cn(Lt.DayPeriods,Qe.Wide,qe.Format,!0);break;case"BBBBB":t=cn(Lt.DayPeriods,Qe.Narrow,qe.Format,!0);break;case"h":t=pn(St.Hours,1,-12);break;case"hh":t=pn(St.Hours,2,-12);break;case"H":t=pn(St.Hours,1);break;case"HH":t=pn(St.Hours,2);break;case"m":t=pn(St.Minutes,1);break;case"mm":t=pn(St.Minutes,2);break;case"s":t=pn(St.Seconds,1);break;case"ss":t=pn(St.Seconds,2);break;case"S":t=pn(St.FractionalSeconds,1);break;case"SS":t=pn(St.FractionalSeconds,2);break;case"SSS":t=pn(St.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Tr(Vt.Short);break;case"ZZZZZ":t=Tr(Vt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Tr(Vt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Tr(Vt.Long);break;default:return null}return Gi[n]=t,t}(C);b+=k?k(r,e,_):"''"===C?"'":C.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),b}function Rn(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Wn(n,t){const e=function Me(n){return(0,s.cg1)(n)[s.wAp.LocaleId]}(n);if(Mi[e]=Mi[e]||{},Mi[e][t])return Mi[e][t];let i="";switch(t){case"shortDate":i=un(n,gt.Short);break;case"mediumDate":i=un(n,gt.Medium);break;case"longDate":i=un(n,gt.Long);break;case"fullDate":i=un(n,gt.Full);break;case"shortTime":i=It(n,gt.Short);break;case"mediumTime":i=It(n,gt.Medium);break;case"longTime":i=It(n,gt.Long);break;case"fullTime":i=It(n,gt.Full);break;case"short":const r=Wn(n,"shortTime"),a=Wn(n,"shortDate");i=bi(an(n,gt.Short),[r,a]);break;case"medium":const d=Wn(n,"mediumTime"),f=Wn(n,"mediumDate");i=bi(an(n,gt.Medium),[d,f]);break;case"long":const _=Wn(n,"longTime"),b=Wn(n,"longDate");i=bi(an(n,gt.Long),[_,b]);break;case"full":const C=Wn(n,"fullTime"),k=Wn(n,"fullDate");i=bi(an(n,gt.Full),[C,k])}return i&&(Mi[e][t]=i),i}function bi(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function wi(n,t,e="-",i,r){let a="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,a=e));let d=String(n);for(;d.length<t;)d="0"+d;return i&&(d=d.slice(d.length-t)),a+d}function pn(n,t,e=0,i=!1,r=!1){return function(a,d){let f=function Xr(n,t){switch(n){case St.FullYear:return t.getFullYear();case St.Month:return t.getMonth();case St.Date:return t.getDate();case St.Hours:return t.getHours();case St.Minutes:return t.getMinutes();case St.Seconds:return t.getSeconds();case St.FractionalSeconds:return t.getMilliseconds();case St.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,a);if((e>0||f>-e)&&(f+=e),n===St.Hours)0===f&&-12===e&&(f=12);else if(n===St.FractionalSeconds)return function Qo(n,t){return wi(n,3).substring(0,t)}(f,t);const _=ft(d,ct.MinusSign);return wi(f,t,_,i,r)}}function cn(n,t,e=qe.Format,i=!1){return function(r,a){return function $i(n,t,e,i,r,a){switch(e){case Lt.Months:return function Ke(n,t,e){const i=(0,s.cg1)(n),a=vn([i[s.wAp.MonthsFormat],i[s.wAp.MonthsStandalone]],t);return vn(a,e)}(t,r,i)[n.getMonth()];case Lt.Days:return function ze(n,t,e){const i=(0,s.cg1)(n),a=vn([i[s.wAp.DaysFormat],i[s.wAp.DaysStandalone]],t);return vn(a,e)}(t,r,i)[n.getDay()];case Lt.DayPeriods:const d=n.getHours(),f=n.getMinutes();if(a){const b=function tr(n){const t=(0,s.cg1)(n);return ko(t),(t[s.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?Ai(i):[Ai(i[0]),Ai(i[1])])}(t),C=function Hi(n,t,e){const i=(0,s.cg1)(n);ko(i);const a=vn([i[s.wAp.ExtraData][0],i[s.wAp.ExtraData][1]],t)||[];return vn(a,e)||[]}(t,r,i),k=b.findIndex(L=>{if(Array.isArray(L)){const[B,$]=L,ce=d>=B.hours&&f>=B.minutes,De=d<$.hours||d===$.hours&&f<$.minutes;if(B.hours<$.hours){if(ce&&De)return!0}else if(ce||De)return!0}else if(L.hours===d&&L.minutes===f)return!0;return!1});if(-1!==k)return C[k]}return function Le(n,t,e){const i=(0,s.cg1)(n),a=vn([i[s.wAp.DayPeriodsFormat],i[s.wAp.DayPeriodsStandalone]],t);return vn(a,e)}(t,r,i)[d<12?0:1];case Lt.Eras:return function Xe(n,t){return vn((0,s.cg1)(n)[s.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,a,n,t,e,i)}}function Tr(n){return function(t,e,i){const r=-1*i,a=ft(e,ct.MinusSign),d=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Vt.Short:return(r>=0?"+":"")+wi(d,2,a)+wi(Math.abs(r%60),2,a);case Vt.ShortGMT:return"GMT"+(r>=0?"+":"")+wi(d,1,a);case Vt.Long:return"GMT"+(r>=0?"+":"")+wi(d,2,a)+":"+wi(Math.abs(r%60),2,a);case Vt.Extended:return 0===i?"Z":(r>=0?"+":"")+wi(d,2,a)+":"+wi(Math.abs(r%60),2,a);default:throw new Error(`Unknown zone width "${n}"`)}}}const tt=0,Ue=4;function Nt(n){return Rn(n.getFullYear(),n.getMonth(),n.getDate()+(Ue-n.getDay()))}function jt(n,t=!1){return function(e,i){let r;if(t){const a=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,d=e.getDate();r=1+Math.floor((d+a)/7)}else{const a=Nt(e),d=function mt(n){const t=Rn(n,tt,1).getDay();return Rn(n,0,1+(t<=Ue?Ue:Ue+7)-t)}(a.getFullYear()),f=a.getTime()-d.getTime();r=1+Math.round(f/6048e5)}return wi(r,n,ft(i,ct.MinusSign))}}function Yt(n,t=!1){return function(e,i){return wi(Nt(e).getFullYear(),n,ft(i,ct.MinusSign),t)}}const Gi={};function Z(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function st(n){return n instanceof Date&&!isNaN(n.valueOf())}function Oo(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,a]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(a)}return null}const Ro=/\s+/,mr=[];let ht=(()=>{class n{constructor(e,i,r,a){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=a,this.initialClasses=mr,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Ro):mr}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Ro):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,Boolean(e[i]));this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(Ro).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Ar{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Pn=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,a,d)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Ar(r.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)i.remove(null===a?void 0:a);else if(null!==a){const f=i.get(a);i.move(f,d),Po(f,r)}});for(let r=0,a=i.length;r<a;r++){const f=i.get(r).context;f.index=r,f.count=a,f.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Po(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Po(n,t){n.context.$implicit=t.item}let fi=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new vs,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Xt("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Xt("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class vs{constructor(){this.$implicit=null,this.ngIf=null}}function Xt(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}class mo{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let po=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),go=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new mo(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(po,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),ye=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:a,ngTemplateOutletInjector:d}=this;this._viewRef=i.createEmbeddedView(r,a,d?{injector:d}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[s.TTD]}),n})();function je(n,t){return new s.vHH(2100,!1)}class Gt{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class Tn{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const Fn=new Tn,ri=new Gt;let Zt=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,s.QGY)(e))return Fn;if((0,s.F4k)(e))return ri;throw je()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO,16))},n.\u0275pipe=s.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})();const Fo=new s.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Pc=new s.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Jo=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,a){if(null==e||""===e||e!=e)return null;try{return Dr(e,i??this.defaultOptions?.dateFormat??"mediumDate",a||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(d){throw je()}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.soG,16),s.Y36(Fo,24),s.Y36(Pc,24))},n.\u0275pipe=s.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),gi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Wl="browser",Vr="server";function Nc(n){return n===Vr}let Es=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new Za((0,s.LFG)(K),window)}),n})();class Za{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function aa(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const d=a.getElementById(t)||a.querySelector(`[name="${t}"]`);if(d)return d}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=sa(this.window.history)||sa(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function sa(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Lc{}class Bo extends q{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ca extends Bo{static makeCurrent(){!function J(n){H||(H=n)}(new ca)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Qf(){return la=la||document.querySelector("base"),la?la.getAttribute("href"):null}();return null==e?null:function Zi(n){Uo=Uo||document.createElement("a"),Uo.setAttribute("href",n);const t=Uo.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){la=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Oo(document.cookie,t)}}let Uo,la=null;const tc=new s.OlP("TRANSITION_ID"),wo=[{provide:s.ip1,useFactory:function nv(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=P(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[tc,K,s.zs3],multi:!0}];let Jf=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const is=new s.OlP("EventManagerPlugins");let nc=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const d=r[a];if(d.supports(e))return this._eventNameToPlugin.set(e,d),d}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(is),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class yi{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=P().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let da=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(e){}onStyleAdded(e){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(e,i){const r=this.usageCount;let a=r.get(e)??0;return a+=i,a>0?r.set(e,a):r.delete(e),a}ngOnDestroy(){for(const e of this.getAllStyles())this.onStyleRemoved(e);this.usageCount.clear()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Vo=(()=>{class n extends da{constructor(e){super(),this.doc=e,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.forEach(a=>a.remove()),i.delete(e)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}addStyleToHost(e,i){const r=this.doc.createElement("style");r.textContent=i,e.appendChild(r);const a=this.styleRef.get(i);a?a.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(K))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const ua={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},jo=/%COMP%/g,ic=new s.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function rc(n,t){return t.flat(100).map(e=>e.replace(jo,n))}function oc(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Ts=(()=>{class n{constructor(e,i,r,a){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=a,this.rendererByCompId=new Map,this.defaultRenderer=new _r(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(e,i);return r instanceof ac?r.applyToHost(e):r instanceof sc&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let a=r.get(i.id);if(!a){const d=this.eventManager,f=this.sharedStylesHost,_=this.removeStylesOnCompDestory;switch(i.encapsulation){case s.ifc.Emulated:a=new ac(d,f,i,this.appId,_);break;case s.ifc.ShadowDom:return new fd(d,f,e,i);default:a=new sc(d,f,i,_)}a.onDestroy=()=>r.delete(i.id),r.set(i.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(nc),s.LFG(Vo),s.LFG(s.AFp),s.LFG(ic))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class _r{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(ua[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(ha(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(ha(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const a=ua[r];a?t.setAttributeNS(a,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=ua[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,i,r&s.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,oc(i)):this.eventManager.addEventListener(t,e,oc(i))}}function ha(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class fd extends _r{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=rc(r.id,r.styles);for(const d of a){const f=document.createElement("style");f.textContent=d,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class sc extends _r{constructor(t,e,i,r,a=i.id){super(t),this.sharedStylesHost=e,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=rc(a,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class ac extends sc{constructor(t,e,i,r,a){const d=r+"-"+i.id;super(t,e,i,a,d),this.contentAttr=function xo(n){return"_ngcontent-%COMP%".replace(jo,n)}(d),this.hostAttr=function ud(n){return"_nghost-%COMP%".replace(jo,n)}(d)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let fa=(()=>{class n extends yi{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(K))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const cc=["alt","control","meta","shift"],oh={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Eo={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let lc=(()=>{class n extends yi{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const a=n.parseEventName(i),d=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(e,a.domEventName,d))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let d="",f=i.indexOf("code");if(f>-1&&(i.splice(f,1),d="code."),cc.forEach(b=>{const C=i.indexOf(b);C>-1&&(i.splice(C,1),d+=b+".")}),d+=a,0!=i.length||0===a.length)return null;const _={};return _.domEventName=r,_.fullKey=d,_}static matchEventFullKeyCode(e,i){let r=oh[e.key]||e.key,a="";return i.indexOf("code.")>-1&&(r=e.code,a="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),cc.forEach(d=>{d!==r&&(0,Eo[d])(e)&&(a+=d+".")}),a+=r,a===i)}static eventCallback(e,i,r){return a=>{n.matchEventFullKeyCode(a,e)&&r.runGuarded(()=>i(a))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(K))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Yc=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:Wl},{provide:s.g9A,useValue:function Ms(){ca.makeCurrent()},multi:!0},{provide:K,useFactory:function tm(){return(0,s.RDi)(document),document},deps:[]}]),sh=new s.OlP(""),gd=[{provide:s.rWj,useClass:class Xf{addToWindow(t){s.dqk.getAngularTestability=(i,r=!0)=>{const a=t.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let a=r.length,d=!1;const f=function(_){d=d||_,a--,0==a&&i(d)};r.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?P().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],ma=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function dc(){return new s.qLn},deps:[]},{provide:is,useClass:fa,multi:!0,deps:[K,s.R0b,s.Lbi]},{provide:is,useClass:lc,multi:!0,deps:[K]},{provide:Ts,useClass:Ts,deps:[nc,Vo,s.AFp,ic]},{provide:s.FYo,useExisting:Ts},{provide:da,useExisting:Vo},{provide:Vo,useClass:Vo,deps:[K]},{provide:nc,useClass:nc,deps:[is,s.R0b]},{provide:Lc,useClass:Jf,deps:[]},[]];let pa=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:tc,useExisting:s.AFp},wo]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(sh,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[...ma,...gd],imports:[gi,s.hGG]}),n})(),ks=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(K))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function ah(){return new ks((0,s.LFG)(K))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let _d=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):s.LFG(yd),i},providedIn:"root"}),n})(),yd=(()=>{class n extends _d{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case s.q3G.NONE:return i;case s.q3G.HTML:return(0,s.qzn)(i,"HTML")?(0,s.z3N)(i):(0,s.EiD)(this._doc,String(i)).toString();case s.q3G.STYLE:return(0,s.qzn)(i,"Style")?(0,s.z3N)(i):i;case s.q3G.SCRIPT:if((0,s.qzn)(i,"Script"))return(0,s.z3N)(i);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.qzn)(i,"URL")?(0,s.z3N)(i):(0,s.mCW)(String(i));case s.q3G.RESOURCE_URL:if((0,s.qzn)(i,"ResourceURL"))return(0,s.z3N)(i);throw new Error(`unsafe value used in a resource URL context (see ${s.JZr})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${s.JZr})`)}}bypassSecurityTrustHtml(e){return(0,s.JVY)(e)}bypassSecurityTrustStyle(e){return(0,s.L6k)(e)}bypassSecurityTrustScript(e){return(0,s.eBb)(e)}bypassSecurityTrustUrl(e){return(0,s.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,s.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(K))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Ps(n){return new yd(n.get(K))}(s.LFG(s.zs3)),i},providedIn:"root"}),n})();var Ei=D(4986),An=D(9751),tn=D(8996),it=D(9646),$n=D(263),ba=D(8189),Fs=D(3269);function hc(...n){return function el(){return(0,ba.J)(1)}()((0,tn.D)(n,(0,Fs.yG)(n)))}var Ri=D(4482);function I(...n){const t=(0,Fs.yG)(n);return(0,Ri.e)((e,i)=>{(t?hc(n,e,t):hc(n,e)).subscribe(i)})}var S=D(5403);function O(){return(0,Ri.e)((n,t)=>{let e,i=!1;n.subscribe((0,S.x)(t,r=>{const a=e;e=r,i&&t.next([a,r]),i=!0}))})}var pt,N=D(4004),se=D(5026),ge=D(1884),Re=D(9300),at=D(2011),Tt=(D(8971),D(3942)),ue=D(5861),Rt=D(9681),Pi=D(4859),Mn=D(1877),Jt=D(2090),os=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},sr={},jr=jr||{},zt=os||self;function mh(){}function ph(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function tl(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var nl="closure_uid_"+(1e9*Math.random()>>>0),cg=0;function iv(n,t,e){return n.call.apply(n.bind,arguments)}function gh(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Or(n,t,e){return(Or=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?iv:gh).apply(null,arguments)}function vd(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function ar(n,t){function e(){}e.prototype=t.prototype,n.X=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Wb=function(i,r,a){for(var d=Array(arguments.length-2),f=2;f<arguments.length;f++)d[f-2]=arguments[f];return t.prototype[r].apply(i,d)}}function wa(){this.s=this.s,this.o=this.o}wa.prototype.s=!1,wa.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function om(n){Object.prototype.hasOwnProperty.call(n,nl)&&n[nl]||(n[nl]=++cg)}(this)},wa.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const yh=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function lg(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function rv(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(ph(i)){const r=n.length||0,a=i.length||0;n.length=r+a;for(let d=0;d<a;d++)n[r+d]=i[d]}else n.push(i)}}function Yi(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Yi.prototype.h=function(){this.defaultPrevented=!0};var Tw=function(){if(!zt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{zt.addEventListener("test",mh,t),zt.removeEventListener("test",mh,t)}catch{}return n}();function sm(n){return/^[\s\xa0]*$/.test(n)}var ov=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function dg(n,t){return n<t?-1:n>t?1:0}function bd(){var n=zt.navigator;return n&&(n=n.userAgent)?n:""}function ss(n){return-1!=bd().indexOf(n)}function vh(n){return vh[" "](n),n}vh[" "]=mh;var mc,n,ug=ss("Opera"),fc=ss("Trident")||ss("MSIE"),bh=ss("Edge"),Co=bh||fc,hg=ss("Gecko")&&!(-1!=bd().toLowerCase().indexOf("webkit")&&!ss("Edge"))&&!(ss("Trident")||ss("MSIE"))&&!ss("Edge"),sv=-1!=bd().toLowerCase().indexOf("webkit")&&!ss("Edge");function fg(){var n=zt.document;return n?n.documentMode:void 0}e:{var wd="",xd=(n=bd(),hg?/rv:([^\);]+)(\)|;)/.exec(n):bh?/Edge\/([\d\.]+)/.exec(n):fc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):sv?/WebKit\/(\S+)/.exec(n):ug?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(xd&&(wd=xd?xd[1]:""),fc){var cm=fg();if(null!=cm&&cm>parseFloat(wd)){mc=String(cm);break e}}mc=wd}var mg={};var Rr=zt.document&&fc&&(fg()||parseInt(mc,10))||void 0;function xa(n,t){if(Yi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(hg){e:{try{vh(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:_g[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&xa.X.h.call(this)}}ar(xa,Yi);var _g={2:"touch",3:"pen",4:"mouse"};xa.prototype.h=function(){xa.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var pc="closure_listenable_"+(1e6*Math.random()|0),yr=0;function Cd(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ha=r,this.key=++yr,this.ba=this.ea=!1}function Id(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Sd(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function yg(n){const t={};for(const e in n)t[e]=n[e];return t}const vg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ea(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let a=0;a<vg.length;a++)e=vg[a],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function Dd(n){this.src=n,this.g={},this.h=0}function lm(n,t){var e=t.type;if(e in n.g){var a,i=n.g[e],r=yh(i,t);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(Id(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function il(n,t,e,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.ba&&a.listener==t&&a.capture==!!e&&a.ha==i)return r}return-1}Dd.prototype.add=function(n,t,e,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var d=il(n,t,i,r);return-1<d?(t=n[d],e||(t.ea=!1)):((t=new Cd(t,this.src,a,!!i,r)).ea=e,n.push(t)),t};var dm="closure_lm_"+(1e6*Math.random()|0),Td={};function wh(n,t,e,i,r){if(i&&i.once)return rl(n,t,e,i,r);if(Array.isArray(t)){for(var a=0;a<t.length;a++)wh(n,t[a],e,i,r);return null}return e=Md(e),n&&n[pc]?n.N(t,e,tl(i)?!!i.capture:!!i,r):xh(n,t,e,!1,i,r)}function xh(n,t,e,i,r,a){if(!t)throw Error("Invalid event type");var d=tl(r)?!!r.capture:!!r,f=Ch(n);if(f||(n[dm]=f=new Dd(n)),(e=f.add(t,e,i,d,a)).proxy)return e;if(i=function um(){const t=hm;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)Tw||(r=d),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(Eh(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function rl(n,t,e,i,r){if(Array.isArray(t)){for(var a=0;a<t.length;a++)rl(n,t[a],e,i,r);return null}return e=Md(e),n&&n[pc]?n.O(t,e,tl(i)?!!i.capture:!!i,r):xh(n,t,e,!0,i,r)}function bg(n,t,e,i,r){if(Array.isArray(t))for(var a=0;a<t.length;a++)bg(n,t[a],e,i,r);else i=tl(i)?!!i.capture:!!i,e=Md(e),n&&n[pc]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=il(a=n.g[t],e,i,r))&&(Id(a[e]),Array.prototype.splice.call(a,e,1),0==a.length&&(delete n.g[t],n.h--))):n&&(n=Ch(n))&&(t=n.g[t.toString()],n=-1,t&&(n=il(t,e,i,r)),(e=-1<n?t[n]:null)&&Ad(e))}function Ad(n){if("number"!=typeof n&&n&&!n.ba){var t=n.src;if(t&&t[pc])lm(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(Eh(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=Ch(t))?(lm(e,n),0==e.h&&(e.src=null,t[dm]=null)):Id(n)}}}function Eh(n){return n in Td?Td[n]:Td[n]="on"+n}function hm(n,t){if(n.ba)n=!0;else{t=new xa(t,this);var e=n.listener,i=n.ha||n.src;n.ea&&Ad(n),n=e.call(i,t)}return n}function Ch(n){return(n=n[dm])instanceof Dd?n:null}var Ca="__closure_events_fn_"+(1e9*Math.random()>>>0);function Md(n){return"function"==typeof n?n:(n[Ca]||(n[Ca]=function(t){return n.handleEvent(t)}),n[Ca])}function Ci(){wa.call(this),this.i=new Dd(this),this.P=this,this.I=null}function Fi(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Yi(t,n);else if(t instanceof Yi)t.target=t.target||n;else{var r=t;Ea(t=new Yi(i,n),r)}if(r=!0,e)for(var a=e.length-1;0<=a;a--){var d=t.g=e[a];r=ol(d,i,!0,t)&&r}if(r=ol(d=t.g=n,i,!0,t)&&r,r=ol(d,i,!1,t)&&r,e)for(a=0;a<e.length;a++)r=ol(d=t.g=e[a],i,!1,t)&&r}function ol(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,a=0;a<t.length;++a){var d=t[a];if(d&&!d.ba&&d.capture==e){var f=d.listener,_=d.ha||d.src;d.ea&&lm(n.i,d),r=!1!==f.call(_,i)&&r}}return r&&!i.defaultPrevented}ar(Ci,wa),Ci.prototype[pc]=!0,Ci.prototype.removeEventListener=function(n,t,e,i){bg(this,n,t,e,i)},Ci.prototype.M=function(){if(Ci.X.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)Id(e[i]);delete n.g[t],n.h--}}this.I=null},Ci.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Ci.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var fm=zt.JSON.stringify;function mm(){var n=Eg;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var kd,wg=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new av,n=>n.reset());class av{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Ih(n){zt.setTimeout(()=>{throw n},0)}function gm(n,t){kd||function xg(){var n=zt.Promise.resolve(void 0);kd=function(){n.then(cv)}}(),sl||(kd(),sl=!0),Eg.add(n,t)}var sl=!1,Eg=new class pm{constructor(){this.h=this.g=null}add(t,e){const i=wg.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function cv(){for(var n;n=mm();){try{n.h.call(n.g)}catch(e){Ih(e)}var t=wg;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}sl=!1}function Od(n,t){Ci.call(this),this.h=n||1,this.g=t||zt,this.j=Or(this.lb,this),this.l=Date.now()}function Sh(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function to(n,t,e){if("function"==typeof n)e&&(n=Or(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Or(n.handleEvent,n)}return 2147483647<Number(t)?-1:zt.setTimeout(n,t||0)}function _m(n){n.g=to(()=>{n.g=null,n.i&&(n.i=!1,_m(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}ar(Od,Ci),(pt=Od.prototype).ca=!1,pt.R=null,pt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Fi(this,"tick"),this.ca&&(Sh(this),this.start()))}},pt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},pt.M=function(){Od.X.M.call(this),Sh(this),delete this.g};class ym extends wa{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:_m(this)}M(){super.M(),this.g&&(zt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rd(n){wa.call(this),this.h=n,this.g={}}ar(Rd,wa);var lv=[];function Pd(n,t,e,i){Array.isArray(e)||(e&&(lv[0]=e.toString()),e=lv);for(var r=0;r<e.length;r++){var a=wh(t,e[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function Cg(n){Sd(n.g,function(t,e){this.g.hasOwnProperty(e)&&Ad(t)},n),n.g={}}function al(){this.g=!0}function Ns(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function cl(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var d=1;d<r.length;d++)r[d]=""}}}return fm(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Rd.prototype.M=function(){Rd.X.M.call(this),Cg(this)},Rd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},al.prototype.Aa=function(){this.g=!1},al.prototype.info=function(){};var as={},Pr=null;function cs(){return Pr=Pr||new Ci}function Fd(n){Yi.call(this,as.Pa,n)}function gc(n){const t=cs();Fi(t,new Fd(t))}function Ia(n,t){Yi.call(this,as.STAT_EVENT,n),this.stat=t}function cr(n){const t=cs();Fi(t,new Ia(t,n))}function vm(n,t){Yi.call(this,as.Qa,n),this.size=t}function ll(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return zt.setTimeout(function(){n()},t)}as.Pa="serverreachability",ar(Fd,Yi),as.STAT_EVENT="statevent",ar(Ia,Yi),as.Qa="timingevent",ar(vm,Yi);var Ah={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Ls={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Nd(){}function Ld(){}Nd.prototype.h=null;var Bd,_c={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Bs(){Yi.call(this,"d")}function vr(){Yi.call(this,"c")}function Ud(){}function Vd(n,t,e,i){this.l=n,this.j=t,this.m=e,this.U=i||1,this.S=new Rd(this),this.O=jd,this.T=new Od(n=Co?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Io}function Io(){this.i=null,this.g="",this.h=!1}ar(Bs,Yi),ar(vr,Yi),ar(Ud,Nd),Ud.prototype.g=function(){return new XMLHttpRequest},Ud.prototype.i=function(){return{}},Bd=new Ud;var jd=45e3,zd={},Sa={};function Hd(n,t,e){n.K=1,n.v=dl(xt(t)),n.s=e,n.P=!0,$d(n,null)}function $d(n,t){n.F=Date.now(),Gd(n),n.A=xt(n.v);var e=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),fS(e.i,"t",i),n.C=0,e=n.l.H,n.h=new Io,n.g=Cv(n.l,e?t:null,!n.s),0<n.N&&(n.L=new ym(Or(n.La,n,n.g),n.N)),Pd(n.S,n.g,"readystatechange",n.ib),t=n.H?yg(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,t)):(n.u="GET",n.g.da(n.A,n.u,null,t)),gc(),function Dh(n,t,e,i,r,a){n.info(function(){if(n.g)if(a)for(var d="",f=a.split("&"),_=0;_<f.length;_++){var b=f[_].split("=");if(1<b.length){var C=b[0];b=b[1];var k=C.split("_");d=2<=k.length&&"type"==k[1]?d+(C+"=")+b+"&":d+(C+"=redacted&")}}else d=null;else d=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+d})}(n.j,n.u,n.A,n.m,n.U,n.s)}function wm(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function xm(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=yc(n,e),r==Sa){4==t&&(n.o=4,cr(14),i=!1),Ns(n.j,n.m,null,"[Incomplete Response]");break}if(r==zd){n.o=4,cr(15),Ns(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Ns(n.j,n.m,r,null),M(n,r)}wm(n)&&r!=Sa&&r!=zd&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,cr(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.$&&(n.$=!0,(t=n.l).g==n&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+e.length),xv(t),t.K=!0,cr(11))):(Ns(n.j,n.m,e,"[Invalid Chunked Response]"),w(n),g(n))}function yc(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?Sa:(e=Number(t.substring(e,i)),isNaN(e)?zd:(i+=1)+e>t.length?Sa:(t=t.substr(i,e),n.C=i+e,t))}function Gd(n){n.V=Date.now()+n.O,y(n,n.O)}function y(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=ll(Or(n.gb,n),t)}function m(n){n.B&&(zt.clearTimeout(n.B),n.B=null)}function g(n){0==n.l.G||n.I||Bw(n.l,n)}function w(n){m(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,Sh(n.T),Cg(n.S),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function M(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||Dg(e.h,n)))if(!n.J&&Dg(e.h,n)&&3==e.G){try{var i=e.Fa.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;bc(e),Ph(e)}wv(e),cr(18)}}else e.Ba=r[1],0<e.Ba-e.T&&37500>r[2]&&e.L&&0==e.A&&!e.v&&(e.v=ll(Or(e.cb,e),6e3));if(1>=Cm(e.h)&&e.ja){try{e.ja()}catch{}e.ja=void 0}}else Kd(e,11)}else if((n.J||e.g==n)&&bc(e),!sm(t))for(r=e.Fa.g.parse(t),t=0;t<r.length;t++){let b=r[t];if(e.T=b[0],b=b[1],2==e.G)if("c"==b[0]){e.I=b[1],e.ka=b[2];const C=b[3];null!=C&&(e.ma=C,e.j.info("VER="+e.ma));const k=b[4];null!=k&&(e.Ca=k,e.j.info("SVER="+e.Ca));const L=b[5];null!=L&&"number"==typeof L&&0<L&&(e.J=i=1.5*L,e.j.info("backChannelRequestTimeoutMs_="+i)),i=e;const B=n.g;if(B){const $=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($){var a=i.h;a.g||-1==$.indexOf("spdy")&&-1==$.indexOf("quic")&&-1==$.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(Im(a,a.h),a.h=null))}if(i.D){const ce=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;ce&&(i.za=ce,Gn(i.F,i.D,ce))}}e.G=3,e.l&&e.l.xa(),e.$&&(e.P=Date.now()-n.F,e.j.info("Handshake RTT: "+e.P+"ms"));var d=n;if((i=e).sa=Vw(i,i.H?i.ka:null,i.V),d.J){kw(i.h,d);var f=d,_=i.J;_&&f.setTimeout(_),f.B&&(m(f),Gd(f)),i.g=d}else Fg(i);0<e.i.length&&Pg(e)}else"stop"!=b[0]&&"close"!=b[0]||Kd(e,7);else 3==e.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?Kd(e,7):yv(e):"noop"!=b[0]&&e.l&&e.l.wa(b),e.A=0)}gc()}catch{}}function ke(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(ph(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function oe(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(ph(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function F(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(ph(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,a=0;a<r;a++)t.call(void 0,i[a],e&&e[a],n)}(pt=Vd.prototype).setTimeout=function(n){this.O=n},pt.ib=function(n){n=n.target;const t=this.L;t&&3==Vs(n)?t.l():this.La(n)},pt.La=function(n){try{if(n==this.g)e:{const C=Vs(this.g);var t=this.g.Ea();if(this.g.aa(),!(3>C)&&(3!=C||Co||this.g&&(this.h.h||this.g.fa()||Lw(this.g)))){this.I||4!=C||7==t||gc(),m(this);var e=this.g.aa();this.Y=e;t:if(wm(this)){var i=Lw(this.g);n="";var r=i.length,a=4==Vs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){w(this),g(this);var d="";break t}this.h.i=new zt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:a&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==e,function Th(n,t,e,i,r,a,d){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+a+" "+d})}(this.j,this.u,this.A,this.m,this.U,C,e),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sm(f)){var b=f;break t}}b=null}if(!(e=b)){this.i=!1,this.o=3,cr(12),w(this),g(this);break e}Ns(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,M(this,e)}this.P?(xm(this,C,d),Co&&this.i&&3==C&&(Pd(this.S,this.T,"tick",this.hb),this.T.start())):(Ns(this.j,this.m,d,null),M(this,d)),4==C&&w(this),this.i&&!this.I&&(4==C?Bw(this.l,this):(this.i=!1,Gd(this)))}else 400==e&&0<d.indexOf("Unknown SID")?(this.o=3,cr(12)):(this.o=0,cr(13)),w(this),g(this)}}}catch{}},pt.hb=function(){if(this.g){var n=Vs(this.g),t=this.g.fa();this.C<t.length&&(m(this),xm(this,n,t),this.i&&4!=n&&Gd(this))}},pt.cancel=function(){this.I=!0,w(this)},pt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function Ig(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(gc(),cr(17)),w(this),this.o=2,g(this)):y(this,this.V-n)};var nt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kt(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof kt){this.h=void 0!==t?t:n.h,Jn(this,n.j),this.s=n.s,this.g=n.g,zr(this,n.m),this.l=n.l,t=n.i;var e=new ul;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),qd(this,e),this.o=n.o}else n&&(e=String(n).match(nt))?(this.h=!!t,Jn(this,e[1]||"",!0),this.s=Us(e[2]||""),this.g=Us(e[3]||"",!0),zr(this,e[4]),this.l=Us(e[5]||"",!0),qd(this,e[6]||"",!0),this.o=Us(e[7]||"")):(this.h=!!t,this.i=new ul(null,this.h))}function xt(n){return new kt(n)}function Jn(n,t,e){n.j=e?Us(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function zr(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function qd(n,t,e){t instanceof ul?(n.i=t,function mS(n,t){t&&!n.j&&(ls(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(Sg(this,i),fS(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=Hr(t,dv)),n.i=new ul(t,n.h))}function Gn(n,t,e){n.i.set(t,e)}function dl(n){return Gn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Us(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Hr(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,vc),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function vc(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}kt.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Hr(t,Mh,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Hr(t,Mh,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(Hr(e,"/"==e.charAt(0)?kh:Em,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Hr(e,Aw)),n.join("")};var Mh=/[#\/\?@]/g,Em=/[#\?:]/g,kh=/[#\?]/g,dv=/[#\?@]/g,Aw=/#/g;function ul(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function ls(n){n.g||(n.g=new Map,n.h=0,n.i&&function _t(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var a=n[e].substring(0,i);r=n[e].substring(i+1)}else a=n[e];t(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function Sg(n,t){ls(n),t=Wd(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function hS(n,t){return ls(n),t=Wd(n,t),n.g.has(t)}function fS(n,t,e){Sg(n,t),0<e.length&&(n.i=null,n.g.set(Wd(n,t),lg(e)),n.h+=e.length)}function Wd(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function Mw(n){this.l=n||gS,n=zt.PerformanceNavigationTiming?0<(n=zt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(zt.g&&zt.g.Ga&&zt.g.Ga()&&zt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(pt=ul.prototype).add=function(n,t){ls(this),this.i=null,n=Wd(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},pt.forEach=function(n,t){ls(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},pt.oa=function(){ls(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let a=0;a<r.length;a++)e.push(t[i])}return e},pt.W=function(n){ls(this);let t=[];if("string"==typeof n)hS(this,n)&&(t=t.concat(this.g.get(Wd(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},pt.set=function(n,t){return ls(this),this.i=null,hS(this,n=Wd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},pt.get=function(n,t){return n&&0<(n=this.W(n)).length?String(n[0]):t},pt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const a=encodeURIComponent(String(i)),d=this.W(i);for(i=0;i<d.length;i++){var r=a;""!==d[i]&&(r+="="+encodeURIComponent(String(d[i]))),n.push(r)}}return this.i=n.join("&")};var gS=10;function uv(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Cm(n){return n.h?1:n.g?n.g.size:0}function Dg(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function Im(n,t){n.g?n.g.add(t):n.h=t}function kw(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function Ii(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return lg(n.i)}function hv(){}function _S(){this.g=new hv}function Ow(n,t,e){const i=e||"";try{ke(n,function(r,a){let d=r;tl(r)&&(d=fm(r)),t.push(i+a+"="+encodeURIComponent(d))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function Tg(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function Sm(n){this.l=n.ac||null,this.j=n.jb||!1}function Ag(n,t){Ci.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=fv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Mw.prototype.cancel=function(){if(this.i=Ii(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},hv.prototype.stringify=function(n){return zt.JSON.stringify(n,void 0)},hv.prototype.parse=function(n){return zt.JSON.parse(n,void 0)},ar(Sm,Nd),Sm.prototype.g=function(){return new Ag(this.l,this.j)},Sm.prototype.i=function(n){return function(){return n}}({}),ar(Ag,Ci);var fv=0;function mv(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Mg(n){n.readyState=4,n.l=null,n.j=null,n.A=null,kg(n)}function kg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(pt=Ag.prototype).open=function(n,t){if(this.readyState!=fv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,kg(this)},pt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||zt).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},pt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Mg(this)),this.readyState=fv},pt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,kg(this)),this.g&&(this.readyState=3,kg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof zt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;mv(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},pt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Mg(this):kg(this),3==this.readyState&&mv(this)}},pt.Va=function(n){this.g&&(this.response=this.responseText=n,Mg(this))},pt.Ua=function(n){this.g&&(this.response=n,Mg(this))},pt.ga=function(){this.g&&Mg(this)},pt.setRequestHeader=function(n,t){this.v.append(n,t)},pt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},pt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(Ag.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Dm=zt.JSON.parse;function si(n){Ci.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=pv,this.K=this.L=!1}ar(si,Ci);var pv="",Pw=/^https?$/i,Fw=["POST","PUT"];function Nw(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,gv(n),Oh(n)}function gv(n){n.D||(n.D=!0,Fi(n,"complete"),Fi(n,"error"))}function _v(n){if(n.h&&typeof jr<"u"&&(!n.C[1]||4!=Vs(n)||2!=n.aa()))if(n.v&&4==Vs(n))to(n.Ha,0,n);else if(Fi(n,"readystatechange"),4==Vs(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===f){var r=String(n.H).match(nt)[1]||null;if(!r&&zt.self&&zt.self.location){var a=zt.self.location.protocol;r=a.substr(0,a.length-1)}i=!Pw.test(r?r.toLowerCase():"")}e=i}if(e)Fi(n,"complete"),Fi(n,"success");else{n.m=6;try{var d=2<Vs(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.aa()+"]",gv(n)}}finally{Oh(n)}}}function Oh(n,t){if(n.g){vS(n);const e=n.g,i=n.C[0]?mh:null;n.g=null,n.C=null,t||Fi(n,"ready");try{e.onreadystatechange=i}catch{}}}function vS(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(zt.clearTimeout(n.A),n.A=null)}function Vs(n){return n.g?n.g.readyState:0}function Lw(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case pv:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Og(n){let t="";return Sd(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function Rg(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=Og(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Gn(n,t,e))}function Rh(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function hl(n){this.Ca=0,this.i=[],this.j=new al,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Rh("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Rh("baseRetryDelayMs",5e3,n),this.bb=Rh("retryDelaySeedMs",1e4,n),this.$a=Rh("forwardChannelMaxRetries",2,n),this.ta=Rh("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new Mw(n&&n.concurrentRequestLimit),this.Fa=new _S,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function yv(n){if(Tm(n),3==n.G){var t=n.U++,e=xt(n.F);Gn(e,"SID",n.I),Gn(e,"RID",t),Gn(e,"TYPE","terminate"),js(n,e),(t=new Vd(n,n.j,t,void 0)).K=2,t.v=dl(xt(e)),e=!1,zt.navigator&&zt.navigator.sendBeacon&&(e=zt.navigator.sendBeacon(t.v.toString(),"")),!e&&zt.Image&&((new Image).src=t.v,e=!0),e||(t.g=Cv(t.l,null),t.g.da(t.v)),t.F=Date.now(),Gd(t)}Ng(n)}function Ph(n){n.g&&(xv(n),n.g.cancel(),n.g=null)}function Tm(n){Ph(n),n.u&&(zt.clearTimeout(n.u),n.u=null),bc(n),n.h.cancel(),n.m&&("number"==typeof n.m&&zt.clearTimeout(n.m),n.m=null)}function Pg(n){uv(n.h)||n.m||(n.m=!0,gm(n.Ja,n),n.C=0)}function Am(n,t){var e;e=t?t.m:n.U++;const i=xt(n.F);Gn(i,"SID",n.I),Gn(i,"RID",e),Gn(i,"AID",n.T),js(n,i),n.o&&n.s&&Rg(i,n.o,n.s),e=new Vd(n,n.j,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.i=t.D.concat(n.i)),t=bv(n,e,1e3),e.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Im(n.h,e),Hd(e,i,t)}function js(n,t){n.ia&&Sd(n.ia,function(e,i){Gn(t,i,e)}),n.l&&ke({},function(e,i){Gn(t,i,e)})}function bv(n,t,e){e=Math.min(n.i.length,e);var i=n.l?Or(n.l.Ra,n.l,n):null;e:{var r=n.i;let a=-1;for(;;){const d=["count="+e];-1==a?0<e?(a=r[0].h,d.push("ofs="+a)):a=0:d.push("ofs="+a);let f=!0;for(let _=0;_<e;_++){let b=r[_].h;const C=r[_].g;if(b-=a,0>b)a=Math.max(0,r[_].h-100),f=!1;else try{Ow(C,d,"req"+b+"_")}catch{i&&i(C)}}if(f){i=d.join("&");break e}}}return n=n.i.splice(0,e),t.D=n,i}function Fg(n){n.g||n.u||(n.Z=1,gm(n.Ia,n),n.A=0)}function wv(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=ll(Or(n.Ia,n),Uw(n,n.A)),n.A++,0))}function xv(n){null!=n.B&&(zt.clearTimeout(n.B),n.B=null)}function Ev(n){n.g=new Vd(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var t=xt(n.sa);Gn(t,"RID","rpc"),Gn(t,"SID",n.I),Gn(t,"CI",n.L?"0":"1"),Gn(t,"AID",n.T),Gn(t,"TYPE","xmlhttp"),js(n,t),n.o&&n.s&&Rg(t,n.o,n.s),n.J&&n.g.setTimeout(n.J);var e=n.g;n=n.ka,e.K=1,e.v=dl(xt(t)),e.s=null,e.P=!0,$d(e,n)}function bc(n){null!=n.v&&(zt.clearTimeout(n.v),n.v=null)}function Bw(n,t){var e=null;if(n.g==t){bc(n),xv(n),n.g=null;var i=2}else{if(!Dg(n.h,t))return;e=t.D,kw(n.h,t),i=1}if(0!=n.G)if(n.pa=t.Y,t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;Fi(i=cs(),new vm(i,e)),Pg(n)}else Fg(n);else if(3==(r=t.o)||0==r&&0<n.pa||!(1==i&&function vv(n,t){return!(Cm(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=t.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=ll(Or(n.Ja,n,t),Uw(n,n.C)),n.C++,0)))}(n,t)||2==i&&wv(n)))switch(e&&0<e.length&&(t=n.h,t.i=t.i.concat(e)),r){case 1:Kd(n,5);break;case 4:Kd(n,10);break;case 3:Kd(n,6);break;default:Kd(n,2)}}function Uw(n,t){let e=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(e*=2),e*t}function Kd(n,t){if(n.j.info("Error code "+t),2==t){var e=null;n.l&&(e=null);var i=Or(n.kb,n);e||(e=new kt("//www.google.com/images/cleardot.gif"),zt.location&&"http"==zt.location.protocol||Jn(e,"https"),dl(e)),function Rw(n,t){const e=new al;if(zt.Image){const i=new Image;i.onload=vd(Tg,e,i,"TestLoadImage: loaded",!0,t),i.onerror=vd(Tg,e,i,"TestLoadImage: error",!1,t),i.onabort=vd(Tg,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=vd(Tg,e,i,"TestLoadImage: timeout",!1,t),zt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else cr(2);n.G=0,n.l&&n.l.va(t),Ng(n),Tm(n)}function Ng(n){if(n.G=0,n.la=[],n.l){const t=Ii(n.h);(0!=t.length||0!=n.i.length)&&(rv(n.la,t),rv(n.la,n.i),n.h.i.length=0,lg(n.i),n.i.length=0),n.l.ua()}}function Vw(n,t,e){var i=e instanceof kt?xt(e):new kt(e,void 0);if(""!=i.g)t&&(i.g=t+"."+i.g),zr(i,i.m);else{var r=zt.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var a=new kt(null,void 0);i&&Jn(a,i),t&&(a.g=t),r&&zr(a,r),e&&(a.l=e),i=a}return t=n.za,(e=n.D)&&t&&Gn(i,e,t),Gn(i,"VER",n.ma),js(n,i),i}function Cv(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new si(e&&n.Da&&!n.ra?new Sm({jb:!0}):n.ra)).Ka(n.H),t}function jw(){}function Mm(){if(fc&&!(10<=Number(Rr)))throw Error("Environmental error: no available transport.")}function ds(n,t){Ci.call(this),this.g=new hl(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.S=n,(n=t&&t.Yb)&&!sm(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!sm(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Nh(this)}function zw(n){Bs.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function Fh(){vr.call(this),this.status=1}function Nh(n){this.g=n}(pt=si.prototype).Ka=function(n){this.L=n},pt.da=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Bd.g(),this.C=function bm(n){return n.h||(n.h=n.i())}(this.u?this.u:Bd),this.g.onreadystatechange=Or(this.Ha,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(a){return void Nw(this,a)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const a of i.keys())e.set(a,i.get(a))}i=Array.from(e.keys()).find(a=>"content-type"==a.toLowerCase()),r=zt.FormData&&n instanceof zt.FormData,!(0<=yh(Fw,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,d]of e)this.g.setRequestHeader(a,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{vS(this),0<this.B&&((this.K=function yS(n){return fc&&function pg(){return function am(n){var t=mg;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=ov(String(mc)).split("."),e=ov("9").split("."),i=Math.max(t.length,e.length);for(let d=0;0==n&&d<i;d++){var r=t[d]||"",a=e[d]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=dg(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||dg(0==r[2].length,0==a[2].length)||dg(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Or(this.qa,this)):this.A=to(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){Nw(this,a)}},pt.qa=function(){typeof jr<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fi(this,"timeout"),this.abort(8))},pt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Fi(this,"complete"),Fi(this,"abort"),Oh(this))},pt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Oh(this,!0)),si.X.M.call(this)},pt.Ha=function(){this.s||(this.F||this.v||this.l?_v(this):this.fb())},pt.fb=function(){_v(this)},pt.aa=function(){try{return 2<Vs(this)?this.g.status:-1}catch{return-1}},pt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},pt.Sa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),Dm(t)}},pt.Ea=function(){return this.m},pt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(pt=hl.prototype).ma=8,pt.G=1,pt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new Vd(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=yg(a),Ea(a,this.S)):a=this.S),null!==this.o||this.N||(r.H=a,a=null),this.O)e:{for(var t=0,e=0;e<this.i.length;e++){var i=this.i[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.i.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=bv(this,r,t),Gn(e=xt(this.F),"RID",n),Gn(e,"CVER",22),this.D&&Gn(e,"X-HTTP-Session-Id",this.D),js(this,e),a&&(this.N?t="headers="+encodeURIComponent(String(Og(a)))+"&"+t:this.o&&Rg(e,this.o,a)),Im(this.h,r),this.Ya&&Gn(e,"TYPE","init"),this.O?(Gn(e,"$req",t),Gn(e,"SID","null"),r.Z=!0,Hd(r,e,null)):Hd(r,e,t),this.G=2}}else 3==this.G&&(n?Am(this,n):0==this.i.length||uv(this.h)||Am(this))},pt.Ia=function(){if(this.u=null,Ev(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=ll(Or(this.eb,this),n)}},pt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,cr(10),Ph(this),Ev(this))},pt.cb=function(){null!=this.v&&(this.v=null,Ph(this),wv(this),cr(19))},pt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),cr(2)):(this.j.info("Failed to ping google.com"),cr(1))},(pt=jw.prototype).xa=function(){},pt.wa=function(){},pt.va=function(){},pt.ua=function(){},pt.Ra=function(){},Mm.prototype.g=function(n,t){return new ds(n,t)},ar(ds,Ci),ds.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;cr(0),n.V=t,n.ia=e||{},n.L=n.Y,n.F=Vw(n,null,n.V),Pg(n)},ds.prototype.close=function(){yv(this.g)},ds.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=fm(n),n=e);t.i.push(new class{constructor(n,t){this.h=n,this.g=t}}(t.ab++,n)),3==t.G&&Pg(t)},ds.prototype.M=function(){this.g.l=null,delete this.j,yv(this.g),delete this.g,ds.X.M.call(this)},ar(zw,Bs),ar(Fh,vr),ar(Nh,jw),Nh.prototype.xa=function(){Fi(this.g,"a")},Nh.prototype.wa=function(n){Fi(this.g,new zw(n))},Nh.prototype.va=function(n){Fi(this.g,new Fh)},Nh.prototype.ua=function(){Fi(this.g,"b")},Mm.prototype.createWebChannel=Mm.prototype.g,ds.prototype.send=ds.prototype.u,ds.prototype.open=ds.prototype.m,ds.prototype.close=ds.prototype.close,Ah.NO_ERROR=0,Ah.TIMEOUT=8,Ah.HTTP_ERROR=6,Ls.COMPLETE="complete",Ld.EventType=_c,_c.OPEN="a",_c.CLOSE="b",_c.ERROR="c",_c.MESSAGE="d",Ci.prototype.listen=Ci.prototype.N,si.prototype.listenOnce=si.prototype.O,si.prototype.getLastError=si.prototype.Oa,si.prototype.getLastErrorCode=si.prototype.Ea,si.prototype.getStatus=si.prototype.aa,si.prototype.getResponseJson=si.prototype.Sa,si.prototype.getResponseText=si.prototype.fa,si.prototype.send=si.prototype.da,si.prototype.setWithCredentials=si.prototype.Ka;var Lh=sr.createWebChannelTransport=function(){return new Mm},km=sr.getStatEventTarget=function(){return cs()},Iv=sr.ErrorCode=Ah,Hw=sr.EventType=Ls,bS=sr.Event=as,$w=sr.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},wS=sr.FetchXmlHttpFactory=Sm,Om=sr.WebChannel=Ld,Gw=sr.XhrIo=si;const Lg="@firebase/firestore";class Qi{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Qi.UNAUTHENTICATED=new Qi(null),Qi.GOOGLE_CREDENTIALS=new Qi("google-credentials-uid"),Qi.FIRST_PARTY=new Qi("first-party-uid"),Qi.MOCK_USER=new Qi("mock-user");let Bh="9.18.0";const Da=new Mn.Yd("@firebase/firestore");function Zd(){return Da.logLevel}function We(n,...t){if(Da.logLevel<=Mn.in.DEBUG){const e=t.map(Sv);Da.debug(`Firestore (${Bh}): ${n}`,...e)}}function Ni(n,...t){if(Da.logLevel<=Mn.in.ERROR){const e=t.map(Sv);Da.error(`Firestore (${Bh}): ${n}`,...e)}}function Yd(n,...t){if(Da.logLevel<=Mn.in.WARN){const e=t.map(Sv);Da.warn(`Firestore (${Bh}): ${n}`,...e)}}function Sv(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function bt(n="Unexpected state"){const t=`FIRESTORE (${Bh}) INTERNAL ASSERTION FAILED: `+n;throw Ni(t),new Error(t)}function At(n,t){n||bt()}function rt(n,t){return n}const Se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends Jt.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class br{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class ES{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class qw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Qi.UNAUTHENTICATED))}shutdown(){}}class wk{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Ww{constructor(t){this.t=t,this.currentUser=Qi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const a=b=>this.i!==r?(r=this.i,e(b)):Promise.resolve();let d=new br;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new br,t.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const b=d;t.enqueueRetryable((0,ue.Z)(function*(){yield b.promise,yield a(i.currentUser)}))},_=b=>{We("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(b=>_(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?_(b):(We("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new br)}},0),f()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(We("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(At("string"==typeof i.accessToken),new ES(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return At(null===t||"string"==typeof t),new Qi(t)}}class Kw{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r,this.type="FirstParty",this.user=Qi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(At(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class CS{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r}getToken(){return Promise.resolve(new Kw(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable(()=>e(Qi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Dv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IS{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const i=a=>{null!=a.error&&We("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const d=a.token!==this.A;return this.A=a.token,We("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?e(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>i(a))};const r=a=>{We("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?r(a):We("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(At("string"==typeof e.token),this.A=e.token,new Dv(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function zs(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class Zw{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=zs(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<e&&(i+=t.charAt(r[a]%t.length))}return i}}function nn(n,t){return n<t?-1:n>t?1:0}function Vh(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function Yw(n){return n+"\0"}class ai{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new $e(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new $e(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new $e(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new $e(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ai.fromMillis(Date.now())}static fromDate(t){return ai.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new ai(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?nn(this.nanoseconds,t.nanoseconds):nn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Pt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Pt(t)}static min(){return new Pt(new ai(0,0))}static max(){return new Pt(new ai(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class jh{constructor(t,e,i){void 0===e?e=0:e>t.length&&bt(),void 0===i?i=t.length-e:i>t.length-e&&bt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===jh.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof jh?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const a=t.get(r),d=e.get(r);if(a<d)return-1;if(a>d)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class yn extends jh{construct(t,e,i){return new yn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new $e(Se.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new yn(e)}static emptyPath(){return new yn([])}}const SS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Si extends jh{construct(t,e,i){return new Si(t,e,i)}static isValidIdentifier(t){return SS.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Si.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Si(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const a=()=>{if(0===i.length)throw new $e(Se.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let d=!1;for(;r<t.length;){const f=t[r];if("\\"===f){if(r+1===t.length)throw new $e(Se.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new $e(Se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=_,r+=2}else"`"===f?(d=!d,r++):"."!==f||d?(i+=f,r++):(a(),r++)}if(a(),d)throw new $e(Se.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Si(e)}static emptyPath(){return new Si([])}}class Be{constructor(t){this.path=t}static fromPath(t){return new Be(yn.fromString(t))}static fromName(t){return new Be(yn.fromString(t).popFirst(5))}static empty(){return new Be(yn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===yn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return yn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Be(new yn(t.slice()))}}class Rm{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function Bg(n){return n.fields.find(t=>2===t.kind)}function fl(n){return n.fields.filter(t=>2!==t.kind)}Rm.UNKNOWN_ID=-1;class Ug{constructor(t,e){this.fieldPath=t,this.kind=e}}class Pm{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Pm(0,qo.min())}}function Tv(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Pt.fromTimestamp(1e9===i?new ai(e+1,0):new ai(e,i));return new qo(r,Be.empty(),t)}function Xw(n){return new qo(n.readTime,n.key,-1)}class qo{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new qo(Pt.min(),Be.empty(),-1)}static max(){return new qo(Pt.max(),Be.empty(),-1)}}function Jw(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Be.comparator(n.documentKey,t.documentKey),0!==e?e:nn(n.largestBatchId,t.largestBatchId))}const Av="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function So(n){return kv.apply(this,arguments)}function kv(){return kv=(0,ue.Z)(function*(n){if(n.code!==Se.FAILED_PRECONDITION||n.message!==Av)throw n;We("LocalStore","Unexpectedly lost primary lease")}),kv.apply(this,arguments)}class be{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new be((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(e,a).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof be?e:be.resolve(e)}catch(e){return be.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):be.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):be.reject(e)}static resolve(t){return new be((e,i)=>{e(t)})}static reject(t){return new be((e,i)=>{i(t)})}static waitFor(t){return new be((e,i)=>{let r=0,a=0,d=!1;t.forEach(f=>{++r,f.next(()=>{++a,d&&a===r&&e()},_=>i(_))}),d=!0,a===r&&e()})}static or(t){let e=be.resolve(!1);for(const i of t)e=e.next(r=>r?be.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,a)=>{i.push(e.call(this,r,a))}),this.waitFor(i)}static mapArray(t,e){return new be((i,r)=>{const a=t.length,d=new Array(a);let f=0;for(let _=0;_<a;_++){const b=_;e(t[b]).next(C=>{d[b]=C,++f,f===a&&i(d)},C=>r(C))}})}static doWhile(t,e){return new be((i,r)=>{const a=()=>{!0===t()?e().next(()=>{a()},r):i()};a()})}}class zh{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.P=new br,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{e.error?this.P.reject(new Vg(t,e.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=Ov(i.target.error);this.P.reject(new Vg(t,r))}}static open(t,e,i,r){try{return new zh(e,t.transaction(r,i))}catch(a){throw new Vg(e,a)}}get v(){return this.P.promise}abort(t){t&&this.P.reject(t),this.aborted||(We("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new TS(e)}}class Hs{constructor(t,e,i){this.name=t,this.version=e,this.S=i,12.2===Hs.D((0,Jt.z$)())&&Ni("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return We("SimpleDb","Removing database:",t),ml(window.indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!(0,Jt.hl)())return!1;if(Hs.N())return!0;const t=(0,Jt.z$)(),e=Hs.D(t),i=0<e&&e<10,r=Hs.k(t),a=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||a)}static N(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.$)}static M(t,e){return t.store(e)}static D(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(t){var e=this;return(0,ue.Z)(function*(){return e.db||(We("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const a=indexedDB.open(e.name,e.version);a.onsuccess=d=>{i(d.target.result)},a.onblocked=()=>{r(new Vg(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=d=>{const f=d.target.error;r("VersionError"===f.name?new $e(Se.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new $e(Se.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Vg(t,f))},a.onupgradeneeded=d=>{We("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',d.oldVersion),e.S.F(d.target.result,a.transaction,d.oldVersion,e.version).next(()=>{We("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var a=this;return(0,ue.Z)(function*(){const d="readonly"===e;let f=0;for(;;){++f;try{a.db=yield a.O(t);const _=zh.open(a.db,t,d?"readonly":"readwrite",i),b=r(_).next(C=>(_.V(),C)).catch(C=>(_.abort(C),be.reject(C))).toPromise();return b.catch(()=>{}),yield _.v,b}catch(_){const b=_,C="FirebaseError"!==b.name&&f<3;if(We("SimpleDb","Transaction failed with error:",b.message,"Retrying:",C),a.close(),!C)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Ek{constructor(t){this.q=t,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(t){this.q=t}done(){this.U=!0}j(t){this.K=t}delete(){return ml(this.q.delete())}}class Vg extends $e{constructor(t,e){super(Se.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Qd(n){return"IndexedDbTransactionError"===n.name}class TS{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(We("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(We("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),ml(i)}add(t){return We("SimpleDb","ADD",this.store.name,t,t),ml(this.store.add(t))}get(t){return ml(this.store.get(t)).next(e=>(void 0===e&&(e=null),We("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return We("SimpleDb","DELETE",this.store.name,t),ml(this.store.delete(t))}count(){return We("SimpleDb","COUNT",this.store.name),ml(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.H(r,(d,f)=>{a.push(f)}).next(()=>a)}{const r=this.store.getAll(i.range);return new be((a,d)=>{r.onerror=f=>{d(f.target.error)},r.onsuccess=f=>{a(f.target.result)}})}}J(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new be((r,a)=>{i.onerror=d=>{a(d.target.error)},i.onsuccess=d=>{r(d.target.result)}})}Y(t,e){We("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Z=!1;const r=this.cursor(i);return this.H(r,(a,d,f)=>f.delete())}X(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.H(r,e)}tt(t){const e=this.cursor({});return new be((i,r)=>{e.onerror=a=>{const d=Ov(a.target.error);r(d)},e.onsuccess=a=>{const d=a.target.result;d?t(d.primaryKey,d.value).next(f=>{f?d.continue():i()}):i()}})}H(t,e){const i=[];return new be((r,a)=>{t.onerror=d=>{a(d.target.error)},t.onsuccess=d=>{const f=d.target.result;if(!f)return void r();const _=new Ek(f),b=e(f.primaryKey,f.value,_);if(b instanceof be){const C=b.catch(k=>(_.done(),be.reject(k)));i.push(C)}_.isDone?r():null===_.G?f.continue():f.continue(_.G)}}).next(()=>be.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Z?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function ml(n){return new be((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=Ov(i.target.error);e(r)}})}let AS=!1;function Ov(n){const t=Hs.D((0,Jt.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new $e("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return AS||(AS=!0,setTimeout(()=>{throw i},0)),i}}return n}class Hh{constructor(t,e){this.asyncQueue=t,this.et=e,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(t){var e=this;We("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,ue.Z)(function*(){e.task=null;try{We("IndexBackiller",`Documents written: ${yield e.et.st()}`)}catch(i){Qd(i)?We("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield So(i)}yield e.nt(6e4)}))}}class MS{constructor(t,e){this.localStore=t,this.persistence=e}st(t=50){var e=this;return(0,ue.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.it(i,t))})()}it(t,e){const i=new Set;let r=e,a=!0;return be.doWhile(()=>!0===a&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(d=>{if(null!==d&&!i.has(d))return We("IndexBackiller",`Processing collection: ${d}`),this.rt(t,d,r).next(f=>{r-=f,i.add(d)});a=!1})).next(()=>e-r)}rt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(a=>{const d=a.changes;return this.localStore.indexManager.updateIndexEntries(t,d).next(()=>this.ot(r,a)).next(f=>(We("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(t,e,f))).next(()=>d.size)}))}ot(t,e){let i=t;return e.changes.forEach((r,a)=>{const d=Xw(a);Jw(d,i)>0&&(i=d)}),new qo(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let Do=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>i.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}return n.at=-1,n})();class kS{constructor(t,e,i,r,a,d,f,_){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class pl{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new pl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof pl&&t.projectId===this.projectId&&t.database===this.database}}function tx(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Xd(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function nx(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function $h(n){return null==n}function Fm(n){return 0===n&&1/n==-1/0}function Pv(n){return"number"==typeof n&&Number.isInteger(n)&&!Fm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class ix extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class wr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(r){throw r instanceof DOMException?new ix("Invalid base64 string: "+r):r}}(t);return new wr(e)}static fromUint8Array(t){const e=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(t);return new wr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return nn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}wr.EMPTY_BYTE_STRING=new wr("");const Nv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gl(n){if(At(!!n),"string"==typeof n){let t=0;const e=Nv.exec(n);if(At(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Li(n.seconds),nanos:Li(n.nanos)}}function Li(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function us(n){return"string"==typeof n?wr.fromBase64String(n):wr.fromUint8Array(n)}function zg(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function rx(n){const t=n.mapValue.fields.__previous_value__;return zg(t)?rx(t):t}function Gh(n){const t=gl(n.mapValue.fields.__local_write_time__.timestampValue);return new ai(t.seconds,t.nanos)}const _l={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Hg={nullValue:"NULL_VALUE"};function Ta(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?zg(n)?4:Bv(n)?9007199254740991:10:bt()}function no(n,t){if(n===t)return!0;const e=Ta(n);if(e!==Ta(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Gh(n).isEqual(Gh(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=gl(i.timestampValue),d=gl(r.timestampValue);return a.seconds===d.seconds&&a.nanos===d.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,us(n.bytesValue).isEqual(us(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Li(i.geoPointValue.latitude)===Li(r.geoPointValue.latitude)&&Li(i.geoPointValue.longitude)===Li(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Li(i.integerValue)===Li(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=Li(i.doubleValue),d=Li(r.doubleValue);return a===d?Fm(a)===Fm(d):isNaN(a)&&isNaN(d)}return!1}(n,t);case 9:return Vh(n.arrayValue.values||[],t.arrayValue.values||[],no);case 10:return function(i,r){const a=i.mapValue.fields||{},d=r.mapValue.fields||{};if(tx(a)!==tx(d))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===d[f]||!no(a[f],d[f])))return!1;return!0}(n,t);default:return bt()}var r}function Jd(n,t){return void 0!==(n.values||[]).find(e=>no(e,t))}function hs(n,t){if(n===t)return 0;const e=Ta(n),i=Ta(t);if(e!==i)return nn(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return nn(n.booleanValue,t.booleanValue);case 2:return function(r,a){const d=Li(r.integerValue||r.doubleValue),f=Li(a.integerValue||a.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,t);case 3:return $g(n.timestampValue,t.timestampValue);case 4:return $g(Gh(n),Gh(t));case 5:return nn(n.stringValue,t.stringValue);case 6:return function(r,a){const d=us(r),f=us(a);return d.compareTo(f)}(n.bytesValue,t.bytesValue);case 7:return function(r,a){const d=r.split("/"),f=a.split("/");for(let _=0;_<d.length&&_<f.length;_++){const b=nn(d[_],f[_]);if(0!==b)return b}return nn(d.length,f.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,a){const d=nn(Li(r.latitude),Li(a.latitude));return 0!==d?d:nn(Li(r.longitude),Li(a.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,a){const d=r.values||[],f=a.values||[];for(let _=0;_<d.length&&_<f.length;++_){const b=hs(d[_],f[_]);if(b)return b}return nn(d.length,f.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,a){if(r===_l.mapValue&&a===_l.mapValue)return 0;if(r===_l.mapValue)return 1;if(a===_l.mapValue)return-1;const d=r.fields||{},f=Object.keys(d),_=a.fields||{},b=Object.keys(_);f.sort(),b.sort();for(let C=0;C<f.length&&C<b.length;++C){const k=nn(f[C],b[C]);if(0!==k)return k;const L=hs(d[f[C]],_[b[C]]);if(0!==L)return L}return nn(f.length,b.length)}(n.mapValue,t.mapValue);default:throw bt()}}function $g(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return nn(n,t);const e=gl(n),i=gl(t),r=nn(e.seconds,i.seconds);return 0!==r?r:nn(e.nanos,i.nanos)}function wc(n){return Gg(n)}function Gg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=gl(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?us(n.bytesValue).toBase64():"referenceValue"in n?Be.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const d of i.values||[])a?a=!1:r+=",",r+=Gg(d);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",d=!0;for(const f of r)d?d=!1:a+=",",a+=`${f}:${Gg(i.fields[f])}`;return a+"}"}(n.mapValue):bt();var t}function xc(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Nm(n){return!!n&&"integerValue"in n}function eu(n){return!!n&&"arrayValue"in n}function Lv(n){return!!n&&"nullValue"in n}function qg(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Wg(n){return!!n&&"mapValue"in n}function Lm(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Xd(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Lm(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Lm(n.arrayValue.values[e]);return t}return Object.assign({},n)}function Bv(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function OS(n){return"nullValue"in n?Hg:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?xc(pl.empty(),Be.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:bt()}function ox(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?xc(pl.empty(),Be.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?_l:bt()}function Uv(n,t){const e=hs(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function sx(n,t){const e=hs(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class yl{constructor(t,e){this.position=t,this.inclusive=e}}function To(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const a=t[r],d=n.position[r];if(i=a.field.isKeyField()?Be.comparator(Be.fromName(d.referenceValue),e.key):hs(d,e.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function Vv(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!no(n.position[e],t.position[e]))return!1;return!0}class ax{}class _n extends ax{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new RS(t,e,i):"array-contains"===e?new NS(t,i):"in"===e?new $s(t,i):"not-in"===e?new Hv(t,i):"array-contains-any"===e?new LS(t,i):new _n(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new PS(t,i):new FS(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(hs(e,this.value)):null!==e&&Ta(this.value)===Ta(e)&&this.matchesComparison(hs(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return bt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class kn extends ax{constructor(t,e){super(),this.filters=t,this.op=e,this.ft=null}static create(t,e){return new kn(t,e)}matches(t){return tu(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ft||(this.ft=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ft}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.dt(e=>e.isInequality());return null!==t?t.field:null}dt(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function tu(n){return"and"===n.op}function jv(n){return"or"===n.op}function zv(n){return cx(n)&&tu(n)}function cx(n){for(const t of n.filters)if(t instanceof kn)return!1;return!0}function Kg(n){if(n instanceof _n)return n.field.canonicalString()+n.op.toString()+wc(n.value);if(zv(n))return n.filters.map(t=>Kg(t)).join(",");{const t=n.filters.map(e=>Kg(e)).join(",");return`${n.op}(${t})`}}function lx(n,t){return n instanceof _n?(e=n,(i=t)instanceof _n&&e.op===i.op&&e.field.isEqual(i.field)&&no(e.value,i.value)):n instanceof kn?function(e,i){return i instanceof kn&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((r,a,d)=>r&&lx(a,i.filters[d]),!0)}(n,t):void bt();var e,i}function dx(n,t){const e=n.filters.concat(t);return kn.create(e,n.op)}function Zg(n){return n instanceof _n?`${(t=n).field.canonicalString()} ${t.op} ${wc(t.value)}`:n instanceof kn?function(t){return t.op.toString()+" {"+t.getFilters().map(Zg).join(" ,")+"}"}(n):"Filter";var t}class RS extends _n{constructor(t,e,i){super(t,e,i),this.key=Be.fromName(i.referenceValue)}matches(t){const e=Be.comparator(t.key,this.key);return this.matchesComparison(e)}}class PS extends _n{constructor(t,e){super(t,"in",e),this.keys=ux(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class FS extends _n{constructor(t,e){super(t,"not-in",e),this.keys=ux(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function ux(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Be.fromName(i.referenceValue))}class NS extends _n{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return eu(e)&&Jd(e.arrayValue,this.value)}}class $s extends _n{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Jd(this.value.arrayValue,e)}}class Hv extends _n{constructor(t,e){super(t,"not-in",e)}matches(t){if(Jd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Jd(this.value.arrayValue,e)}}class LS extends _n{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!eu(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Jd(this.value.arrayValue,i))}}class qh{constructor(t,e="asc"){this.field=t,this.dir=e}}function hx(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class Di{constructor(t,e){this.comparator=t,this.root=e||Fr.EMPTY}insert(t,e){return new Di(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Fr.BLACK,null,null))}remove(t){return new Di(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Yg(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Yg(this.root,t,this.comparator,!1)}getReverseIterator(){return new Yg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Yg(this.root,t,this.comparator,!0)}}class Yg{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=e?i(t.key,e):1,e&&r&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fr{constructor(t,e,i,r,a){this.key=t,this.value=e,this.color=i??Fr.RED,this.left=r??Fr.EMPTY,this.right=a??Fr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,a){return new Fr(t??this.key,e??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const a=i(t,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===a?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Fr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Fr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw bt();const t=this.left.check();if(t!==this.right.check())throw bt();return t+(this.isRed()?0:1)}}Fr.EMPTY=null,Fr.RED=!0,Fr.BLACK=!1,Fr.EMPTY=new class{constructor(){this.size=0}get key(){throw bt()}get value(){throw bt()}get color(){throw bt()}get left(){throw bt()}get right(){throw bt()}copy(n,t,e,i,r){return this}insert(n,t,e){return new Fr(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Nn{constructor(t){this.comparator=t,this.data=new Di(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new fx(this.data.getIterator())}getIteratorFrom(t){return new fx(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Nn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Nn(this.comparator);return e.data=t,e}}class fx{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Wh(n){return n.hasNext()?n.getNext():void 0}class Nr{constructor(t){this.fields=t,t.sort(Si.comparator)}static empty(){return new Nr([])}unionWith(t){let e=new Nn(Si.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Nr(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Vh(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class Xi{constructor(t){this.value=t}static empty(){return new Xi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Wg(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Lm(e)}setAll(t){let e=Si.emptyPath(),i={},r=[];t.forEach((d,f)=>{if(!e.isImmediateParentOf(f)){const _=this.getFieldsMap(e);this.applyChanges(_,i,r),i={},r=[],e=f.popLast()}d?i[f.lastSegment()]=Lm(d):r.push(f.lastSegment())});const a=this.getFieldsMap(e);this.applyChanges(a,i,r)}delete(t){const e=this.field(t.popLast());Wg(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return no(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Wg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Xd(e,(r,a)=>t[r]=a);for(const r of i)delete t[r]}clone(){return new Xi(Lm(this.value))}}function Bm(n){const t=[];return Xd(n.fields,(e,i)=>{const r=new Si([e]);if(Wg(i)){const a=Bm(i.mapValue).fields;if(0===a.length)t.push(r);else for(const d of a)t.push(r.child(d))}else t.push(r)}),new Nr(t)}class ci{constructor(t,e,i,r,a,d,f){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=a,this.data=d,this.documentState=f}static newInvalidDocument(t){return new ci(t,0,Pt.min(),Pt.min(),Pt.min(),Xi.empty(),0)}static newFoundDocument(t,e,i,r){return new ci(t,1,e,Pt.min(),i,r,0)}static newNoDocument(t,e){return new ci(t,2,e,Pt.min(),Pt.min(),Xi.empty(),0)}static newUnknownDocument(t,e){return new ci(t,3,e,Pt.min(),Pt.min(),Xi.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Pt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Xi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Xi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof ci&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ci(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $v{constructor(t,e=null,i=[],r=[],a=null,d=null,f=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=d,this.endAt=f,this._t=null}}function mx(n,t=null,e=[],i=[],r=null,a=null,d=null){return new $v(n,t,e,i,r,a,d)}function vl(n){const t=rt(n);if(null===t._t){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>Kg(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),$h(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>wc(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>wc(i)).join(",")),t._t=e}return t._t}function Kh(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!hx(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!lx(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Vv(n.startAt,t.startAt)&&Vv(n.endAt,t.endAt)}function Um(n){return Be.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Vm(n,t){return n.filters.filter(e=>e instanceof _n&&e.field.isEqual(t))}function Qg(n,t,e){let i=Hg,r=!0;for(const a of Vm(n,t)){let d=Hg,f=!0;switch(a.op){case"<":case"<=":d=OS(a.value);break;case"==":case"in":case">=":d=a.value;break;case">":d=a.value,f=!1;break;case"!=":case"not-in":d=Hg}Uv({value:i,inclusive:r},{value:d,inclusive:f})<0&&(i=d,r=f)}if(null!==e)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(t)){const d=e.position[a];Uv({value:i,inclusive:r},{value:d,inclusive:e.inclusive})<0&&(i=d,r=e.inclusive);break}return{value:i,inclusive:r}}function Aa(n,t,e){let i=_l,r=!0;for(const a of Vm(n,t)){let d=_l,f=!0;switch(a.op){case">=":case">":d=ox(a.value),f=!1;break;case"==":case"in":case"<=":d=a.value;break;case"<":d=a.value,f=!1;break;case"!=":case"not-in":d=_l}sx({value:i,inclusive:r},{value:d,inclusive:f})>0&&(i=d,r=f)}if(null!==e)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(t)){const d=e.position[a];sx({value:i,inclusive:r},{value:d,inclusive:e.inclusive})>0&&(i=d,r=e.inclusive);break}return{value:i,inclusive:r}}class fs{constructor(t,e=null,i=[],r=[],a=null,d="F",f=null,_=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=d,this.startAt=f,this.endAt=_,this.wt=null,this.gt=null}}function jm(n,t,e,i,r,a,d,f){return new fs(n,t,e,i,r,a,d,f)}function Ma(n){return new fs(n)}function px(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Xg(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function zm(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function Gv(n){return null!==n.collectionGroup}function nu(n){const t=rt(n);if(null===t.wt){t.wt=[];const e=zm(t),i=Xg(t);if(null!==e&&null===i)e.isKeyField()||t.wt.push(new qh(e)),t.wt.push(new qh(Si.keyField(),"asc"));else{let r=!1;for(const a of t.explicitOrderBy)t.wt.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new qh(Si.keyField(),a))}}}return t.wt}function lr(n){const t=rt(n);if(!t.gt)if("F"===t.limitType)t.gt=mx(t.path,t.collectionGroup,nu(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const a of nu(t))e.push(new qh(a.field,"desc"===a.dir?"asc":"desc"));const i=t.endAt?new yl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new yl(t.startAt.position,t.startAt.inclusive):null;t.gt=mx(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.gt}function qv(n,t){t.getFirstInequalityField(),zm(n);const e=n.filters.concat([t]);return new fs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Wv(n,t,e){return new fs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Hm(n,t){return Kh(lr(n),lr(t))&&n.limitType===t.limitType}function gx(n){return`${vl(lr(n))}|lt:${n.limitType}`}function Kv(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>Zg(i)).join(", ")}]`),$h(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>wc(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>wc(i)).join(",")),`Target(${e})`}(lr(n))}; limitType=${n.limitType})`}function $m(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):Be.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of nu(e))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,a,d){const f=To(r,a,d);return r.inclusive?f<=0:f<0}(e.startAt,nu(e),i)||e.endAt&&!function(r,a,d){const f=To(r,a,d);return r.inclusive?f>=0:f>0}(e.endAt,nu(e),i)));var e,i}function _x(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function yx(n){return(t,e)=>{let i=!1;for(const r of nu(n)){const a=BS(r,t,e);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function BS(n,t,e){const i=n.field.isKeyField()?Be.comparator(t.key,e.key):function(r,a,d){const f=a.data.field(r),_=d.data.field(r);return null!==f&&null!==_?hs(f,_):bt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return bt()}}function Zv(n,t){if(n.yt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fm(t)?"-0":t}}function Jg(n){return{integerValue:""+n}}function vx(n,t){return Pv(t)?Jg(t):Zv(n,t)}class Zh{constructor(){this._=void 0}}function US(n,t,e){return n instanceof Yh?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(a.fields.__previous_value__=r),{mapValue:a}}(e,t):n instanceof iu?wx(n,t):n instanceof ru?Yv(n,t):function(i,r){const a=bx(i,r),d=xx(a)+xx(i.It);return Nm(a)&&Nm(i.It)?Jg(d):Zv(i.Tt,d)}(n,t)}function VS(n,t,e){return n instanceof iu?wx(n,t):n instanceof ru?Yv(n,t):e}function bx(n,t){return n instanceof ou?Nm(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Yh extends Zh{}class iu extends Zh{constructor(t){super(),this.elements=t}}function wx(n,t){const e=jS(t);for(const i of n.elements)e.some(r=>no(r,i))||e.push(i);return{arrayValue:{values:e}}}class ru extends Zh{constructor(t){super(),this.elements=t}}function Yv(n,t){let e=jS(t);for(const i of n.elements)e=e.filter(r=>!no(r,i));return{arrayValue:{values:e}}}class ou extends Zh{constructor(t,e){super(),this.Tt=t,this.It=e}}function xx(n){return Li(n.integerValue||n.doubleValue)}function jS(n){return eu(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Qh{constructor(t,e){this.field=t,this.transform=e}}class e_{constructor(t,e){this.version=t,this.transformResults=e}}class li{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new li}static exists(t){return new li(void 0,t)}static updateTime(t){return new li(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function t_(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class Xh{}function Ex(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Gs(n.key,li.none()):new Cc(n.key,n.data,li.none());{const e=n.data,i=Xi.empty();let r=new Nn(Si.comparator);for(let a of t.fields)if(!r.has(a)){let d=e.field(a);null===d&&a.length>1&&(a=a.popLast(),d=e.field(a)),null===d?i.delete(a):i.set(a,d),r=r.add(a)}return new Ji(n.key,i,new Nr(r.toArray()),li.none())}}function ka(n,t,e){n instanceof Cc?function(i,r,a){const d=i.value.clone(),f=su(i.fieldTransforms,r,a.transformResults);d.setAll(f),r.convertToFoundDocument(a.version,d).setHasCommittedMutations()}(n,t,e):n instanceof Ji?function(i,r,a){if(!t_(i.precondition,r))return void r.convertToUnknownDocument(a.version);const d=su(i.fieldTransforms,r,a.transformResults),f=r.data;f.setAll(n_(i)),f.setAll(d),r.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Ec(n,t,e,i){return n instanceof Cc?function(r,a,d,f){if(!t_(r.precondition,a))return d;const _=r.value.clone(),b=au(r.fieldTransforms,f,a);return _.setAll(b),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,t,e,i):n instanceof Ji?function(r,a,d,f){if(!t_(r.precondition,a))return d;const _=au(r.fieldTransforms,f,a),b=a.data;return b.setAll(n_(r)),b.setAll(_),a.convertToFoundDocument(a.version,b).setHasLocalMutations(),null===d?null:d.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(C=>C.field))}(n,t,e,i):(d=e,t_(n.precondition,a=t)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):d);var a,d}function $r(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),a=bx(i.transform,r||null);null!=a&&(null===e&&(e=Xi.empty()),e.set(i.field,a))}return e||null}function bl(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&Vh(e,i,(r,a)=>function Ck(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof iu&&i instanceof iu||e instanceof ru&&i instanceof ru?Vh(e.elements,i.elements,no):e instanceof ou&&i instanceof ou?no(e.It,i.It):e instanceof Yh&&i instanceof Yh);var e,i}(r,a))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class Cc extends Xh{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ji extends Xh{constructor(t,e,i,r,a=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function n_(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function su(n,t,e){const i=new Map;At(n.length===e.length);for(let r=0;r<e.length;r++){const a=n[r],d=a.transform,f=t.data.field(a.field);i.set(a.field,VS(d,f,e[r]))}return i}function au(n,t,e){const i=new Map;for(const r of n){const a=r.transform,d=e.data.field(r.field);i.set(r.field,US(a,d,t))}return i}class Gs extends Xh{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wl extends Xh{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Jh{constructor(t){this.count=t}}var ei,dn;function cu(n){switch(n){default:return bt();case Se.CANCELLED:case Se.UNKNOWN:case Se.DEADLINE_EXCEEDED:case Se.RESOURCE_EXHAUSTED:case Se.INTERNAL:case Se.UNAVAILABLE:case Se.UNAUTHENTICATED:return!1;case Se.INVALID_ARGUMENT:case Se.NOT_FOUND:case Se.ALREADY_EXISTS:case Se.PERMISSION_DENIED:case Se.FAILED_PRECONDITION:case Se.ABORTED:case Se.OUT_OF_RANGE:case Se.UNIMPLEMENTED:case Se.DATA_LOSS:return!0}}function lu(n){if(void 0===n)return Ni("GRPC error has no .code"),Se.UNKNOWN;switch(n){case ei.OK:return Se.OK;case ei.CANCELLED:return Se.CANCELLED;case ei.UNKNOWN:return Se.UNKNOWN;case ei.DEADLINE_EXCEEDED:return Se.DEADLINE_EXCEEDED;case ei.RESOURCE_EXHAUSTED:return Se.RESOURCE_EXHAUSTED;case ei.INTERNAL:return Se.INTERNAL;case ei.UNAVAILABLE:return Se.UNAVAILABLE;case ei.UNAUTHENTICATED:return Se.UNAUTHENTICATED;case ei.INVALID_ARGUMENT:return Se.INVALID_ARGUMENT;case ei.NOT_FOUND:return Se.NOT_FOUND;case ei.ALREADY_EXISTS:return Se.ALREADY_EXISTS;case ei.PERMISSION_DENIED:return Se.PERMISSION_DENIED;case ei.FAILED_PRECONDITION:return Se.FAILED_PRECONDITION;case ei.ABORTED:return Se.ABORTED;case ei.OUT_OF_RANGE:return Se.OUT_OF_RANGE;case ei.UNIMPLEMENTED:return Se.UNIMPLEMENTED;case ei.DATA_LOSS:return Se.DATA_LOSS;default:return bt()}}(dn=ei||(ei={}))[dn.OK=0]="OK",dn[dn.CANCELLED=1]="CANCELLED",dn[dn.UNKNOWN=2]="UNKNOWN",dn[dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dn[dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dn[dn.NOT_FOUND=5]="NOT_FOUND",dn[dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",dn[dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",dn[dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",dn[dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dn[dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dn[dn.ABORTED=10]="ABORTED",dn[dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",dn[dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",dn[dn.INTERNAL=13]="INTERNAL",dn[dn.UNAVAILABLE=14]="UNAVAILABLE",dn[dn.DATA_LOSS=15]="DATA_LOSS";class Ic{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,t))return a}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return void(r[a]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Xd(this.inner,(e,i)=>{for(const[r,a]of i)t(r,a)})}isEmpty(){return nx(this.inner)}size(){return this.innerSize}}const Cx=new Di(Be.comparator);function io(){return Cx}const Qv=new Di(Be.comparator);function ef(...n){let t=Qv;for(const e of n)t=t.insert(e.key,e);return t}function Xv(n){let t=Qv;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function qs(){return tf()}function Jv(){return tf()}function tf(){return new Ic(n=>n.toString(),(n,t)=>n.isEqual(t))}const zS=new Di(Be.comparator),HS=new Nn(Be.comparator);function rn(...n){let t=HS;for(const e of n)t=t.add(e);return t}const $S=new Nn(nn);function Gm(){return $S}class du{constructor(t,e,i,r,a){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,uu.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new du(Pt.min(),r,Gm(),io(),rn())}}class uu{constructor(t,e,i,r,a){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new uu(i,e,rn(),rn(),rn())}}class i_{constructor(t,e,i,r){this.Et=t,this.removedTargetIds=e,this.key=i,this.At=r}}class qm{constructor(t,e){this.targetId=t,this.Rt=e}}class Wm{constructor(t,e,i=wr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class r_{constructor(){this.Pt=0,this.vt=s_(),this.bt=wr.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}get current(){return this.Vt}get resumeToken(){return this.bt}get Dt(){return 0!==this.Pt}get Ct(){return this.St}xt(t){t.approximateByteSize()>0&&(this.St=!0,this.bt=t)}Nt(){let t=rn(),e=rn(),i=rn();return this.vt.forEach((r,a)=>{switch(a){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:bt()}}),new uu(this.bt,this.Vt,t,e,i)}kt(){this.St=!1,this.vt=s_()}$t(t,e){this.St=!0,this.vt=this.vt.insert(t,e)}Mt(t){this.St=!0,this.vt=this.vt.remove(t)}Ot(){this.Pt+=1}Ft(){this.Pt-=1}Bt(){this.St=!0,this.Vt=!0}}class GS{constructor(t){this.Lt=t,this.qt=new Map,this.Ut=io(),this.Kt=o_(),this.Gt=new Nn(nn)}Qt(t){for(const e of t.Et)t.At&&t.At.isFoundDocument()?this.jt(e,t.At):this.zt(e,t.key,t.At);for(const e of t.removedTargetIds)this.zt(e,t.key,t.At)}Wt(t){this.forEachTarget(t,e=>{const i=this.Ht(e);switch(t.state){case 0:this.Jt(e)&&i.xt(t.resumeToken);break;case 1:i.Ft(),i.Dt||i.kt(),i.xt(t.resumeToken);break;case 2:i.Ft(),i.Dt||this.removeTarget(e);break;case 3:this.Jt(e)&&(i.Bt(),i.xt(t.resumeToken));break;case 4:this.Jt(e)&&(this.Yt(e),i.xt(t.resumeToken));break;default:bt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.qt.forEach((i,r)=>{this.Jt(r)&&e(r)})}Zt(t){const e=t.targetId,i=t.Rt.count,r=this.Xt(e);if(r){const a=r.target;if(Um(a))if(0===i){const d=new Be(a.path);this.zt(e,d,ci.newNoDocument(d,Pt.min()))}else At(1===i);else this.te(e)!==i&&(this.Yt(e),this.Gt=this.Gt.add(e))}}ee(t){const e=new Map;this.qt.forEach((a,d)=>{const f=this.Xt(d);if(f){if(a.current&&Um(f.target)){const _=new Be(f.target.path);null!==this.Ut.get(_)||this.ne(d,_)||this.zt(d,_,ci.newNoDocument(_,t))}a.Ct&&(e.set(d,a.Nt()),a.kt())}});let i=rn();this.Kt.forEach((a,d)=>{let f=!0;d.forEachWhile(_=>{const b=this.Xt(_);return!b||2===b.purpose||(f=!1,!1)}),f&&(i=i.add(a))}),this.Ut.forEach((a,d)=>d.setReadTime(t));const r=new du(t,e,this.Gt,this.Ut,i);return this.Ut=io(),this.Kt=o_(),this.Gt=new Nn(nn),r}jt(t,e){if(!this.Jt(t))return;const i=this.ne(t,e.key)?2:0;this.Ht(t).$t(e.key,i),this.Ut=this.Ut.insert(e.key,e),this.Kt=this.Kt.insert(e.key,this.se(e.key).add(t))}zt(t,e,i){if(!this.Jt(t))return;const r=this.Ht(t);this.ne(t,e)?r.$t(e,1):r.Mt(e),this.Kt=this.Kt.insert(e,this.se(e).delete(t)),i&&(this.Ut=this.Ut.insert(e,i))}removeTarget(t){this.qt.delete(t)}te(t){const e=this.Ht(t).Nt();return this.Lt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ot(t){this.Ht(t).Ot()}Ht(t){let e=this.qt.get(t);return e||(e=new r_,this.qt.set(t,e)),e}se(t){let e=this.Kt.get(t);return e||(e=new Nn(nn),this.Kt=this.Kt.insert(t,e)),e}Jt(t){const e=null!==this.Xt(t);return e||We("WatchChangeAggregator","Detected inactive target",t),e}Xt(t){const e=this.qt.get(t);return e&&e.Dt?null:this.Lt.ie(t)}Yt(t){this.qt.set(t,new r_),this.Lt.getRemoteKeysForTarget(t).forEach(e=>{this.zt(t,e,null)})}ne(t,e){return this.Lt.getRemoteKeysForTarget(t).has(e)}}function o_(){return new Di(Be.comparator)}function s_(){return new Di(Be.comparator)}const Ix={asc:"ASCENDING",desc:"DESCENDING"},Sx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eb={and:"AND",or:"OR"};class Dx{constructor(t,e){this.databaseId=t,this.yt=e}}function hu(n,t){return n.yt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function a_(n,t){return n.yt?t.toBase64():t.toUint8Array()}function Tx(n,t){return hu(n,t.toTimestamp())}function Bi(n){return At(!!n),Pt.fromTimestamp(function(t){const e=gl(t);return new ai(e.seconds,e.nanos)}(n))}function c_(n,t){return(e=n,new yn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function tb(n){const t=yn.fromString(n);return At(WS(t)),t}function nf(n,t){return c_(n.databaseId,t.path)}function Ws(n,t){const e=tb(t);if(e.get(1)!==n.databaseId.projectId)throw new $e(Se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new $e(Se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Be(rb(e))}function nb(n,t){return c_(n.databaseId,t)}function ib(n){const t=tb(n);return 4===t.length?yn.emptyPath():rb(t)}function rf(n){return new yn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rb(n){return At(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function l_(n,t,e){return{name:nf(n,t),fields:e.value.mapValue.fields}}function ob(n,t,e){const i=Ws(n,t.name),r=Bi(t.updateTime),a=t.createTime?Bi(t.createTime):Pt.min(),d=new Xi({mapValue:{fields:t.fields}}),f=ci.newFoundDocument(i,r,a,d);return e&&f.setHasCommittedMutations(),e?f.setHasCommittedMutations():f}function sf(n,t){let e;if(t instanceof Cc)e={update:l_(n,t.key,t.value)};else if(t instanceof Gs)e={delete:nf(n,t.key)};else if(t instanceof Ji)e={update:l_(n,t.key,t.data),updateMask:Ik(t.fieldMask)};else{if(!(t instanceof wl))return bt();e={verify:nf(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,a){const d=a.transform;if(d instanceof Yh)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof iu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ru)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ou)return{fieldPath:a.field.canonicalString(),increment:d.It};throw bt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:Tx(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:bt()),e;var r}function d_(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?li.updateTime(Bi(r.updateTime)):void 0!==r.exists?li.exists(r.exists):li.none():li.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(a,d){let f=null;"setToServerValue"in d?(At("REQUEST_TIME"===d.setToServerValue),f=new Yh):"appendMissingElements"in d?f=new iu(d.appendMissingElements.values||[]):"removeAllFromArray"in d?f=new ru(d.removeAllFromArray.values||[]):"increment"in d?f=new ou(a,d.increment):bt();const _=Si.fromServerFormat(d.fieldPath);return new Qh(_,f)}(n,r)):[];var r;if(t.update){const r=Ws(n,t.update.name),a=new Xi({mapValue:{fields:t.update.fields}});if(t.updateMask){const d=new Nr((t.updateMask.fieldPaths||[]).map(b=>Si.fromServerFormat(b)));return new Ji(r,a,d,e,i)}return new Cc(r,a,e,i)}if(t.delete){const r=Ws(n,t.delete);return new Gs(r,e)}if(t.verify){const r=Ws(n,t.verify);return new wl(r,e)}return bt()}function sb(n,t){return{documents:[nb(n,t.path)]}}function u_(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=nb(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=nb(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0!==_.length)return h_(kn.create(_,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const a=function(_){if(0!==_.length)return _.map(b=>{return{field:Oa((C=b).field),direction:qS(C.dir)};var C})}(t.orderBy);a&&(e.structuredQuery.orderBy=a);const d=(b=t.limit,n.yt||$h(b)?b:{value:b});var b,f,_;return null!==d&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt={before:(f=t.startAt).inclusive,values:f.position}),t.endAt&&(e.structuredQuery.endAt={before:!(_=t.endAt).inclusive,values:_.position}),e}function Km(n){let t=ib(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){At(1===i);const C=e.from[0];C.allDescendants?r=C.collectionId:t=t.child(C.collectionId)}let a=[];e.where&&(a=function(C){const k=Ox(C);return k instanceof kn&&zv(k)?k.getFilters():[k]}(e.where));let d=[];e.orderBy&&(d=e.orderBy.map(C=>{return new qh(af((k=C).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction));var k}));let f=null;e.limit&&(f=function(C){let k;return k="object"==typeof C?C.value:C,$h(k)?null:k}(e.limit));let _=null;var C;e.startAt&&(_=new yl((C=e.startAt).values||[],!!C.before));let b=null;return e.endAt&&(b=function(C){return new yl(C.values||[],!C.before)}(e.endAt)),jm(t,r,d,a,f,"F",_,b)}function Ox(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=af(t.unaryFilter.field);return _n.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=af(t.unaryFilter.field);return _n.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=af(t.unaryFilter.field);return _n.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=af(t.unaryFilter.field);return _n.create(a,"!=",{nullValue:"NULL_VALUE"});default:return bt()}}(n):void 0!==n.fieldFilter?_n.create(af((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return bt()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return kn.create(t.compositeFilter.filters.map(e=>Ox(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return bt()}}(t.compositeFilter.op))}(n):bt();var t}function qS(n){return Ix[n]}function ab(n){return Sx[n]}function fu(n){return eb[n]}function Oa(n){return{fieldPath:n.canonicalString()}}function af(n){return Si.fromServerFormat(n.fieldPath)}function h_(n){return n instanceof _n?function(t){if("=="===t.op){if(qg(t.value))return{unaryFilter:{field:Oa(t.field),op:"IS_NAN"}};if(Lv(t.value))return{unaryFilter:{field:Oa(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(qg(t.value))return{unaryFilter:{field:Oa(t.field),op:"IS_NOT_NAN"}};if(Lv(t.value))return{unaryFilter:{field:Oa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oa(t.field),op:ab(t.op),value:t.value}}}(n):n instanceof kn?function(t){const e=t.getFilters().map(i=>h_(i));return 1===e.length?e[0]:{compositeFilter:{op:fu(t.op),filters:e}}}(n):bt()}function Ik(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function WS(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ro(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=cb(t)),t=KS(n.get(e),t);return cb(t)}function KS(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=a}}return e}function cb(n){return n+"\x01\x01"}function Ra(n){const t=n.length;if(At(t>=2),2===t)return At("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),yn.emptyPath();const e=t-2,i=[];let r="";for(let a=0;a<t;){const d=n.indexOf("\x01",a);switch((d<0||d>e)&&bt(),n.charAt(d+1)){case"\x01":const f=n.substring(a,d);let _;0===r.length?_=f:(r+=f,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(a,d),r+="\0";break;case"\x11":r+=n.substring(a,d+1);break;default:bt()}a=d+2}return new yn(i)}const er=["userId","batchId"];function Zm(n,t){return[n,ro(t)]}function Rx(n,t,e){return[n,ro(t),e]}const ZS={},Px=["prefixPath","collectionGroup","readTime","documentId"],YS=["prefixPath","collectionGroup","documentId"],Fx=["collectionGroup","readTime","prefixPath","documentId"],Nx=["canonicalId","targetId"],cf=["targetId","path"],QS=["path","targetId"],XS=["collectionId","parent"],Lx=["indexId","uid"],JS=["uid","sequenceNumber"],Bx=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Sk=["indexId","uid","orderedDocumentKey"],lb=["userId","collectionPath","documentId"],db=["userId","collectionPath","largestBatchId"],Pa=["userId","collectionGroup","largestBatchId"],Ux=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],eD=[...Ux,"documentOverlays"],Ks=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ms=Ks,Zs=[...ms,"indexConfiguration","indexState","indexEntries"];class f_ extends Mv{constructor(t,e){super(),this.re=t,this.currentSequenceNumber=e}}function dr(n,t){const e=rt(n);return Hs.M(e.re,t)}class ub{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(t.key)&&ka(a,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Ec(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Ec(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=Jv();return this.mutations.forEach(r=>{const a=t.get(r.key),d=a.overlayedDocument;let f=this.applyToLocalView(d,a.mutatedFields);f=e.has(r.key)?null:f;const _=Ex(d,f);null!==_&&i.set(r.key,_),d.isValidDocument()||d.convertToNoDocument(Pt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),rn())}isEqual(t){return this.batchId===t.batchId&&Vh(this.mutations,t.mutations,(e,i)=>bl(e,i))&&Vh(this.baseMutations,t.baseMutations,(e,i)=>bl(e,i))}}class hb{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){At(t.mutations.length===i.length);let r=zS;const a=t.mutations;for(let d=0;d<a.length;d++)r=r.insert(a[d].key,i[d].version);return new hb(t,e,i,r)}}class fb{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class El{constructor(t,e,i,r,a=Pt.min(),d=Pt.min(),f=wr.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f}withSequenceNumber(t){return new El(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new El(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new El(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class m_{constructor(t){this.oe=t}}function Vx(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:Qm(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:nf(r=n.oe,(a=t).key),fields:a.data.value.mapValue.fields,updateTime:hu(r,a.version.toTimestamp()),createTime:hu(r,a.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:mu(t.version)};else{if(!t.isUnknownDocument())return bt();i.unknownDocument={path:e.path.toArray(),version:mu(t.version)}}var r,a;return i}function Qm(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function mu(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Cl(n){const t=new ai(n.seconds,n.nanoseconds);return Pt.fromTimestamp(t)}function Il(n,t){const e=(t.baseMutations||[]).map(a=>d_(n.oe,a));for(let a=0;a<t.mutations.length-1;++a)a+1<t.mutations.length&&void 0!==t.mutations[a+1].transform&&(t.mutations[a].updateTransforms=t.mutations[a+1].transform.fieldTransforms,t.mutations.splice(a+1,1),++a);const i=t.mutations.map(a=>d_(n.oe,a)),r=ai.fromMillis(t.localWriteTimeMs);return new ub(t.batchId,r,e,i)}function Sl(n){const t=Cl(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Cl(n.lastLimboFreeSnapshotVersion):Pt.min();let i;var r;return void 0!==n.query.documents?(At(1===(r=n.query).documents.length),i=lr(Ma(ib(r.documents[0])))):i=lr(Km(n.query)),new El(i,n.targetId,0,n.lastListenSequenceNumber,t,e,wr.fromBase64String(n.resumeToken))}function jx(n,t){const e=mu(t.snapshotVersion),i=mu(t.lastLimboFreeSnapshotVersion);let r;r=Um(t.target)?sb(n.oe,t.target):u_(n.oe,t.target);const a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:vl(t.target),readTime:e,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function p_(n){const t=Km({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Wv(t,t.limit,"L"):t}function g_(n,t){return new fb(t.largestBatchId,d_(n.oe,t.overlayMutation))}function __(n,t){const e=t.path.lastSegment();return[n,ro(t.path.popLast()),e]}function Xm(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:mu(i.readTime),documentKey:ro(i.documentKey.path),largestBatchId:i.largestBatchId}}class zx{getBundleMetadata(t,e){return mb(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Cl(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return mb(t).put({bundleId:(i=e).id,createTime:mu(Bi(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return pb(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:p_(r.bundledQuery),readTime:Cl(r.readTime)};var r})}saveNamedQuery(t,e){return pb(t).put({name:(i=e).name,readTime:mu(Bi(i.readTime)),bundledQuery:i.bundledQuery});var i}}function mb(n){return dr(n,"bundles")}function pb(n){return dr(n,"namedQueries")}class Jm{constructor(t,e){this.Tt=t,this.userId=e}static ue(t,e){return new Jm(t,e.uid||"")}getOverlay(t,e){return lf(t).get(__(this.userId,e)).next(i=>i?g_(this.Tt,i):null)}getOverlays(t,e){const i=qs();return be.forEach(e,r=>this.getOverlay(t,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((a,d)=>{const f=new fb(e,d);r.push(this.ce(t,f))}),be.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(d=>r.add(ro(d.getCollectionPath())));const a=[];return r.forEach(d=>{const f=IDBKeyRange.bound([this.userId,d,i],[this.userId,d,i+1],!1,!0);a.push(lf(t).Y("collectionPathOverlayIndex",f))}),be.waitFor(a)}getOverlaysForCollection(t,e,i){const r=qs(),a=ro(e),d=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return lf(t).W("collectionPathOverlayIndex",d).next(f=>{for(const _ of f){const b=g_(this.Tt,_);r.set(b.getKey(),b)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const a=qs();let d;const f=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return lf(t).X({index:"collectionGroupOverlayIndex",range:f},(_,b,C)=>{const k=g_(this.Tt,b);a.size()<r||k.largestBatchId===d?(a.set(k.getKey(),k),d=k.largestBatchId):C.done()}).next(()=>a)}ce(t,e){return lf(t).put(function(i,r,a){const[d,f,_]=__(r,a.mutation.key);return{userId:r,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:sf(i.oe,a.mutation)}}(this.Tt,this.userId,e))}}function lf(n){return dr(n,"documentOverlays")}class Dl{constructor(){}ae(t,e){this.he(t,e),e.le()}he(t,e){if("nullValue"in t)this.fe(e,5);else if("booleanValue"in t)this.fe(e,10),e.de(t.booleanValue?1:0);else if("integerValue"in t)this.fe(e,15),e.de(Li(t.integerValue));else if("doubleValue"in t){const i=Li(t.doubleValue);isNaN(i)?this.fe(e,13):(this.fe(e,15),Fm(i)?e.de(0):e.de(i))}else if("timestampValue"in t){const i=t.timestampValue;this.fe(e,20),"string"==typeof i?e._e(i):(e._e(`${i.seconds||""}`),e.de(i.nanos||0))}else if("stringValue"in t)this.we(t.stringValue,e),this.me(e);else if("bytesValue"in t)this.fe(e,30),e.ge(us(t.bytesValue)),this.me(e);else if("referenceValue"in t)this.ye(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.fe(e,45),e.de(i.latitude||0),e.de(i.longitude||0)}else"mapValue"in t?Bv(t)?this.fe(e,Number.MAX_SAFE_INTEGER):(this.pe(t.mapValue,e),this.me(e)):"arrayValue"in t?(this.Ie(t.arrayValue,e),this.me(e)):bt()}we(t,e){this.fe(e,25),this.Te(t,e)}Te(t,e){e._e(t)}pe(t,e){const i=t.fields||{};this.fe(e,55);for(const r of Object.keys(i))this.we(r,e),this.he(i[r],e)}Ie(t,e){const i=t.values||[];this.fe(e,50);for(const r of i)this.he(r,e)}ye(t,e){this.fe(e,37),Be.fromName(t).path.forEach(i=>{this.fe(e,60),this.Te(i,e)})}fe(t,e){t.de(e)}me(t){t.de(2)}}function Hx(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function gb(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const a=Hx(255&e[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(t/8)}Dl.Ee=new Dl;class tD{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ae(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Re(i.value),i=e.next();this.Pe()}ve(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.be(i.value),i=e.next();this.Ve()}Se(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Re(i);else if(i<2048)this.Re(960|i>>>6),this.Re(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Re(480|i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i);else{const r=e.codePointAt(0);this.Re(240|r>>>18),this.Re(128|63&r>>>12),this.Re(128|63&r>>>6),this.Re(128|63&r)}}this.Pe()}De(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{const r=e.codePointAt(0);this.be(240|r>>>18),this.be(128|63&r>>>12),this.be(128|63&r>>>6),this.be(128|63&r)}}this.Ve()}Ce(t){const e=this.xe(t),i=gb(e);this.Ne(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}ke(t){const e=this.xe(t),i=gb(e);this.Ne(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}$e(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(t){this.Ne(t.length),this.buffer.set(t,this.position),this.position+=t.length}Be(){return this.buffer.slice(0,this.position)}xe(t){const e=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Re(t){const e=255&t;0===e?(this.Me(0),this.Me(255)):255===e?(this.Me(255),this.Me(0)):this.Me(e)}be(t){const e=255&t;0===e?(this.Fe(0),this.Fe(255)):255===e?(this.Fe(255),this.Fe(0)):this.Fe(t)}Pe(){this.Me(0),this.Me(1)}Ve(){this.Fe(0),this.Fe(1)}Me(t){this.Ne(1),this.buffer[this.position++]=t}Fe(t){this.Ne(1),this.buffer[this.position++]=~t}Ne(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class nD{constructor(t){this.Le=t}ge(t){this.Le.Ae(t)}_e(t){this.Le.Se(t)}de(t){this.Le.Ce(t)}le(){this.Le.$e()}}class iD{constructor(t){this.Le=t}ge(t){this.Le.ve(t)}_e(t){this.Le.De(t)}de(t){this.Le.ke(t)}le(){this.Le.Oe()}}class ep{constructor(){this.Le=new tD,this.qe=new nD(this.Le),this.Ue=new iD(this.Le)}seed(t){this.Le.seed(t)}Ke(t){return 0===t?this.qe:this.Ue}Be(){return this.Le.Be()}reset(){this.Le.reset()}}class pu{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ge(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new pu(this.indexId,this.documentKey,this.arrayValue,i)}}function Tl(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=$x(n.arrayValue,t.arrayValue),0!==e?e:(e=$x(n.directionalValue,t.directionalValue),0!==e?e:Be.comparator(n.documentKey,t.documentKey)))}function $x(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class rD{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Qe=t.orderBy,this.je=[];for(const e of t.filters){const i=e;i.isInequality()?this.ze=i:this.je.push(i)}}We(t){At(t.collectionGroup===this.collectionId);const e=Bg(t);if(void 0!==e&&!this.He(e))return!1;const i=fl(t);let r=0,a=0;for(;r<i.length&&this.He(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.ze){const d=i[r];if(!this.Je(this.ze,d)||!this.Ye(this.Qe[a++],d))return!1;++r}for(;r<i.length;++r)if(a>=this.Qe.length||!this.Ye(this.Qe[a++],i[r]))return!1;return!0}He(t){for(const e of this.je)if(this.Je(e,t))return!0;return!1}Je(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Ye(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function Gx(n){var t,e;if(At(n instanceof _n||n instanceof kn),n instanceof _n){if(n instanceof $s){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(a=>_n.create(n.field,"==",a)))||[];return kn.create(r,"or")}return n}const i=n.filters.map(r=>Gx(r));return kn.create(i,n.op)}function oD(n){if(0===n.getFilters().length)return[];const t=vb(Gx(n));return At(qx(t)),_b(t)||yb(t)?[t]:t.getFilters()}function _b(n){return n instanceof _n}function yb(n){return n instanceof kn&&zv(n)}function qx(n){return _b(n)||yb(n)||function(t){if(t instanceof kn&&jv(t)){for(const e of t.getFilters())if(!_b(e)&&!yb(e))return!1;return!0}return!1}(n)}function vb(n){if(At(n instanceof _n||n instanceof kn),n instanceof _n)return n;if(1===n.filters.length)return vb(n.filters[0]);const t=n.filters.map(i=>vb(i));let e=kn.create(t,n.op);return e=y_(e),qx(e)?e:(At(e instanceof kn),At(tu(e)),At(e.filters.length>1),e.filters.reduce((i,r)=>bb(i,r)))}function bb(n,t){let e;return At(n instanceof _n||n instanceof kn),At(t instanceof _n||t instanceof kn),e=n instanceof _n?t instanceof _n?kn.create([n,t],"and"):Wx(n,t):t instanceof _n?Wx(t,n):function(i,r){if(At(i.filters.length>0&&r.filters.length>0),tu(i)&&tu(r))return dx(i,r.getFilters());const a=jv(i)?i:r,d=jv(i)?r:i,f=a.filters.map(_=>bb(_,d));return kn.create(f,"or")}(n,t),y_(e)}function Wx(n,t){if(tu(t))return dx(t,n.getFilters());{const e=t.filters.map(i=>bb(n,i));return kn.create(e,"or")}}function y_(n){if(At(n instanceof _n||n instanceof kn),n instanceof _n)return n;const t=n.getFilters();if(1===t.length)return y_(t[0]);if(cx(n))return n;const e=t.map(r=>y_(r)),i=[];return e.forEach(r=>{r instanceof _n?i.push(r):r instanceof kn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:kn.create(i,n.op)}class sD{constructor(){this.Ze=new v_}addToCollectionParentIndex(t,e){return this.Ze.add(e),be.resolve()}getCollectionParents(t,e){return be.resolve(this.Ze.getEntries(e))}addFieldIndex(t,e){return be.resolve()}deleteFieldIndex(t,e){return be.resolve()}getDocumentsMatchingTarget(t,e){return be.resolve(null)}getIndexType(t,e){return be.resolve(0)}getFieldIndexes(t,e){return be.resolve([])}getNextCollectionGroupToUpdate(t){return be.resolve(null)}getMinOffset(t,e){return be.resolve(qo.min())}getMinOffsetFromCollectionGroup(t,e){return be.resolve(qo.min())}updateCollectionGroup(t,e,i){return be.resolve()}updateIndexEntries(t,e){return be.resolve()}}class v_{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Nn(yn.comparator),a=!r.has(i);return this.index[e]=r.add(i),a}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Nn(yn.comparator)).toArray()}}const tp=new Uint8Array(0);class Kx{constructor(t,e){this.user=t,this.databaseId=e,this.Xe=new v_,this.tn=new Ic(i=>vl(i),(i,r)=>Kh(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Xe.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Xe.add(e)});const a={collectionId:i,parent:ro(r)};return wb(t).put(a)}return be.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[Yw(e),""],!1,!0);return wb(t).W(r).next(a=>{for(const d of a){if(d.collectionId!==e)break;i.push(Ra(d.parent))}return i})}addFieldIndex(t,e){const i=np(t),r={indexId:(d=e).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var d;delete r.indexId;const a=i.add(r);if(e.indexState){const d=uf(t);return a.next(f=>{d.put(Xm(f,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return a.next()}deleteFieldIndex(t,e){const i=np(t),r=uf(t),a=df(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=df(t);let r=!0;const a=new Map;return be.forEach(this.en(e),d=>this.nn(t,d).next(f=>{r&&(r=!!f),a.set(d,f)})).next(()=>{if(r){let d=rn();const f=[];return be.forEach(a,(_,b)=>{var C;We("IndexedDbIndexManager",`Using index ${C=_,`id=${C.indexId}|cg=${C.collectionGroup}|f=${C.fields.map(wt=>`${wt.fieldPath}:${wt.kind}`).join(",")}`} to execute ${vl(e)}`);const k=function(wt,Ct){const Ut=Bg(Ct);if(void 0===Ut)return null;for(const Wt of Vm(wt,Ut.fieldPath))switch(Wt.op){case"array-contains-any":return Wt.value.arrayValue.values||[];case"array-contains":return[Wt.value]}return null}(b,_),L=function(wt,Ct){const Ut=new Map;for(const Wt of fl(Ct))for(const In of Vm(wt,Wt.fieldPath))switch(In.op){case"==":case"in":Ut.set(Wt.fieldPath.canonicalString(),In.value);break;case"not-in":case"!=":return Ut.set(Wt.fieldPath.canonicalString(),In.value),Array.from(Ut.values())}return null}(b,_),B=function(wt,Ct){const Ut=[];let Wt=!0;for(const In of fl(Ct)){const Zr=0===In.kind?Qg(wt,In.fieldPath,wt.startAt):Aa(wt,In.fieldPath,wt.startAt);Ut.push(Zr.value),Wt&&(Wt=Zr.inclusive)}return new yl(Ut,Wt)}(b,_),$=function(wt,Ct){const Ut=[];let Wt=!0;for(const In of fl(Ct)){const Zr=0===In.kind?Aa(wt,In.fieldPath,wt.endAt):Qg(wt,In.fieldPath,wt.endAt);Ut.push(Zr.value),Wt&&(Wt=Zr.inclusive)}return new yl(Ut,Wt)}(b,_),ce=this.sn(_,b,B),De=this.sn(_,b,$),Ye=this.rn(_,b,L),vt=this.on(_.indexId,k,ce,B.inclusive,De,$.inclusive,Ye);return be.forEach(vt,wt=>i.J(wt,e.limit).next(Ct=>{Ct.forEach(Ut=>{const Wt=Be.fromSegments(Ut.documentKey);d.has(Wt)||(d=d.add(Wt),f.push(Wt))})}))}).next(()=>f)}return be.resolve(null)})}en(t){let e=this.tn.get(t);return e||(e=0===t.filters.length?[t]:oD(kn.create(t.filters,"and")).map(i=>mx(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.tn.set(t,e),e)}on(t,e,i,r,a,d,f){const _=(null!=e?e.length:1)*Math.max(i.length,a.length),b=_/(null!=e?e.length:1),C=[];for(let k=0;k<_;++k){const L=e?this.un(e[k/b]):tp,B=this.cn(t,L,i[k%b],r),$=this.an(t,L,a[k%b],d),ce=f.map(De=>this.cn(t,L,De,!0));C.push(...this.createRange(B,$,ce))}return C}cn(t,e,i,r){const a=new pu(t,Be.empty(),e,i);return r?a:a.Ge()}an(t,e,i,r){const a=new pu(t,Be.empty(),e,i);return r?a.Ge():a}nn(t,e){const i=new rD(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(a=>{let d=null;for(const f of a)i.We(f)&&(!d||f.fields.length>d.fields.length)&&(d=f);return d})}getIndexType(t,e){let i=2;const r=this.en(e);return be.forEach(r,a=>this.nn(t,a).next(d=>{d?0!==i&&d.fields.length<function(f){let _=new Nn(Si.comparator),b=!1;for(const C of f.filters)for(const k of C.getFlattenedFilters())k.field.isKeyField()||("array-contains"===k.op||"array-contains-any"===k.op?b=!0:_=_.add(k.field));for(const C of f.orderBy)C.field.isKeyField()||(_=_.add(C.field));return _.size+(b?1:0)}(a)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}hn(t,e){const i=new ep;for(const r of fl(t)){const a=e.data.field(r.fieldPath);if(null==a)return null;const d=i.Ke(r.kind);Dl.Ee.ae(a,d)}return i.Be()}un(t){const e=new ep;return Dl.Ee.ae(t,e.Ke(0)),e.Be()}ln(t,e){const i=new ep;return Dl.Ee.ae(xc(this.databaseId,e),i.Ke(function(r){const a=fl(r);return 0===a.length?0:a[a.length-1].kind}(t))),i.Be()}rn(t,e,i){if(null===i)return[];let r=[];r.push(new ep);let a=0;for(const d of fl(t)){const f=i[a++];for(const _ of r)if(this.fn(e,d.fieldPath)&&eu(f))r=this.dn(r,d,f);else{const b=_.Ke(d.kind);Dl.Ee.ae(f,b)}}return this._n(r)}sn(t,e,i){return this.rn(t,e,i.position)}_n(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Be();return e}dn(t,e,i){const r=[...t],a=[];for(const d of i.arrayValue.values||[])for(const f of r){const _=new ep;_.seed(f.Be()),Dl.Ee.ae(d,_.Ke(e.kind)),a.push(_)}return a}fn(t,e){return!!t.filters.find(i=>i instanceof _n&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=np(t),r=uf(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(a=>{const d=[];return be.forEach(a,f=>r.get([f.indexId,this.uid]).next(_=>{d.push(function(b,C){const k=C?new Pm(C.sequenceNumber,new qo(Cl(C.readTime),new Be(Ra(C.documentKey)),C.largestBatchId)):Pm.empty(),L=b.fields.map(([B,$])=>new Ug(Si.fromServerFormat(B),$));return new Rm(b.indexId,b.collectionGroup,L,k)}(f,_))})).next(()=>d)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:nn(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=np(t),a=uf(t);return this.wn(t).next(d=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(f=>be.forEach(f,_=>a.put(Xm(_.indexId,this.user,d,i)))))}updateIndexEntries(t,e){const i=new Map;return be.forEach(e,(r,a)=>{const d=i.get(r.collectionGroup);return(d?be.resolve(d):this.getFieldIndexes(t,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),be.forEach(f,_=>this.mn(t,r,_).next(b=>{const C=this.gn(a,_);return b.isEqual(C)?be.resolve():this.yn(t,a,_,b,C)}))))})}pn(t,e,i,r){return df(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.ln(i,e.key),documentKey:e.key.path.toArray()})}In(t,e,i,r){return df(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.ln(i,e.key),e.key.path.toArray()])}mn(t,e,i){const r=df(t);let a=new Nn(Tl);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.ln(i,e)])},(d,f)=>{a=a.add(new pu(i.indexId,e,f.arrayValue,f.directionalValue))}).next(()=>a)}gn(t,e){let i=new Nn(Tl);const r=this.hn(e,t);if(null==r)return i;const a=Bg(e);if(null!=a){const d=t.data.field(a.fieldPath);if(eu(d))for(const f of d.arrayValue.values||[])i=i.add(new pu(e.indexId,t.key,this.un(f),r))}else i=i.add(new pu(e.indexId,t.key,tp,r));return i}yn(t,e,i,r,a){We("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const d=[];return function(f,_,b,C,k){const L=f.getIterator(),B=_.getIterator();let $=Wh(L),ce=Wh(B);for(;$||ce;){let De=!1,Ye=!1;if($&&ce){const vt=b($,ce);vt<0?Ye=!0:vt>0&&(De=!0)}else null!=$?Ye=!0:De=!0;De?(C(ce),ce=Wh(B)):Ye?(k($),$=Wh(L)):($=Wh(L),ce=Wh(B))}}(r,a,Tl,f=>{d.push(this.pn(t,e,i,f))},f=>{d.push(this.In(t,e,i,f))}),be.waitFor(d)}wn(t){let e=1;return uf(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((d,f)=>Tl(d,f)).filter((d,f,_)=>!f||0!==Tl(d,_[f-1]));const r=[];r.push(t);for(const d of i){const f=Tl(d,t),_=Tl(d,e);if(0===f)r[0]=t.Ge();else if(f>0&&_<0)r.push(d),r.push(d.Ge());else if(_>0)break}r.push(e);const a=[];for(let d=0;d<r.length;d+=2){if(this.Tn(r[d],r[d+1]))return[];a.push(IDBKeyRange.bound([r[d].indexId,this.uid,r[d].arrayValue,r[d].directionalValue,tp,[]],[r[d+1].indexId,this.uid,r[d+1].arrayValue,r[d+1].directionalValue,tp,[]]))}return a}Tn(t,e){return Tl(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(xb)}getMinOffset(t,e){return be.mapArray(this.en(e),i=>this.nn(t,i).next(r=>r||bt())).next(xb)}}function wb(n){return dr(n,"collectionParents")}function df(n){return dr(n,"indexEntries")}function np(n){return dr(n,"indexConfiguration")}function uf(n){return dr(n,"indexState")}function xb(n){At(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;Jw(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new qo(t.readTime,t.documentKey,e)}const Eb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Gr{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Gr(t,Gr.DEFAULT_COLLECTION_PERCENTILE,Gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Cb(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],d=IDBKeyRange.only(e.batchId);let f=0;const _=i.X({range:d},(C,k,L)=>(f++,L.delete()));a.push(_.next(()=>{At(1===f)}));const b=[];for(const C of e.mutations){const k=Rx(t,C.key.path,e.batchId);a.push(r.delete(k)),b.push(C.key)}return be.waitFor(a).next(()=>b)}function Fa(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw bt();t=n.noDocument}return JSON.stringify(t).length}Gr.DEFAULT_COLLECTION_PERCENTILE=10,Gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gr.DEFAULT=new Gr(41943040,Gr.DEFAULT_COLLECTION_PERCENTILE,Gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gr.DISABLED=new Gr(-1,0,0);class b_{constructor(t,e,i,r){this.userId=t,this.Tt=e,this.indexManager=i,this.referenceDelegate=r,this.En={}}static ue(t,e,i,r){At(""!==t.uid);const a=t.isAuthenticated()?t.uid:"";return new b_(a,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wo(t).X({index:"userMutationsIndex",range:i},(r,a,d)=>{e=!1,d.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const a=ip(t),d=Wo(t);return d.add({}).next(f=>{At("number"==typeof f);const _=new ub(f,e,i,r),b=function(L,B,$){const ce=$.baseMutations.map(Ye=>sf(L.oe,Ye)),De=$.mutations.map(Ye=>sf(L.oe,Ye));return{userId:B,batchId:$.batchId,localWriteTimeMs:$.localWriteTime.toMillis(),baseMutations:ce,mutations:De}}(this.Tt,this.userId,_),C=[];let k=new Nn((L,B)=>nn(L.canonicalString(),B.canonicalString()));for(const L of r){const B=Rx(this.userId,L.key.path,f);k=k.add(L.key.path.popLast()),C.push(d.put(b)),C.push(a.put(B,ZS))}return k.forEach(L=>{C.push(this.indexManager.addToCollectionParentIndex(t,L))}),t.addOnCommittedListener(()=>{this.En[f]=_.keys()}),be.waitFor(C).next(()=>_)})}lookupMutationBatch(t,e){return Wo(t).get(e).next(i=>i?(At(i.userId===this.userId),Il(this.Tt,i)):null)}An(t,e){return this.En[e]?be.resolve(this.En[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.En[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return Wo(t).X({index:"userMutationsIndex",range:r},(d,f,_)=>{f.userId===this.userId&&(At(f.batchId>=i),a=Il(this.Tt,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Wo(t).X({index:"userMutationsIndex",range:e,reverse:!0},(r,a,d)=>{i=a.batchId,d.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wo(t).W("userMutationsIndex",e).next(i=>i.map(r=>Il(this.Tt,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=Zm(this.userId,e.path),r=IDBKeyRange.lowerBound(i),a=[];return ip(t).X({range:r},(d,f,_)=>{const[b,C,k]=d,L=Ra(C);if(b===this.userId&&e.path.isEqual(L))return Wo(t).get(k).next(B=>{if(!B)throw bt();At(B.userId===this.userId),a.push(Il(this.Tt,B))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Nn(nn);const r=[];return e.forEach(a=>{const d=Zm(this.userId,a.path),f=IDBKeyRange.lowerBound(d),_=ip(t).X({range:f},(b,C,k)=>{const[L,B,$]=b,ce=Ra(B);L===this.userId&&a.path.isEqual(ce)?i=i.add($):k.done()});r.push(_)}),be.waitFor(r).next(()=>this.Rn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,a=Zm(this.userId,i),d=IDBKeyRange.lowerBound(a);let f=new Nn(nn);return ip(t).X({range:d},(_,b,C)=>{const[k,L,B]=_,$=Ra(L);k===this.userId&&i.isPrefixOf($)?$.length===r&&(f=f.add(B)):C.done()}).next(()=>this.Rn(t,f))}Rn(t,e){const i=[],r=[];return e.forEach(a=>{r.push(Wo(t).get(a).next(d=>{if(null===d)throw bt();At(d.userId===this.userId),i.push(Il(this.Tt,d))}))}),be.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return Cb(t.re,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Pn(e.batchId)}),be.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Pn(t){delete this.En[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return be.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return ip(t).X({range:i},(a,d,f)=>{if(a[0]===this.userId){const _=Ra(a[1]);r.push(_)}else f.done()}).next(()=>{At(0===r.length)})})}containsKey(t,e){return Zx(t,this.userId,e)}vn(t){return w_(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Zx(n,t,e){const i=Zm(t,e.path),r=i[1],a=IDBKeyRange.lowerBound(i);let d=!1;return ip(n).X({range:a,Z:!0},(f,_,b)=>{const[C,k,L]=f;C===t&&k===r&&(d=!0),b.done()}).next(()=>d)}function Wo(n){return dr(n,"mutations")}function ip(n){return dr(n,"documentMutations")}function w_(n){return dr(n,"mutationQueues")}class hf{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Vn(){return new hf(0)}static Sn(){return new hf(-1)}}class Yx{constructor(t,e){this.referenceDelegate=t,this.Tt=e}allocateTargetId(t){return this.Dn(t).next(e=>{const i=new hf(e.highestTargetId);return e.highestTargetId=i.next(),this.Cn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Dn(t).next(e=>Pt.fromTimestamp(new ai(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Dn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Dn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Cn(t,r)))}addTargetData(t,e){return this.xn(t,e).next(()=>this.Dn(t).next(i=>(i.targetCount+=1,this.Nn(e,i),this.Cn(t,i))))}updateTargetData(t,e){return this.xn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>gu(t).delete(e.targetId)).next(()=>this.Dn(t)).next(i=>(At(i.targetCount>0),i.targetCount-=1,this.Cn(t,i)))}removeTargets(t,e,i){let r=0;const a=[];return gu(t).X((d,f)=>{const _=Sl(f);_.sequenceNumber<=e&&null===i.get(_.targetId)&&(r++,a.push(this.removeTargetData(t,_)))}).next(()=>be.waitFor(a)).next(()=>r)}forEachTarget(t,e){return gu(t).X((i,r)=>{const a=Sl(r);e(a)})}Dn(t){return aD(t).get("targetGlobalKey").next(e=>(At(null!==e),e))}Cn(t,e){return aD(t).put("targetGlobalKey",e)}xn(t,e){return gu(t).put(jx(this.Tt,e))}Nn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Dn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=vl(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return gu(t).X({range:r,index:"queryTargetsIndex"},(d,f,_)=>{const b=Sl(f);Kh(e,b.target)&&(a=b,_.done())}).next(()=>a)}addMatchingKeys(t,e,i){const r=[],a=Ot(t);return e.forEach(d=>{const f=ro(d.path);r.push(a.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(t,i,d))}),be.waitFor(r)}removeMatchingKeys(t,e,i){const r=Ot(t);return be.forEach(e,a=>{const d=ro(a.path);return be.waitFor([r.delete([i,d]),this.referenceDelegate.removeReference(t,i,a)])})}removeMatchingKeysForTargetId(t,e){const i=Ot(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Ot(t);let a=rn();return r.X({range:i,Z:!0},(d,f,_)=>{const b=Ra(d[1]),C=new Be(b);a=a.add(C)}).next(()=>a)}containsKey(t,e){const i=ro(e.path),r=IDBKeyRange.bound([i],[Yw(i)],!1,!0);let a=0;return Ot(t).X({index:"documentTargetsIndex",Z:!0,range:r},([d,f],_,b)=>{0!==d&&(a++,b.done())}).next(()=>a>0)}ie(t,e){return gu(t).get(e).next(i=>i?Sl(i):null)}}function gu(n){return dr(n,"targets")}function aD(n){return dr(n,"targetGlobal")}function Ot(n){return dr(n,"targetDocuments")}function Qx([n,t],[e,i]){const r=nn(n,e);return 0===r?nn(t,i):r}class cD{constructor(t){this.kn=t,this.buffer=new Nn(Qx),this.$n=0}Mn(){return++this.$n}On(t){const e=[t,this.Mn()];if(this.buffer.size<this.kn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();Qx(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class lD{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Fn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Bn(6e4)}stop(){this.Fn&&(this.Fn.cancel(),this.Fn=null)}get started(){return null!==this.Fn}Bn(t){var e=this;We("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Fn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,ue.Z)(function*(){e.Fn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){Qd(i)?We("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield So(i)}yield e.Bn(3e5)}))}}class ff{constructor(t,e){this.Ln=t,this.params=e}calculateTargetCount(t,e){return this.Ln.qn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return be.resolve(Do.at);const i=new cD(e);return this.Ln.forEachTarget(t,r=>i.On(r.sequenceNumber)).next(()=>this.Ln.Un(t,r=>i.On(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Ln.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Ln.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(We("LruGarbageCollector","Garbage collection skipped; disabled"),be.resolve(Eb)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(We("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Eb):this.Kn(t,e))}getCacheSize(t){return this.Ln.getCacheSize(t)}Kn(t,e){let i,r,a,d,f,_,b;const C=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(k=>(k>this.params.maximumSequenceNumbersToCollect?(We("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${k}`),r=this.params.maximumSequenceNumbersToCollect):r=k,d=Date.now(),this.nthSequenceNumber(t,r))).next(k=>(i=k,f=Date.now(),this.removeTargets(t,i,e))).next(k=>(a=k,_=Date.now(),this.removeOrphanedDocuments(t,i))).next(k=>(b=Date.now(),Zd()<=Mn.in.DEBUG&&We("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-C}ms\n\tDetermined least recently used ${r} in `+(f-d)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${k} documents in `+(b-_)+`ms\nTotal Duration: ${b-C}ms`),be.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:k})))}}class dD{constructor(t,e){this.db=t,this.garbageCollector=new ff(this,e)}qn(t){const e=this.Gn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Gn(t){let e=0;return this.Un(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Un(t,e){return this.Qn(t,(i,r)=>e(r))}addReference(t,e,i){return _u(t,i)}removeReference(t,e,i){return _u(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return _u(t,e)}jn(t,e){return function(i,r){let a=!1;return w_(i).tt(d=>Zx(i,d,r).next(f=>(f&&(a=!0),be.resolve(!f)))).next(()=>a)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Qn(t,(d,f)=>{if(f<=e){const _=this.jn(t,d).next(b=>{if(!b)return a++,i.getEntry(t,d).next(()=>(i.removeEntry(d,Pt.min()),Ot(t).delete([0,ro(d.path)])))});r.push(_)}}).next(()=>be.waitFor(r)).next(()=>i.apply(t)).next(()=>a)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return _u(t,e)}Qn(t,e){const i=Ot(t);let r,a=Do.at;return i.X({index:"documentTargetsIndex"},([d,f],{path:_,sequenceNumber:b})=>{0===d?(a!==Do.at&&e(new Be(Ra(r)),a),a=b,r=_):a=Do.at}).next(()=>{a!==Do.at&&e(new Be(Ra(r)),a)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function _u(n,t){return Ot(n).put((i=n.currentSequenceNumber,{targetId:0,path:ro(t.path),sequenceNumber:i}));var i}class rp{constructor(){this.changes=new Ic(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ci.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?be.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Ti{constructor(t){this.Tt=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return yu(t).put(i)}removeEntry(t,e,i){return yu(t).delete(function(r,a){const d=r.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Qm(a),d[d.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.zn(t,i)))}getEntry(t,e){let i=ci.newInvalidDocument(e);return yu(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(mf(e))},(r,a)=>{i=this.Wn(e,a)}).next(()=>i)}Hn(t,e){let i={size:0,document:ci.newInvalidDocument(e)};return yu(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(mf(e))},(r,a)=>{i={document:this.Wn(e,a),size:Fa(a)}}).next(()=>i)}getEntries(t,e){let i=io();return this.Jn(t,e,(r,a)=>{const d=this.Wn(r,a);i=i.insert(r,d)}).next(()=>i)}Yn(t,e){let i=io(),r=new Di(Be.comparator);return this.Jn(t,e,(a,d)=>{const f=this.Wn(a,d);i=i.insert(a,f),r=r.insert(a,Fa(d))}).next(()=>({documents:i,Zn:r}))}Jn(t,e,i){if(e.isEmpty())return be.resolve();let r=new Nn(Db);e.forEach(_=>r=r.add(_));const a=IDBKeyRange.bound(mf(r.first()),mf(r.last())),d=r.getIterator();let f=d.getNext();return yu(t).X({index:"documentKeyIndex",range:a},(_,b,C)=>{const k=Be.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;f&&Db(f,k)<0;)i(f,null),f=d.getNext();f&&f.isEqual(k)&&(i(f,b),f=d.hasNext()?d.getNext():null),f?C.j(mf(f)):C.done()}).next(()=>{for(;f;)i(f,null),f=d.hasNext()?d.getNext():null})}getDocumentsMatchingQuery(t,e,i,r){const a=e.path,d=[a.popLast().toArray(),a.lastSegment(),Qm(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],f=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return yu(t).W(IDBKeyRange.bound(d,f,!0)).next(_=>{let b=io();for(const C of _){const k=this.Wn(Be.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);k.isFoundDocument()&&($m(e,k)||r.has(k.key))&&(b=b.insert(k.key,k))}return b})}getAllFromCollectionGroup(t,e,i,r){let a=io();const d=Sb(e,i),f=Sb(e,qo.max());return yu(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,f,!0)},(_,b,C)=>{const k=this.Wn(Be.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);a=a.insert(k.key,k),a.size===r&&C.done()}).next(()=>a)}newChangeBuffer(t){return new Xx(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return Ib(t).get("remoteDocumentGlobalKey").next(e=>(At(!!e),e))}zn(t,e){return Ib(t).put("remoteDocumentGlobalKey",e)}Wn(t,e){if(e){const i=function Ym(n,t){let e;if(t.document)e=ob(n.oe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Be.fromSegments(t.noDocument.path),r=Cl(t.noDocument.readTime);e=ci.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return bt();{const i=Be.fromSegments(t.unknownDocument.path),r=Cl(t.unknownDocument.version);e=ci.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new ai(i[0],i[1]);return Pt.fromTimestamp(r)}(t.readTime)),e}(this.Tt,e);if(!i.isNoDocument()||!i.version.isEqual(Pt.min()))return i}return ci.newInvalidDocument(t)}}function uD(n){return new Ti(n)}class Xx extends rp{constructor(t,e){super(),this.Xn=t,this.trackRemovals=e,this.ts=new Ic(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Nn((a,d)=>nn(a.canonicalString(),d.canonicalString()));return this.changes.forEach((a,d)=>{const f=this.ts.get(a);if(e.push(this.Xn.removeEntry(t,a,f.readTime)),d.isValidDocument()){const _=Vx(this.Xn.Tt,d);r=r.add(a.path.popLast());const b=Fa(_);i+=b-f.size,e.push(this.Xn.addEntry(t,a,_))}else if(i-=f.size,this.trackRemovals){const _=Vx(this.Xn.Tt,d.convertToNoDocument(Pt.min()));e.push(this.Xn.addEntry(t,a,_))}}),r.forEach(a=>{e.push(this.Xn.indexManager.addToCollectionParentIndex(t,a))}),e.push(this.Xn.updateMetadata(t,i)),be.waitFor(e)}getFromCache(t,e){return this.Xn.Hn(t,e).next(i=>(this.ts.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Xn.Yn(t,e).next(({documents:i,Zn:r})=>(r.forEach((a,d)=>{this.ts.set(a,{size:d,readTime:i.get(a).readTime})}),i))}}function Ib(n){return dr(n,"remoteDocumentGlobal")}function yu(n){return dr(n,"remoteDocumentsV14")}function mf(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Sb(n,t){const e=t.documentKey.path.toArray();return[n,Qm(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function Db(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let a=0;a<e.length-2&&a<i.length-2;++a)if(r=nn(e[a],i[a]),r)return r;return r=nn(e.length,i.length),r||(r=nn(e[e.length-2],i[i.length-2]),r||nn(e[e.length-1],i[i.length-1]))}class Jx{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class eE{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&Ec(i.mutation,r,Nr.empty(),ai.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,rn()).next(()=>i))}getLocalViewOfDocuments(t,e,i=rn()){const r=qs();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(a=>{let d=ef();return a.forEach((f,_)=>{d=d.insert(f,_.overlayedDocument)}),d}))}getOverlayedDocuments(t,e){const i=qs();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,rn()))}populateOverlays(t,e,i){const r=[];return i.forEach(a=>{e.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(t,r).next(a=>{a.forEach((d,f)=>{e.set(d,f)})})}computeViews(t,e,i,r){let a=io();const d=tf(),f=tf();return e.forEach((_,b)=>{const C=i.get(b.key);r.has(b.key)&&(void 0===C||C.mutation instanceof Ji)?a=a.insert(b.key,b):void 0!==C?(d.set(b.key,C.mutation.getFieldMask()),Ec(C.mutation,b,C.mutation.getFieldMask(),ai.now())):d.set(b.key,Nr.empty())}),this.recalculateAndSaveOverlays(t,a).next(_=>(_.forEach((b,C)=>d.set(b,C)),e.forEach((b,C)=>{var k;return f.set(b,new Jx(C,null!==(k=d.get(b))&&void 0!==k?k:null))}),f))}recalculateAndSaveOverlays(t,e){const i=tf();let r=new Di((d,f)=>d-f),a=rn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(d=>{for(const f of d)f.keys().forEach(_=>{const b=e.get(_);if(null===b)return;let C=i.get(_)||Nr.empty();C=f.applyToLocalView(b,C),i.set(_,C);const k=(r.get(f.batchId)||rn()).add(_);r=r.insert(f.batchId,k)})}).next(()=>{const d=[],f=r.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),b=_.key,C=_.value,k=Jv();C.forEach(L=>{if(!a.has(L)){const B=Ex(e.get(L),i.get(L));null!==B&&k.set(L,B),a=a.add(L)}}),d.push(this.documentOverlayCache.saveOverlays(t,b,k))}return be.waitFor(d)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return Be.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):Gv(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(a=>{const d=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-a.size):be.resolve(qs());let f=-1,_=a;return d.next(b=>be.forEach(b,(C,k)=>(f<k.largestBatchId&&(f=k.largestBatchId),a.get(C)?be.resolve():this.remoteDocumentCache.getEntry(t,C).next(L=>{_=_.insert(C,L)}))).next(()=>this.populateOverlays(t,b,a)).next(()=>this.computeViews(t,_,b,rn())).next(C=>({batchId:f,changes:Xv(C)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Be(e)).next(i=>{let r=ef();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let a=ef();return this.indexManager.getCollectionParents(t,r).next(d=>be.forEach(d,f=>{const _=(b=e,C=f.child(r),new fs(C,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,C;return this.getDocumentsMatchingCollectionQuery(t,_,i).next(b=>{b.forEach((C,k)=>{a=a.insert(C,k)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,r))).next(a=>{r.forEach((f,_)=>{const b=_.getKey();null===a.get(b)&&(a=a.insert(b,ci.newInvalidDocument(b)))});let d=ef();return a.forEach((f,_)=>{const b=r.get(f);void 0!==b&&Ec(b.mutation,_,Nr.empty(),ai.now()),$m(e,_)&&(d=d.insert(f,_))}),d})}}class hD{constructor(t){this.Tt=t,this.es=new Map,this.ns=new Map}getBundleMetadata(t,e){return be.resolve(this.es.get(e))}saveBundleMetadata(t,e){var i;return this.es.set(e.id,{id:(i=e).id,version:i.version,createTime:Bi(i.createTime)}),be.resolve()}getNamedQuery(t,e){return be.resolve(this.ns.get(e))}saveNamedQuery(t,e){return this.ns.set(e.name,{name:(i=e).name,query:p_(i.bundledQuery),readTime:Bi(i.readTime)}),be.resolve();var i}}class fD{constructor(){this.overlays=new Di(Be.comparator),this.ss=new Map}getOverlay(t,e){return be.resolve(this.overlays.get(e))}getOverlays(t,e){const i=qs();return be.forEach(e,r=>this.getOverlay(t,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,a)=>{this.ce(t,e,a)}),be.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.ss.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.ss.delete(i)),be.resolve()}getOverlaysForCollection(t,e,i){const r=qs(),a=e.length+1,d=new Be(e.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const _=f.getNext().value,b=_.getKey();if(!e.isPrefixOf(b.path))break;b.path.length===a&&_.largestBatchId>i&&r.set(_.getKey(),_)}return be.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let a=new Di((b,C)=>b-C);const d=this.overlays.getIterator();for(;d.hasNext();){const b=d.getNext().value;if(b.getKey().getCollectionGroup()===e&&b.largestBatchId>i){let C=a.get(b.largestBatchId);null===C&&(C=qs(),a=a.insert(b.largestBatchId,C)),C.set(b.getKey(),b)}}const f=qs(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((b,C)=>f.set(b,C)),!(f.size()>=r)););return be.resolve(f)}ce(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const d=this.ss.get(r.largestBatchId).delete(i.key);this.ss.set(r.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new fb(e,i));let a=this.ss.get(e);void 0===a&&(a=rn(),this.ss.set(e,a)),this.ss.set(e,a.add(i.key))}}class vu{constructor(){this.rs=new Nn(xr.os),this.us=new Nn(xr.cs)}isEmpty(){return this.rs.isEmpty()}addReference(t,e){const i=new xr(t,e);this.rs=this.rs.add(i),this.us=this.us.add(i)}hs(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.ls(new xr(t,e))}fs(t,e){t.forEach(i=>this.removeReference(i,e))}ds(t){const e=new Be(new yn([])),i=new xr(e,t),r=new xr(e,t+1),a=[];return this.us.forEachInRange([i,r],d=>{this.ls(d),a.push(d.key)}),a}_s(){this.rs.forEach(t=>this.ls(t))}ls(t){this.rs=this.rs.delete(t),this.us=this.us.delete(t)}ws(t){const e=new Be(new yn([])),i=new xr(e,t),r=new xr(e,t+1);let a=rn();return this.us.forEachInRange([i,r],d=>{a=a.add(d.key)}),a}containsKey(t){const e=new xr(t,0),i=this.rs.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class xr{constructor(t,e){this.key=t,this.gs=e}static os(t,e){return Be.comparator(t.key,e.key)||nn(t.gs,e.gs)}static cs(t,e){return nn(t.gs,e.gs)||Be.comparator(t.key,e.key)}}class mD{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ys=1,this.ps=new Nn(xr.os)}checkEmpty(t){return be.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const a=this.ys;this.ys++;const d=new ub(a,e,i,r);this.mutationQueue.push(d);for(const f of r)this.ps=this.ps.add(new xr(f.key,a)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return be.resolve(d)}lookupMutationBatch(t,e){return be.resolve(this.Is(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Ts(e+1),a=r<0?0:r;return be.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(0===this.mutationQueue.length?-1:this.ys-1)}getAllMutationBatches(t){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new xr(e,0),r=new xr(e,Number.POSITIVE_INFINITY),a=[];return this.ps.forEachInRange([i,r],d=>{const f=this.Is(d.gs);a.push(f)}),be.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Nn(nn);return e.forEach(r=>{const a=new xr(r,0),d=new xr(r,Number.POSITIVE_INFINITY);this.ps.forEachInRange([a,d],f=>{i=i.add(f.gs)})}),be.resolve(this.Es(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let a=i;Be.isDocumentKey(a)||(a=a.child(""));const d=new xr(new Be(a),0);let f=new Nn(nn);return this.ps.forEachWhile(_=>{const b=_.key.path;return!!i.isPrefixOf(b)&&(b.length===r&&(f=f.add(_.gs)),!0)},d),be.resolve(this.Es(f))}Es(t){const e=[];return t.forEach(i=>{const r=this.Is(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){At(0===this.As(e.batchId,"removed")),this.mutationQueue.shift();let i=this.ps;return be.forEach(e.mutations,r=>{const a=new xr(r.key,e.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.ps=i})}Pn(t){}containsKey(t,e){const i=new xr(e,0),r=this.ps.firstAfterOrEqual(i);return be.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return be.resolve()}As(t,e){return this.Ts(t)}Ts(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Is(t){const e=this.Ts(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class pD{constructor(t){this.Rs=t,this.docs=new Di(Be.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),a=r?r.size:0,d=this.Rs(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:d}),this.size+=d-a,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return be.resolve(i?i.document.mutableCopy():ci.newInvalidDocument(e))}getEntries(t,e){let i=io();return e.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():ci.newInvalidDocument(r))}),be.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let a=io();const d=e.path,f=new Be(d.child("")),_=this.docs.getIteratorFrom(f);for(;_.hasNext();){const{key:b,value:{document:C}}=_.getNext();if(!d.isPrefixOf(b.path))break;b.path.length>d.length+1||Jw(Xw(C),i)<=0||(r.has(C.key)||$m(e,C))&&(a=a.insert(C.key,C.mutableCopy()))}return be.resolve(a)}getAllFromCollectionGroup(t,e,i,r){bt()}Ps(t,e){return be.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new x_(this)}getSize(t){return be.resolve(this.size)}}class x_ extends rp{constructor(t){super(),this.Xn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Xn.addEntry(t,r)):this.Xn.removeEntry(i)}),be.waitFor(e)}getFromCache(t,e){return this.Xn.getEntry(t,e)}getAllFromCache(t,e){return this.Xn.getEntries(t,e)}}class tE{constructor(t){this.persistence=t,this.vs=new Ic(e=>vl(e),Kh),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.bs=0,this.Vs=new vu,this.targetCount=0,this.Ss=hf.Vn()}forEachTarget(t,e){return this.vs.forEach((i,r)=>e(r)),be.resolve()}getLastRemoteSnapshotVersion(t){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return be.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.Ss.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.bs&&(this.bs=e),be.resolve()}xn(t){this.vs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ss=new hf(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.xn(e),this.targetCount+=1,be.resolve()}updateTargetData(t,e){return this.xn(e),be.resolve()}removeTargetData(t,e){return this.vs.delete(e.target),this.Vs.ds(e.targetId),this.targetCount-=1,be.resolve()}removeTargets(t,e,i){let r=0;const a=[];return this.vs.forEach((d,f)=>{f.sequenceNumber<=e&&null===i.get(f.targetId)&&(this.vs.delete(d),a.push(this.removeMatchingKeysForTargetId(t,f.targetId)),r++)}),be.waitFor(a).next(()=>r)}getTargetCount(t){return be.resolve(this.targetCount)}getTargetData(t,e){const i=this.vs.get(e)||null;return be.resolve(i)}addMatchingKeys(t,e,i){return this.Vs.hs(e,i),be.resolve()}removeMatchingKeys(t,e,i){this.Vs.fs(e,i);const r=this.persistence.referenceDelegate,a=[];return r&&e.forEach(d=>{a.push(r.markPotentiallyOrphaned(t,d))}),be.waitFor(a)}removeMatchingKeysForTargetId(t,e){return this.Vs.ds(e),be.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Vs.ws(e);return be.resolve(i)}containsKey(t,e){return be.resolve(this.Vs.containsKey(e))}}class Tb{constructor(t,e){this.Ds={},this.overlays={},this.Cs=new Do(0),this.xs=!1,this.xs=!0,this.referenceDelegate=t(this),this.Ns=new tE(this),this.indexManager=new sD,this.remoteDocumentCache=new pD(i=>this.referenceDelegate.ks(i)),this.Tt=new m_(e),this.$s=new hD(this.Tt)}start(){return Promise.resolve()}shutdown(){return this.xs=!1,Promise.resolve()}get started(){return this.xs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new fD,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Ds[t.toKey()];return i||(i=new mD(e,this.referenceDelegate),this.Ds[t.toKey()]=i),i}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$s}runTransaction(t,e,i){We("MemoryPersistence","Starting transaction:",t);const r=new nE(this.Cs.next());return this.referenceDelegate.Ms(),i(r).next(a=>this.referenceDelegate.Os(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Fs(t,e){return be.or(Object.values(this.Ds).map(i=>()=>i.containsKey(t,e)))}}class nE extends Mv{constructor(t){super(),this.currentSequenceNumber=t}}class E_{constructor(t){this.persistence=t,this.Bs=new vu,this.Ls=null}static qs(t){return new E_(t)}get Us(){if(this.Ls)return this.Ls;throw bt()}addReference(t,e,i){return this.Bs.addReference(i,e),this.Us.delete(i.toString()),be.resolve()}removeReference(t,e,i){return this.Bs.removeReference(i,e),this.Us.add(i.toString()),be.resolve()}markPotentiallyOrphaned(t,e){return this.Us.add(e.toString()),be.resolve()}removeTarget(t,e){this.Bs.ds(e.targetId).forEach(r=>this.Us.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(a=>this.Us.add(a.toString()))}).next(()=>i.removeTargetData(t,e))}Ms(){this.Ls=new Set}Os(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.Us,i=>{const r=Be.fromPath(i);return this.Ks(t,r).next(a=>{a||e.removeEntry(r,Pt.min())})}).next(()=>(this.Ls=null,e.apply(t)))}updateLimboDocument(t,e){return this.Ks(t,e).next(i=>{i?this.Us.delete(e.toString()):this.Us.add(e.toString())})}ks(t){return 0}Ks(t,e){return be.or([()=>be.resolve(this.Bs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Fs(t,e)])}}class op{constructor(t){this.Tt=t}F(t,e,i,r){const a=new zh("createOrUpgrade",e);var f;i<1&&r>=1&&(t.createObjectStore("owner"),(f=t).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",er,{unique:!0}),f.createObjectStore("documentMutations"),pf(t),function(f){f.createObjectStore("remoteDocuments")}(t));let d=be.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(t),pf(t)),d=d.next(()=>function(f){const _=f.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Pt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",b)}(a))),i<4&&r>=4&&(0!==i&&(d=d.next(()=>function(f,_){return _.store("mutations").W().next(b=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",er,{unique:!0});const C=_.store("mutations"),k=b.map(L=>C.put(L));return be.waitFor(k)})}(t,a))),d=d.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(d=d.next(()=>this.Gs(a))),i<6&&r>=6&&(d=d.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(t),this.Qs(a)))),i<7&&r>=7&&(d=d.next(()=>this.js(a))),i<8&&r>=8&&(d=d.next(()=>this.zs(t,a))),i<9&&r>=9&&(d=d.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(d=d.next(()=>this.Ws(a))),i<11&&r>=11&&(d=d.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(d=d.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:lb});_.createIndex("collectionPathOverlayIndex",db,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",Pa,{unique:!1})}(t)})),i<13&&r>=13&&(d=d.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:Px});_.createIndex("documentKeyIndex",YS),_.createIndex("collectionGroupIndex",Fx)}(t)).next(()=>this.Hs(t,a)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(d=d.next(()=>this.Js(t,a))),i<15&&r>=15&&(d=d.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:Lx}).createIndex("sequenceNumberIndex",JS,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:Bx}).createIndex("documentKeyIndex",Sk,{unique:!1})}(t))),d}Qs(t){let e=0;return t.store("remoteDocuments").X((i,r)=>{e+=Fa(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Gs(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>be.forEach(r,a=>{const d=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",d).next(f=>be.forEach(f,_=>{At(_.userId===a.userId);const b=Il(this.Tt,_);return Cb(t,a.userId,b).next(()=>{})}))}))}js(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.X((d,f)=>{const _=new yn(d),b=[0,ro(_)];a.push(e.get(b).next(C=>C?be.resolve():e.put({targetId:0,path:ro(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>be.waitFor(a))})}zs(t,e){t.createObjectStore("collectionParents",{keyPath:XS});const i=e.store("collectionParents"),r=new v_,a=d=>{if(r.add(d)){const f=d.lastSegment(),_=d.popLast();return i.put({collectionId:f,parent:ro(_)})}};return e.store("remoteDocuments").X({Z:!0},(d,f)=>{const _=new yn(d);return a(_.popLast())}).next(()=>e.store("documentMutations").X({Z:!0},([d,f,_],b)=>{const C=Ra(f);return a(C.popLast())}))}Ws(t){const e=t.store("targets");return e.X((i,r)=>{const a=Sl(r),d=jx(this.Tt,a);return e.put(d)})}Hs(t,e){const i=e.store("remoteDocuments"),r=[];return i.X((a,d)=>{const f=e.store("remoteDocumentsV14"),_=(b=d,b.document?new Be(yn.fromString(b.document.name).popFirst(5)):b.noDocument?Be.fromSegments(b.noDocument.path):b.unknownDocument?Be.fromSegments(b.unknownDocument.path):bt()).path.toArray();var b;const C={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};r.push(f.put(C))}).next(()=>be.waitFor(r))}Js(t,e){const i=e.store("mutations"),r=uD(this.Tt),a=new Tb(E_.qs,this.Tt.oe);return i.W().next(d=>{const f=new Map;return d.forEach(_=>{var b;let C=null!==(b=f.get(_.userId))&&void 0!==b?b:rn();Il(this.Tt,_).keys().forEach(k=>C=C.add(k)),f.set(_.userId,C)}),be.forEach(f,(_,b)=>{const C=new Qi(b),k=Jm.ue(this.Tt,C),L=a.getIndexManager(C),B=b_.ue(C,this.Tt,L,a.referenceDelegate);return new eE(r,B,k,L).recalculateAndSaveOverlaysForDocumentKeys(new f_(e,Do.at),_).next()})})}}function pf(n){n.createObjectStore("targetDocuments",{keyPath:cf}).createIndex("documentTargetsIndex",QS,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Nx,{unique:!0}),n.createObjectStore("targetGlobal")}const Ab="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Mb{constructor(t,e,i,r,a,d,f,_,b,C,k=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Ys=a,this.window=d,this.document=f,this.Zs=b,this.Xs=C,this.ti=k,this.Cs=null,this.xs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ei=null,this.inForeground=!1,this.ni=null,this.si=null,this.ii=Number.NEGATIVE_INFINITY,this.ri=L=>Promise.resolve(),!Mb.C())throw new $e(Se.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new dD(this,r),this.oi=e+"main",this.Tt=new m_(_),this.ui=new Hs(this.oi,this.ti,new op(this.Tt)),this.Ns=new Yx(this.referenceDelegate,this.Tt),this.remoteDocumentCache=uD(this.Tt),this.$s=new zx,this.window&&this.window.localStorage?this.ci=this.window.localStorage:(this.ci=null,!1===C&&Ni("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new $e(Se.FAILED_PRECONDITION,Ab);return this.hi(),this.li(),this.fi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Ns.getHighestSequenceNumber(t))}).then(t=>{this.Cs=new Do(t,this.Zs)}).then(()=>{this.xs=!0}).catch(t=>(this.ui&&this.ui.close(),Promise.reject(t)))}di(t){var e=this;return this.ri=function(){var i=(0,ue.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ui.L(function(){var e=(0,ue.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Ys.enqueueAndForget((0,ue.Z)(function*(){e.started&&(yield e.ai())})))}ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>ap(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this._i(t).next(e=>{e||(this.isPrimary=!1,this.Ys.enqueueRetryable(()=>this.ri(!1)))})}).next(()=>this.wi(t)).next(e=>this.isPrimary&&!e?this.mi(t).next(()=>!1):!!e&&this.gi(t).next(()=>!0))).catch(t=>{if(Qd(t))return We("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return We("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Ys.enqueueRetryable(()=>this.ri(t)),this.isPrimary=t})}_i(t){return sp(t).get("owner").next(e=>be.resolve(this.yi(e)))}pi(t){return ap(t).delete(this.clientId)}Ii(){var t=this;return(0,ue.Z)(function*(){if(t.isPrimary&&!t.Ti(t.ii,18e5)){t.ii=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=dr(i,"clientMetadata");return r.W().next(a=>{const d=t.Ei(a,18e5),f=a.filter(_=>-1===d.indexOf(_));return be.forEach(f,_=>r.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(t.ci)for(const i of e)t.ci.removeItem(t.Ai(i.clientId))}})()}fi(){this.si=this.Ys.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ai().then(()=>this.Ii()).then(()=>this.fi()))}yi(t){return!!t&&t.ownerId===this.clientId}wi(t){return this.Xs?be.resolve(!0):sp(t).get("owner").next(e=>{if(null!==e&&this.Ti(e.leaseTimestampMs,5e3)&&!this.Ri(e.ownerId)){if(this.yi(e)&&this.networkEnabled)return!0;if(!this.yi(e)){if(!e.allowTabSynchronization)throw new $e(Se.FAILED_PRECONDITION,Ab);return!1}}return!(!this.networkEnabled||!this.inForeground)||ap(t).W().next(i=>void 0===this.Ei(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&We("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,ue.Z)(function*(){t.xs=!1,t.Pi(),t.si&&(t.si.cancel(),t.si=null),t.vi(),t.bi(),yield t.ui.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new f_(e,Do.at);return t.mi(i).next(()=>t.pi(i))}),t.ui.close(),t.Vi()})()}Ei(t,e){return t.filter(i=>this.Ti(i.updateTimeMs,e)&&!this.Ri(i.clientId))}Si(){return this.runTransaction("getActiveClients","readonly",t=>ap(t).W().next(e=>this.Ei(e,18e5).map(i=>i.clientId)))}get started(){return this.xs}getMutationQueue(t,e){return b_.ue(t,this.Tt,e,this.referenceDelegate)}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new Kx(t,this.Tt.oe.databaseId)}getDocumentOverlayCache(t){return Jm.ue(this.Tt,t)}getBundleCache(){return this.$s}runTransaction(t,e,i){We("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",a=15===(d=this.ti)?Zs:14===d?ms:13===d?Ks:12===d?eD:11===d?Ux:void bt();var d;let f;return this.ui.runTransaction(t,r,a,_=>(f=new f_(_,this.Cs?this.Cs.next():Do.at),"readwrite-primary"===e?this._i(f).next(b=>!!b||this.wi(f)).next(b=>{if(!b)throw Ni(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Ys.enqueueRetryable(()=>this.ri(!1)),new $e(Se.FAILED_PRECONDITION,Av);return i(f)}).next(b=>this.gi(f).next(()=>b)):this.Di(f).next(()=>i(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Di(t){return sp(t).get("owner").next(e=>{if(null!==e&&this.Ti(e.leaseTimestampMs,5e3)&&!this.Ri(e.ownerId)&&!this.yi(e)&&!(this.Xs||this.allowTabSynchronization&&e.allowTabSynchronization))throw new $e(Se.FAILED_PRECONDITION,Ab)})}gi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return sp(t).put("owner",e)}static C(){return Hs.C()}mi(t){const e=sp(t);return e.get("owner").next(i=>this.yi(i)?(We("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):be.resolve())}Ti(t,e){const i=Date.now();return!(t<i-e||t>i&&(Ni(`Detected an update time that is in the future: ${t} > ${i}`),1))}hi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ni=()=>{this.Ys.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ai()))},this.document.addEventListener("visibilitychange",this.ni),this.inForeground="visible"===this.document.visibilityState)}vi(){this.ni&&(this.document.removeEventListener("visibilitychange",this.ni),this.ni=null)}li(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ei=()=>{this.Pi();const e=/(?:Version|Mobile)\/1[456]/;(0,Jt.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Ys.enterRestrictedMode(!0),this.Ys.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ei))}bi(){this.ei&&(this.window.removeEventListener("pagehide",this.ei),this.ei=null)}Ri(t){var e;try{const i=null!==(null===(e=this.ci)||void 0===e?void 0:e.getItem(this.Ai(t)));return We("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Ni("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Pi(){if(this.ci)try{this.ci.setItem(this.Ai(this.clientId),String(Date.now()))}catch(t){Ni("Failed to set zombie client id.",t)}}Vi(){if(this.ci)try{this.ci.removeItem(this.Ai(this.clientId))}catch{}}Ai(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function sp(n){return dr(n,"owner")}function ap(n){return dr(n,"clientMetadata")}function C_(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class I_{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Ci=i,this.xi=r}static Ni(t,e){let i=rn(),r=rn();for(const a of e.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new I_(t,e.fromCache,i,r)}}class iE{constructor(){this.ki=!1}initialize(t,e){this.$i=t,this.indexManager=e,this.ki=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Mi(t,e).next(a=>a||this.Oi(t,e,r,i)).next(a=>a||this.Fi(t,e))}Mi(t,e){if(px(e))return be.resolve(null);let i=lr(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=Wv(e,null,"F"),i=lr(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(a=>{const d=rn(...a);return this.$i.getDocuments(t,d).next(f=>this.indexManager.getMinOffset(t,i).next(_=>{const b=this.Bi(e,f);return this.Li(e,b,d,_.readTime)?this.Mi(t,Wv(e,null,"F")):this.qi(t,b,e,_)}))})))}Oi(t,e,i,r){return px(e)||r.isEqual(Pt.min())?this.Fi(t,e):this.$i.getDocuments(t,i).next(a=>{const d=this.Bi(e,a);return this.Li(e,d,i,r)?this.Fi(t,e):(Zd()<=Mn.in.DEBUG&&We("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Kv(e)),this.qi(t,d,e,Tv(r,-1)))})}Bi(t,e){let i=new Nn(yx(t));return e.forEach((r,a)=>{$m(t,a)&&(i=i.add(a))}),i}Li(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const a="F"===t.limitType?e.last():e.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Fi(t,e){return Zd()<=Mn.in.DEBUG&&We("QueryEngine","Using full collection scan to execute query:",Kv(e)),this.$i.getDocumentsMatchingQuery(t,e,qo.min())}qi(t,e,i,r){return this.$i.getDocumentsMatchingQuery(t,i,r).next(a=>(e.forEach(d=>{a=a.insert(d.key,d)}),a))}}class rE{constructor(t,e,i,r){this.persistence=t,this.Ui=e,this.Tt=r,this.Ki=new Di(nn),this.Gi=new Ic(a=>vl(a),Kh),this.Qi=new Map,this.ji=t.getRemoteDocumentCache(),this.Ns=t.getTargetCache(),this.$s=t.getBundleCache(),this.zi(i)}zi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new eE(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ki))}}function oE(n,t,e,i){return new rE(n,t,e,i)}function sE(n,t){return aE.apply(this,arguments)}function aE(){return aE=(0,ue.Z)(function*(n,t){const e=rt(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,e.zi(t),e.mutationQueue.getAllMutationBatches(i))).next(a=>{const d=[],f=[];let _=rn();for(const b of r){d.push(b.batchId);for(const C of b.mutations)_=_.add(C.key)}for(const b of a){f.push(b.batchId);for(const C of b.mutations)_=_.add(C.key)}return e.localDocuments.getDocuments(i,_).next(b=>({Wi:b,removedBatchIds:d,addedBatchIds:f}))})})}),aE.apply(this,arguments)}function gD(n){const t=rt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ns.getLastRemoteSnapshotVersion(e))}function kb(n,t,e){let i=rn(),r=rn();return e.forEach(a=>i=i.add(a)),t.getEntries(n,i).next(a=>{let d=io();return e.forEach((f,_)=>{const b=a.get(f);_.isFoundDocument()!==b.isFoundDocument()&&(r=r.add(f)),_.isNoDocument()&&_.version.isEqual(Pt.min())?(t.removeEntry(f,_.readTime),d=d.insert(f,_)):!b.isValidDocument()||_.version.compareTo(b.version)>0||0===_.version.compareTo(b.version)&&b.hasPendingWrites?(t.addEntry(_),d=d.insert(f,_)):We("LocalStore","Ignoring outdated watch update for ",f,". Current version:",b.version," Watch version:",_.version)}),{Hi:d,Ji:r}})}function S_(n,t){const e=rt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function gf(n,t){const e=rt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Ns.getTargetData(i,t).next(a=>a?(r=a,be.resolve(r)):e.Ns.allocateTargetId(i).next(d=>(r=new El(t,d,0,i.currentSequenceNumber),e.Ns.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ki.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ki=e.Ki.insert(i.targetId,i),e.Gi.set(t,i.targetId)),i})}function _f(n,t,e){return D_.apply(this,arguments)}function D_(){return D_=(0,ue.Z)(function*(n,t,e){const i=rt(n),r=i.Ki.get(t),a=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",a,d=>i.persistence.referenceDelegate.removeTarget(d,r)))}catch(d){if(!Qd(d))throw d;We("LocalStore",`Failed to update sequence numbers for target ${t}: ${d}`)}i.Ki=i.Ki.remove(t),i.Gi.delete(r.target)}),D_.apply(this,arguments)}function Al(n,t,e){const i=rt(n);let r=Pt.min(),a=rn();return i.persistence.runTransaction("Execute query","readonly",d=>function(f,_,b){const C=rt(f),k=C.Gi.get(b);return void 0!==k?be.resolve(C.Ki.get(k)):C.Ns.getTargetData(_,b)}(i,d,lr(t)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.Ns.getMatchingKeysForTargetId(d,f.targetId).next(_=>{a=_})}).next(()=>i.Ui.getDocumentsMatchingQuery(d,t,e?r:Pt.min(),e?a:rn())).next(f=>(dE(i,_x(t),f),{documents:f,Yi:a})))}function cE(n,t){const e=rt(n),i=rt(e.Ns),r=e.Ki.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",a=>i.ie(a,t).next(d=>d?d.target:null))}function lE(n,t){const e=rt(n),i=e.Qi.get(t)||Pt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.ji.getAllFromCollectionGroup(r,t,Tv(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(dE(e,t,r),r))}function dE(n,t,e){let i=n.Qi.get(t)||Pt.min();e.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Qi.set(t,i)}function uE(){return uE=(0,ue.Z)(function*(n,t,e,i){const r=rt(n);let a=rn(),d=io();for(const b of e){const C=t.Zi(b.metadata.name);b.document&&(a=a.add(C));const k=t.Xi(b);k.setReadTime(t.tr(b.metadata.readTime)),d=d.insert(C,k)}const f=r.ji.newChangeBuffer({trackRemovals:!0}),_=yield gf(r,(b=i,lr(Ma(yn.fromString(`__bundle__/docs/${b}`)))));var b;return r.persistence.runTransaction("Apply bundle documents","readwrite",b=>kb(b,f,d).next(C=>(f.apply(b),C)).next(C=>r.Ns.removeMatchingKeysForTargetId(b,_.targetId).next(()=>r.Ns.addMatchingKeys(b,a,_.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(b,C.Hi,C.Ji)).next(()=>C.Hi)))}),uE.apply(this,arguments)}function yD(n,t){return T_.apply(this,arguments)}function T_(){return T_=(0,ue.Z)(function*(n,t,e=rn()){const i=yield gf(n,lr(p_(t.bundledQuery))),r=rt(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const d=Bi(t.readTime);if(i.snapshotVersion.compareTo(d)>=0)return r.$s.saveNamedQuery(a,t);const f=i.withResumeToken(wr.EMPTY_BYTE_STRING,d);return r.Ki=r.Ki.insert(f.targetId,f),r.Ns.updateTargetData(a,f).next(()=>r.Ns.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.Ns.addMatchingKeys(a,e,i.targetId)).next(()=>r.$s.saveNamedQuery(a,t))})}),T_.apply(this,arguments)}function hE(n,t){return`firestore_clients_${n}_${t}`}function fE(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function bu(n,t){return`firestore_targets_${n}_${t}`}class A_{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static er(t,e,i){const r=JSON.parse(i);let a,d="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return d&&r.error&&(d="string"==typeof r.error.message&&"string"==typeof r.error.code,d&&(a=new $e(r.error.code,r.error.message))),d?new A_(t,e,r.state,a):(Ni("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}nr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class yf{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static er(t,e){const i=JSON.parse(e);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new $e(i.error.code,i.error.message))),a?new yf(t,i.state,r):(Ni("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}nr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class M_{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static er(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=Gm();for(let d=0;r&&d<i.activeTargetIds.length;++d)r=Pv(i.activeTargetIds[d]),a=a.add(i.activeTargetIds[d]);return r?new M_(t,a):(Ni("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class k_{constructor(t,e){this.clientId=t,this.onlineState=e}static er(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new k_(e.clientId,e.onlineState):(Ni("SharedClientState",`Failed to parse online state: ${t}`),null)}}class Ob{constructor(){this.activeTargetIds=Gm()}sr(t){this.activeTargetIds=this.activeTargetIds.add(t)}ir(t){this.activeTargetIds=this.activeTargetIds.delete(t)}nr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class O_{constructor(t,e,i,r,a){this.window=t,this.Ys=e,this.persistenceKey=i,this.rr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ur=this.cr.bind(this),this.ar=new Di(nn),this.started=!1,this.hr=[];const d=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.lr=hE(this.persistenceKey,this.rr),this.dr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.rr,new Ob),this._r=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.wr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.mr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.gr=`firestore_online_state_${this.persistenceKey}`,this.yr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.ur)}static C(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,ue.Z)(function*(){const e=yield t.syncEngine.Si();for(const r of e){if(r===t.rr)continue;const a=t.getItem(hE(t.persistenceKey,r));if(a){const d=M_.er(r,a);d&&(t.ar=t.ar.insert(d.clientId,d))}}t.pr();const i=t.storage.getItem(t.gr);if(i){const r=t.Ir(i);r&&t.Tr(r)}for(const r of t.hr)t.cr(r);t.hr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.dr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Er(this.ar)}isActiveQueryTarget(t){let e=!1;return this.ar.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Ar(t,"pending")}updateMutationState(t,e,i){this.Ar(t,e,i),this.Rr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(bu(this.persistenceKey,t));if(i){const r=yf.er(t,i);r&&(e=r.state)}}return this.Pr.sr(t),this.pr(),e}removeLocalQueryTarget(t){this.Pr.ir(t),this.pr()}isLocalQueryTarget(t){return this.Pr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(bu(this.persistenceKey,t))}updateQueryState(t,e,i){this.vr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Rr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.br(t)}notifyBundleLoaded(t){this.Vr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ur),this.removeItem(this.lr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return We("SharedClientState","READ",t,e),e}setItem(t,e){We("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){We("SharedClientState","REMOVE",t),this.storage.removeItem(t)}cr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(We("SharedClientState","EVENT",i.key,i.newValue),i.key===this.lr)return void Ni("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ys.enqueueRetryable((0,ue.Z)(function*(){if(e.started){if(null!==i.key)if(e._r.test(i.key)){if(null==i.newValue){const r=e.Sr(i.key);return e.Dr(r,null)}{const r=e.Cr(i.key,i.newValue);if(r)return e.Dr(r.clientId,r)}}else if(e.wr.test(i.key)){if(null!==i.newValue){const r=e.Nr(i.key,i.newValue);if(r)return e.kr(r)}}else if(e.mr.test(i.key)){if(null!==i.newValue){const r=e.$r(i.key,i.newValue);if(r)return e.Mr(r)}}else if(i.key===e.gr){if(null!==i.newValue){const r=e.Ir(i.newValue);if(r)return e.Tr(r)}}else if(i.key===e.dr){const r=function(a){let d=Do.at;if(null!=a)try{const f=JSON.parse(a);At("number"==typeof f),d=f}catch(f){Ni("SharedClientState","Failed to read sequence number from WebStorage",f)}return d}(i.newValue);r!==Do.at&&e.sequenceNumberHandler(r)}else if(i.key===e.yr){const r=e.Or(i.newValue);yield Promise.all(r.map(a=>e.syncEngine.Fr(a)))}}else e.hr.push(i)}))}}get Pr(){return this.ar.get(this.rr)}pr(){this.setItem(this.lr,this.Pr.nr())}Ar(t,e,i){const r=new A_(this.currentUser,t,e,i),a=fE(this.persistenceKey,this.currentUser,t);this.setItem(a,r.nr())}Rr(t){const e=fE(this.persistenceKey,this.currentUser,t);this.removeItem(e)}br(t){this.storage.setItem(this.gr,JSON.stringify({clientId:this.rr,onlineState:t}))}vr(t,e,i){const r=bu(this.persistenceKey,t),a=new yf(t,e,i);this.setItem(r,a.nr())}Vr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.yr,e)}Sr(t){const e=this._r.exec(t);return e?e[1]:null}Cr(t,e){const i=this.Sr(t);return M_.er(i,e)}Nr(t,e){const i=this.wr.exec(t),r=Number(i[1]);return A_.er(new Qi(void 0!==i[2]?i[2]:null),r,e)}$r(t,e){const i=this.mr.exec(t),r=Number(i[1]);return yf.er(r,e)}Ir(t){return k_.er(t)}Or(t){return JSON.parse(t)}kr(t){var e=this;return(0,ue.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Br(t.batchId,t.state,t.error);We("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Mr(t){return this.syncEngine.Lr(t.targetId,t.state,t.error)}Dr(t,e){const i=e?this.ar.insert(t,e):this.ar.remove(t),r=this.Er(this.ar),a=this.Er(i),d=[],f=[];return a.forEach(_=>{r.has(_)||d.push(_)}),r.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.qr(d,f).then(()=>{this.ar=i})}Tr(t){this.ar.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Er(t){let e=Gm();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class mE{constructor(){this.Ur=new Ob,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Ur.sr(t),this.Kr[t]||"not-current"}updateQueryState(t,e,i){this.Kr[t]=e}removeLocalQueryTarget(t){this.Ur.ir(t)}isLocalQueryTarget(t){return this.Ur.activeTargetIds.has(t)}clearQueryState(t){delete this.Kr[t]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(t){return this.Ur.activeTargetIds.has(t)}start(){return this.Ur=new Ob,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Rb{Gr(t){}shutdown(){}}class pE{constructor(){this.Qr=()=>this.jr(),this.zr=()=>this.Wr(),this.Hr=[],this.Jr()}Gr(t){this.Hr.push(t)}shutdown(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}Jr(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}jr(){We("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Hr)t(0)}Wr(){We("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Hr)t(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let cp=null;function R_(){return null===cp?cp=268435456+Math.round(2147483648*Math.random()):cp++,"0x"+cp.toString(16)}const vD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bD{constructor(t){this.Yr=t.Yr,this.Zr=t.Zr}Xr(t){this.eo=t}no(t){this.so=t}onMessage(t){this.io=t}close(){this.Zr()}send(t){this.Yr(t)}ro(){this.eo()}oo(t){this.so(t)}uo(t){this.io(t)}}const qr="WebChannelConnection";class Pb extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.co=(t.ssl?"https":"http")+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get ho(){return!1}lo(t,e,i,r,a){const d=R_(),f=this.fo(t,e);We("RestConnection",`Sending RPC '${t}' ${d}:`,f,i);const _={};return this._o(_,r,a),this.wo(t,f,_,i).then(b=>(We("RestConnection",`Received RPC '${t}' ${d}: `,b),b),b=>{throw Yd("RestConnection",`RPC '${t}' ${d} failed with error: `,b,"url: ",f,"request:",i),b})}mo(t,e,i,r,a,d){return this.lo(t,e,i,r,a)}_o(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Bh,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,a)=>t[a]=r),i&&i.headers.forEach((r,a)=>t[a]=r)}fo(t,e){return`${this.co}/v1/${e}:${vD[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}wo(t,e,i,r){const a=R_();return new Promise((d,f)=>{const _=new Gw;_.setWithCredentials(!0),_.listenOnce(Hw.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Iv.NO_ERROR:const C=_.getResponseJson();We(qr,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(C)),d(C);break;case Iv.TIMEOUT:We(qr,`RPC '${t}' ${a} timed out`),f(new $e(Se.DEADLINE_EXCEEDED,"Request time out"));break;case Iv.HTTP_ERROR:const k=_.getStatus();if(We(qr,`RPC '${t}' ${a} failed with status:`,k,"response text:",_.getResponseText()),k>0){let L=_.getResponseJson();Array.isArray(L)&&(L=L[0]);const B=L?.error;if(B&&B.status&&B.message){const $=function(ce){const De=ce.toLowerCase().replace(/_/g,"-");return Object.values(Se).indexOf(De)>=0?De:Se.UNKNOWN}(B.status);f(new $e($,B.message))}else f(new $e(Se.UNKNOWN,"Server responded with status "+_.getStatus()))}else f(new $e(Se.UNAVAILABLE,"Connection failed."));break;default:bt()}}finally{We(qr,`RPC '${t}' ${a} completed.`)}});const b=JSON.stringify(r);We(qr,`RPC '${t}' ${a} sending request:`,r),_.send(e,"POST",b,i,15)})}yo(t,e,i){const r=R_(),a=[this.co,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=Lh(),f=km(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(_.xmlHttpFactory=new wS({})),this._o(_.initMessageHeaders,e,i),_.encodeInitMessageHeaders=!0;const b=a.join("");We(qr,`Creating RPC '${t}' stream ${r}: ${b}`,_);const C=d.createWebChannel(b,_);let k=!1,L=!1;const B=new bD({Yr:ce=>{L?We(qr,`Not sending because RPC '${t}' stream ${r} is closed:`,ce):(k||(We(qr,`Opening RPC '${t}' stream ${r} transport.`),C.open(),k=!0),We(qr,`RPC '${t}' stream ${r} sending:`,ce),C.send(ce))},Zr:()=>C.close()}),$=(ce,De,Ye)=>{ce.listen(De,vt=>{try{Ye(vt)}catch(wt){setTimeout(()=>{throw wt},0)}})};return $(C,Om.EventType.OPEN,()=>{L||We(qr,`RPC '${t}' stream ${r} transport opened.`)}),$(C,Om.EventType.CLOSE,()=>{L||(L=!0,We(qr,`RPC '${t}' stream ${r} transport closed`),B.oo())}),$(C,Om.EventType.ERROR,ce=>{L||(L=!0,Yd(qr,`RPC '${t}' stream ${r} transport errored:`,ce),B.oo(new $e(Se.UNAVAILABLE,"The operation could not be completed")))}),$(C,Om.EventType.MESSAGE,ce=>{var De;if(!L){const Ye=ce.data[0];At(!!Ye);const wt=Ye.error||(null===(De=Ye[0])||void 0===De?void 0:De.error);if(wt){We(qr,`RPC '${t}' stream ${r} received error:`,wt);const Ct=wt.status;let Ut=function(In){const Zr=ei[In];if(void 0!==Zr)return lu(Zr)}(Ct),Wt=wt.message;void 0===Ut&&(Ut=Se.INTERNAL,Wt="Unknown error status: "+Ct+" with message "+wt.message),L=!0,B.oo(new $e(Ut,Wt)),C.close()}else We(qr,`RPC '${t}' stream ${r} received:`,Ye),B.uo(Ye)}}),$(f,bS.STAT_EVENT,ce=>{ce.stat===$w.PROXY?We(qr,`RPC '${t}' stream ${r} detected buffering proxy`):ce.stat===$w.NOPROXY&&We(qr,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{B.ro()},0),B}}function gE(){return typeof window<"u"?window:null}function lp(){return typeof document<"u"?document:null}function dp(n){return new Dx(n,!0)}class Fb{constructor(t,e,i=1e3,r=1.5,a=6e4){this.Ys=t,this.timerId=e,this.po=i,this.Io=r,this.To=a,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}Po(){this.Eo=this.To}vo(t){this.cancel();const e=Math.floor(this.Eo+this.bo()),i=Math.max(0,Date.now()-this.Ro),r=Math.max(0,e-i);r>0&&We("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Eo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,r,()=>(this.Ro=Date.now(),t())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}bo(){return(Math.random()-.5)*this.Eo}}class _E{constructor(t,e,i,r,a,d,f,_){this.Ys=t,this.So=i,this.Do=r,this.connection=a,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new Fb(t,e)}$o(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var t=this;return(0,ue.Z)(function*(){t.$o()&&(yield t.close(0))})()}Fo(){this.state=0,this.ko.reset()}Bo(){this.Mo()&&null===this.xo&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,()=>this.Lo()))}qo(t){this.Uo(),this.stream.send(t)}Lo(){var t=this;return(0,ue.Z)(function*(){if(t.Mo())return t.close(0)})()}Uo(){this.xo&&(this.xo.cancel(),this.xo=null)}Ko(){this.No&&(this.No.cancel(),this.No=null)}close(t,e){var i=this;return(0,ue.Z)(function*(){i.Uo(),i.Ko(),i.ko.cancel(),i.Co++,4!==t?i.ko.reset():e&&e.code===Se.RESOURCE_EXHAUSTED?(Ni(e.toString()),Ni("Using maximum backoff delay to prevent overloading the backend."),i.ko.Po()):e&&e.code===Se.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Go(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.no(e)})()}Go(){}auth(){this.state=1;const t=this.Qo(this.Co),e=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Co===e&&this.jo(i,r)},i=>{t(()=>{const r=new $e(Se.UNKNOWN,"Fetching auth token failed: "+i.message);return this.zo(r)})})}jo(t,e){const i=this.Qo(this.Co);this.stream=this.Wo(t,e),this.stream.Xr(()=>{i(()=>(this.state=2,this.No=this.Ys.enqueueAfterDelay(this.Do,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.no(r=>{i(()=>this.zo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var t=this;this.state=5,this.ko.vo((0,ue.Z)(function*(){t.state=0,t.start()}))}zo(t){return We("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Qo(t){return e=>{this.Ys.enqueueAndForget(()=>this.Co===t?e():(We("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wD extends _E{constructor(t,e,i,r,a,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,d),this.Tt=a}Wo(t,e){return this.connection.yo("Listen",t,e)}onMessage(t){this.ko.reset();const e=function Mx(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(_=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:bt(),r=t.targetChange.targetIds||[],a=function(_,b){return _.yt?(At(void 0===b||"string"==typeof b),wr.fromBase64String(b||"")):(At(void 0===b||b instanceof Uint8Array),wr.fromUint8Array(b||new Uint8Array))}(n,t.targetChange.resumeToken),d=t.targetChange.cause,f=d&&function(_){const b=void 0===_.code?Se.UNKNOWN:lu(_.code);return new $e(b,_.message||"")}(d);e=new Wm(i,r,a,f||null)}else if("documentChange"in t){const i=t.documentChange,r=Ws(n,i.document.name),a=Bi(i.document.updateTime),d=i.document.createTime?Bi(i.document.createTime):Pt.min(),f=new Xi({mapValue:{fields:i.document.fields}}),_=ci.newFoundDocument(r,a,d,f);e=new i_(i.targetIds||[],i.removedTargetIds||[],_.key,_)}else if("documentDelete"in t){const i=t.documentDelete,r=Ws(n,i.document),a=i.readTime?Bi(i.readTime):Pt.min(),d=ci.newNoDocument(r,a);e=new i_([],i.removedTargetIds||[],d.key,d)}else if("documentRemove"in t){const i=t.documentRemove,r=Ws(n,i.document);e=new i_([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return bt();{const i=t.filter,a=new Jh(i.count||0);e=new qm(i.targetId,a)}}var _;return e}(this.Tt,t),i=function(r){if(!("targetChange"in r))return Pt.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?Pt.min():a.readTime?Bi(a.readTime):Pt.min()}(t);return this.listener.Ho(e,i)}Jo(t){const e={};e.database=rf(this.Tt),e.addTarget=function(r,a){let d;const f=a.target;return d=Um(f)?{documents:sb(r,f)}:{query:u_(r,f)},d.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?d.resumeToken=a_(r,a.resumeToken):a.snapshotVersion.compareTo(Pt.min())>0&&(d.readTime=hu(r,a.snapshotVersion.toTimestamp())),d}(this.Tt,t);const i=function xl(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return bt()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.qo(e)}Yo(t){const e={};e.database=rf(this.Tt),e.removeTarget=t,this.qo(e)}}class xD extends _E{constructor(t,e,i,r,a,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,d),this.Tt=a,this.Zo=!1}get Xo(){return this.Zo}start(){this.Zo=!1,this.lastStreamToken=void 0,super.start()}Go(){this.Zo&&this.tu([])}Wo(t,e){return this.connection.yo("Write",t,e)}onMessage(t){if(At(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Zo){this.ko.reset();const e=function kx(n,t){return n&&n.length>0?(At(void 0!==t),n.map(e=>function(i,r){let a=Bi(i.updateTime?i.updateTime:r);return a.isEqual(Pt.min())&&(a=Bi(r)),new e_(a,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Bi(t.commitTime);return this.listener.eu(i,e)}return At(!t.writeResults||0===t.writeResults.length),this.Zo=!0,this.listener.nu()}su(){const t={};t.database=rf(this.Tt),this.qo(t)}tu(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>sf(this.Tt,i))};this.qo(e)}}class ED extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.Tt=r,this.iu=!1}ru(){if(this.iu)throw new $e(Se.FAILED_PRECONDITION,"The client has already been terminated.")}lo(t,e,i){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.lo(t,e,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new $e(Se.UNKNOWN,r.toString())})}mo(t,e,i,r){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,d])=>this.connection.mo(t,e,i,a,d,r)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new $e(Se.UNKNOWN,a.toString())})}terminate(){this.iu=!0}}class yE{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}au(){0===this.ou&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.uu=null,this.lu("Backend didn't respond within 10 seconds."),this.hu("Offline"),Promise.resolve())))}fu(t){"Online"===this.state?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.hu("Offline")))}set(t){this.du(),this.ou=0,"Online"===t&&(this.cu=!1),this.hu(t)}hu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}lu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.cu?(Ni(e),this.cu=!1):We("OnlineStateTracker",e)}du(){null!==this.uu&&(this.uu.cancel(),this.uu=null)}}class vE{constructor(t,e,i,r,a){var d=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=a,this.yu.Gr(f=>{i.enqueueAndForget((0,ue.Z)(function*(){var _;Sc(d)&&(We("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,ue.Z)(function*(b){const C=rt(b);C.mu.add(4),yield wu(C),C.pu.set("Unknown"),C.mu.delete(4),yield up(C)}),function(b){return _.apply(this,arguments)})(d))}))}),this.pu=new yE(i,r)}}function up(n){return Lb.apply(this,arguments)}function Lb(){return Lb=(0,ue.Z)(function*(n){if(Sc(n))for(const t of n.gu)yield t(!0)}),Lb.apply(this,arguments)}function wu(n){return Bb.apply(this,arguments)}function Bb(){return Bb=(0,ue.Z)(function*(n){for(const t of n.gu)yield t(!1)}),Bb.apply(this,arguments)}function P_(n,t){const e=rt(n);e.wu.has(t.targetId)||(e.wu.set(t.targetId,t),mp(e)?N_(e):gp(e).Mo()&&fp(e,t))}function hp(n,t){const e=rt(n),i=gp(e);e.wu.delete(t),i.Mo()&&F_(e,t),0===e.wu.size&&(i.Mo()?i.Bo():Sc(e)&&e.pu.set("Unknown"))}function fp(n,t){n.Iu.Ot(t.targetId),gp(n).Jo(t)}function F_(n,t){n.Iu.Ot(t),gp(n).Yo(t)}function N_(n){n.Iu=new GS({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),ie:t=>n.wu.get(t)||null}),gp(n).start(),n.pu.au()}function mp(n){return Sc(n)&&!gp(n).$o()&&n.wu.size>0}function Sc(n){return 0===rt(n).mu.size}function bE(n){n.Iu=void 0}function Ub(n){return Vb.apply(this,arguments)}function Vb(){return Vb=(0,ue.Z)(function*(n){n.wu.forEach((t,e)=>{fp(n,t)})}),Vb.apply(this,arguments)}function wE(n,t){return Ml.apply(this,arguments)}function Ml(){return Ml=(0,ue.Z)(function*(n,t){bE(n),mp(n)?(n.pu.fu(t),N_(n)):n.pu.set("Unknown")}),Ml.apply(this,arguments)}function xE(n,t,e){return jb.apply(this,arguments)}function jb(){return jb=(0,ue.Z)(function*(n,t,e){if(n.pu.set("Online"),t instanceof Wm&&2===t.state&&t.cause)try{yield(i=(0,ue.Z)(function*(r,a){const d=a.cause;for(const f of a.targetIds)r.wu.has(f)&&(yield r.remoteSyncer.rejectListen(f,d),r.wu.delete(f),r.Iu.removeTarget(f))}),function(r,a){return i.apply(this,arguments)})(n,t)}catch(i){We("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield zb(n,i)}else if(t instanceof i_?n.Iu.Qt(t):t instanceof qm?n.Iu.Zt(t):n.Iu.Wt(t),!e.isEqual(Pt.min()))try{const i=yield gD(n.localStore);e.compareTo(i)>=0&&(yield function(r,a){const d=r.Iu.ee(a);return d.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const b=r.wu.get(_);b&&r.wu.set(_,b.withResumeToken(f.resumeToken,a))}}),d.targetMismatches.forEach(f=>{const _=r.wu.get(f);if(!_)return;r.wu.set(f,_.withResumeToken(wr.EMPTY_BYTE_STRING,_.snapshotVersion)),F_(r,f);const b=new El(_.target,f,1,_.sequenceNumber);fp(r,b)}),r.remoteSyncer.applyRemoteEvent(d)}(n,e))}catch(i){We("RemoteStore","Failed to raise snapshot:",i),yield zb(n,i)}var i}),jb.apply(this,arguments)}function zb(n,t,e){return L_.apply(this,arguments)}function L_(){return L_=(0,ue.Z)(function*(n,t,e){if(!Qd(t))throw t;n.mu.add(1),yield wu(n),n.pu.set("Offline"),e||(e=()=>gD(n.localStore)),n.asyncQueue.enqueueRetryable((0,ue.Z)(function*(){We("RemoteStore","Retrying IndexedDB access"),yield e(),n.mu.delete(1),yield up(n)}))}),L_.apply(this,arguments)}function B_(n,t){return t().catch(e=>zb(n,e,t))}function vf(n){return pp.apply(this,arguments)}function pp(){return pp=(0,ue.Z)(function*(n){const t=rt(n),e=kl(t);let i=t._u.length>0?t._u[t._u.length-1].batchId:-1;for(;ID(t);)try{const r=yield S_(t.localStore,i);if(null===r){0===t._u.length&&e.Bo();break}i=r.batchId,EE(t,r)}catch(r){yield zb(t,r)}U_(t)&&Hb(t)}),pp.apply(this,arguments)}function ID(n){return Sc(n)&&n._u.length<10}function EE(n,t){n._u.push(t);const e=kl(n);e.Mo()&&e.Xo&&e.tu(t.mutations)}function U_(n){return Sc(n)&&!kl(n).$o()&&n._u.length>0}function Hb(n){kl(n).start()}function CE(n){return V_.apply(this,arguments)}function V_(){return V_=(0,ue.Z)(function*(n){kl(n).su()}),V_.apply(this,arguments)}function IE(n){return $b.apply(this,arguments)}function $b(){return $b=(0,ue.Z)(function*(n){const t=kl(n);for(const e of n._u)t.tu(e.mutations)}),$b.apply(this,arguments)}function SD(n,t,e){return Gb.apply(this,arguments)}function Gb(){return Gb=(0,ue.Z)(function*(n,t,e){const i=n._u.shift(),r=hb.from(i,t,e);yield B_(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield vf(n)}),Gb.apply(this,arguments)}function DD(n,t){return j_.apply(this,arguments)}function j_(){return j_=(0,ue.Z)(function*(n,t){var e;t&&kl(n).Xo&&(yield(e=(0,ue.Z)(function*(i,r){if(cu(a=r.code)&&a!==Se.ABORTED){const d=i._u.shift();kl(i).Fo(),yield B_(i,()=>i.remoteSyncer.rejectFailedWrite(d.batchId,r)),yield vf(i)}var a}),function(i,r){return e.apply(this,arguments)})(n,t)),U_(n)&&Hb(n)}),j_.apply(this,arguments)}function TD(n,t){return z_.apply(this,arguments)}function z_(){return z_=(0,ue.Z)(function*(n,t){const e=rt(n);e.asyncQueue.verifyOperationInProgress(),We("RemoteStore","RemoteStore received new credentials");const i=Sc(e);e.mu.add(3),yield wu(e),i&&e.pu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.mu.delete(3),yield up(e)}),z_.apply(this,arguments)}function qb(n,t){return Wb.apply(this,arguments)}function Wb(){return Wb=(0,ue.Z)(function*(n,t){const e=rt(n);t?(e.mu.delete(2),yield up(e)):t||(e.mu.add(2),yield wu(e),e.pu.set("Unknown"))}),Wb.apply(this,arguments)}function gp(n){return n.Tu||(n.Tu=function(t,e,i){const r=rt(t);return r.ru(),new wD(e,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,i)}(n.datastore,n.asyncQueue,{Xr:Ub.bind(null,n),no:wE.bind(null,n),Ho:xE.bind(null,n)}),n.gu.push(function(){var t=(0,ue.Z)(function*(e){e?(n.Tu.Fo(),mp(n)?N_(n):n.pu.set("Unknown")):(yield n.Tu.stop(),bE(n))});return function(e){return t.apply(this,arguments)}}())),n.Tu}function kl(n){return n.Eu||(n.Eu=function(t,e,i){const r=rt(t);return r.ru(),new xD(e,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,i)}(n.datastore,n.asyncQueue,{Xr:CE.bind(null,n),no:DD.bind(null,n),nu:IE.bind(null,n),eu:SD.bind(null,n)}),n.gu.push(function(){var t=(0,ue.Z)(function*(e){e?(n.Eu.Fo(),yield vf(n)):(yield n.Eu.stop(),n._u.length>0&&(We("RemoteStore",`Stopping write stream with ${n._u.length} pending writes`),n._u=[]))});return function(e){return t.apply(this,arguments)}}())),n.Eu}class Kb{constructor(t,e,i,r,a){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(t,e,i,r,a){const d=Date.now()+i,f=new Kb(t,e,d,r,a);return f.start(i),f}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new $e(Se.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xu(n,t){if(Ni("AsyncQueue",`${t}: ${n}`),Qd(n))return new $e(Se.UNAVAILABLE,`${t}: ${n}`);throw n}class Eu{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Be.comparator(e.key,i.key):(e,i)=>Be.comparator(e.key,i.key),this.keyedMap=ef(),this.sortedSet=new Di(this.comparator)}static emptySet(t){return new Eu(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Eu)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Eu;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class SE{constructor(){this.Au=new Di(Be.comparator)}track(t){const e=t.doc.key,i=this.Au.get(e);i?0!==t.type&&3===i.type?this.Au=this.Au.insert(e,t):3===t.type&&1!==i.type?this.Au=this.Au.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Au=this.Au.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Au=this.Au.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Au=this.Au.remove(e):1===t.type&&2===i.type?this.Au=this.Au.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Au=this.Au.insert(e,{type:2,doc:t.doc}):bt():this.Au=this.Au.insert(e,t)}Ru(){const t=[];return this.Au.inorderTraversal((e,i)=>{t.push(i)}),t}}class bf{constructor(t,e,i,r,a,d,f,_,b){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=_,this.hasCachedResults=b}static fromInitialDocuments(t,e,i,r,a){const d=[];return e.forEach(f=>{d.push({type:0,doc:f})}),new bf(t,e,Eu.emptySet(e),d,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Hm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class AD{constructor(){this.Pu=void 0,this.listeners=[]}}class MD{constructor(){this.queries=new Ic(t=>gx(t),Hm),this.onlineState="Unknown",this.vu=new Set}}function Zb(n,t){return Yb.apply(this,arguments)}function Yb(){return Yb=(0,ue.Z)(function*(n,t){const e=rt(n),i=t.query;let r=!1,a=e.queries.get(i);if(a||(r=!0,a=new AD),r)try{a.Pu=yield e.onListen(i)}catch(d){const f=xu(d,`Initialization of query '${Kv(t.query)}' failed`);return void t.onError(f)}e.queries.set(i,a),a.listeners.push(t),t.bu(e.onlineState),a.Pu&&t.Vu(a.Pu)&&H_(e)}),Yb.apply(this,arguments)}function Qb(n,t){return Xb.apply(this,arguments)}function Xb(){return Xb=(0,ue.Z)(function*(n,t){const e=rt(n),i=t.query;let r=!1;const a=e.queries.get(i);if(a){const d=a.listeners.indexOf(t);d>=0&&(a.listeners.splice(d,1),r=0===a.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),Xb.apply(this,arguments)}function _p(n,t){const e=rt(n);let i=!1;for(const r of t){const d=e.queries.get(r.query);if(d){for(const f of d.listeners)f.Vu(r)&&(i=!0);d.Pu=r}}i&&H_(e)}function DE(n,t,e){const i=rt(n),r=i.queries.get(t);if(r)for(const a of r.listeners)a.onError(e);i.queries.delete(t)}function H_(n){n.vu.forEach(t=>{t.next()})}class $_{constructor(t,e,i){this.query=t,this.Su=e,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=i||{}}Vu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new bf(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Du?this.xu(t)&&(this.Su.next(t),e=!0):this.Nu(t,this.onlineState)&&(this.ku(t),e=!0),this.Cu=t,e}onError(t){this.Su.error(t)}bu(t){this.onlineState=t;let e=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,t)&&(this.ku(this.Cu),e=!0),e}Nu(t,e){return!t.fromCache||(!this.options.$u||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}xu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Cu&&this.Cu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}ku(t){t=bf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Du=!0,this.Su.next(t)}}class TE{constructor(t,e){this.Mu=t,this.byteLength=e}Ou(){return"metadata"in this.Mu}}class Jb{constructor(t){this.Tt=t}Zi(t){return Ws(this.Tt,t)}Xi(t){return t.metadata.exists?ob(this.Tt,t.document,!1):ci.newNoDocument(this.Zi(t.metadata.name),this.tr(t.metadata.readTime))}tr(t){return Bi(t)}}class AE{constructor(t,e,i){this.Fu=t,this.localStore=e,this.Tt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ME(t)}Bu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Mu.namedQuery)this.queries.push(t.Mu.namedQuery);else if(t.Mu.documentMetadata){this.documents.push({metadata:t.Mu.documentMetadata}),t.Mu.documentMetadata.exists||++e;const i=yn.fromString(t.Mu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Mu.document&&(this.documents[this.documents.length-1].document=t.Mu.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Lu(t){const e=new Map,i=new Jb(this.Tt);for(const r of t)if(r.metadata.queries){const a=i.Zi(r.metadata.name);for(const d of r.metadata.queries){const f=(e.get(d)||rn()).add(a);e.set(d,f)}}return e}complete(){var t=this;return(0,ue.Z)(function*(){const e=yield function _D(n,t,e,i){return uE.apply(this,arguments)}(t.localStore,new Jb(t.Tt),t.documents,t.Fu.id),i=t.Lu(t.documents);for(const r of t.queries)yield yD(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,qu:t.collectionGroups,Uu:e}})()}}function ME(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class kD{constructor(t){this.key=t}}class e0{constructor(t){this.key=t}}class t0{constructor(t,e){this.query=t,this.Ku=e,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=rn(),this.mutatedKeys=rn(),this.ju=yx(t),this.zu=new Eu(this.ju)}get Wu(){return this.Ku}Hu(t,e){const i=e?e.Ju:new SE,r=e?e.zu:this.zu;let a=e?e.mutatedKeys:this.mutatedKeys,d=r,f=!1;const _="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,b="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((C,k)=>{const L=r.get(C),B=$m(this.query,k)?k:null,$=!!L&&this.mutatedKeys.has(L.key),ce=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let De=!1;L&&B?L.data.isEqual(B.data)?$!==ce&&(i.track({type:3,doc:B}),De=!0):this.Yu(L,B)||(i.track({type:2,doc:B}),De=!0,(_&&this.ju(B,_)>0||b&&this.ju(B,b)<0)&&(f=!0)):!L&&B?(i.track({type:0,doc:B}),De=!0):L&&!B&&(i.track({type:1,doc:L}),De=!0,(_||b)&&(f=!0)),De&&(B?(d=d.add(B),a=ce?a.add(C):a.delete(C)):(d=d.delete(C),a=a.delete(C)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const C="F"===this.query.limitType?d.last():d.first();d=d.delete(C.key),a=a.delete(C.key),i.track({type:1,doc:C})}return{zu:d,Ju:i,Li:f,mutatedKeys:a}}Yu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.zu;this.zu=t.zu,this.mutatedKeys=t.mutatedKeys;const a=t.Ju.Ru();a.sort((b,C)=>function(k,L){const B=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt()}};return B(k)-B(L)}(b.type,C.type)||this.ju(b.doc,C.doc)),this.Zu(i);const d=e?this.Xu():[],f=0===this.Qu.size&&this.current?1:0,_=f!==this.Gu;return this.Gu=f,0!==a.length||_?{snapshot:new bf(this.query,t.zu,r,a,t.mutatedKeys,0===f,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),tc:d}:{tc:d}}bu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new SE,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}ec(t){return!this.Ku.has(t)&&!!this.zu.has(t)&&!this.zu.get(t).hasLocalMutations}Zu(t){t&&(t.addedDocuments.forEach(e=>this.Ku=this.Ku.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ku=this.Ku.delete(e)),this.current=t.current)}Xu(){if(!this.current)return[];const t=this.Qu;this.Qu=rn(),this.zu.forEach(i=>{this.ec(i.key)&&(this.Qu=this.Qu.add(i.key))});const e=[];return t.forEach(i=>{this.Qu.has(i)||e.push(new e0(i))}),this.Qu.forEach(i=>{t.has(i)||e.push(new kD(i))}),e}nc(t){this.Ku=t.Yi,this.Qu=rn();const e=this.Hu(t.documents);return this.applyChanges(e,!0)}sc(){return bf.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,0===this.Gu,this.hasCachedResults)}}class OD{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class RD{constructor(t){this.key=t,this.ic=!1}}class PD{constructor(t,e,i,r,a,d){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=d,this.rc={},this.oc=new Ic(f=>gx(f),Hm),this.uc=new Map,this.cc=new Set,this.ac=new Di(Be.comparator),this.hc=new Map,this.lc=new vu,this.fc={},this.dc=new Map,this._c=hf.Sn(),this.onlineState="Unknown",this.wc=void 0}get isPrimaryClient(){return!0===this.wc}}function yp(n,t){return n0.apply(this,arguments)}function n0(){return n0=(0,ue.Z)(function*(n,t){const e=Cu(n);let i,r;const a=e.oc.get(t);if(a)i=a.targetId,e.sharedClientState.addLocalQueryTarget(i),r=a.view.sc();else{const d=yield gf(e.localStore,lr(t));e.isPrimaryClient&&P_(e.remoteStore,d);const f=e.sharedClientState.addLocalQueryTarget(d.targetId);i=d.targetId,r=yield vp(e,t,i,"current"===f,d.resumeToken)}return r}),n0.apply(this,arguments)}function vp(n,t,e,i,r){return ps.apply(this,arguments)}function ps(){return ps=(0,ue.Z)(function*(n,t,e,i,r){n.mc=(k,L,B)=>{return($=(0,ue.Z)(function*(ce,De,Ye,vt){let wt=De.view.Hu(Ye);wt.Li&&(wt=yield Al(ce.localStore,De.query,!1).then(({documents:Wt})=>De.view.Hu(Wt,wt)));const Ct=vt&&vt.targetChanges.get(De.targetId),Ut=De.view.applyChanges(wt,ce.isPrimaryClient,Ct);return a0(ce,De.targetId,Ut.tc),Ut.snapshot}),function(ce,De,Ye,vt){return $.apply(this,arguments)})(n,k,L,B);var $};const a=yield Al(n.localStore,t,!0),d=new t0(t,a.Yi),f=d.Hu(a.documents),_=uu.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),b=d.applyChanges(f,n.isPrimaryClient,_);a0(n,e,b.tc);const C=new OD(t,e,d);return n.oc.set(t,C),n.uc.has(e)?n.uc.get(e).push(t):n.uc.set(e,[t]),b.snapshot}),ps.apply(this,arguments)}function FD(n,t){return wf.apply(this,arguments)}function wf(){return wf=(0,ue.Z)(function*(n,t){const e=rt(n),i=e.oc.get(t),r=e.uc.get(i.targetId);if(r.length>1)return e.uc.set(i.targetId,r.filter(a=>!Hm(a,t))),void e.oc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield _f(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),hp(e.remoteStore,i.targetId),Ol(e,i.targetId)}).catch(So))):(Ol(e,i.targetId),yield _f(e.localStore,i.targetId,!0))}),wf.apply(this,arguments)}function r0(){return r0=(0,ue.Z)(function*(n,t,e){const i=u0(n);try{const r=yield function(a,d){const f=rt(a),_=ai.now(),b=d.reduce((L,B)=>L.add(B.key),rn());let C,k;return f.persistence.runTransaction("Locally write mutations","readwrite",L=>{let B=io(),$=rn();return f.ji.getEntries(L,b).next(ce=>{B=ce,B.forEach((De,Ye)=>{Ye.isValidDocument()||($=$.add(De))})}).next(()=>f.localDocuments.getOverlayedDocuments(L,B)).next(ce=>{C=ce;const De=[];for(const Ye of d){const vt=$r(Ye,C.get(Ye.key).overlayedDocument);null!=vt&&De.push(new Ji(Ye.key,vt,Bm(vt.value.mapValue),li.exists(!0)))}return f.mutationQueue.addMutationBatch(L,_,De,d)}).next(ce=>{k=ce;const De=ce.applyToLocalDocumentSet(C,$);return f.documentOverlayCache.saveOverlays(L,ce.batchId,De)})}).then(()=>({batchId:k.batchId,changes:Xv(C)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(a,d,f){let _=a.fc[a.currentUser.toKey()];_||(_=new Di(nn)),_=_.insert(d,f),a.fc[a.currentUser.toKey()]=_}(i,r.batchId,e),yield Dc(i,r.changes),yield vf(i.remoteStore)}catch(r){const a=xu(r,"Failed to persist write");e.reject(a)}}),r0.apply(this,arguments)}function kE(n,t){return o0.apply(this,arguments)}function o0(){return o0=(0,ue.Z)(function*(n,t){const e=rt(n);try{const i=yield function Tk(n,t){const e=rt(n),i=t.snapshotVersion;let r=e.Ki;return e.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const d=e.ji.newChangeBuffer({trackRemovals:!0});r=e.Ki;const f=[];t.targetChanges.forEach((C,k)=>{const L=r.get(k);if(!L)return;f.push(e.Ns.removeMatchingKeys(a,C.removedDocuments,k).next(()=>e.Ns.addMatchingKeys(a,C.addedDocuments,k)));let B=L.withSequenceNumber(a.currentSequenceNumber);var $,ce,De;t.targetMismatches.has(k)?B=B.withResumeToken(wr.EMPTY_BYTE_STRING,Pt.min()).withLastLimboFreeSnapshotVersion(Pt.min()):C.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(C.resumeToken,i)),r=r.insert(k,B),ce=B,De=C,(0===($=L).resumeToken.approximateByteSize()||ce.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8||De.addedDocuments.size+De.modifiedDocuments.size+De.removedDocuments.size>0)&&f.push(e.Ns.updateTargetData(a,B))});let _=io(),b=rn();if(t.documentUpdates.forEach(C=>{t.resolvedLimboDocuments.has(C)&&f.push(e.persistence.referenceDelegate.updateLimboDocument(a,C))}),f.push(kb(a,d,t.documentUpdates).next(C=>{_=C.Hi,b=C.Ji})),!i.isEqual(Pt.min())){const C=e.Ns.getLastRemoteSnapshotVersion(a).next(k=>e.Ns.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(C)}return be.waitFor(f).next(()=>d.apply(a)).next(()=>e.localDocuments.getLocalViewOfDocuments(a,_,b)).next(()=>_)}).then(a=>(e.Ki=r,a))}(e.localStore,t);t.targetChanges.forEach((r,a)=>{const d=e.hc.get(a);d&&(At(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?d.ic=!0:r.modifiedDocuments.size>0?At(d.ic):r.removedDocuments.size>0&&(At(d.ic),d.ic=!1))}),yield Dc(e,i,t)}catch(i){yield So(i)}}),o0.apply(this,arguments)}function wp(n,t,e){const i=rt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.oc.forEach((a,d)=>{const f=d.view.bu(t);f.snapshot&&r.push(f.snapshot)}),function(a,d){const f=rt(a);f.onlineState=d;let _=!1;f.queries.forEach((b,C)=>{for(const k of C.listeners)k.bu(d)&&(_=!0)}),_&&H_(f)}(i.eventManager,t),r.length&&i.rc.Ho(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function G_(n,t,e){return s0.apply(this,arguments)}function s0(){return s0=(0,ue.Z)(function*(n,t,e){const i=rt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.hc.get(t),a=r&&r.key;if(a){let d=new Di(Be.comparator);d=d.insert(a,ci.newNoDocument(a,Pt.min()));const f=rn().add(a),_=new du(Pt.min(),new Map,new Nn(nn),d,f);yield kE(i,_),i.ac=i.ac.remove(a),i.hc.delete(t),c0(i)}else yield _f(i.localStore,t,!1).then(()=>Ol(i,t,e)).catch(So)}),s0.apply(this,arguments)}function ND(n,t){return q_.apply(this,arguments)}function q_(){return q_=(0,ue.Z)(function*(n,t){const e=rt(n),i=t.batch.batchId;try{const r=yield function Dk(n,t){const e=rt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),a=e.ji.newChangeBuffer({trackRemovals:!0});return function(d,f,_,b){const C=_.batch,k=C.keys();let L=be.resolve();return k.forEach(B=>{L=L.next(()=>b.getEntry(f,B)).next($=>{const ce=_.docVersions.get(B);At(null!==ce),$.version.compareTo(ce)<0&&(C.applyToRemoteDocument($,_),$.isValidDocument()&&($.setReadTime(_.commitVersion),b.addEntry($)))})}),L.next(()=>d.mutationQueue.removeMutationBatch(f,C))}(e,i,t,a).next(()=>a.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let f=rn();for(let _=0;_<d.mutationResults.length;++_)d.mutationResults[_].transformResults.length>0&&(f=f.add(d.batch.mutations[_].key));return f}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);W_(e,i,null),Cp(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Dc(e,r)}catch(r){yield So(r)}}),q_.apply(this,arguments)}function OE(n,t,e){return xp.apply(this,arguments)}function xp(){return xp=(0,ue.Z)(function*(n,t,e){const i=rt(n);try{const r=yield function(a,d){const f=rt(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return f.mutationQueue.lookupMutationBatch(_,d).next(C=>(At(null!==C),b=C.keys(),f.mutationQueue.removeMutationBatch(_,C))).next(()=>f.mutationQueue.performConsistencyCheck(_)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(_,b,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b)).next(()=>f.localDocuments.getDocuments(_,b))})}(i.localStore,t);W_(i,t,e),Cp(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Dc(i,r)}catch(r){yield So(r)}}),xp.apply(this,arguments)}function Ep(){return Ep=(0,ue.Z)(function*(n,t){const e=rt(n);Sc(e.remoteStore)||We("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const d=rt(a);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>d.mutationQueue.getHighestUnacknowledgedBatchId(f))}(e.localStore);if(-1===i)return void t.resolve();const r=e.dc.get(i)||[];r.push(t),e.dc.set(i,r)}catch(i){const r=xu(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),Ep.apply(this,arguments)}function Cp(n,t){(n.dc.get(t)||[]).forEach(e=>{e.resolve()}),n.dc.delete(t)}function W_(n,t,e){const i=rt(n);let r=i.fc[i.currentUser.toKey()];if(r){const a=r.get(t);a&&(e?a.reject(e):a.resolve(),r=r.remove(t)),i.fc[i.currentUser.toKey()]=r}}function Ol(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.uc.get(t))n.oc.delete(i),e&&n.rc.gc(i,e);n.uc.delete(t),n.isPrimaryClient&&n.lc.ds(t).forEach(i=>{n.lc.containsKey(i)||K_(n,i)})}function K_(n,t){n.cc.delete(t.path.canonicalString());const e=n.ac.get(t);null!==e&&(hp(n.remoteStore,e),n.ac=n.ac.remove(t),n.hc.delete(e),c0(n))}function a0(n,t,e){for(const i of e)i instanceof kD?(n.lc.addReference(i.key,t),LD(n,i)):i instanceof e0?(We("SyncEngine","Document no longer in limbo: "+i.key),n.lc.removeReference(i.key,t),n.lc.containsKey(i.key)||K_(n,i.key)):bt()}function LD(n,t){const e=t.key,i=e.path.canonicalString();n.ac.get(e)||n.cc.has(i)||(We("SyncEngine","New document in limbo: "+e),n.cc.add(i),c0(n))}function c0(n){for(;n.cc.size>0&&n.ac.size<n.maxConcurrentLimboResolutions;){const t=n.cc.values().next().value;n.cc.delete(t);const e=new Be(yn.fromString(t)),i=n._c.next();n.hc.set(i,new RD(e)),n.ac=n.ac.insert(e,i),P_(n.remoteStore,new El(lr(Ma(e.path)),i,2,Do.at))}}function Dc(n,t,e){return Z_.apply(this,arguments)}function Z_(){return Z_=(0,ue.Z)(function*(n,t,e){const i=rt(n),r=[],a=[],d=[];var f;i.oc.isEmpty()||(i.oc.forEach((f,_)=>{d.push(i.mc(_,t,e).then(b=>{if((b||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,b?.fromCache?"not-current":"current"),b){r.push(b);const C=I_.Ni(_.targetId,b);a.push(C)}}))}),yield Promise.all(d),i.rc.Ho(r),yield(f=(0,ue.Z)(function*(_,b){const C=rt(_);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",k=>be.forEach(b,L=>be.forEach(L.Ci,B=>C.persistence.referenceDelegate.addReference(k,L.targetId,B)).next(()=>be.forEach(L.xi,B=>C.persistence.referenceDelegate.removeReference(k,L.targetId,B)))))}catch(k){if(!Qd(k))throw k;We("LocalStore","Failed to update sequence numbers: "+k)}for(const k of b){const L=k.targetId;if(!k.fromCache){const B=C.Ki.get(L),ce=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);C.Ki=C.Ki.insert(L,ce)}}}),function(_,b){return f.apply(this,arguments)})(i.localStore,a))}),Z_.apply(this,arguments)}function l0(n,t){return Y_.apply(this,arguments)}function Y_(){return Y_=(0,ue.Z)(function*(n,t){const e=rt(n);if(!e.currentUser.isEqual(t)){We("SyncEngine","User change. New user:",t.toKey());const i=yield sE(e.localStore,t);e.currentUser=t,(r=e).dc.forEach(d=>{d.forEach(f=>{f.reject(new $e(Se.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.dc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Dc(e,i.Wi)}var r}),Y_.apply(this,arguments)}function PE(n,t){const e=rt(n),i=e.hc.get(t);if(i&&i.ic)return rn().add(i.key);{let r=rn();const a=e.uc.get(t);if(!a)return r;for(const d of a){const f=e.oc.get(d);r=r.unionWith(f.view.Wu)}return r}}function FE(n,t){return Q_.apply(this,arguments)}function Q_(){return Q_=(0,ue.Z)(function*(n,t){const e=rt(n),i=yield Al(e.localStore,t.query,!0),r=t.view.nc(i);return e.isPrimaryClient&&a0(e,t.targetId,r.tc),r}),Q_.apply(this,arguments)}function BD(n,t){return X_.apply(this,arguments)}function X_(){return X_=(0,ue.Z)(function*(n,t){const e=rt(n);return lE(e.localStore,t).then(i=>Dc(e,i))}),X_.apply(this,arguments)}function NE(n,t,e,i){return d0.apply(this,arguments)}function d0(){return d0=(0,ue.Z)(function*(n,t,e,i){const r=rt(n),a=yield function(d,f){const _=rt(d),b=rt(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",C=>b.An(C,f).next(k=>k?_.localDocuments.getDocuments(C,k):be.resolve(null)))}(r.localStore,t);var f;null!==a?("pending"===e?yield vf(r.remoteStore):"acknowledged"===e||"rejected"===e?(W_(r,t,i||null),Cp(r,t),f=t,rt(rt(r.localStore).mutationQueue).Pn(f)):bt(),yield Dc(r,a)):We("SyncEngine","Cannot apply mutation batch with id: "+t)}),d0.apply(this,arguments)}function J_(){return J_=(0,ue.Z)(function*(n,t){const e=rt(n);if(Cu(e),u0(e),!0===t&&!0!==e.wc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield Wr(e,i.toArray());e.wc=!0,yield qb(e.remoteStore,!0);for(const a of r)P_(e.remoteStore,a)}else if(!1===t&&!1!==e.wc){const i=[];let r=Promise.resolve();e.uc.forEach((a,d)=>{e.sharedClientState.isLocalQueryTarget(d)?i.push(d):r=r.then(()=>(Ol(e,d),_f(e.localStore,d,!0))),hp(e.remoteStore,d)}),yield r,yield Wr(e,i),function(a){const d=rt(a);d.hc.forEach((f,_)=>{hp(d.remoteStore,_)}),d.lc._s(),d.hc=new Map,d.ac=new Di(Be.comparator)}(e),e.wc=!1,yield qb(e.remoteStore,!1)}}),J_.apply(this,arguments)}function Wr(n,t,e){return Rl.apply(this,arguments)}function Rl(){return Rl=(0,ue.Z)(function*(n,t,e){const i=rt(n),r=[],a=[];for(const d of t){let f;const _=i.uc.get(d);if(_&&0!==_.length){f=yield gf(i.localStore,lr(_[0]));for(const b of _){const C=i.oc.get(b),k=yield FE(i,C);k.snapshot&&a.push(k.snapshot)}}else{const b=yield cE(i.localStore,d);f=yield gf(i.localStore,b),yield vp(i,BE(b),d,!1,f.resumeToken)}r.push(f)}return i.rc.Ho(a),r}),Rl.apply(this,arguments)}function BE(n){return jm(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function UD(n){const t=rt(n);return rt(rt(t.localStore).persistence).Si()}function Ak(n,t,e,i){return UE.apply(this,arguments)}function UE(){return UE=(0,ue.Z)(function*(n,t,e,i){const r=rt(n);if(r.wc)return void We("SyncEngine","Ignoring unexpected query state notification.");const a=r.uc.get(t);if(a&&a.length>0)switch(e){case"current":case"not-current":{const d=yield lE(r.localStore,_x(a[0])),f=du.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,wr.EMPTY_BYTE_STRING);yield Dc(r,d,f);break}case"rejected":yield _f(r.localStore,t,!0),Ol(r,t,i);break;default:bt()}}),UE.apply(this,arguments)}function VE(n,t,e){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,ue.Z)(function*(n,t,e){const i=Cu(n);if(i.wc){for(const r of t){if(i.uc.has(r)){We("SyncEngine","Adding an already active target "+r);continue}const a=yield cE(i.localStore,r),d=yield gf(i.localStore,a);yield vp(i,BE(a),d.targetId,!1,d.resumeToken),P_(i.remoteStore,d)}for(const r of e)i.uc.has(r)&&(yield _f(i.localStore,r,!1).then(()=>{hp(i.remoteStore,r),Ol(i,r)}).catch(So))}}),Ip.apply(this,arguments)}function Cu(n){const t=rt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=kE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=PE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=G_.bind(null,t),t.rc.Ho=_p.bind(null,t.eventManager),t.rc.gc=DE.bind(null,t.eventManager),t}function u0(n){const t=rt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ND.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=OE.bind(null,t),t}class jE{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,ue.Z)(function*(){e.Tt=dp(t.databaseInfo.databaseId),e.sharedClientState=e.Ic(t),e.persistence=e.Tc(t),yield e.persistence.start(),e.localStore=e.Ec(t),e.gcScheduler=e.Ac(t,e.localStore),e.indexBackfillerScheduler=e.Rc(t,e.localStore)})()}Ac(t,e){return null}Rc(t,e){return null}Ec(t){return oE(this.persistence,new iE,t.initialUser,this.Tt)}Tc(t){return new Tb(E_.qs,this.Tt)}Ic(t){return new mE}terminate(){var t=this;return(0,ue.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class f0 extends jE{constructor(t,e,i){super(),this.Pc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,ue.Z)(function*(){yield e().call(i,t),yield i.Pc.initialize(i,t),yield u0(i.Pc.syncEngine),yield vf(i.Pc.remoteStore),yield i.persistence.di(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ec(t){return oE(this.persistence,new iE,t.initialUser,this.Tt)}Ac(t,e){return new lD(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Rc(t,e){const i=new MS(e,this.persistence);return new Hh(t.asyncQueue,i)}Tc(t){const e=C_(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Gr.withCacheSize(this.cacheSizeBytes):Gr.DEFAULT;return new Mb(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,gE(),lp(),this.Tt,this.sharedClientState,!!this.forceOwnership)}Ic(t){return new mE}}class VD extends f0{constructor(t,e){super(t,e,!1),this.Pc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,ue.Z)(function*(){yield e().call(i,t);const r=i.Pc.syncEngine;i.sharedClientState instanceof O_&&(i.sharedClientState.syncEngine={Br:NE.bind(null,r),Lr:Ak.bind(null,r),qr:VE.bind(null,r),Si:UD.bind(null,r),Fr:BD.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.di(function(){var a=(0,ue.Z)(function*(d){yield function LE(n,t){return J_.apply(this,arguments)}(i.Pc.syncEngine,d),i.gcScheduler&&(d&&!i.gcScheduler.started?i.gcScheduler.start():d||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(d&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():d||i.indexBackfillerScheduler.stop())});return function(d){return a.apply(this,arguments)}}())})()}Ic(t){const e=gE();if(!O_.C(e))throw new $e(Se.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=C_(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new O_(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class m0{initialize(t,e){var i=this;return(0,ue.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>wp(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=l0.bind(null,i.syncEngine),yield qb(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new MD}createDatastore(t){const e=dp(t.databaseInfo.databaseId),i=new Pb(t.databaseInfo);return new ED(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,a=f=>wp(this.syncEngine,f,0),d=pE.C()?new pE:new Rb,new vE(e,i,r,a,d);var e,i,r,a,d}createSyncEngine(t,e){return function(i,r,a,d,f,_,b){const C=new PD(i,r,a,d,f,_);return b&&(C.wc=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,ue.Z)(function*(e){const i=rt(e);We("RemoteStore","RemoteStore shutting down."),i.mu.add(5),yield wu(i),i.yu.shutdown(),i.pu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function zE(n,t=10240){let e=0;return{read:()=>(0,ue.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,ue.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class xf{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.vc(this.observer.next,t)}error(t){this.observer.error?this.vc(this.observer.error,t):Ni("Uncaught Error in snapshot listener:",t.toString())}bc(){this.muted=!0}vc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class HE{constructor(t,e){this.Vc=t,this.Tt=e,this.metadata=new br,this.buffer=new Uint8Array,this.Sc=new TextDecoder("utf-8"),this.Dc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.Mu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Mu)}`))},i=>this.metadata.reject(i))}close(){return this.Vc.cancel()}getMetadata(){var t=this;return(0,ue.Z)(function*(){return t.metadata.promise})()}yc(){var t=this;return(0,ue.Z)(function*(){return yield t.getMetadata(),t.Dc()})()}Dc(){var t=this;return(0,ue.Z)(function*(){const e=yield t.Cc();if(null===e)return null;const i=t.Sc.decode(e),r=Number(i);isNaN(r)&&t.xc(`length string (${i}) is not valid number`);const a=yield t.Nc(r);return new TE(JSON.parse(a),e.length+r)})()}kc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Cc(){var t=this;return(0,ue.Z)(function*(){for(;t.kc()<0&&!(yield t.$c()););if(0===t.buffer.length)return null;const e=t.kc();e<0&&t.xc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Nc(t){var e=this;return(0,ue.Z)(function*(){for(;e.buffer.length<t;)(yield e.$c())&&e.xc("Reached the end of bundle when more is expected.");const i=e.Sc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}xc(t){throw this.Vc.cancel(),new Error(`Invalid bundle format: ${t}`)}$c(){var t=this;return(0,ue.Z)(function*(){const e=yield t.Vc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class $E{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,ue.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new $e(Se.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,ue.Z)(function*(a,d){const f=rt(a),_=rf(f.Tt)+"/documents",b={documents:d.map(B=>nf(f.Tt,B))},C=yield f.mo("BatchGetDocuments",_,b,d.length),k=new Map;C.forEach(B=>{const $=function Ax(n,t){return"found"in t?function(e,i){At(!!i.found);const r=Ws(e,i.found.name),a=Bi(i.found.updateTime),d=i.found.createTime?Bi(i.found.createTime):Pt.min(),f=new Xi({mapValue:{fields:i.found.fields}});return ci.newFoundDocument(r,a,d,f)}(n,t):"missing"in t?function(e,i){At(!!i.missing),At(!!i.readTime);const r=Ws(e,i.missing),a=Bi(i.readTime);return ci.newNoDocument(r,a)}(n,t):bt()}(f.Tt,B);k.set($.key.toString(),$)});const L=[];return d.forEach(B=>{const $=k.get(B.toString());At(!!$),L.push($)}),L}),function(a,d){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Gs(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,ue.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const a=Be.fromPath(r);t.mutations.push(new wl(a,t.precondition(a)))}),yield(i=(0,ue.Z)(function*(r,a){const d=rt(r),f=rf(d.Tt)+"/documents",_={writes:a.map(b=>sf(d.Tt,b))};yield d.lo("Commit",f,_)}),function(r,a){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw bt();e=Pt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new $e(Se.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Pt.min())?li.exists(!1):li.updateTime(e):li.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Pt.min()))throw new $e(Se.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return li.updateTime(e)}return li.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class ey{constructor(t,e,i,r,a){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=a,this.Mc=i.maxAttempts,this.ko=new Fb(this.asyncQueue,"transaction_retry")}run(){this.Mc-=1,this.Oc()}Oc(){var t=this;this.ko.vo((0,ue.Z)(function*(){const e=new $E(t.datastore),i=t.Fc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(a=>{t.Bc(a)}))}).catch(r=>{t.Bc(r)})}))}Fc(t){try{const e=this.updateFunction(t);return!$h(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Bc(t){this.Mc>0&&this.Lc(t)?(this.Mc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(t)}Lc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!cu(e)}return!1}}class p0{constructor(t,e,i,r){var a=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Qi.UNAUTHENTICATED,this.clientId=Zw.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var d=(0,ue.Z)(function*(f){We("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(i,d=>(We("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var t=this;return(0,ue.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $e(Se.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ue.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=xu(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function jD(n,t){return ty.apply(this,arguments)}function ty(){return ty=(0,ue.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),We("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,ue.Z)(function*(a){i.isEqual(a)||(yield sE(t.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),ty.apply(this,arguments)}function GE(n,t){return ny.apply(this,arguments)}function ny(){return ny=(0,ue.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield Pl(n);We("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>TD(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>TD(t.remoteStore,a)),n.onlineComponents=t}),ny.apply(this,arguments)}function Pl(n){return g0.apply(this,arguments)}function g0(){return g0=(0,ue.Z)(function*(n){return n.offlineComponents||(We("FirestoreClient","Using default OfflineComponentProvider"),yield jD(n,new jE)),n.offlineComponents}),g0.apply(this,arguments)}function Sp(n){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,ue.Z)(function*(n){return n.onlineComponents||(We("FirestoreClient","Using default OnlineComponentProvider"),yield GE(n,new m0)),n.onlineComponents}),Dp.apply(this,arguments)}function zD(n){return Pl(n).then(t=>t.persistence)}function iy(n){return Pl(n).then(t=>t.localStore)}function qE(n){return Sp(n).then(t=>t.remoteStore)}function _0(n){return Sp(n).then(t=>t.syncEngine)}function Ef(n){return ry.apply(this,arguments)}function ry(){return ry=(0,ue.Z)(function*(n){const t=yield Sp(n),e=t.eventManager;return e.onListen=yp.bind(null,t.syncEngine),e.onUnlisten=FD.bind(null,t.syncEngine),e}),ry.apply(this,arguments)}function y0(n,t,e={}){const i=new br;return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function(r,a,d,f,_){const b=new xf({next:k=>{a.enqueueAndForget(()=>Qb(r,C));const L=k.docs.has(d);!L&&k.fromCache?_.reject(new $e(Se.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&k.fromCache&&f&&"server"===f.source?_.reject(new $e(Se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(k)},error:k=>_.reject(k)}),C=new $_(Ma(d.path),b,{includeMetadataChanges:!0,$u:!0});return Zb(r,C)}(yield Ef(n),n.asyncQueue,t,e,i)})),i.promise}function YE(n,t,e={}){const i=new br;return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function(r,a,d,f,_){const b=new xf({next:k=>{a.enqueueAndForget(()=>Qb(r,C)),k.fromCache&&"server"===f.source?_.reject(new $e(Se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(k)},error:k=>_.reject(k)}),C=new $_(d,b,{includeMetadataChanges:!0,$u:!0});return Zb(r,C)}(yield Ef(n),n.asyncQueue,t,e,i)})),i.promise}const v0=new Map;function oy(n,t,e){if(!e)throw new $e(Se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function b0(n,t,e,i){if(!0===t&&!0===i)throw new $e(Se.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function JE(n){if(!Be.isDocumentKey(n))throw new $e(Se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function eC(n){if(Be.isDocumentKey(n))throw new $e(Se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function w0(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":bt()}function hn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new $e(Se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=w0(n);throw new $e(Se.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function qD(n,t){if(t<=0)throw new $e(Se.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class WD{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new $e(Se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new $e(Se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,b0("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class sy{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WD({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $e(Se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new $e(Se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WD(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new qw;switch(e.type){case"gapi":return new CS(e.client,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new $e(Se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=v0.get(t);e&&(We("ComponentProvider","Removing Datastore"),v0.delete(t),e.terminate())}(this),Promise.resolve()}}function KD(n,t,e,i={}){var r;const a=(n=hn(n,sy))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Yd("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let d,f;if("string"==typeof i.mockUserToken)d=i.mockUserToken,f=Qi.MOCK_USER;else{d=(0,Jt.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new $e(Se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Qi(_)}n._authCredentials=new wk(new ES(d,f))}}class di{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new di(this.firestore,t,this._key)}}class Kr{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Kr(this.firestore,t,this._query)}}class Tc extends Kr{constructor(t,e,i){super(t,e,Ma(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new di(this.firestore,null,new Be(t))}withConverter(t){return new Tc(this.firestore,t,this._path)}}function ZD(n,t,...e){if(n=(0,Jt.m9)(n),oy("collection","path",t),n instanceof sy){const i=yn.fromString(t,...e);return eC(i),new Tc(n,null,i)}{if(!(n instanceof di||n instanceof Tc))throw new $e(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(yn.fromString(t,...e));return eC(i),new Tc(n.firestore,null,i)}}function Tp(n,t,...e){if(n=(0,Jt.m9)(n),1===arguments.length&&(t=Zw.R()),oy("doc","path",t),n instanceof sy){const i=yn.fromString(t,...e);return JE(i),new di(n,null,new Be(i))}{if(!(n instanceof di||n instanceof Tc))throw new $e(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(yn.fromString(t,...e));return JE(i),new di(n.firestore,n instanceof Tc?n.converter:null,new Be(i))}}function x0(n,t){return n=(0,Jt.m9)(n),t=(0,Jt.m9)(t),(n instanceof di||n instanceof Tc)&&(t instanceof di||t instanceof Tc)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function Cf(n,t){return n=(0,Jt.m9)(n),t=(0,Jt.m9)(t),n instanceof Kr&&t instanceof Kr&&n.firestore===t.firestore&&Hm(n._query,t._query)&&n.converter===t.converter}class tC{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new Fb(this,"async_queue_retry"),this.Hc=()=>{const e=lp();e&&We("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ko.Vo()};const t=lp();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Jc(),this.Yc(t)}enterRestrictedMode(t){if(!this.Kc){this.Kc=!0,this.zc=t||!1;const e=lp();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Hc)}}enqueue(t){if(this.Jc(),this.Kc)return new Promise(()=>{});const e=new br;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Uc.push(t),this.Zc()))}Zc(){var t=this;return(0,ue.Z)(function*(){if(0!==t.Uc.length){try{yield t.Uc[0](),t.Uc.shift(),t.ko.reset()}catch(e){if(!Qd(e))throw e;We("AsyncQueue","Operation failed with retryable error: "+e)}t.Uc.length>0&&t.ko.vo(()=>t.Zc())}})()}Yc(t){const e=this.qc.then(()=>(this.jc=!0,t().catch(i=>{throw this.Qc=i,this.jc=!1,Ni("INTERNAL UNHANDLED ERROR: ",function(a){let d=a.message||"";return a.stack&&(d=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),d}(i)),i}).then(i=>(this.jc=!1,i))));return this.qc=e,e}enqueueAfterDelay(t,e,i){this.Jc(),this.Wc.indexOf(t)>-1&&(e=0);const r=Kb.createAndSchedule(this,t,e,i,a=>this.Xc(a));return this.Gc.push(r),r}Jc(){this.Qc&&bt()}verifyOperationInProgress(){}ta(){var t=this;return(0,ue.Z)(function*(){let e;do{e=t.qc,yield e}while(e!==t.qc)})()}ea(t){for(const e of this.Gc)if(e.timerId===t)return!0;return!1}na(t){return this.ta().then(()=>{this.Gc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Gc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.ta()})}sa(t){this.Wc.push(t)}Xc(t){const e=this.Gc.indexOf(t);this.Gc.splice(e,1)}}function cy(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class Mk{constructor(){this._progressObserver={},this._taskCompletionResolver=new br,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Qn extends sy{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new tC,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||nC(this),this._firestoreClient.terminate()}}function Ok(n,t){const e="object"==typeof n?n:(0,Rt.getApp)(),i="string"==typeof n?n:t||"(default)",r=(0,Rt._getProvider)(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const a=(0,Jt.P0)("firestore");a&&KD(r,...a)}return r}function Ui(n){return n._firestoreClient||nC(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function nC(n){var t;const e=n._freezeSettings(),i=(a=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new kS(n._databaseId,a,n._persistenceKey,(f=e).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new p0(n._authCredentials,n._appCheckCredentials,n._queue,i)}function iC(n,t,e){const i=new br;return n.asyncQueue.enqueue((0,ue.Z)(function*(){try{yield jD(n,e),yield GE(n,t),i.resolve()}catch(r){const a=r;if(!("FirebaseError"===(d=a).name?d.code===Se.FAILED_PRECONDITION||d.code===Se.UNIMPLEMENTED:!(typeof DOMException<"u"&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw a;Yd("Error enabling offline persistence. Falling back to persistence disabled: "+a),i.reject(a)}var d})).then(()=>i.promise)}function rC(n){if(n._initialized||n._terminated)throw new $e(Se.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ac{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ac(wr.fromBase64String(t))}catch(e){throw new $e(Se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ac(wr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class ur{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new $e(Se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Si(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Mc{constructor(t){this._methodName=t}}class dy{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new $e(Se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new $e(Se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return nn(this._lat,t._lat)||nn(this._long,t._long)}}const Uk=/^__.*__$/;class gs{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Ji(t,this.data,this.fieldMask,e,this.fieldTransforms):new Cc(t,this.data,e,this.fieldTransforms)}}class sC{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Ji(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function uy(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt()}}class hy{constructor(t,e,i,r,a,d){this.settings=t,this.databaseId=e,this.Tt=i,this.ignoreUndefinedProperties=r,void 0===a&&this.ia(),this.fieldTransforms=a||[],this.fieldMask=d||[]}get path(){return this.settings.path}get ra(){return this.settings.ra}oa(t){return new hy(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ua(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.oa({path:i,ca:!1});return r.aa(t),r}ha(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.oa({path:i,ca:!1});return r.ia(),r}la(t){return this.oa({path:void 0,ca:!0})}fa(t){return _y(t,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ia(){if(this.path)for(let t=0;t<this.path.length;t++)this.aa(this.path.get(t))}aa(t){if(0===t.length)throw this.fa("Document fields must not be empty");if(uy(this.ra)&&Uk.test(t))throw this.fa('Document fields cannot begin and end with "__"')}}class JD{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.Tt=i||dp(t)}wa(t,e,i,r=!1){return new hy({ra:t,methodName:e,_a:i,path:Si.emptyPath(),ca:!1,da:r},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}function kc(n){const t=n._freezeSettings(),e=dp(n._databaseId);return new JD(n._databaseId,!!t.ignoreUndefinedProperties,e)}function Ap(n,t,e,i,r,a={}){const d=n.wa(a.merge||a.mergeFields?2:0,t,e,r);py("Data must be an object, but it was:",d,i);const f=I0(i,d);let _,b;if(a.merge)_=new Nr(d.fieldMask),b=d.fieldTransforms;else if(a.mergeFields){const C=[];for(const k of a.mergeFields){const L=kp(t,k,e);if(!d.contains(L))throw new $e(Se.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);dC(C,L)||C.push(L)}_=new Nr(C),b=d.fieldTransforms.filter(k=>_.covers(k.field))}else _=null,b=d.fieldTransforms;return new gs(new Xi(f),_,b)}class Sf extends Mc{_toFieldTransform(t){if(2!==t.ra)throw t.fa(1===t.ra?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Sf}}function aC(n,t,e){return new hy({ra:3,_a:t.settings._a,methodName:n._methodName,ca:e},t.databaseId,t.Tt,t.ignoreUndefinedProperties)}class fy extends Mc{_toFieldTransform(t){return new Qh(t.path,new Yh)}isEqual(t){return t instanceof fy}}class cC extends Mc{constructor(t,e){super(t),this.ma=e}_toFieldTransform(t){const e=aC(this,t,!0),i=this.ma.map(a=>Ao(a,e)),r=new iu(i);return new Qh(t.path,r)}isEqual(t){return this===t}}class eT extends Mc{constructor(t,e){super(t),this.ma=e}_toFieldTransform(t){const e=aC(this,t,!0),i=this.ma.map(a=>Ao(a,e)),r=new ru(i);return new Qh(t.path,r)}isEqual(t){return this===t}}class lC extends Mc{constructor(t,e){super(t),this.ga=e}_toFieldTransform(t){const e=new ou(t.Tt,vx(t.Tt,this.ga));return new Qh(t.path,e)}isEqual(t){return this===t}}function C0(n,t,e,i){const r=n.wa(1,t,e);py("Data must be an object, but it was:",r,i);const a=[],d=Xi.empty();Xd(i,(_,b)=>{const C=gy(t,_,e);b=(0,Jt.m9)(b);const k=r.ha(C);if(b instanceof Sf)a.push(C);else{const L=Ao(b,k);null!=L&&(a.push(C),d.set(C,L))}});const f=new Nr(a);return new sC(d,f,r.fieldTransforms)}function Mp(n,t,e,i,r,a){const d=n.wa(1,t,e),f=[kp(t,i,e)],_=[r];if(a.length%2!=0)throw new $e(Se.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<a.length;L+=2)f.push(kp(t,a[L])),_.push(a[L+1]);const b=[],C=Xi.empty();for(let L=f.length-1;L>=0;--L)if(!dC(b,f[L])){const B=f[L];let $=_[L];$=(0,Jt.m9)($);const ce=d.ha(B);if($ instanceof Sf)b.push(B);else{const De=Ao($,ce);null!=De&&(b.push(B),C.set(B,De))}}const k=new Nr(b);return new sC(C,k,d.fieldTransforms)}function Na(n,t,e,i=!1){return Ao(e,n.wa(i?4:3,t))}function Ao(n,t){if(my(n=(0,Jt.m9)(n)))return py("Unsupported field value:",t,n),I0(n,t);if(n instanceof Mc)return function(e,i){if(!uy(i.ra))throw i.fa(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.fa(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.ca&&4!==t.ra)throw t.fa("Nested arrays are not supported");return function(e,i){const r=[];let a=0;for(const d of e){let f=Ao(d,i.la(a));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),a++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,Jt.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return vx(i.Tt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=ai.fromDate(e);return{timestampValue:hu(i.Tt,r)}}if(e instanceof ai){const r=new ai(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:hu(i.Tt,r)}}if(e instanceof dy)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ac)return{bytesValue:a_(i.Tt,e._byteString)};if(e instanceof di){const r=i.databaseId,a=e.firestore._databaseId;if(!a.isEqual(r))throw i.fa(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:c_(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.fa(`Unsupported field value: ${w0(e)}`)}(n,t)}function I0(n,t){const e={};return nx(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Xd(n,(i,r)=>{const a=Ao(r,t.ua(i));null!=a&&(e[i]=a)}),{mapValue:{fields:e}}}function my(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ai||n instanceof dy||n instanceof Ac||n instanceof di||n instanceof Mc)}function py(n,t,e){if(!my(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=w0(e);throw t.fa("an object"===i?n+" a custom object":n+" "+i)}var i}function kp(n,t,e){if((t=(0,Jt.m9)(t))instanceof ur)return t._internalPath;if("string"==typeof t)return gy(n,t);throw _y("Field path arguments must be of type string or ",n,!1,void 0,e)}const Vk=new RegExp("[~\\*/\\[\\]]");function gy(n,t,e){if(t.search(Vk)>=0)throw _y(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new ur(...t.split("."))._internalPath}catch{throw _y(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function _y(n,t,e,i,r){const a=i&&!i.isEmpty(),d=void 0!==r;let f=`Function ${t}() called with invalid data`;e&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||d)&&(_+=" (found",a&&(_+=` in field ${i}`),d&&(_+=` in document ${r}`),_+=")"),new $e(Se.INVALID_ARGUMENT,f+n+_)}function dC(n,t){return n.some(e=>e.isEqual(t))}class Op{constructor(t,e,i,r,a){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new di(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new uC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(S0("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class uC extends Op{data(){return super.data()}}function S0(n,t){return"string"==typeof t?gy(n,t):t instanceof ur?t._internalPath:t._delegate._internalPath}function D0(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new $e(Se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class T0{}class Df extends T0{}function Iu(n,t,...e){let i=[];t instanceof T0&&i.push(t),i=i.concat(e),function(r){const a=r.filter(f=>f instanceof Du).length,d=r.filter(f=>f instanceof Su).length;if(a>1||a>0&&d>0)throw new $e(Se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Su extends Df{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Su(t,e,i)}_apply(t){const e=this._parse(t);return sT(t._query,e),new Kr(t.firestore,t.converter,qv(t._query,e))}_parse(t){const e=kc(t.firestore);return function(r,a,d,f,_,b,C){let k;if(_.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new $e(Se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){oT(C,b);const L=[];for(const B of C)L.push(gC(f,r,B));k={arrayValue:{values:L}}}else k=gC(f,r,C)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||oT(C,b),k=Na(d,"where",C,"in"===b||"not-in"===b);return _n.create(_,b,k)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class Du extends T0{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Du(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:kn.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,r){let a=i;const d=r.getFlattenedFilters();for(const f of d)sT(a,f),a=qv(a,f)}(t._query,e),new Kr(t.firestore,t.converter,qv(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class yy extends Df{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new yy(t,e)}_apply(t){const e=function(i,r,a){if(null!==i.startAt)throw new $e(Se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new $e(Se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new qh(r,a);return function(f,_){if(null===Xg(f)){const b=zm(f);null!==b&&aT(0,b,_.field)}}(i,d),d}(t._query,this._field,this._direction);return new Kr(t.firestore,t.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new fs(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class Tu extends Df{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new Tu(t,e,i)}_apply(t){return new Kr(t.firestore,t.converter,Wv(t._query,this._limit,this._limitType))}}class by extends Df{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new by(t,e,i)}_apply(t){const e=pC(t,this.type,this._docOrFields,this._inclusive);return new Kr(t.firestore,t.converter,(r=e,new fs((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class A0 extends Df{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new A0(t,e,i)}_apply(t){const e=pC(t,this.type,this._docOrFields,this._inclusive);return new Kr(t.firestore,t.converter,(r=e,new fs((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function pC(n,t,e,i){if(e[0]=(0,Jt.m9)(e[0]),e[0]instanceof Op)return function(r,a,d,f,_){if(!f)throw new $e(Se.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const b=[];for(const C of nu(r))if(C.field.isKeyField())b.push(xc(a,f.key));else{const k=f.data.field(C.field);if(zg(k))throw new $e(Se.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+C.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===k){const L=C.field.canonicalString();throw new $e(Se.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}b.push(k)}return new yl(b,_)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=kc(n.firestore);return function(a,d,f,_,b,C){const k=a.explicitOrderBy;if(b.length>k.length)throw new $e(Se.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let B=0;B<b.length;B++){const $=b[B];if(k[B].field.isKeyField()){if("string"!=typeof $)throw new $e(Se.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof $}`);if(!Gv(a)&&-1!==$.indexOf("/"))throw new $e(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${$}' contains a slash.`);const ce=a.path.child(yn.fromString($));if(!Be.isDocumentKey(ce))throw new $e(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ce}' is not because it contains an odd number of segments.`);const De=new Be(ce);L.push(xc(d,De))}else{const ce=Na(f,_,$);L.push(ce)}}return new yl(L,C)}(n._query,n.firestore._databaseId,r,t,e,i)}}function gC(n,t,e){if("string"==typeof(e=(0,Jt.m9)(e))){if(""===e)throw new $e(Se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gv(t)&&-1!==e.indexOf("/"))throw new $e(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(yn.fromString(e));if(!Be.isDocumentKey(i))throw new $e(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return xc(n,new Be(i))}if(e instanceof di)return xc(n,e._key);throw new $e(Se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${w0(e)}.`)}function oT(n,t){if(!Array.isArray(n)||0===n.length)throw new $e(Se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function sT(n,t){if(t.isInequality()){const i=zm(n),r=t.field;if(null!==i&&!i.isEqual(r))throw new $e(Se.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const a=Xg(n);null!==a&&aT(0,r,a)}const e=function(i,r){for(const a of i)for(const d of a.getFlattenedFilters())if(r.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new $e(Se.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function aT(n,t,e){if(!e.isEqual(t))throw new $e(Se.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class _C{convertValue(t,e="none"){switch(Ta(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Li(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(us(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw bt()}}convertObject(t,e){const i={};return Xd(t.fields,(r,a)=>{i[r]=this.convertValue(a,e)}),i}convertGeoPoint(t){return new dy(Li(t.latitude),Li(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=rx(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Gh(t));default:return null}}convertTimestamp(t){const e=gl(t);return new ai(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=yn.fromString(t);At(WS(i));const r=new pl(i.get(1),i.get(3)),a=new Be(i.popFirst(5));return r.isEqual(e)||Ni(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),a}}function wy(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class xy extends _C{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ac(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new di(this.firestore,null,e)}}class Oc{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ys extends Op{constructor(t,e,i,r,a,d){super(t,e,i,r,d),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Rp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(S0("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Rp extends Ys{data(t={}){return super.data(t)}}class La{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Oc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Rp(this._firestore,this._userDataWriter,i.key,i,new Oc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new $e(Se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(d=>({type:"added",doc:new Rp(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Oc(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(d=>r||3!==d.type).map(d=>{const f=new Rp(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Oc(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,b=-1;return 0!==d.type&&(_=a.indexOf(d.doc.key),a=a.delete(d.doc.key)),1!==d.type&&(a=a.add(d.doc),b=a.indexOf(d.doc.key)),{type:M0(d.type),doc:f,oldIndex:_,newIndex:b}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function M0(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt()}}function Pp(n,t){return n instanceof Ys&&t instanceof Ys?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof La&&t instanceof La&&n._firestore===t._firestore&&Cf(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function vC(n){n=hn(n,di);const t=hn(n.firestore,Qn);return y0(Ui(t),n._key).then(e=>Ey(t,n,e))}class Au extends _C{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ac(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new di(this.firestore,null,e)}}function wC(n,t,e){n=hn(n,di);const i=hn(n.firestore,Qn),r=wy(n.converter,t,e);return Af(i,[Ap(kc(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,li.none())])}function xC(n,t,e,...i){n=hn(n,di);const r=hn(n.firestore,Qn),a=kc(r);let d;return d="string"==typeof(t=(0,Jt.m9)(t))||t instanceof ur?Mp(a,"updateDoc",n._key,t,e,i):C0(a,"updateDoc",n._key,t),Af(r,[d.toMutation(n._key,li.exists(!0))])}function k0(n,...t){var e,i,r;n=(0,Jt.m9)(n);let a={includeMetadataChanges:!1},d=0;"object"!=typeof t[d]||cy(t[d])||(a=t[d],d++);const f={includeMetadataChanges:a.includeMetadataChanges};if(cy(t[d])){const k=t[d];t[d]=null===(e=k.next)||void 0===e?void 0:e.bind(k),t[d+1]=null===(i=k.error)||void 0===i?void 0:i.bind(k),t[d+2]=null===(r=k.complete)||void 0===r?void 0:r.bind(k)}let _,b,C;if(n instanceof di)b=hn(n.firestore,Qn),C=Ma(n._key.path),_={next:k=>{t[d]&&t[d](Ey(b,n,k))},error:t[d+1],complete:t[d+2]};else{const k=hn(n,Kr);b=hn(k.firestore,Qn),C=k._query;const L=new Au(b);_={next:B=>{t[d]&&t[d](new La(b,L,k,B))},error:t[d+1],complete:t[d+2]},D0(n._query)}return function(k,L,B,$){const ce=new xf($),De=new $_(L,ce,B);return k.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return Zb(yield Ef(k),De)})),()=>{ce.bc(),k.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return Qb(yield Ef(k),De)}))}}(Ui(b),C,f,_)}function Af(n,t){return function(e,i){const r=new br;return e.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function bp(n,t,e){return r0.apply(this,arguments)}(yield _0(e),i,r)})),r.promise}(Ui(n),t)}function Ey(n,t,e){const i=e.docs.get(t._key),r=new Au(n);return new Ys(n,r,t._key,i,new Oc(e.hasPendingWrites,e.fromCache),t.converter)}const SC={maxAttempts:5};class Cy{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=kc(t)}set(t,e,i){this._verifyNotCommitted();const r=Fl(t,this._firestore),a=wy(r.converter,e,i),d=Ap(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(d.toMutation(r._key,li.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const a=Fl(t,this._firestore);let d;return d="string"==typeof(e=(0,Jt.m9)(e))||e instanceof ur?Mp(this._dataReader,"WriteBatch.update",a._key,e,i,r):C0(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(d.toMutation(a._key,li.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Fl(t,this._firestore);return this._mutations=this._mutations.concat(new Gs(e._key,li.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new $e(Se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Fl(n,t){if((n=(0,Jt.m9)(n)).firestore!==t)throw new $e(Se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class fT extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=kc(t)}get(t){const e=Fl(t,this._firestore),i=new xy(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return bt();const a=r[0];if(a.isFoundDocument())return new Op(this._firestore,i,a.key,a,e.converter);if(a.isNoDocument())return new Op(this._firestore,i,e._key,null,e.converter);throw bt()})}set(t,e,i){const r=Fl(t,this._firestore),a=wy(r.converter,e,i),d=Ap(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,d),this}update(t,e,i,...r){const a=Fl(t,this._firestore);let d;return d="string"==typeof(e=(0,Jt.m9)(e))||e instanceof ur?Mp(this._dataReader,"Transaction.update",a._key,e,i,r):C0(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,d),this}delete(t){const e=Fl(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Fl(t,this._firestore),i=new Au(this._firestore);return super.get(t).then(r=>new Ys(this._firestore,i,e._key,r._document,new Oc(!1,!1),e.converter))}}!function(n,t=!0){Bh=Rt.SDK_VERSION,(0,Rt._registerComponent)(new Pi.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const a=e.getProvider("app").getImmediate(),d=new Qn(new Ww(e.getProvider("auth-internal")),new IS(e.getProvider("app-check-internal")),function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new $e(Se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pl(f.options.projectId,_)}(a,i),a);return r=Object.assign({useFetchStreams:t},r),d._setSettings(r),d},"PUBLIC").setMultipleInstances(!0)),(0,Rt.registerVersion)(Lg,"3.9.0",n),(0,Rt.registerVersion)(Lg,"3.9.0","esm2017")}();function DC(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new $e("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function vT(){if(typeof Uint8Array>"u")throw new $e("unimplemented","Uint8Arrays are not available in this environment.")}function bT(){if(!function Fv(){return typeof atob<"u"}())throw new $e("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Iy{constructor(t){this._delegate=t}static fromBase64String(t){return bT(),new Iy(Ac.fromBase64String(t))}static fromUint8Array(t){return vT(),new Iy(Ac.fromUint8Array(t))}toBase64(){return bT(),this._delegate.toBase64()}toUint8Array(){return vT(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function TC(n){return function o(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class c{enableIndexedDbPersistence(t,e){return function YD(n,t){rC(n=hn(n,Qn));const e=Ui(n),i=n._freezeSettings(),r=new m0;return iC(e,r,new f0(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function ly(n){rC(n=hn(n,Qn));const t=Ui(n),e=n._freezeSettings(),i=new m0;return iC(t,i,new VD(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function Rk(n){if(n._initialized&&!n._terminated)throw new $e(Se.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new br;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ue.Z)(function*(){try{yield(e=(0,ue.Z)(function*(i){if(!Hs.C())return Promise.resolve();const r=i+"main";yield Hs.delete(r)}),function(i){return e.apply(this,arguments)})(C_(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class l{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof pl||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Yd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){KD(this._delegate,t,e,i)}enableNetwork(){return function Fk(n){return function KE(n){return n.asyncQueue.enqueue((0,ue.Z)(function*(){const t=yield zD(n),e=yield qE(n);return t.setNetworkEnabled(!0),function(i){const r=rt(i);return r.mu.delete(0),up(r)}(e)}))}(Ui(n=hn(n,Qn)))}(this._delegate)}disableNetwork(){return function QD(n){return function HD(n){return n.asyncQueue.enqueue((0,ue.Z)(function*(){const t=yield zD(n),e=yield qE(n);return t.setNetworkEnabled(!1),(i=(0,ue.Z)(function*(r){const a=rt(r);a.mu.add(0),yield wu(a),a.pu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(Ui(n=hn(n,Qn)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,b0("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Pk(n){return function(t){const e=new br;return t.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function RE(n,t){return Ep.apply(this,arguments)}(yield _0(t),e)})),e.promise}(Ui(n=hn(n,Qn)))}(this._delegate)}onSnapshotsInSync(t){return function hT(n,t){return function QE(n,t){const e=new xf(t);return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return i=yield Ef(n),r=e,rt(i).vu.add(r),void r.next();var i,r})),()=>{e.bc(),n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return i=yield Ef(n),r=e,void rt(i).vu.delete(r);var i,r}))}}(Ui(n=hn(n,Qn)),cy(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new $e("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new yt(this,ZD(this._delegate,t))}catch(e){throw T(e,"collection()","Firestore.collection()")}}doc(t){try{return new E(this,Tp(this._delegate,t))}catch(e){throw T(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Ae(this,function ay(n,t){if(n=hn(n,sy),oy("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new $e(Se.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Kr(n,null,(e=t,new fs(yn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw T(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function Kk(n,t,e){n=hn(n,Qn);const i=Object.assign(Object.assign({},SC),e);return function(r){if(r.maxAttempts<1)throw new $e(Se.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,a,d){const f=new br;return r.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){const _=yield function WE(n){return Sp(n).then(t=>t.datastore)}(r);new ey(r.asyncQueue,_,d,a,f).run()})),f.promise}(Ui(n),r=>t(new fT(n,r)),i)}(this._delegate,e=>t(new p(this,e)))}batch(){return Ui(this._delegate),new v(new Cy(this._delegate,t=>Af(this._delegate,t)))}loadBundle(t){return function XD(n,t){const e=Ui(n=hn(n,Qn)),i=new Mk;return function GD(n,t,e,i){const r=function(a,d){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,b){if(_ instanceof Uint8Array)return zE(_,b);if(_ instanceof ArrayBuffer)return zE(new Uint8Array(_),b);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new HE(_,d);var _}(e,dp(t));n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){!function h0(n,t,e){const i=rt(n);var r;(r=(0,ue.Z)(function*(a,d,f){try{const _=yield d.getMetadata();if(yield function(L,B){const $=rt(L),ce=Bi(B.createTime);return $.persistence.runTransaction("hasNewerBundle","readonly",De=>$.$s.getBundleMetadata(De,B.id)).then(De=>!!De&&De.createTime.compareTo(ce)>=0)}(a.localStore,_))return yield d.close(),f._completeWith({taskState:"Success",documentsLoaded:(L=_).totalDocuments,bytesLoaded:L.totalBytes,totalDocuments:L.totalDocuments,totalBytes:L.totalBytes}),Promise.resolve(new Set);f._updateProgress(ME(_));const b=new AE(_,a.localStore,d.Tt);let C=yield d.yc();for(;C;){const L=yield b.Bu(C);L&&f._updateProgress(L),C=yield d.yc()}const k=yield b.complete();return yield Dc(a,k.Uu,void 0),yield function(L,B){const $=rt(L);return $.persistence.runTransaction("Save bundle","readwrite",ce=>$.$s.saveBundleMetadata(ce,B))}(a.localStore,_),f._completeWith(k.progress),Promise.resolve(k.qu)}catch(_){return Yd("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var L}),function(a,d,f){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield _0(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function Lk(n,t){return function XE(n,t){return n.asyncQueue.enqueue((0,ue.Z)(function*(){return function(e,i){const r=rt(e);return r.persistence.runTransaction("Get named query","readonly",a=>r.$s.getNamedQuery(a,i))}(yield iy(n),t)}))}(Ui(n=hn(n,Qn)),t).then(e=>e?new Kr(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Ae(this,e):null)}}class u extends _C{constructor(t){super(),this.firestore=t}convertBytes(t){return new Iy(new Ac(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return E.forKey(e,this.firestore,null)}}class p{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new u(t)}get(t){const e=Ft(t);return this._delegate.get(e).then(i=>new ie(this._firestore,new Ys(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Ft(t);return i?(DC("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const a=Ft(t);return 2===arguments.length?this._delegate.update(a,e):this._delegate.update(a,e,i,...r),this}delete(t){const e=Ft(t);return this._delegate.delete(e),this}}class v{constructor(t){this._delegate=t}set(t,e,i){const r=Ft(t);return i?(DC("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const a=Ft(t);return 2===arguments.length?this._delegate.update(a,e):this._delegate.update(a,e,i,...r),this}delete(t){const e=Ft(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class x{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new Rp(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new he(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=x.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let a=r.get(e);return a||(a=new x(t,new u(t),e),r.set(e,a)),a}}x.INSTANCES=new WeakMap;class E{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new u(t)}static forPath(t,e,i){if(t.length%2!=0)throw new $e("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new E(e,new di(e._delegate,i,new Be(t)))}static forKey(t,e,i){return new E(e,new di(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new yt(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new yt(this.firestore,ZD(this._delegate,t))}catch(e){throw T(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Jt.m9)(t))instanceof di&&x0(this._delegate,t)}set(t,e){e=DC("DocumentReference.set",e);try{return e?wC(this._delegate,t,e):wC(this._delegate,t)}catch(i){throw T(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?xC(this._delegate,t):xC(this._delegate,t,e,...i)}catch(r){throw T(r,"updateDoc()","DocumentReference.update()")}}delete(){return function EC(n){return Af(hn(n.firestore,Qn),[new Gs(n._key,li.none())])}(this._delegate)}onSnapshot(...t){const e=R(t),i=V(t,r=>new ie(this.firestore,new Ys(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return k0(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function Gk(n){n=hn(n,di);const t=hn(n.firestore,Qn),e=Ui(t),i=new Au(t);return function ZE(n,t){const e=new br;return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return(i=(0,ue.Z)(function*(r,a,d){try{const f=yield function(_,b){const C=rt(_);return C.persistence.runTransaction("read document","readonly",k=>C.localDocuments.getDocument(k,b))}(r,a);f.isFoundDocument()?d.resolve(f):f.isNoDocument()?d.resolve(null):d.reject(new $e(Se.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=xu(f,`Failed to get document '${a} from cache`);d.reject(_)}}),function(r,a,d){return i.apply(this,arguments)})(yield iy(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Ys(t,i,n._key,r,new Oc(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function qk(n){n=hn(n,di);const t=hn(n.firestore,Qn);return y0(Ui(t),n._key,{source:"server"}).then(e=>Ey(t,n,e))}(this._delegate):vC(this._delegate),e.then(i=>new ie(this.firestore,new Ys(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new E(this.firestore,this._delegate.withConverter(t?x.getInstance(this.firestore,t):null))}}function T(n,t,e){return n.message=n.message.replace(t,e),n}function R(n){for(const t of n)if("object"==typeof t&&!TC(t))return t;return{}}function V(n,t){var e,i;let r;return r=TC(n[0])?n[0]:TC(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(t(a))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class ie{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new E(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return Pp(this._delegate,t._delegate)}}class he extends ie{data(t){const e=this._delegate.data(t);return function Uh(n,t){n||bt()}(void 0!==e),e}}class Ae{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new u(t)}where(t,e,i){try{return new Ae(this.firestore,Iu(this._delegate,function hC(n,t,e){const i=t,r=S0("where",n);return Su._create(r,i,e)}(t,e,i)))}catch(r){throw T(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Ae(this.firestore,Iu(this._delegate,function vy(n,t="asc"){const e=t,i=S0("orderBy",n);return yy._create(i,e)}(t,e)))}catch(i){throw T(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Ae(this.firestore,Iu(this._delegate,function fC(n){return qD("limit",n),Tu._create("limit",n,"F")}(t)))}catch(e){throw T(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Ae(this.firestore,Iu(this._delegate,function iT(n){return qD("limitToLast",n),Tu._create("limitToLast",n,"L")}(t)))}catch(e){throw T(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Ae(this.firestore,Iu(this._delegate,function jk(...n){return by._create("startAt",n,!0)}(...t)))}catch(e){throw T(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Ae(this.firestore,Iu(this._delegate,function zk(...n){return by._create("startAfter",n,!1)}(...t)))}catch(e){throw T(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Ae(this.firestore,Iu(this._delegate,function mC(...n){return A0._create("endBefore",n,!1)}(...t)))}catch(e){throw T(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Ae(this.firestore,Iu(this._delegate,function rT(...n){return A0._create("endAt",n,!0)}(...t)))}catch(e){throw T(e,"endAt()","Query.endAt()")}}isEqual(t){return Cf(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function dT(n){n=hn(n,Kr);const t=hn(n.firestore,Qn),e=Ui(t),i=new Au(t);return function $D(n,t){const e=new br;return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return(i=(0,ue.Z)(function*(r,a,d){try{const f=yield Al(r,a,!0),_=new t0(a,f.Yi),b=_.Hu(f.documents),C=_.applyChanges(b,!1);d.resolve(C.snapshot)}catch(f){const _=xu(f,`Failed to execute query '${a} against cache`);d.reject(_)}}),function(r,a,d){return i.apply(this,arguments)})(yield iy(n),t,e);var i})),e.promise}(e,n._query).then(r=>new La(t,i,n,r))}(this._delegate):"server"===t?.source?function uT(n){n=hn(n,Kr);const t=hn(n.firestore,Qn),e=Ui(t),i=new Au(t);return YE(e,n._query,{source:"server"}).then(r=>new La(t,i,n,r))}(this._delegate):function bC(n){n=hn(n,Kr);const t=hn(n.firestore,Qn),e=Ui(t),i=new Au(t);return D0(n._query),YE(e,n._query).then(r=>new La(t,i,n,r))}(this._delegate),e.then(i=>new lt(this.firestore,new La(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=R(t),i=V(t,r=>new lt(this.firestore,new La(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return k0(this._delegate,e,i)}withConverter(t){return new Ae(this.firestore,this._delegate.withConverter(t?x.getInstance(this.firestore,t):null))}}class Je{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new he(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class lt{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Ae(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new he(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new Je(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new he(this._firestore,i))})}isEqual(t){return Pp(this._delegate,t._delegate)}}class yt extends Ae{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new E(this.firestore,t):null}doc(t){try{return new E(this.firestore,void 0===t?Tp(this._delegate):Tp(this._delegate,t))}catch(e){throw T(e,"doc()","CollectionReference.doc()")}}add(t){return function CC(n,t){const e=hn(n.firestore,Qn),i=Tp(n),r=wy(n.converter,t);return Af(e,[Ap(kc(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,li.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new E(this.firestore,e))}isEqual(t){return x0(this._delegate,t._delegate)}withConverter(t){return new yt(this.firestore,this._delegate.withConverter(t?x.getInstance(this.firestore,t):null))}}function Ft(n){return hn(n,di)}class Ge{constructor(...t){this._delegate=new ur(...t)}static documentId(){return new Ge(Si.keyField().canonicalString())}isEqual(t){return(t=(0,Jt.m9)(t))instanceof ur&&this._delegate._internalPath.isEqual(t._internalPath)}}class Ht{constructor(t){this._delegate=t}static serverTimestamp(){const t=function mT(){return new fy("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Ht(t)}static delete(){const t=function Zk(){return new Sf("deleteField")}();return t._methodName="FieldValue.delete",new Ht(t)}static arrayUnion(...t){const e=function pT(...n){return new cC("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Ht(e)}static arrayRemove(...t){const e=function gT(...n){return new eT("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Ht(e)}static increment(t){const e=function Yk(n){return new lC("increment",n)}(t);return e._methodName="FieldValue.increment",new Ht(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const ui={Firestore:l,GeoPoint:dy,Timestamp:ai,Blob:Iy,Transaction:p,WriteBatch:v,DocumentReference:E,DocumentSnapshot:ie,Query:Ae,QueryDocumentSnapshot:he,QuerySnapshot:lt,CollectionReference:yt,FieldPath:Ge,FieldValue:Ht,setLogLevel:function h(n){!function xS(n){Da.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function Xk(n){(function Vi(n,t){n.INTERNAL.registerComponent(new Pi.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},ui)))})(n,(t,e)=>new l(t,e,new c)),n.registerVersion("@firebase/firestore-compat","0.3.5")}(Tt.Z);var xn=D(7579),Mu=D(6451),AC=D(5363),jn=D(3900),JL=D(4707),Jk=D(3099);function eO(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,Jk.B)({connector:()=>new JL.t(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const MC=(0,D(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var _s=D(5698);function kC(n){return(0,Ri.e)((t,e)=>{let i=!1;t.subscribe((0,S.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function tO(n=t2){return(0,Ri.e)((t,e)=>{let i=!1;t.subscribe((0,S.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function t2(){return new MC}var OC=D(4671);function ku(n,t){const e=arguments.length>=2;return i=>i.pipe(n?(0,Re.h)((r,a)=>n(r,a,i)):OC.y,(0,_s.q)(1),e?kC(t):tO(()=>new MC))}var Nl=D(576);function nO(n,t){return(0,Nl.m)(t)?(0,jn.w)(()=>n,t):(0,jn.w)(()=>n)}var wT=D(9468);D(259);const ET=new Map,rO={activated:!1,tokenObservers:[]},a2={initialized:!1,enabled:!1};function oo(n){return ET.get(n)||Object.assign({},rO)}function RC(){return a2}const CT="https://content-firebaseappcheck.googleapis.com/v1",u2="exchangeDebugToken",oO={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class f2{constructor(t,e,i,r,a){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,ue.Z)(function*(){e.stop();try{e.pending=new Jt.BH,yield function m2(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new Jt.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Ko=new Jt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function DT(){return DT=(0,ue.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const k=yield r.getHeartbeatsHeader();k&&(i["X-Firebase-Client"]=k)}const a={method:"POST",body:JSON.stringify(t),headers:i};let d,f;try{d=yield fetch(n,a)}catch(k){throw Ko.create("fetch-network-error",{originalErrorMessage:k?.message})}if(200!==d.status)throw Ko.create("fetch-status-error",{httpStatus:d.status});try{f=yield d.json()}catch(k){throw Ko.create("fetch-parse-error",{originalErrorMessage:k?.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Ko.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const b=1e3*Number(_[1]),C=Date.now();return{token:f.token,expireTimeMillis:C+b,issuedAtTimeMillis:C}}),DT.apply(this,arguments)}const v2="firebase-app-check-database",b2=1,R0="firebase-app-check-store";let NC=null;function TT(){return TT=(0,ue.Z)(function*(n,t){const i=(yield function cO(){return NC||(NC=new Promise((n,t)=>{try{const e=indexedDB.open(v2,b2);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(Ko.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(R0,{keyPath:"compositeKey"})}}catch(e){t(Ko.create("storage-open",{originalErrorMessage:e?.message}))}}),NC)}()).transaction(R0,"readwrite"),a=i.objectStore(R0).put({compositeKey:n,value:t});return new Promise((d,f)=>{a.onsuccess=_=>{d()},i.onerror=_=>{var b;f(Ko.create("storage-set",{originalErrorMessage:null===(b=_.target.error)||void 0===b?void 0:b.message}))}})}),TT.apply(this,arguments)}const P0=new Mn.Yd("@firebase/app-check");function kT(n,t){return(0,Jt.hl)()?function x2(n,t){return function lO(n,t){return TT.apply(this,arguments)}(function uO(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{P0.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function RT(){return RT=(0,ue.Z)(function*(){const n=RC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),RT.apply(this,arguments)}const T2={error:"UNKNOWN_ERROR"};function A2(n){return Jt.US.encodeString(JSON.stringify(n),!1)}function LC(n){return PT.apply(this,arguments)}function PT(){return PT=(0,ue.Z)(function*(n,t=!1){const e=n.app;!function sO(n){if(!oo(n).activated)throw Ko.create("use-before-activation",{appName:n.name})}(e);const i=oo(e);let a,r=i.token;if(r&&!Sy(r)&&(i.token=void 0,r=void 0),!r){const _=yield i.cachedTokenPromise;_&&(Sy(_)?r=_:yield kT(e,void 0))}if(!t&&r&&Sy(r))return{token:r.token};let f,d=!1;if(function hO(){return RC().enabled}()){i.exchangeTokenPromise||(i.exchangeTokenPromise=function ST(n,t){return DT.apply(this,arguments)}(function y2(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`${CT}/projects/${e}/apps/${i}:${u2}?key=${r}`,body:{debug_token:t}}}(e,yield function fO(){return RT.apply(this,arguments)}()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),d=!0);const _=yield i.exchangeTokenPromise;return yield kT(e,_),i.token=_,{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),d=!0),r=yield oo(e).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?P0.warn(_.message):P0.error(_),a=_}return r?a?f=Sy(r)?{token:r.token,internalError:a}:gO(a):(f={token:r.token},i.token=r,yield kT(e,r)):f=gO(a),d&&function pO(n,t){const e=oo(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}(e,f),f}),PT.apply(this,arguments)}function NT(n,t){const e=oo(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function mO(n){const{app:t}=n,e=oo(t);let i=e.tokenRefresher;i||(i=function M2(n){const{app:t}=n;return new f2((0,ue.Z)(function*(){let i;if(i=oo(t).token?yield LC(n,!0):yield LC(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=oo(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},oO.RETRIAL_MIN_WAIT,oO.RETRIAL_MAX_WAIT)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function Sy(n){return n.expireTimeMillis-Date.now()>0}function gO(n){return{token:A2(T2),error:n}}class k2{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=oo(this.app);for(const e of t)NT(this.app,e.next);return Promise.resolve()}}const CO="app-check-internal";!function G2(){(0,Rt._registerComponent)(new Pi.wA("app-check",n=>function O2(n,t){return new k2(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(CO).initialize()})),(0,Rt._registerComponent)(new Pi.wA(CO,n=>function R2(n){return{getToken:t=>LC(n,t),addTokenListener:t=>function FT(n,t,e,i){const{app:r}=n,a=oo(r);if(a.tokenObservers=[...a.tokenObservers,{next:e,error:i,type:t}],a.token&&Sy(a.token)){const f=a.token;Promise.resolve().then(()=>{e({token:f.token}),mO(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>mO(n))}(n,"INTERNAL",t),removeTokenListener:t=>NT(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Rt.registerVersion)("@firebase/app-check","0.6.4")}();class VT{constructor(){return(0,$n.vb)("app-check")}}typeof window<"u"&&window;var SO=D(9260);const DO=new s.OlP("angularfire2.auth.use-emulator"),TO=new s.OlP("angularfire2.auth.settings"),AO=new s.OlP("angularfire2.auth.tenant-id"),MO=new s.OlP("angularfire2.auth.langugage-code"),kO=new s.OlP("angularfire2.auth.use-device-language"),OO=new s.OlP("angularfire.auth.persistence"),RO=(n,t,e,i,r,a,d,f)=>(0,at.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=t.runOutsideAngular(()=>n.auth());if(e&&_.useEmulator(...e),i&&(_.tenantId=i),_.languageCode=r,a&&_.useDeviceLanguage(),d)for(const[b,C]of Object.entries(d))_.settings[b]=C;return f&&_.setPersistence(f),_},[e,i,r,a,d,f]);let UC=(()=>{class n{constructor(e,i,r,a,d,f,_,b,C,k,L,B){const $=new xn.x,ce=(0,it.of)(void 0).pipe((0,AC.Q)(d.outsideAngular),(0,jn.w)(()=>a.runOutsideAngular(()=>Promise.resolve().then(D.bind(D,8971)))),(0,N.U)(()=>(0,at.on)(e,a,i)),(0,N.U)(De=>RO(De,a,f,b,C,k,_,L)),eO({bufferSize:1,refCount:!1}));if(Nc(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,it.of)(null);else{ce.pipe(ku()).subscribe();const Ye=ce.pipe((0,jn.w)(Ct=>Ct.getRedirectResult().then(Ut=>Ut,()=>null)),$n.iC,eO({bufferSize:1,refCount:!1})),vt=ce.pipe((0,jn.w)(Ct=>new An.y(Ut=>({unsubscribe:a.runOutsideAngular(()=>Ct.onAuthStateChanged(Wt=>Ut.next(Wt),Wt=>Ut.error(Wt),()=>Ut.complete()))})))),wt=ce.pipe((0,jn.w)(Ct=>new An.y(Ut=>({unsubscribe:a.runOutsideAngular(()=>Ct.onIdTokenChanged(Wt=>Ut.next(Wt),Wt=>Ut.error(Wt),()=>Ut.complete()))}))));this.authState=Ye.pipe(nO(vt),(0,wT.R)(d.outsideAngular),(0,AC.Q)(d.insideAngular)),this.user=Ye.pipe(nO(wt),(0,wT.R)(d.outsideAngular),(0,AC.Q)(d.insideAngular)),this.idToken=this.user.pipe((0,jn.w)(Ct=>Ct?(0,tn.D)(Ct.getIdToken()):(0,it.of)(null))),this.idTokenResult=this.user.pipe((0,jn.w)(Ct=>Ct?(0,tn.D)(Ct.getIdTokenResult()):(0,it.of)(null))),this.credential=(0,Mu.T)(Ye,$,this.authState.pipe((0,Re.h)(Ct=>!Ct))).pipe((0,N.U)(Ct=>Ct?.user?Ct:null),(0,wT.R)(d.outsideAngular),(0,AC.Q)(d.insideAngular))}return(0,at.pX)(this,ce,a,{spy:{apply:(De,Ye,vt)=>{(De.startsWith("signIn")||De.startsWith("createUser"))&&vt.then(wt=>$.next(wt))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(at.Dh),s.LFG(at.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG($n.HU),s.LFG(DO,8),s.LFG(TO,8),s.LFG(AO,8),s.LFG(MO,8),s.LFG(kO,8),s.LFG(OO,8),s.LFG(VT,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Q2=(()=>{class n{constructor(){SO.Z.registerVersion("angularfire",$n.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[UC]}),n})();function PO(n,t){return function X2(n,t=Ei.z){return new An.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function zT(n,t){return PO(n,t).pipe((0,N.U)(e=>({payload:e,type:"query"})))}function VC(n,t){return zT(n,t).pipe(I(void 0),O(),(0,N.U)(([e,i])=>{const r=i.payload.docChanges(),a=r.map(d=>({type:d.type,payload:d}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((d,f)=>{const _=r.find(C=>C.doc.ref.isEqual(d.ref)),b=e?.payload.docs.find(C=>C.ref.isEqual(d.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(d.metadata)||!_&&b&&JSON.stringify(b.metadata)===JSON.stringify(d.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:d}})}),a}))}function FO(n,t,e){return VC(n,e).pipe((0,se.R)((i,r)=>function eB(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function tB(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return HT(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return HT(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return HT(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),t),[]),(0,ge.x)(),(0,N.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function HT(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function NO(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class LO{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=VC(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,N.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(I(void 0),O(),(0,Re.h)(([i,r])=>r.length>0||!i),(0,N.U)(([i,r])=>r),$n.iC)}auditTrail(t){return this.stateChanges(t).pipe((0,se.R)((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=NO(t);return FO(this.query,e,this.afs.schedulers.outsideAngular).pipe($n.iC)}valueChanges(t={}){return zT(this.query,this.afs.schedulers.outsideAngular).pipe((0,N.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),$n.iC)}get(t){return(0,tn.D)(this.query.get(t)).pipe($n.iC)}add(t){return this.ref.add(t)}doc(t){return new BO(this.ref.doc(t),this.afs)}}class BO{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:a}=jO(i,e);return new LO(r,a,this.afs)}snapshotChanges(){return function J2(n,t){return PO(n,t).pipe(I(void 0),O(),(0,N.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe($n.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,N.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,tn.D)(this.ref.get(t)).pipe($n.iC)}}class nB{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?VC(this.query,this.afs.schedulers.outsideAngular).pipe((0,N.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),(0,Re.h)(e=>e.length>0),$n.iC):VC(this.query,this.afs.schedulers.outsideAngular).pipe($n.iC)}auditTrail(t){return this.stateChanges(t).pipe((0,se.R)((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=NO(t);return FO(this.query,e,this.afs.schedulers.outsideAngular).pipe($n.iC)}valueChanges(t={}){return zT(this.query,this.afs.schedulers.outsideAngular).pipe((0,N.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),$n.iC)}get(t){return(0,tn.D)(this.query.get(t)).pipe($n.iC)}}const UO=new s.OlP("angularfire2.enableFirestorePersistence"),VO=new s.OlP("angularfire2.firestore.persistenceSettings"),iB=new s.OlP("angularfire2.firestore.settings"),rB=new s.OlP("angularfire2.firestore.use-emulator");function jO(n,t=(e=>e)){return{query:t(n),ref:n}}let Ou=(()=>{class n{constructor(e,i,r,a,d,f,_,b,C,k,L,B,$,ce,De,Ye,vt){this.schedulers=_;const wt=(0,at.on)(e,f,i),Ct=C;k&&RO(wt,f,L,$,ce,De,B,Ye),[this.firestore,this.persistenceEnabled$]=(0,at.cc)(`${wt.name}.firestore`,"AngularFirestore",wt.name,()=>{const Ut=f.runOutsideAngular(()=>wt.firestore());if(a&&Ut.settings(a),Ct&&Ut.useEmulator(...Ct),r&&!Nc(d)){const Wt=()=>{try{return(0,tn.D)(Ut.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(In){return typeof console<"u"&&console.warn(In),(0,it.of)(!1)}};return[Ut,f.runOutsideAngular(Wt)]}return[Ut,(0,it.of)(!1)]},[a,Ct,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:a,query:d}=jO(r,i),f=this.schedulers.ngZone.run(()=>a);return new LO(f,d,this)}collectionGroup(e,i){const r=i||(d=>d),a=this.firestore.collectionGroup(e);return new nB(r(a),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new BO(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(at.Dh),s.LFG(at.xv,8),s.LFG(UO,8),s.LFG(iB,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG($n.HU),s.LFG(VO,8),s.LFG(rB,8),s.LFG(UC,8),s.LFG(DO,8),s.LFG(TO,8),s.LFG(AO,8),s.LFG(MO,8),s.LFG(kO,8),s.LFG(OO,8),s.LFG(VT,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),zO=(()=>{class n{constructor(){SO.Z.registerVersion("angularfire",$n.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:UO,useValue:!0},{provide:VO,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Ou]}),n})();var fe=D(9653);let $T,HO=(()=>{class n{constructor(e,i){this.firestore=e,this.store=i}createQuestion(e){return this.firestore.collection("questions").doc(e.slug).set(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ou),s.LFG(fe.yh))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();try{$T=typeof Intl<"u"&&Intl.v8BreakIterator}catch{$T=!1}let Dy,Lr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Wu(n){return n===Wl}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!$T)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $O=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function GO(){if(Dy)return Dy;if("object"!=typeof document||!document)return Dy=new Set($O),Dy;let n=document.createElement("input");return Dy=new Set($O.filter(t=>(n.setAttribute("type",t),n.type===t))),Dy}let F0,jC,Fp,GT;function Ty(n){return function oB(){if(null==F0&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>F0=!0}))}finally{F0=F0||!1}return F0}()?n:!!n.capture}function qO(){if(null==Fp){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Fp=!1,Fp;if("scrollBehavior"in document.documentElement.style)Fp=!0;else{const n=Element.prototype.scrollTo;Fp=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Fp}function N0(){if("object"!=typeof document||!document)return 0;if(null==jC){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),jC=0,0===n.scrollLeft&&(n.scrollLeft=1,jC=0===n.scrollLeft?1:2),n.remove()}return jC}function Mf(n){return n.composedPath?n.composedPath()[0]:n.target}function qT(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var Ba=D(727),Ua=D(1135);function ZT(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var ti=D(8505),YT=D(8372),XO=D(5684),Qs=D(2722);function qn(n){return null!=n&&"false"!=`${n}`}function QT(n,t=0){return function EB(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function zC(n){return Array.isArray(n)?n:[n]}function Er(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Ru(n){return n instanceof s.SBq?n.nativeElement:n}const{isArray:CB}=Array,{getPrototypeOf:IB,prototype:SB,keys:DB}=Object;function JO(n){if(1===n.length){const t=n[0];if(CB(t))return{args:t,keys:null};if(function TB(n){return n&&"object"==typeof n&&IB(n)===SB}(t)){const e=DB(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:AB}=Array;function XT(n){return(0,N.U)(t=>function MB(n,t){return AB(t)?n(...t):n(t)}(n,t))}function eR(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var kB=D(9672);function JT(...n){const t=(0,Fs.yG)(n),e=(0,Fs.jO)(n),{args:i,keys:r}=JO(n);if(0===i.length)return(0,tn.D)([],t);const a=new An.y(function OB(n,t,e=OC.y){return i=>{tR(t,()=>{const{length:r}=n,a=new Array(r);let d=r,f=r;for(let _=0;_<r;_++)tR(t,()=>{const b=(0,tn.D)(n[_],t);let C=!1;b.subscribe((0,S.x)(i,k=>{a[_]=k,C||(C=!0,f--),f||i.next(e(a.slice()))},()=>{--d||i.complete()}))},i)},i)}}(i,t,r?d=>eR(r,d):OC.y));return e?a.pipe(XT(e)):a}function tR(n,t,e){n?(0,kB.f)(e,n,t):t()}const nR=new Set;let Ay,RB=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):FB}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function PB(n){if(!nR.has(n))try{Ay||(Ay=document.createElement("style"),Ay.setAttribute("type","text/css"),document.head.appendChild(Ay)),Ay.sheet&&(Ay.sheet.insertRule(`@media ${n} {body{ }}`,0),nR.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Lr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function FB(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let NB=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new xn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return iR(zC(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let a=JT(iR(zC(e)).map(d=>this._registerQuery(d).observable));return a=hc(a.pipe((0,_s.q)(1)),a.pipe((0,XO.T)(1),(0,YT.b)(0))),a.pipe((0,N.U)(d=>{const f={matches:!1,breakpoints:{}};return d.forEach(({matches:_,query:b})=>{f.matches=f.matches||_,f.breakpoints[b]=_}),f}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),a={observable:new An.y(d=>{const f=_=>this._zone.run(()=>d.next(_));return i.addListener(f),()=>{i.removeListener(f)}}).pipe(I(i),(0,N.U)(({matches:d})=>({query:e,matches:d})),(0,Qs.R)(this._destroySubject)),mql:i};return this._queries.set(e,a),a}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(RB),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function iR(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}class UB{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new xn.x,this._typeaheadSubscription=Ba.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new xn.x,this.change=new xn.x,t instanceof s.n_E&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,ti.b)(e=>this._pressedLetters.push(e)),(0,YT.b)(t),(0,Re.h)(()=>this._pressedLetters.length>0),(0,N.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const a=(this._activeItemIndex+r)%i.length,d=i[a];if(!this._skipPredicateFn(d)&&0===d.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(a);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!t[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const a=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(a>0?a:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const a=this._activeItemIndex+this._pageUpAndDown.delta,d=this._getItemsArray().length;this._setActiveItemByIndex(a<d?a:d-1,-1);break}return;default:return void((r||ZT(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof s.n_E?this._items.toArray():this._items}}class sR extends UB{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}function eA(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function tA(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const GB=new s.OlP("cdk-input-modality-detector-options"),qB={ignoreKeys:[18,17,224,91,16]},My=Ty({passive:!0,capture:!0});let WB=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,a){this._platform=e,this._mostRecentTarget=null,this._modality=new Ua.X(null),this._lastTouchMs=0,this._onKeydown=d=>{this._options?.ignoreKeys?.some(f=>f===d.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Mf(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next(eA(d)?"keyboard":"mouse"),this._mostRecentTarget=Mf(d))},this._onTouchstart=d=>{tA(d)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Mf(d))},this._options={...qB,...a},this.modalityDetected=this._modality.pipe((0,XO.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,ge.x)()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,My),r.addEventListener("mousedown",this._onMousedown,My),r.addEventListener("touchstart",this._onTouchstart,My)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,My),document.removeEventListener("mousedown",this._onMousedown,My),document.removeEventListener("touchstart",this._onTouchstart,My))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Lr),s.LFG(s.R0b),s.LFG(K),s.LFG(GB,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ZB=new s.OlP("cdk-focus-monitor-default-options"),HC=Ty({passive:!0,capture:!0});let $C=(()=>{class n{constructor(e,i,r,a,d){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new xn.x,this._rootNodeFocusAndBlurListener=f=>{for(let b=Mf(f);b;b=b.parentElement)"focus"===f.type?this._onFocus(f,b):this._onBlur(f,b)},this._document=a,this._detectionMode=d?.detectionMode||0}monitor(e,i=!1){const r=Ru(e);if(!this._platform.isBrowser||1!==r.nodeType)return(0,it.of)(null);const a=function aB(n){if(function sB(){if(null==GT){const n=typeof document<"u"?document.head:null;GT=!(!n||!n.createShadowRoot&&!n.attachShadow)}return GT}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),d=this._elementInfo.get(r);if(d)return i&&(d.checkChildren=!0),d.subject;const f={checkChildren:i,subject:new xn.x,rootNode:a};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(e){const i=Ru(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const a=Ru(e);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,_])=>this._originChanged(f,i,_)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),a=Mf(e);!r||!r.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,HC),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,HC)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,Qs.R)(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,HC),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,HC),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,a)=>{(a===e||r.checkChildren&&a.contains(e))&&i.push([a,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const a=e.labels;if(a)for(let d=0;d<a.length;d++)if(a[d].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(Lr),s.LFG(WB),s.LFG(K,8),s.LFG(ZB,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lR="cdk-high-contrast-black-on-white",dR="cdk-high-contrast-white-on-black",nA="cdk-high-contrast-active";let YB=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,s.f3M)(NB).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(nA,lR,dR),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(nA,lR):2===i&&e.add(nA,dR)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Lr),s.LFG(K))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class iA{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new xn.x,e&&e.length&&(t?e.forEach(a=>this._markSelected(a)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(a=>this._markSelected(a)),e.filter(a=>!i.has(a)).forEach(a=>this._unmarkSelected(a));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(t){if(this.compareWith){for(let e of this._selection)if(this.compareWith(t,e))return e;return t}return t}}var kf=D(8421);function uR(...n){const t=(0,Fs.jO)(n),{args:e,keys:i}=JO(n),r=new An.y(a=>{const{length:d}=e;if(!d)return void a.complete();const f=new Array(d);let _=d,b=d;for(let C=0;C<d;C++){let k=!1;(0,kf.Xf)(e[C]).subscribe((0,S.x)(a,L=>{k||(k=!0,b--),f[C]=L},()=>_--,void 0,()=>{(!_||!k)&&(b||a.next(i?eR(i,f):f),a.complete())}))}});return t?r.pipe(XT(t)):r}let hR=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),Np=(()=>{class n extends hR{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const Xs=new s.OlP("NgValueAccessor"),XB={provide:Xs,useExisting:(0,s.Gpc)(()=>Lp),multi:!0},eU=new s.OlP("CompositionEventMode");let Lp=(()=>{class n extends hR{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function JB(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(eU,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[s._Bn([XB]),s.qOj]}),n})();const tU=!1;function Of(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function mR(n){return null!=n&&"number"==typeof n.length}const so=new s.OlP("NgValidators"),Rf=new s.OlP("NgAsyncValidators"),nU=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ll{static min(t){return function pR(n){return t=>{if(Of(t.value)||Of(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function gR(n){return t=>{if(Of(t.value)||Of(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function _R(n){return Of(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function yR(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function vR(n){return Of(n.value)||nU.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function bR(n){return t=>Of(t.value)||!mR(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function wR(n){return t=>mR(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function xR(n){if(!n)return GC;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Of(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return TR(t)}static composeAsync(t){return AR(t)}}function GC(n){return null}function ER(n){return null!=n}function CR(n){const t=(0,s.QGY)(n)?(0,tn.D)(n):n;if(tU&&!(0,s.CqO)(t)){let e="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(e+=" Are you using a synchronous validator where an async validator is expected?"),new s.vHH(-1101,e)}return t}function IR(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function SR(n,t){return t.map(e=>e(n))}function DR(n){return n.map(t=>function iU(n){return!n.validate}(t)?t:e=>t.validate(e))}function TR(n){if(!n)return null;const t=n.filter(ER);return 0==t.length?null:function(e){return IR(SR(e,t))}}function rA(n){return null!=n?TR(DR(n)):null}function AR(n){if(!n)return null;const t=n.filter(ER);return 0==t.length?null:function(e){return uR(SR(e,t).map(CR)).pipe((0,N.U)(IR))}}function oA(n){return null!=n?AR(DR(n)):null}function MR(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function kR(n){return n._rawValidators}function OR(n){return n._rawAsyncValidators}function sA(n){return n?Array.isArray(n)?n:[n]:[]}function qC(n,t){return Array.isArray(n)?n.includes(t):n===t}function RR(n,t){const e=sA(t);return sA(n).forEach(r=>{qC(e,r)||e.push(r)}),e}function PR(n,t){return sA(t).filter(e=>!qC(n,e))}class FR{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=rA(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=oA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Zo extends FR{get formDirective(){return null}get path(){return null}}class Pu extends FR{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class NR{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let L0=(()=>{class n extends NR{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Pu,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[s.qOj]}),n})(),B0=(()=>{class n extends NR{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Zo,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[s.qOj]}),n})();function LR(n,t){return n?`with name: '${t}'`:`at index: ${t}`}const lA=!1,U0="VALID",KC="INVALID",ky="PENDING",V0="DISABLED";function dA(n){return(ZC(n)?n.validators:n)||null}function uA(n,t){return(ZC(t)?t.asyncValidators:n)||null}function ZC(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function BR(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new s.vHH(1e3,lA?function aU(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(t):"");if(!i[e])throw new s.vHH(1001,lA?function cU(n,t){return`Cannot find form control ${LR(n,t)}`}(t,e):"")}function UR(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new s.vHH(1002,lA?function lU(n,t){return`Must supply a value for form control ${LR(n,t)}`}(t,r):"")})}class YC{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===U0}get invalid(){return this.status===KC}get pending(){return this.status==ky}get disabled(){return this.status===V0}get enabled(){return this.status!==V0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(RR(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(RR(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(PR(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(PR(t,this._rawAsyncValidators))}hasValidator(t){return qC(this._rawValidators,t)}hasAsyncValidator(t){return qC(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ky,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=V0,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=U0,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===U0||this.status===ky)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?V0:U0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ky,this._hasOwnPendingAsyncValidator=!0;const e=CR(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?V0:this.errors?KC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ky)?ky:this._anyControlsHaveStatus(KC)?KC:U0}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ZC(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function dU(n){return Array.isArray(n)?rA(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function uU(n){return Array.isArray(n)?oA(n):n||null}(this._rawAsyncValidators)}}class j0 extends YC{constructor(t,e,i){super(dA(e),uA(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){UR(this,!0,t),Object.keys(t).forEach(i=>{BR(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,a)=>{i=e(i,r,a)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class VR extends j0{}const Oy=new s.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>QC}),QC="always";function z0(n,t,e=QC){hA(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function fU(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&jR(n,t)})}(n,t),function pU(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function mU(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&jR(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function hU(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function JC(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),tI(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function eI(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function hA(n,t){const e=kR(n);null!==t.validator?n.setValidators(MR(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=OR(n);null!==t.asyncValidator?n.setAsyncValidators(MR(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();eI(t._rawValidators,r),eI(t._rawAsyncValidators,r)}function tI(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=kR(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(d=>d!==t.validator);a.length!==r.length&&(e=!0,n.setValidators(a))}}if(null!==t.asyncValidator){const r=OR(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(d=>d!==t.asyncValidator);a.length!==r.length&&(e=!0,n.setAsyncValidators(a))}}}const i=()=>{};return eI(t._rawValidators,i),eI(t._rawAsyncValidators,i),e}function jR(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function zR(n,t){hA(n,t)}function HR(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const bU={provide:Zo,useExisting:(0,s.Gpc)(()=>nI)},H0=(()=>Promise.resolve())();let nI=(()=>{class n extends Zo{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new j0({},rA(e),oA(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){H0.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),z0(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){H0.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){H0.then(()=>{const i=this._findContainer(e.path),r=new j0({});zR(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){H0.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){H0.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,HR(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(so,10),s.Y36(Rf,10),s.Y36(Oy,8))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([bU]),s.qOj]}),n})();function $R(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function GR(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const $0=class extends YC{constructor(t=null,e,i){super(dA(e),uA(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ZC(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=GR(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){$R(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){$R(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){GR(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let G0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),QR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const gA=new s.OlP("NgModelWithFormControlWarning"),AU={provide:Zo,useExisting:(0,s.Gpc)(()=>Pf)};let Pf=(()=>{class n extends Zo{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(tI(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return z0(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){JC(e.control||null,e,!1),function vU(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,HR(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(JC(i||null,e),(n=>n instanceof $0)(r)&&(z0(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);zR(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function gU(n,t){return tI(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){hA(this.form,this),this._oldForm&&tI(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(so,10),s.Y36(Rf,10),s.Y36(Oy,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([AU]),s.qOj,s.TTD]}),n})();const OU={provide:Pu,useExisting:(0,s.Gpc)(()=>Ry)};let Ry=(()=>{class n extends Pu{set isDisabled(e){}constructor(e,i,r,a,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new s.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function pA(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(a=>{a.constructor===Lp?e=a:function yU(n){return Object.getPrototypeOf(n.constructor)===Np}(a)?i=a:r=a}),r||i||e||null}(0,a)}ngOnChanges(e){this._added||this._setUpControl(),function mA(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function XC(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(s.Y36(Zo,13),s.Y36(so,10),s.Y36(Rf,10),s.Y36(Xs,10),s.Y36(gA,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s._Bn([OU]),s.qOj,s.TTD]}),n})(),WU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[QR]}),n})();class f1 extends YC{constructor(t,e,i){super(dA(e),uA(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){UR(this,!1,t),t.forEach((i,r)=>{BR(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function m1(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let iI=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let a={};return m1(i)?a=i:null!==i&&(a.validators=i.validator,a.asyncValidators=i.asyncValidator),new j0(r,a)}record(e,i=null){const r=this._reduceControls(e);return new VR(r,i)}control(e,i,r){let a={};return this.useNonNullable?(m1(i)?a=i:(a.validators=i,a.asyncValidators=r),new $0(e,{...a,nonNullable:!0})):new $0(e,i,r)}array(e,i,r){const a=e.map(d=>this._createControl(d));return new f1(a,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof $0||e instanceof YC?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EA=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:gA,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Oy,useValue:e.callSetDisabledState??QC}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[WU]}),n})();const KU=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function ZU(){return(0,s.f3M)(K)}}),YU=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Py=(()=>{class n{constructor(e){this.value="ltr",this.change=new s.vpe,e&&(this.value=function QU(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?YU.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(KU,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),q0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const JU=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function XU(){return!0}});let vi=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!qT()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(YB),s.LFG(JU,8),s.LFG(K))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[q0,q0]}),n})();function CA(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=qn(t)}constructor(...t){super(...t),this._disabled=!1}}}function IA(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function rI(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=qn(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function eV(n,t=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?QT(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}function tV(n){return class extends n{updateErrorState(){const t=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==t&&(this.errorState=a,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}let iV=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class rV{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const _1=Ty({passive:!0,capture:!0});class oV{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=Mf(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(a=>a.handleEvent(t))})}}addHandler(t,e,i,r){const a=this._events.get(e);if(a){const d=a.get(i);d?d.add(r):a.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,_1)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const a=r.get(e);a&&(a.delete(i),0===a.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,_1)))}}const y1={enterDuration:225,exitDuration:150},v1=Ty({passive:!0,capture:!0}),b1=["mousedown","touchstart"],w1=["mouseup","mouseleave","touchend","touchcancel"];class Fy{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Ru(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...y1,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const d=i.radius||function aV(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),f=t-r.left,_=e-r.top,b=a.enterDuration,C=document.createElement("div");C.classList.add("mat-ripple-element"),C.style.left=f-d+"px",C.style.top=_-d+"px",C.style.height=2*d+"px",C.style.width=2*d+"px",null!=i.color&&(C.style.backgroundColor=i.color),C.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(C);const k=window.getComputedStyle(C),B=k.transitionDuration,$="none"===k.transitionProperty||"0s"===B||"0s, 0s"===B||0===r.width&&0===r.height,ce=new rV(this,C,i,$);C.style.transform="scale3d(1, 1, 1)",ce.state=0,i.persistent||(this._mostRecentTransientRipple=ce);let De=null;return!$&&(b||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ye=()=>this._finishRippleTransition(ce),vt=()=>this._destroyRipple(ce);C.addEventListener("transitionend",Ye),C.addEventListener("transitioncancel",vt),De={onTransitionEnd:Ye,onTransitionCancel:vt}}),this._activeRipples.set(ce,De),($||!b)&&this._finishRippleTransition(ce),ce}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...y1,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Ru(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,b1.forEach(i=>{Fy._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{w1.forEach(e=>{this._triggerElement.addEventListener(e,this,v1)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=eA(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!tA(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(b1.forEach(e=>Fy._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&w1.forEach(e=>t.removeEventListener(e,this,v1)))}}Fy._eventManager=new oV;const SA=new s.OlP("mat-ripple-global-options");let Ff=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,a,d){this._elementRef=e,this._animationMode=d,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new Fy(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(Lr),s.Y36(SA,8),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Ny=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[vi,vi]}),n})(),x1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[vi]}),n})(),E1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Ny,gi,vi,x1]}),n})();const cV=["button"],lV=["*"],C1=new s.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),I1=new s.OlP("MatButtonToggleGroup"),dV={provide:Xs,useExisting:(0,s.Gpc)(()=>T1),multi:!0};let S1=0;class D1{constructor(t,e){this.source=t,this.value=e}}let T1=(()=>{class n{get name(){return this._name}set name(e){this._name=e,this._markButtonsForCheck()}get vertical(){return this._vertical}set vertical(e){this._vertical=qn(e)}get value(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e.map(i=>i.value):e[0]?e[0].value:void 0}set value(e){this._setSelectionByValue(e),this.valueChange.emit(this.value)}get selected(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e:e[0]||null}get multiple(){return this._multiple}set multiple(e){this._multiple=qn(e),this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(e){this._disabled=qn(e),this._markButtonsForCheck()}constructor(e,i){this._changeDetector=e,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+S1++,this.valueChange=new s.vpe,this.change=new s.vpe,this.appearance=i&&i.appearance?i.appearance:"standard"}ngOnInit(){this._selectionModel=new iA(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(e=>e.checked))}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_emitChangeEvent(e){const i=new D1(e,this.value);this._controlValueAccessorChangeFn(i.value),this.change.emit(i)}_syncButtonToggle(e,i,r=!1,a=!1){!this.multiple&&this.selected&&!e.checked&&(this.selected.checked=!1),this._selectionModel?i?this._selectionModel.select(e):this._selectionModel.deselect(e):a=!0,a?Promise.resolve().then(()=>this._updateModelValue(e,r)):this._updateModelValue(e,r)}_isSelected(e){return this._selectionModel&&this._selectionModel.isSelected(e)}_isPrechecked(e){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(i=>null!=e.value&&i===e.value):e.value===this._rawValue)}_setSelectionByValue(e){this._rawValue=e,this._buttonToggles&&(this.multiple&&e?(Array.isArray(e),this._clearSelection(),e.forEach(i=>this._selectValue(i))):(this._clearSelection(),this._selectValue(e)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(e=>e.checked=!1)}_selectValue(e){const i=this._buttonToggles.find(r=>null!=r.value&&r.value===e);i&&(i.checked=!0,this._selectionModel.select(i))}_updateModelValue(e,i){i&&this._emitChangeEvent(e),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(e=>e._markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(C1,8))},n.\u0275dir=s.lG2({type:n,selectors:[["mat-button-toggle-group"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,A1,5),2&e){let a;s.iGM(a=s.CRH())&&(i._buttonToggles=a)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(e,i){2&e&&(s.uIk("aria-disabled",i.disabled),s.ekj("mat-button-toggle-vertical",i.vertical)("mat-button-toggle-group-appearance-standard","standard"===i.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[s._Bn([dV,{provide:I1,useExisting:n}])]}),n})();const uV=rI(class{});let A1=(()=>{class n extends uV{get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(e){this._appearance=e}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(e){const i=qn(e);i!==this._checked&&(this._checked=i,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(e){this._disabled=qn(e)}constructor(e,i,r,a,d,f){super(),this._changeDetectorRef=i,this._elementRef=r,this._focusMonitor=a,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new s.vpe;const _=Number(d);this.tabIndex=_||0===_?_:null,this.buttonToggleGroup=e,this.appearance=f&&f.appearance?f.appearance:"standard"}ngOnInit(){const e=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+S1++,e&&(e._isPrechecked(this)?this.checked=!0:e._isSelected(this)!==this._checked&&e._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const e=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),e&&e._isSelected(this)&&e._syncButtonToggle(this,!1,!1,!0)}focus(e){this._buttonElement.nativeElement.focus(e)}_onButtonClick(){const e=!!this._isSingleSelector()||!this._checked;e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new D1(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this._isSingleSelector()?this.buttonToggleGroup.name:this.name||null}_isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(I1,8),s.Y36(s.sBO),s.Y36(s.SBq),s.Y36($C),s.$8M("tabindex"),s.Y36(C1,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-button-toggle"]],viewQuery:function(e,i){if(1&e&&s.Gf(cV,5),2&e){let r;s.iGM(r=s.CRH())&&(i._buttonElement=r.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(e,i){1&e&&s.NdJ("focus",function(){return i.focus()}),2&e&&(s.uIk("aria-label",null)("aria-labelledby",null)("id",i.id)("name",null),s.ekj("mat-button-toggle-standalone",!i.buttonToggleGroup)("mat-button-toggle-checked",i.checked)("mat-button-toggle-disabled",i.disabled)("mat-button-toggle-appearance-standard","standard"===i.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[s.qOj],ngContentSelectors:lV,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(e,i){if(1&e&&(s.F$t(),s.TgZ(0,"button",0,1),s.NdJ("click",function(){return i._onButtonClick()}),s.TgZ(2,"span",2),s.Hsn(3),s.qZA()(),s._UZ(4,"span",3)(5,"span",4)),2&e){const r=s.MAs(1);s.Q6J("id",i.buttonId)("disabled",i.disabled||null),s.uIk("tabindex",i.disabled?-1:i.tabIndex)("aria-pressed",i.checked)("name",i._getButtonName())("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby),s.xp6(5),s.Q6J("matRippleTrigger",r)("matRippleDisabled",i.disableRipple||i.disabled)}},dependencies:[Ff],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}"],encapsulation:2,changeDetection:0}),n})(),hV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[vi,Ny,vi]}),n})(),fV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[HO],imports:[gi,hV]}),n})();function M1(n){return new An.y(t=>{(0,kf.Xf)(n()).subscribe(t)})}var mV=D(9635);function Up(n,t){const e=(0,Nl.m)(n)?n:()=>n,i=r=>r.error(e());return new An.y(t?r=>t.schedule(i,0,r):i)}var Fu=D(515);function DA(){return(0,Ri.e)((n,t)=>{let e=null;n._refCount++;const i=(0,S.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,a=e;e=null,r&&(!a||r===a)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class k1 extends An.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Ri.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ba.w0;const e=this.getSubject();t.add(this.source.subscribe((0,S.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ba.w0.EMPTY)}return t}refCount(){return DA()(this)}}var ao=D(5577),Nf=D(4351),Br=D(262);function TA(n){return n<=0?()=>Fu.E:(0,Ri.e)((t,e)=>{let i=[];t.subscribe((0,S.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function O1(n,t){const e=arguments.length>=2;return i=>i.pipe(n?(0,Re.h)((r,a)=>n(r,a,i)):OC.y,TA(1),e?kC(t):tO(()=>new MC))}function R1(n){return(0,N.U)(()=>n)}function oI(n){return(0,Ri.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const sn="primary",K0=Symbol("RouteTitle");class gV{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ly(n){return new gV(n)}function _V(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const d=i[a],f=n[a];if(d.startsWith(":"))r[d.substring(1)]=f;else if(d!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Bl(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let a=0;a<e.length;a++)if(r=e[a],!P1(n[r],t[r]))return!1;return!0}function P1(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,a)=>i[a]===r)}return n===t}function F1(n){return Array.prototype.concat.apply([],n)}function N1(n){return n.length>0?n[n.length-1]:null}function co(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Lf(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,tn.D)(Promise.resolve(n)):(0,it.of)(n)}const sI=!1,vV={exact:function U1(n,t,e){if(!Vp(n.segments,t.segments)||!aI(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!U1(n.children[i],t.children[i],e))return!1;return!0},subset:V1},L1={exact:function bV(n,t){return Bl(n,t)},subset:function wV(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>P1(n[e],t[e]))},ignored:()=>!0};function B1(n,t,e){return vV[e.paths](n.root,t.root,e.matrixParams)&&L1[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function V1(n,t,e){return j1(n,t,t.segments,e)}function j1(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Vp(r,e)||t.hasChildren()||!aI(r,e,i))}if(n.segments.length===e.length){if(!Vp(n.segments,e)||!aI(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!V1(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),a=e.slice(n.segments.length);return!!(Vp(n.segments,r)&&aI(n.segments,r,i)&&n.children[sn])&&j1(n.children[sn],t,a,i)}}function aI(n,t,e){return t.every((i,r)=>L1[e](n[r].parameters,i.parameters))}class Bf{constructor(t=new mn([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ly(this.queryParams)),this._queryParamMap}toString(){return CV.serialize(this)}}class mn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,co(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cI(this)}}class Z0{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ly(this.parameters)),this._parameterMap}toString(){return $1(this)}}function Vp(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let Y0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return new AA},providedIn:"root"}),n})();class AA{parse(t){const e=new RV(t);return new Bf(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Q0(t.root,!0)}`,i=function DV(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${lI(e)}=${lI(r)}`).join("&"):`${lI(e)}=${lI(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),r="string"==typeof t.fragment?`#${function IV(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${r}`}}const CV=new AA;function cI(n){return n.segments.map(t=>$1(t)).join("/")}function Q0(n,t){if(!n.hasChildren())return cI(n);if(t){const e=n.children[sn]?Q0(n.children[sn],!1):"",i=[];return co(n.children,(r,a)=>{a!==sn&&i.push(`${a}:${Q0(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function EV(n,t){let e=[];return co(n.children,(i,r)=>{r===sn&&(e=e.concat(t(i,r)))}),co(n.children,(i,r)=>{r!==sn&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===sn?[Q0(n.children[sn],!1)]:[`${r}:${Q0(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[sn]?`${cI(n)}/${e[0]}`:`${cI(n)}/(${e.join("//")})`}}function z1(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lI(n){return z1(n).replace(/%3B/gi,";")}function MA(n){return z1(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dI(n){return decodeURIComponent(n)}function H1(n){return dI(n.replace(/\+/g,"%20"))}function $1(n){return`${MA(n.path)}${function SV(n){return Object.keys(n).map(t=>`;${MA(t)}=${MA(n[t])}`).join("")}(n.parameters)}`}const TV=/^[^\/()?;=#]+/;function uI(n){const t=n.match(TV);return t?t[0]:""}const AV=/^[^=?&#]+/,kV=/^[^&#]+/;class RV{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new mn([],{}):new mn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[sn]=new mn(t,e)),i}parseSegment(){const t=uI(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new s.vHH(4009,sI);return this.capture(t),new Z0(dI(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=uI(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=uI(this.remaining);r&&(i=r,this.capture(i))}t[dI(e)]=dI(i)}parseQueryParam(t){const e=function MV(n){const t=n.match(AV);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const d=function OV(n){const t=n.match(kV);return t?t[0]:""}(this.remaining);d&&(i=d,this.capture(i))}const r=H1(e),a=H1(i);if(t.hasOwnProperty(r)){let d=t[r];Array.isArray(d)||(d=[d],t[r]=d),d.push(a)}else t[r]=a}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=uI(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new s.vHH(4010,sI);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):t&&(a=sn);const d=this.parseChildren();e[a]=1===Object.keys(d).length?d[sn]:new mn([],d),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new s.vHH(4011,sI)}}function kA(n){return n.segments.length>0?new mn([],{[sn]:n}):n}function hI(n){const t={};for(const i of Object.keys(n.children)){const a=hI(n.children[i]);(a.segments.length>0||a.hasChildren())&&(t[i]=a)}return function PV(n){if(1===n.numberOfChildren&&n.children[sn]){const t=n.children[sn];return new mn(n.segments.concat(t.segments),t.children)}return n}(new mn(n.segments,t))}function jp(n){return n instanceof Bf}const OA=!1;function FV(n,t,e,i,r){if(0===e.length)return By(t.root,t.root,t.root,i,r);const a=function Z1(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new K1(!0,0,n);let t=0,e=!1;const i=n.reduce((r,a,d)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return co(a.outlets,(_,b)=>{f[b]="string"==typeof _?_.split("/"):_}),[...r,{outlets:f}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===d?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?e=!0:".."===f?t++:""!=f&&r.push(f))}),r):[...r,a]},[]);return new K1(e,t,i)}(e);return a.toRoot()?By(t.root,t.root,new mn([],{}),i,r):function d(_){const b=function LV(n,t,e,i){if(n.isAbsolute)return new Uy(t.root,!0,0);if(-1===i)return new Uy(e,e===t.root,0);return function Y1(n,t,e){let i=n,r=t,a=e;for(;a>r;){if(a-=r,i=i.parent,!i)throw new s.vHH(4005,OA&&"Invalid number of '../'");r=i.segments.length}return new Uy(i,!1,r-a)}(e,i+(X0(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,t,n.snapshot?._urlSegment,_),C=b.processChildren?Vy(b.segmentGroup,b.index,a.commands):RA(b.segmentGroup,b.index,a.commands);return By(t.root,b.segmentGroup,C,i,r)}(n.snapshot?._lastPathIndex)}function X0(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function J0(n){return"object"==typeof n&&null!=n&&n.outlets}function By(n,t,e,i,r){let d,a={};i&&co(i,(_,b)=>{a[b]=Array.isArray(_)?_.map(C=>`${C}`):`${_}`}),d=n===t?e:W1(n,t,e);const f=kA(hI(d));return new Bf(f,a,r)}function W1(n,t,e){const i={};return co(n.children,(r,a)=>{i[a]=r===t?e:W1(r,t,e)}),new mn(n.segments,i)}class K1{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&X0(i[0]))throw new s.vHH(4003,OA&&"Root segment cannot have matrix parameters");const r=i.find(J0);if(r&&r!==N1(i))throw new s.vHH(4004,OA&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Uy{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function RA(n,t,e){if(n||(n=new mn([],{})),0===n.segments.length&&n.hasChildren())return Vy(n,t,e);const i=function UV(n,t,e){let i=0,r=t;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return a;const d=n.segments[r],f=e[i];if(J0(f))break;const _=`${f}`,b=i<e.length-1?e[i+1]:null;if(r>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!X1(_,b,d))return a;i+=2}else{if(!X1(_,{},d))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new mn(n.segments.slice(0,i.pathIndex),{});return a.children[sn]=new mn(n.segments.slice(i.pathIndex),n.children),Vy(a,0,r)}return i.match&&0===r.length?new mn(n.segments,{}):i.match&&!n.hasChildren()?PA(n,t,e):i.match?Vy(n,0,r):PA(n,t,e)}function Vy(n,t,e){if(0===e.length)return new mn(n.segments,{});{const i=function BV(n){return J0(n[0])?n[0].outlets:{[sn]:n}}(e),r={};return!i[sn]&&n.children[sn]&&1===n.numberOfChildren&&0===n.children[sn].segments.length?Vy(n.children[sn],t,e):(co(i,(a,d)=>{"string"==typeof a&&(a=[a]),null!==a&&(r[d]=RA(n.children[d],t,a))}),co(n.children,(a,d)=>{void 0===i[d]&&(r[d]=a)}),new mn(n.segments,r))}}function PA(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const a=e[r];if(J0(a)){const _=VV(a.outlets);return new mn(i,_)}if(0===r&&X0(e[0])){i.push(new Z0(n.segments[t].path,Q1(e[0]))),r++;continue}const d=J0(a)?a.outlets[sn]:`${a}`,f=r<e.length-1?e[r+1]:null;d&&f&&X0(f)?(i.push(new Z0(d,Q1(f))),r+=2):(i.push(new Z0(d,{})),r++)}return new mn(i,{})}function VV(n){const t={};return co(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=PA(new mn([],{}),0,e))}),t}function Q1(n){const t={};return co(n,(e,i)=>t[i]=`${e}`),t}function X1(n,t,e){return n==e.path&&Bl(t,e.parameters)}const ew="imperative";class Ul{constructor(t,e){this.id=t,this.url=e}}class FA extends Ul{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zp extends Ul{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fI extends Ul{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class mI extends Ul{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class NA extends Ul{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class jV extends Ul{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zV extends Ul{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class HV extends Ul{constructor(t,e,i,r,a){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $V extends Ul{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GV extends Ul{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qV{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class WV{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class KV{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZV{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class YV{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QV{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class J1{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let ej=(()=>{class n{createUrlTree(e,i,r,a,d,f){return FV(e||i.root,r,a,d,f)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),nj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(t){return ej.\u0275fac(t)},providedIn:"root"}),n})();class eP{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=LA(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=LA(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=BA(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return BA(t,this._root).map(e=>e.value)}}function LA(n,t){if(n===t.value)return t;for(const e of t.children){const i=LA(n,e);if(i)return i}return null}function BA(n,t){if(n===t.value)return[t];for(const e of t.children){const i=BA(n,e);if(i.length)return i.unshift(t),i}return[]}class Nu{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function jy(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class tP extends eP{constructor(t,e){super(t),this.snapshot=e,UA(this,t)}toString(){return this.snapshot.toString()}}function nP(n,t){const e=function ij(n,t){const d=new pI([],{},{},"",{},sn,t,null,n.root,-1,{});return new rP("",new Nu(d,[]))}(n,t),i=new Ua.X([new Z0("",{})]),r=new Ua.X({}),a=new Ua.X({}),d=new Ua.X({}),f=new Ua.X(""),_=new Uf(i,r,d,f,a,sn,t,e.root);return _.snapshot=e.root,new tP(new Nu(_,[]),e)}class Uf{constructor(t,e,i,r,a,d,f,_){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=d,this.component=f,this.title=this.data?.pipe((0,N.U)(b=>b[K0]))??(0,it.of)(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,N.U)(t=>Ly(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,N.U)(t=>Ly(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function iP(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],a=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function rj(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class pI{get title(){return this.data?.[K0]}constructor(t,e,i,r,a,d,f,_,b,C,k){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=d,this.component=f,this.routeConfig=_,this._urlSegment=b,this._lastPathIndex=C,this._resolve=k}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ly(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ly(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class rP extends eP{constructor(t,e){super(e),this.url=t,UA(this,e)}toString(){return oP(this._root)}}function UA(n,t){t.value._routerState=n,t.children.forEach(e=>UA(n,e))}function oP(n){const t=n.children.length>0?` { ${n.children.map(oP).join(", ")} } `:"";return`${n.value}${t}`}function VA(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Bl(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Bl(t.params,e.params)||n.params.next(e.params),function yV(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Bl(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Bl(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function jA(n,t){const e=Bl(n.params,t.params)&&function xV(n,t){return Vp(n,t)&&n.every((e,i)=>Bl(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||jA(n.parent,t.parent))}function tw(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function sj(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return tw(n,i,r);return tw(n,i)})}(n,t,e);return new Nu(i,r)}{if(n.shouldAttach(t.value)){const a=n.retrieve(t.value);if(null!==a){const d=a.route;return d.value._futureSnapshot=t.value,d.children=t.children.map(f=>tw(n,f)),d}}const i=function aj(n){return new Uf(new Ua.X(n.url),new Ua.X(n.params),new Ua.X(n.queryParams),new Ua.X(n.fragment),new Ua.X(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(a=>tw(n,a));return new Nu(i,r)}}const zA="ngNavigationCancelingError";function sP(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=jp(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=aP(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function aP(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[zA]=!0,i.cancellationCode=t,e&&(i.url=e),i}function cP(n){return lP(n)&&jp(n.url)}function lP(n){return n&&n[zA]}class cj{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new nw,this.attachRef=null}}let nw=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new cj,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gI=!1;let HA=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=sn,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.parentContexts=(0,s.f3M)(nw),this.location=(0,s.f3M)(s.s_b),this.changeDetector=(0,s.f3M)(s.sBO),this.environmentInjector=(0,s.f3M)(s.lqb)}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,gI);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,gI);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,gI);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new s.vHH(4013,gI);this._activatedRoute=e;const r=this.location,d=e.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,_=new lj(e,f,r.injector);if(i&&function dj(n){return!!n.resolveComponentFactory}(i)){const b=i.resolveComponentFactory(d);this.activated=r.createComponent(b,r.length,_)}else this.activated=r.createComponent(d,{index:r.length,injector:_,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[s.TTD]}),n})();class lj{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Uf?this.route:t===nw?this.childContexts:this.parent.get(t,e)}}let $A=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[s.jDz],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},dependencies:[HA],encapsulation:2}),n})();function dP(n,t){return n.providers&&!n._injector&&(n._injector=(0,s.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function qA(n){const t=n.children&&n.children.map(qA),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==sn&&(e.component=$A),e}function Va(n){return n.outlet||sn}function uP(n,t){const e=n.filter(i=>Va(i)===t);return e.push(...n.filter(i=>Va(i)!==t)),e}function iw(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class pj{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),VA(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=jy(e);t.children.forEach(a=>{const d=a.value.outlet;this.deactivateRoutes(a,r[d],i),delete r[d]}),co(r,(a,d)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(t,e,i){const r=t.value,a=e?e.value:null;if(r===a)if(r.component){const d=i.getContext(r.outlet);d&&this.deactivateChildRoutes(t,e,d.children)}else this.deactivateChildRoutes(t,e,i);else a&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,a=jy(t);for(const d of Object.keys(a))this.deactivateRouteAndItsChildren(a[d],r);if(i&&i.outlet){const d=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:d,route:t,contexts:f})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,a=jy(t);for(const d of Object.keys(a))this.deactivateRouteAndItsChildren(a[d],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=jy(e);t.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new QV(a.value.snapshot))}),t.children.length&&this.forwardEvent(new ZV(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,a=e?e.value:null;if(VA(r),r===a)if(r.component){const d=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,d.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const d=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),d.children.onOutletReAttached(f.contexts),d.attachRef=f.componentRef,d.route=f.route.value,d.outlet&&d.outlet.attach(f.componentRef,f.route.value),VA(f.route.value),this.activateChildRoutes(t,null,d.children)}else{const f=iw(r.snapshot),_=f?.get(s._Vd)??null;d.attachRef=null,d.route=r,d.resolver=_,d.injector=f,d.outlet&&d.outlet.activateWith(r,d.injector),this.activateChildRoutes(t,null,d.children)}}else this.activateChildRoutes(t,null,i)}}class hP{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class _I{constructor(t,e){this.component=t,this.route=e}}function gj(n,t,e){const i=n._root;return rw(i,t?t._root:null,e,[i.value])}function zy(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,s.Z0I)(n)?t.get(n):n:i}function rw(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=jy(t);return n.children.forEach(d=>{(function yj(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,d=t?t.value:null,f=e?e.getContext(n.value.outlet):null;if(d&&a.routeConfig===d.routeConfig){const _=function vj(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Vp(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Vp(n.url,t.url)||!Bl(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jA(n,t)||!Bl(n.queryParams,t.queryParams);default:return!jA(n,t)}}(d,a,a.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new hP(i)):(a.data=d.data,a._resolvedData=d._resolvedData),rw(n,t,a.component?f?f.children:null:e,i,r),_&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new _I(f.outlet.component,d))}else d&&ow(t,f,r),r.canActivateChecks.push(new hP(i)),rw(n,null,a.component?f?f.children:null:e,i,r)})(d,a[d.value.outlet],e,i.concat([d.value]),r),delete a[d.value.outlet]}),co(a,(d,f)=>ow(d,e.getContext(f),r)),r}function ow(n,t,e){const i=jy(n),r=n.value;co(i,(a,d)=>{ow(a,r.component?t?t.children.getContext(d):null:t,e)}),e.canDeactivateChecks.push(new _I(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function sw(n){return"function"==typeof n}function WA(n){return n instanceof MC||"EmptyError"===n?.name}const yI=Symbol("INITIAL_VALUE");function Hy(){return(0,jn.w)(n=>JT(n.map(t=>t.pipe((0,_s.q)(1),I(yI)))).pipe((0,N.U)(t=>{for(const e of t)if(!0!==e){if(e===yI)return yI;if(!1===e||e instanceof Bf)return e}return!0}),(0,Re.h)(t=>t!==yI),(0,_s.q)(1)))}function fP(n){return(0,mV.z)((0,ti.b)(t=>{if(jp(t))throw sP(0,t)}),(0,N.U)(t=>!0===t))}const KA={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function mP(n,t,e,i,r){const a=ZA(n,t,e);return a.matched?function Nj(n,t,e,i){const r=t.canMatch;if(!r||0===r.length)return(0,it.of)(!0);const a=r.map(d=>{const f=zy(d,n);return Lf(function Ij(n){return n&&sw(n.canMatch)}(f)?f.canMatch(t,e):n.runInContext(()=>f(t,e)))});return(0,it.of)(a).pipe(Hy(),fP())}(i=dP(t,i),t,e).pipe((0,N.U)(d=>!0===d?a:{...KA})):(0,it.of)(a)}function ZA(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...KA}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||_V)(e,n,t);if(!r)return{...KA};const a={};co(r.posParams,(f,_)=>{a[_]=f.path});const d=r.consumed.length>0?{...a,...r.consumed[r.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:d,positionalParamSegments:r.posParams??{}}}function vI(n,t,e,i){if(e.length>0&&function Uj(n,t,e){return e.some(i=>bI(n,t,i)&&Va(i)!==sn)}(n,e,i)){const a=new mn(t,function Bj(n,t,e,i){const r={};r[sn]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const a of e)if(""===a.path&&Va(a)!==sn){const d=new mn([],{});d._sourceSegment=n,d._segmentIndexShift=t.length,r[Va(a)]=d}return r}(n,t,i,new mn(e,n.children)));return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:[]}}if(0===e.length&&function Vj(n,t,e){return e.some(i=>bI(n,t,i))}(n,e,i)){const a=new mn(n.segments,function Lj(n,t,e,i,r){const a={};for(const d of i)if(bI(n,e,d)&&!r[Va(d)]){const f=new mn([],{});f._sourceSegment=n,f._segmentIndexShift=t.length,a[Va(d)]=f}return{...r,...a}}(n,t,e,i,n.children));return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}const r=new mn(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:e}}function bI(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function pP(n,t,e,i){return!!(Va(n)===i||i!==sn&&bI(t,e,n))&&("**"===n.path||ZA(t,n,e).matched)}function gP(n,t,e){return 0===t.length&&!n.children[e]}const wI=!1;class xI{constructor(t){this.segmentGroup=t||null}}class _P{constructor(t){this.urlTree=t}}function aw(n){return Up(new xI(n))}function yP(n){return Up(new _P(n))}function jj(n){return Up(new s.vHH(4e3,wI&&`Only absolute redirects can have named outlets. redirectTo: '${n}'`))}class $j{constructor(t,e,i,r,a){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0}apply(){const t=vI(this.urlTree.root,[],[],this.config).segmentGroup,e=new mn(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,sn).pipe((0,N.U)(a=>this.createUrlTree(hI(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Br.K)(a=>{if(a instanceof _P)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof xI?this.noMatchError(a):a}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,sn).pipe((0,N.U)(r=>this.createUrlTree(hI(r),t.queryParams,t.fragment))).pipe((0,Br.K)(r=>{throw r instanceof xI?this.noMatchError(r):r}))}noMatchError(t){return new s.vHH(4002,wI&&`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=kA(t);return new Bf(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,N.U)(a=>new mn([],a))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,tn.D)(r).pipe((0,Nf.b)(a=>{const d=i.children[a],f=uP(e,a);return this.expandSegmentGroup(t,f,d,a).pipe((0,N.U)(_=>({segment:_,outlet:a})))}),(0,se.R)((a,d)=>(a[d.outlet]=d.segment,a),{}),O1())}expandSegment(t,e,i,r,a,d){return(0,tn.D)(i).pipe((0,Nf.b)(f=>this.expandSegmentAgainstRoute(t,e,i,f,r,a,d).pipe((0,Br.K)(b=>{if(b instanceof xI)return(0,it.of)(null);throw b}))),ku(f=>!!f),(0,Br.K)((f,_)=>{if(WA(f))return gP(e,r,a)?(0,it.of)(new mn([],{})):aw(e);throw f}))}expandSegmentAgainstRoute(t,e,i,r,a,d,f){return pP(r,e,a,d)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,a,d):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,a,d):aw(e):aw(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,a,d){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,d):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,a,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?yP(a):this.lineralizeSegments(i,a).pipe((0,ao.z)(d=>{const f=new mn(d,{});return this.expandSegment(t,f,e,d,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,a,d){const{matched:f,consumedSegments:_,remainingSegments:b,positionalParamSegments:C}=ZA(e,r,a);if(!f)return aw(e);const k=this.applyRedirectCommands(_,r.redirectTo,C);return r.redirectTo.startsWith("/")?yP(k):this.lineralizeSegments(r,k).pipe((0,ao.z)(L=>this.expandSegment(t,e,i,L.concat(b),d,!1)))}matchSegmentAgainstRoute(t,e,i,r,a){return"**"===i.path?(t=dP(i,t),i.loadChildren?(i._loadedRoutes?(0,it.of)({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,N.U)(f=>(i._loadedRoutes=f.routes,i._loadedInjector=f.injector,new mn(r,{})))):(0,it.of)(new mn(r,{}))):mP(e,i,r,t).pipe((0,jn.w)(({matched:d,consumedSegments:f,remainingSegments:_})=>d?this.getChildConfig(t=i._injector??t,i,r).pipe((0,ao.z)(C=>{const k=C.injector??t,L=C.routes,{segmentGroup:B,slicedSegments:$}=vI(e,f,_,L),ce=new mn(B.segments,B.children);if(0===$.length&&ce.hasChildren())return this.expandChildren(k,L,ce).pipe((0,N.U)(wt=>new mn(f,wt)));if(0===L.length&&0===$.length)return(0,it.of)(new mn(f,{}));const De=Va(i)===a;return this.expandSegment(k,ce,L,$,De?sn:a,!0).pipe((0,N.U)(vt=>new mn(f.concat(vt.segments),vt.children)))})):aw(e)))}getChildConfig(t,e,i){return e.children?(0,it.of)({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?(0,it.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):function Fj(n,t,e,i){const r=t.canLoad;if(void 0===r||0===r.length)return(0,it.of)(!0);const a=r.map(d=>{const f=zy(d,n);return Lf(function wj(n){return n&&sw(n.canLoad)}(f)?f.canLoad(t,e):n.runInContext(()=>f(t,e)))});return(0,it.of)(a).pipe(Hy(),fP())}(t,e,i).pipe((0,ao.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,ti.b)(a=>{e._loadedRoutes=a.routes,e._loadedInjector=a.injector})):function zj(n){return Up(aP(wI&&`Cannot load children because the guard of the route "path: '${n.path}'" returned false`,3))}(e))):(0,it.of)({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,it.of)(i);if(r.numberOfChildren>1||!r.children[sn])return jj(t.redirectTo);r=r.children[sn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const a=this.createSegmentGroup(t,e.root,i,r);return new Bf(a,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return co(t,(r,a)=>{if("string"==typeof r&&r.startsWith(":")){const f=r.substring(1);i[a]=e[f]}else i[a]=r}),i}createSegmentGroup(t,e,i,r){const a=this.createSegments(t,e.segments,i,r);let d={};return co(e.children,(f,_)=>{d[_]=this.createSegmentGroup(t,f,i,r)}),new mn(a,d)}createSegments(t,e,i,r){return e.map(a=>a.path.startsWith(":")?this.findPosParam(t,a,r):this.findOrReturn(a,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new s.vHH(4001,wI&&`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class qj{}class Zj{constructor(t,e,i,r,a,d,f){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=d,this.urlSerializer=f}recognize(){const t=vI(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,sn).pipe((0,N.U)(e=>{if(null===e)return null;const i=new pI([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},sn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Nu(i,e),a=new rP(this.url,r);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(t){const e=t.value,i=iP(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,tn.D)(Object.keys(i.children)).pipe((0,Nf.b)(r=>{const a=i.children[r],d=uP(e,r);return this.processSegmentGroup(t,d,a,r)}),(0,se.R)((r,a)=>r&&a?(r.push(...a),r):null),function pV(n,t=!1){return(0,Ri.e)((e,i)=>{let r=0;e.subscribe((0,S.x)(i,a=>{const d=n(a,r++);(d||t)&&i.next(a),!d&&i.complete()}))})}(r=>null!==r),kC(null),O1(),(0,N.U)(r=>{if(null===r)return null;const a=bP(r);return function Yj(n){n.sort((t,e)=>t.value.outlet===sn?-1:e.value.outlet===sn?1:t.value.outlet.localeCompare(e.value.outlet))}(a),a}))}processSegment(t,e,i,r,a){return(0,tn.D)(e).pipe((0,Nf.b)(d=>this.processSegmentAgainstRoute(d._injector??t,d,i,r,a)),ku(d=>!!d),(0,Br.K)(d=>{if(WA(d))return gP(i,r,a)?(0,it.of)([]):(0,it.of)(null);throw d}))}processSegmentAgainstRoute(t,e,i,r,a){if(e.redirectTo||!pP(e,i,r,a))return(0,it.of)(null);let d;if("**"===e.path){const f=r.length>0?N1(r).parameters:{},_=xP(i)+r.length,b=new pI(r,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,EP(e),Va(e),e.component??e._loadedComponent??null,e,wP(i),_,CP(e));d=(0,it.of)({snapshot:b,consumedSegments:[],remainingSegments:[]})}else d=mP(i,e,r,t).pipe((0,N.U)(({matched:f,consumedSegments:_,remainingSegments:b,parameters:C})=>{if(!f)return null;const k=xP(i)+_.length;return{snapshot:new pI(_,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,EP(e),Va(e),e.component??e._loadedComponent??null,e,wP(i),k,CP(e)),consumedSegments:_,remainingSegments:b}}));return d.pipe((0,jn.w)(f=>{if(null===f)return(0,it.of)(null);const{snapshot:_,consumedSegments:b,remainingSegments:C}=f;t=e._injector??t;const k=e._loadedInjector??t,L=function Qj(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:B,slicedSegments:$}=vI(i,b,C,L.filter(De=>void 0===De.redirectTo));if(0===$.length&&B.hasChildren())return this.processChildren(k,L,B).pipe((0,N.U)(De=>null===De?null:[new Nu(_,De)]));if(0===L.length&&0===$.length)return(0,it.of)([new Nu(_,[])]);const ce=Va(e)===a;return this.processSegment(k,L,B,$,ce?sn:a).pipe((0,N.U)(De=>null===De?null:[new Nu(_,De)]))}))}}function Xj(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function bP(n){const t=[],e=new Set;for(const i of n){if(!Xj(i)){t.push(i);continue}const r=t.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=bP(i.children);t.push(new Nu(i.value,r))}return t.filter(i=>!e.has(i))}function wP(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function xP(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function EP(n){return n.data||{}}function CP(n){return n.resolve||{}}function IP(n){return"string"==typeof n.title||null===n.title}function YA(n){return(0,jn.w)(t=>{const e=n(t);return e?(0,tn.D)(e).pipe((0,N.U)(()=>t)):(0,it.of)(t)})}const $y=new s.OlP("ROUTES");let QA=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,s.f3M)(s.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,it.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Lf(e.loadComponent()).pipe((0,N.U)(DP),(0,ti.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=a}),oI(()=>{this.componentLoaders.delete(e)})),r=new k1(i,()=>new xn.x).pipe(DA());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,it.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const a=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,N.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(i);let _,b,C=!1;Array.isArray(f)?b=f:(_=f.create(e).injector,b=F1(_.get($y,[],s.XFs.Self|s.XFs.Optional)));return{routes:b.map(qA),injector:_}}),oI(()=>{this.childrenLoaders.delete(i)})),d=new k1(a,()=>new xn.x).pipe(DA());return this.childrenLoaders.set(i,d),d}loadModuleFactoryOrRoutes(e){return Lf(e()).pipe((0,N.U)(DP),(0,ao.z)(i=>i instanceof s.YKP||Array.isArray(i)?(0,it.of)(i):(0,tn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function DP(n){return function sz(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let CI=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new xn.x,this.configLoader=(0,s.f3M)(QA),this.environmentInjector=(0,s.f3M)(s.lqb),this.urlSerializer=(0,s.f3M)(Y0),this.rootContexts=(0,s.f3M)(nw),this.navigationId=0,this.afterPreactivation=()=>(0,it.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new WV(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new qV(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new Ua.X({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ew,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Re.h)(i=>0!==i.id),(0,N.U)(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),(0,jn.w)(i=>{let r=!1,a=!1;return(0,it.of)(i).pipe((0,ti.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,jn.w)(d=>{const f=e.browserUrlTree.toString(),_=!e.navigated||d.extractedUrl.toString()!==f||f!==e.currentUrlTree.toString();if(!_&&"reload"!==(d.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const C="";return this.events.next(new mI(d.id,e.serializeUrl(i.rawUrl),C,0)),e.rawUrlTree=d.rawUrl,d.resolve(null),Fu.E}if(e.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return TP(d.source)&&(e.browserUrlTree=d.extractedUrl),(0,it.of)(d).pipe((0,jn.w)(C=>{const k=this.transitions?.getValue();return this.events.next(new FA(C.id,this.urlSerializer.serialize(C.extractedUrl),C.source,C.restoredState)),k!==this.transitions?.getValue()?Fu.E:Promise.resolve(C)}),function Gj(n,t,e,i){return(0,jn.w)(r=>function Hj(n,t,e,i,r){return new $j(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,N.U)(a=>({...r,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),(0,ti.b)(C=>{this.currentNavigation={...this.currentNavigation,finalUrl:C.urlAfterRedirects},i.urlAfterRedirects=C.urlAfterRedirects}),function ez(n,t,e,i,r){return(0,ao.z)(a=>function Kj(n,t,e,i,r,a,d="emptyOnly"){return new Zj(n,t,e,i,r,d,a).recognize().pipe((0,jn.w)(f=>null===f?function Wj(n){return new An.y(t=>t.error(n))}(new qj):(0,it.of)(f)))}(n,t,e,a.urlAfterRedirects,i.serialize(a.urlAfterRedirects),i,r).pipe((0,N.U)(d=>({...a,targetSnapshot:d}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,ti.b)(C=>{if(i.targetSnapshot=C.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!C.extras.skipLocationChange){const L=e.urlHandlingStrategy.merge(C.urlAfterRedirects,C.rawUrl);e.setBrowserUrl(L,C)}e.browserUrlTree=C.urlAfterRedirects}const k=new jV(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(k)}));if(_&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:C,extractedUrl:k,source:L,restoredState:B,extras:$}=d,ce=new FA(C,this.urlSerializer.serialize(k),L,B);this.events.next(ce);const De=nP(k,this.rootComponentType).snapshot;return i={...d,targetSnapshot:De,urlAfterRedirects:k,extras:{...$,skipLocationChange:!1,replaceUrl:!1}},(0,it.of)(i)}{const C="";return this.events.next(new mI(d.id,e.serializeUrl(i.extractedUrl),C,1)),e.rawUrlTree=d.rawUrl,d.resolve(null),Fu.E}}),(0,ti.b)(d=>{const f=new zV(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),(0,N.U)(d=>i={...d,guards:gj(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function Dj(n,t){return(0,ao.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:d}}=e;return 0===d.length&&0===a.length?(0,it.of)({...e,guardsResult:!0}):function Tj(n,t,e,i){return(0,tn.D)(n).pipe((0,ao.z)(r=>function Pj(n,t,e,i,r){const a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!a||0===a.length)return(0,it.of)(!0);const d=a.map(f=>{const _=iw(t)??r,b=zy(f,_);return Lf(function Cj(n){return n&&sw(n.canDeactivate)}(b)?b.canDeactivate(n,t,e,i):_.runInContext(()=>b(n,t,e,i))).pipe(ku())});return(0,it.of)(d).pipe(Hy())}(r.component,r.route,e,t,i)),ku(r=>!0!==r,!0))}(d,i,r,n).pipe((0,ao.z)(f=>f&&function bj(n){return"boolean"==typeof n}(f)?function Aj(n,t,e,i){return(0,tn.D)(t).pipe((0,Nf.b)(r=>hc(function kj(n,t){return null!==n&&t&&t(new KV(n)),(0,it.of)(!0)}(r.route.parent,i),function Mj(n,t){return null!==n&&t&&t(new YV(n)),(0,it.of)(!0)}(r.route,i),function Rj(n,t,e){const i=t[t.length-1],a=t.slice(0,t.length-1).reverse().map(d=>function _j(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(d)).filter(d=>null!==d).map(d=>M1(()=>{const f=d.guards.map(_=>{const b=iw(d.node)??e,C=zy(_,b);return Lf(function Ej(n){return n&&sw(n.canActivateChild)}(C)?C.canActivateChild(i,n):b.runInContext(()=>C(i,n))).pipe(ku())});return(0,it.of)(f).pipe(Hy())}));return(0,it.of)(a).pipe(Hy())}(n,r.path,e),function Oj(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,it.of)(!0);const r=i.map(a=>M1(()=>{const d=iw(t)??e,f=zy(a,d);return Lf(function xj(n){return n&&sw(n.canActivate)}(f)?f.canActivate(t,n):d.runInContext(()=>f(t,n))).pipe(ku())}));return(0,it.of)(r).pipe(Hy())}(n,r.route,e))),ku(r=>!0!==r,!0))}(i,a,n,t):(0,it.of)(f)),(0,N.U)(f=>({...e,guardsResult:f})))})}(this.environmentInjector,d=>this.events.next(d)),(0,ti.b)(d=>{if(i.guardsResult=d.guardsResult,jp(d.guardsResult))throw sP(0,d.guardsResult);const f=new HV(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(f)}),(0,Re.h)(d=>!!d.guardsResult||(e.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),YA(d=>{if(d.guards.canActivateChecks.length)return(0,it.of)(d).pipe((0,ti.b)(f=>{const _=new $V(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}),(0,jn.w)(f=>{let _=!1;return(0,it.of)(f).pipe(function tz(n,t){return(0,ao.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return(0,it.of)(e);let a=0;return(0,tn.D)(r).pipe((0,Nf.b)(d=>function nz(n,t,e,i){const r=n.routeConfig,a=n._resolve;return void 0!==r?.title&&!IP(r)&&(a[K0]=r.title),function iz(n,t,e,i){const r=function rz(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return(0,it.of)({});const a={};return(0,tn.D)(r).pipe((0,ao.z)(d=>function oz(n,t,e,i){const r=iw(t)??i,a=zy(n,r);return Lf(a.resolve?a.resolve(t,e):r.runInContext(()=>a(t,e)))}(n[d],t,e,i).pipe(ku(),(0,ti.b)(f=>{a[d]=f}))),TA(1),R1(a),(0,Br.K)(d=>WA(d)?Fu.E:Up(d)))}(a,n,t,i).pipe((0,N.U)(d=>(n._resolvedData=d,n.data=iP(n,e).resolve,r&&IP(r)&&(n.data[K0]=r.title),null)))}(d.route,i,n,t)),(0,ti.b)(()=>a++),TA(1),(0,ao.z)(d=>a===r.length?(0,it.of)(e):Fu.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,ti.b)({next:()=>_=!0,complete:()=>{_||(e.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),(0,ti.b)(f=>{const _=new GV(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}))}),YA(d=>{const f=_=>{const b=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,ti.b)(C=>{_.component=C}),(0,N.U)(()=>{})));for(const C of _.children)b.push(...f(C));return b};return JT(f(d.targetSnapshot.root)).pipe(kC(),(0,_s.q)(1))}),YA(()=>this.afterPreactivation()),(0,N.U)(d=>{const f=function oj(n,t,e){const i=tw(n,t._root,e?e._root:void 0);return new tP(i,t)}(e.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return i={...d,targetRouterState:f}}),(0,ti.b)(d=>{e.currentUrlTree=d.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),e.routerState=d.targetRouterState,"deferred"===e.urlUpdateStrategy&&(d.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,d),e.browserUrlTree=d.urlAfterRedirects)}),((n,t,e)=>(0,N.U)(i=>(new pj(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,e.routeReuseStrategy,d=>this.events.next(d)),(0,ti.b)({next:d=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new zp(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{r=!0}}),oI(()=>{r||a||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),(0,Br.K)(d=>{if(a=!0,lP(d)){cP(d)||(e.navigated=!0,e.restoreHistory(i,!0));const f=new fI(i.id,this.urlSerializer.serialize(i.extractedUrl),d.message,d.cancellationCode);if(this.events.next(f),cP(d)){const _=e.urlHandlingStrategy.merge(d.url,e.rawUrlTree),b={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||TP(i.source)};e.scheduleNavigation(_,ew,null,b,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const f=new NA(i.id,this.urlSerializer.serialize(i.extractedUrl),d,i.targetSnapshot??void 0);this.events.next(f);try{i.resolve(e.errorHandler(d))}catch(_){i.reject(_)}}return Fu.E}))}))}cancelNavigationTransition(e,i,r){const a=new fI(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(a),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function TP(n){return n!==ew}let AP=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(a=>a.outlet===sn);return i}getResolvedTitleForRoute(e){return e.data[K0]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(az)},providedIn:"root"}),n})(),az=(()=>{class n extends AP{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ks))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(dz)},providedIn:"root"}),n})();class lz{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let dz=(()=>{class n extends lz{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const II=new s.OlP("",{providedIn:"root",factory:()=>({})});let hz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(fz)},providedIn:"root"}),n})(),fz=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mz(n){throw n}function pz(n,t,e){return t.parse("/")}const gz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_z={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Cr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,s.f3M)(s.c2e),this.isNgZoneEnabled=!1,this.options=(0,s.f3M)(II,{optional:!0})||{},this.errorHandler=this.options.errorHandler||mz,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||pz,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,s.f3M)(hz),this.routeReuseStrategy=(0,s.f3M)(cz),this.urlCreationStrategy=(0,s.f3M)(nj),this.titleStrategy=(0,s.f3M)(AP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=F1((0,s.f3M)($y,{optional:!0})??[]),this.navigationTransitions=(0,s.f3M)(CI),this.urlSerializer=(0,s.f3M)(Y0),this.location=(0,s.f3M)(Fe),this.isNgZoneEnabled=(0,s.f3M)(s.R0b)instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Bf,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=nP(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ew,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const a={replaceUrl:!0},d=r?.navigationId?r:null;if(r){const _={...r};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(a.state=_)}const f=this.parseUrl(e);this.scheduleNavigation(f,i,d,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(qA),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:a,fragment:d,queryParamsHandling:f,preserveFragment:_}=i,b=_?this.currentUrlTree.fragment:d;let C=null;switch(f){case"merge":C={...this.currentUrlTree.queryParams,...a};break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=a||null}return null!==C&&(C=this.removeEmptyProps(C)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,e,C,b??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=jp(e)?e:this.parseUrl(e),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,ew,null,i)}navigate(e,i={skipLocationChange:!1}){return function yz(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new s.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...gz}:!1===i?{..._z}:i,jp(e))return B1(this.currentUrlTree,e,r);const a=this.parseUrl(e);return B1(this.currentUrlTree,a,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const a=e[r];return null!=a&&(i[r]=a),i},{})}scheduleNavigation(e,i,r,a,d){if(this.disposed)return Promise.resolve(!1);let f,_,b,C;return d?(f=d.resolve,_=d.reject,b=d.promise):b=new Promise((k,L)=>{f=k,_=L}),C="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:C,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:a,resolve:f,reject:_,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(k=>Promise.reject(k))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),a={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",a):this.location.go(r,"",a)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lu=(()=>{class n{constructor(e,i,r,a,d,f){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=a,this.el=d,this.locationStrategy=f,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new xn.x;const _=d.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=e.events.subscribe(b=>{b instanceof zp&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,s.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,s.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,s.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,a,d){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||a||d||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,s.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,a=this.el.nativeElement;null!==i?r.setAttribute(a,e,i):r.removeAttribute(a,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Cr),s.Y36(Uf),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(Ze))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,i){1&e&&s.NdJ("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&e&&s.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[s.TTD]}),n})();class MP{}let wz=(()=>{class n{constructor(e,i,r,a,d){this.router=e,this.injector=r,this.preloadingStrategy=a,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe((0,Re.h)(e=>e instanceof zp),(0,Nf.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const a of i){a.providers&&!a._injector&&(a._injector=(0,s.MMx)(a.providers,e,`Route: ${a.path}`));const d=a._injector??e,f=a._loadedInjector??d;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?r.push(this.preloadConfig(d,a)):(a.children||a._loadedRoutes)&&r.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,tn.D)(r).pipe((0,ba.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):(0,it.of)(null);const a=r.pipe((0,ao.z)(d=>null===d?(0,it.of)(void 0):(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,this.processRoutes(d.injector??e,d.routes))));if(i.loadComponent&&!i._loadedComponent){const d=this.loader.loadComponent(i);return(0,tn.D)([a,d]).pipe((0,ba.J)())}return a})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Cr),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(MP),s.LFG(QA))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const JA=new s.OlP("");let kP=(()=>{class n{constructor(e,i,r,a,d={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=a,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},d.scrollPositionRestoration=d.scrollPositionRestoration||"disabled",d.anchorScrolling=d.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof FA?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof zp&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof J1&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new J1(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();var Js=(()=>((Js=Js||{})[Js.COMPLETE=0]="COMPLETE",Js[Js.FAILED=1]="FAILED",Js[Js.REDIRECTING=2]="REDIRECTING",Js))();const Gy=!1;function Vf(n,t){return{\u0275kind:n,\u0275providers:t}}const eM=new s.OlP("",{providedIn:"root",factory:()=>!1});function RP(){const n=(0,s.f3M)(s.zs3);return t=>{const e=n.get(s.z2F);if(t!==e.components[0])return;const i=n.get(Cr),r=n.get(PP);1===n.get(tM)&&i.initialNavigation(),n.get(FP,null,s.XFs.Optional)?.setUpPreloading(),n.get(JA,null,s.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const PP=new s.OlP(Gy?"bootstrap done indicator":"",{factory:()=>new xn.x}),tM=new s.OlP(Gy?"initial navigation":"",{providedIn:"root",factory:()=>1});function Sz(){let n=[];return n=Gy?[{provide:s.Xts,multi:!0,useFactory:()=>{const t=(0,s.f3M)(Cr);return()=>t.events.subscribe(e=>{console.group?.(`Router Event: ${e.constructor.name}`),console.log(function XV(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(e)),console.log(e),console.groupEnd?.()})}}]:[],Vf(1,n)}const FP=new s.OlP(Gy?"router preloader":"");function Dz(n){return Vf(0,[{provide:FP,useExisting:wz},{provide:MP,useExisting:n}])}const cw=!1,NP=new s.OlP(cw?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Tz=[Fe,{provide:Y0,useClass:AA},Cr,nw,{provide:Uf,useFactory:function OP(n){return n.routerState.root},deps:[Cr]},QA,cw?{provide:eM,useValue:!0}:[]];function Az(){return new s.PXZ("Router",Cr)}let Vl=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[Tz,cw&&i?.enableTracing?Sz().\u0275providers:[],{provide:$y,multi:!0,useValue:e},{provide:NP,useFactory:Rz,deps:[[Cr,new s.FiY,new s.tp0]]},{provide:II,useValue:i||{}},i?.useHash?{provide:Ze,useClass:Ie}:{provide:Ze,useClass:Ee},{provide:JA,useFactory:()=>{const n=(0,s.f3M)(Es),t=(0,s.f3M)(s.R0b),e=(0,s.f3M)(II),i=(0,s.f3M)(CI),r=(0,s.f3M)(Y0);return e.scrollOffset&&n.setOffset(e.scrollOffset),new kP(r,i,n,t,e)}},i?.preloadingStrategy?Dz(i.preloadingStrategy).\u0275providers:[],{provide:s.PXZ,multi:!0,useFactory:Az},i?.initialNavigation?Pz(i):[],[{provide:LP,useFactory:RP},{provide:s.tb,multi:!0,useExisting:LP}]]}}static forChild(e){return{ngModule:n,providers:[{provide:$y,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(NP,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[$A]}),n})();function Rz(n){if(cw&&n)throw new s.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Pz(n){return["disabled"===n.initialNavigation?Vf(3,[{provide:s.ip1,multi:!0,useFactory:()=>{const t=(0,s.f3M)(Cr);return()=>{t.setUpLocationChangeListener()}}},{provide:tM,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Vf(2,[{provide:tM,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:t=>{const e=t.get(Y,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(Cr),a=t.get(PP);(function xz(n,t){n.events.pipe((0,Re.h)(e=>e instanceof zp||e instanceof fI||e instanceof NA||e instanceof mI),(0,N.U)(e=>e instanceof zp||e instanceof mI?Js.COMPLETE:e instanceof fI&&(0===e.code||1===e.code)?Js.REDIRECTING:Js.FAILED),(0,Re.h)(e=>e!==Js.REDIRECTING),(0,_s.q)(1)).subscribe(()=>{t()})})(r,()=>{i(!0)}),t.get(CI).afterPreactivation=()=>(i(!0),a.closed?(0,it.of)(void 0):a),r.initialNavigation()}))}}]).\u0275providers:[]]}const LP=new s.OlP(cw?"Router Initializer":"");var Nz=D(5032);function BP(){return(0,Ri.e)((n,t)=>{n.subscribe((0,S.x)(t,Nz.Z))})}class Bu{constructor(t,e,i){this.kind=t,this.value=e,this.error=i,this.hasValue="N"===t}observe(t){return UP(this,t)}do(t,e,i){const{kind:r,value:a,error:d}=this;return"N"===r?t?.(a):"E"===r?e?.(d):i?.()}accept(t,e,i){var r;return(0,Nl.m)(null===(r=t)||void 0===r?void 0:r.next)?this.observe(t):this.do(t,e,i)}toObservable(){const{kind:t,value:e,error:i}=this,r="N"===t?(0,it.of)(e):"E"===t?Up(()=>i):"C"===t?Fu.E:0;if(!r)throw new TypeError(`Unexpected notification kind ${t}`);return r}static createNext(t){return new Bu("N",t)}static createError(t){return new Bu("E",void 0,t)}static createComplete(){return Bu.completeNotification}}function UP(n,t){var e,i,r;const{kind:a,value:d,error:f}=n;if("string"!=typeof a)throw new TypeError('Invalid notification, missing "kind"');"N"===a?null===(e=t.next)||void 0===e||e.call(t,d):"E"===a?null===(i=t.error)||void 0===i||i.call(t,f):null===(r=t.complete)||void 0===r||r.call(t)}function VP(n,t,e,i){return(0,Ri.e)((r,a)=>{let d;t&&"function"!=typeof t?({duration:e,element:d,connector:i}=t):d=t;const f=new Map,_=$=>{f.forEach($),$(a)},b=$=>_(ce=>ce.error($));let C=0,k=!1;const L=new S.Q(a,$=>{try{const ce=n($);let De=f.get(ce);if(!De){f.set(ce,De=i?i():new xn.x);const Ye=function B($,ce){const De=new An.y(Ye=>{C++;const vt=ce.subscribe(Ye);return()=>{vt.unsubscribe(),0==--C&&k&&L.unsubscribe()}});return De.key=$,De}(ce,De);if(a.next(Ye),e){const vt=(0,S.x)(De,()=>{De.complete(),vt?.unsubscribe()},void 0,void 0,()=>f.delete(ce));L.add((0,kf.Xf)(e(Ye)).subscribe(vt))}}De.next(d?d($):$)}catch(ce){b(ce)}},()=>_($=>$.complete()),b,()=>f.clear(),()=>(k=!0,0===C));r.subscribe(L)})}function jP(n,t){return t?e=>e.pipe(jP((i,r)=>(0,kf.Xf)(n(i,r)).pipe((0,N.U)((a,d)=>t(i,a,r,d))))):(0,Ri.e)((e,i)=>{let r=0,a=null,d=!1;e.subscribe((0,S.x)(i,f=>{a||(a=(0,S.x)(i,void 0,()=>{a=null,d&&i.complete()}),(0,kf.Xf)(n(f,r++)).subscribe(a))},()=>{d=!0,!a&&i.complete()}))})}Bu.completeNotification=new Bu("C");const Uz={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},SI="__@ngrx/effects_create__";function lo(n,t={}){const e=t.functional?n:n(),i={...Uz,...t};return Object.defineProperty(e,SI,{value:i}),e}function HP(n){return Object.getPrototypeOf(n)}function nM(n){return"function"==typeof n}function iM(n){return n.filter(nM)}function zz(n,t,e){const i=HP(n).constructor.name,r=function zP(n){return function Vz(n){return Object.getOwnPropertyNames(n).filter(i=>!(!n[i]||!n[i].hasOwnProperty(SI))&&n[i][SI].hasOwnProperty("dispatch")).map(i=>({propertyName:i,...n[i][SI]}))}(n)}(n).map(({propertyName:a,dispatch:d,useEffectsErrorHandler:f})=>{const _="function"==typeof n[a]?n[a]():n[a],b=f?e(_,t):_;return!1===d?b.pipe(BP()):b.pipe(function Lz(){return(0,Ri.e)((n,t)=>{n.subscribe((0,S.x)(t,e=>{t.next(Bu.createNext(e))},()=>{t.next(Bu.createComplete()),t.complete()},e=>{t.next(Bu.createError(e)),t.complete()}))})}()).pipe((0,N.U)(k=>({effect:n[a],notification:k,propertyName:a,sourceName:i,sourceInstance:n})))});return(0,Mu.T)(...r)}const Hz=10;function $P(n,t,e=Hz){return n.pipe((0,Br.K)(i=>(t&&t.handleError(i),e<=1?n:$P(n,t,e-1))))}let Rc=(()=>{class n extends An.y{constructor(e){super(),e&&(this.source=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(fe.Y$))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uo(...n){return(0,Re.h)(t=>n.some(e=>"string"==typeof e?e===t.type:e.type===t.type))}const GP=new s.OlP("@ngrx/effects Internal Root Guard"),DI=new s.OlP("@ngrx/effects User Provided Effects"),rM=new s.OlP("@ngrx/effects Internal Root Effects"),qP=new s.OlP("@ngrx/effects Internal Root Effects Instances"),WP=new s.OlP("@ngrx/effects Internal Feature Effects"),KP=new s.OlP("@ngrx/effects Internal Feature Effects Instance Groups"),$z=new s.OlP("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>$P}),ZP="@ngrx/effects/init";(0,fe.PH)(ZP);const Yz="ngrxOnIdentifyEffects",eH="ngrxOnInitEffects";function tH(n){return oM(n,eH)}function oM(n,t){return n&&t in n&&"function"==typeof n[t]}let sM=(()=>{class n extends xn.x{constructor(e,i){super(),this.errorHandler=e,this.effectsErrorHandler=i}addEffects(e){this.next(e)}toActions(){return this.pipe(VP(e=>function jz(n){return"Object"!==n.constructor.name&&"Function"!==n.constructor.name}(e)?HP(e):e),(0,ao.z)(e=>e.pipe(VP(nH))),(0,ao.z)(e=>{const i=e.pipe(jP(a=>function iH(n,t){return e=>{const i=zz(e,n,t);return function Jz(n){return oM(n,"ngrxOnRunEffects")}(e)?e.ngrxOnRunEffects(i):i}}(this.errorHandler,this.effectsErrorHandler)(a)),(0,N.U)(a=>(function qz(n,t){if("N"===n.notification.kind){const e=n.notification.value;!function Wz(n){return"function"!=typeof n&&n&&n.type&&"string"==typeof n.type}(e)&&t.handleError(new Error(`Effect ${function Kz({propertyName:n,sourceInstance:t,sourceName:e}){const i="function"==typeof t[n];return`"${e}.${String(n)}${i?"()":""}"`}(n)} dispatched an invalid action: ${function Zz(n){try{return JSON.stringify(n)}catch{return n}}(e)}`))}}(a,this.errorHandler),a.notification)),(0,Re.h)(a=>"N"===a.kind&&null!=a.value),function Bz(){return(0,Ri.e)((n,t)=>{n.subscribe((0,S.x)(t,e=>UP(e,t)))})}()),r=e.pipe((0,_s.q)(1),(0,Re.h)(tH),(0,N.U)(a=>a.ngrxOnInitEffects()));return(0,Mu.T)(i,r)}))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.qLn),s.LFG($z))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nH(n){return function Qz(n){return oM(n,Yz)}(n)?n.ngrxOnIdentifyEffects():""}let aM=(()=>{class n{constructor(e,i){this.effectSources=e,this.store=i,this.effectsSubscription=null}get isStarted(){return!!this.effectsSubscription}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(sM),s.LFG(fe.yh))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YP=(()=>{class n{constructor(e,i,r,a,d,f,_){this.sources=e,i.start();for(const b of a)e.addEffects(b);r.dispatch({type:ZP})}addEffects(e){this.sources.addEffects(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(sM),s.LFG(aM),s.LFG(fe.yh),s.LFG(qP),s.LFG(fe.cr,8),s.LFG(fe.CK,8),s.LFG(GP,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),rH=(()=>{class n{constructor(e,i,r,a){const d=i.flat();for(const f of d)e.addEffects(f)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(YP),s.LFG(KP),s.LFG(fe.cr,8),s.LFG(fe.CK,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),qy=(()=>{class n{static forFeature(...e){const i=e.flat(),r=iM(i);return{ngModule:rH,providers:[r,{provide:WP,multi:!0,useValue:i},{provide:DI,multi:!0,useValue:[]},{provide:KP,multi:!0,useFactory:QP,deps:[WP,DI]}]}}static forRoot(...e){const i=e.flat(),r=iM(i);return{ngModule:YP,providers:[r,{provide:rM,useValue:[i]},{provide:GP,useFactory:oH},{provide:DI,multi:!0,useValue:[]},{provide:qP,useFactory:QP,deps:[rM,DI]}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function QP(n,t){const e=[];for(const i of n)e.push(...i);for(const i of t)e.push(...i);return e.map(i=>nM(i)?(0,s.f3M)(i):i)}function oH(){const n=(0,s.f3M)(aM,{optional:!0,skipSelf:!0}),t=(0,s.f3M)(rM,{self:!0});if((1!==t.length||0!==t[0].length)&&n)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var sH=D(1144);const aH=["addListener","removeListener"],cH=["addEventListener","removeEventListener"],lH=["on","off"];function TI(n,t,e,i){if((0,Nl.m)(e)&&(i=e,e=void 0),i)return TI(n,t,e).pipe(XT(i));const[r,a]=function hH(n){return(0,Nl.m)(n.addEventListener)&&(0,Nl.m)(n.removeEventListener)}(n)?cH.map(d=>f=>n[d](t,f,e)):function dH(n){return(0,Nl.m)(n.addListener)&&(0,Nl.m)(n.removeListener)}(n)?aH.map(XP(n,t)):function uH(n){return(0,Nl.m)(n.on)&&(0,Nl.m)(n.off)}(n)?lH.map(XP(n,t)):[];if(!r&&(0,sH.z)(n))return(0,ao.z)(d=>TI(d,t,e))((0,kf.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new An.y(d=>{const f=(..._)=>d.next(1<_.length?_:_[0]);return r(f),()=>a(f)})}function XP(n,t){return e=>i=>n[e](t,i)}var JP=D(4408);const lw={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=lw;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(a=>{e=void 0,n(a)});return new Ba.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=lw;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=lw;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var eF=D(7565);const pH=new class mH extends eF.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class fH extends JP.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=lw.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:a}=t;null!=e&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==e&&(lw.cancelAnimationFrame(e),t._scheduled=void 0)}});let cM,gH=1;const AI={};function tF(n){return n in AI&&(delete AI[n],!0)}const _H={setImmediate(n){const t=gH++;return AI[t]=!0,cM||(cM=Promise.resolve()),cM.then(()=>tF(t)&&n()),t},clearImmediate(n){tF(n)}},{setImmediate:yH,clearImmediate:vH}=_H,MI={setImmediate(...n){const{delegate:t}=MI;return(t?.setImmediate||yH)(...n)},clearImmediate(n){const{delegate:t}=MI;return(t?.clearImmediate||vH)(n)},delegate:void 0},lM=new class wH extends eF.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class bH extends JP.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=MI.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:a}=t;null!=e&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==e&&(MI.clearImmediate(e),t._scheduled=void 0)}});var EH=D(3532),CH=D(1165);function nF(n=0,t,e=Ei.P){let i=-1;return null!=t&&((0,EH.K)(t)?e=t:i=t),new An.y(r=>{let a=(0,CH.q)(n)?+n-e.now():n;a<0&&(a=0);let d=0;return e.schedule(function(){r.closed||(r.next(d++),0<=i?this.schedule(void 0,i):r.complete())},a)})}function dM(n,t=Ei.z){return function xH(n){return(0,Ri.e)((t,e)=>{let i=!1,r=null,a=null,d=!1;const f=()=>{if(a?.unsubscribe(),a=null,i){i=!1;const b=r;r=null,e.next(b)}d&&e.complete()},_=()=>{a=null,d&&e.complete()};t.subscribe((0,S.x)(e,b=>{i=!0,r=b,a||(0,kf.Xf)(n(b)).subscribe(a=(0,S.x)(e,f,_))},()=>{d=!0,(!i||!a||a.closed)&&e.complete()}))})}(()=>nF(n,t))}const IH=["contentWrapper"],SH=["*"],DH=new s.OlP("VIRTUAL_SCROLL_STRATEGY");let kI=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new xn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new An.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(dM(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,it.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe((0,Re.h)(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,e)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Ru(i),a=e.getElementRef().nativeElement;do{if(r==a)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>TI(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(Lr),s.LFG(K,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iF=(()=>{class n{constructor(e,i,r,a){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=a,this._destroyed=new xn.x,this._elementScrolled=new An.y(d=>this.ngZone.runOutsideAngular(()=>TI(this.elementRef.nativeElement,"scroll").pipe((0,Qs.R)(this._destroyed)).subscribe(d)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=N0()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==N0()?e.left=e.right:1==N0()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;qO()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",a=this.elementRef.nativeElement;if("top"==e)return a.scrollTop;if("bottom"==e)return a.scrollHeight-a.clientHeight-a.scrollTop;const d=this.dir&&"rtl"==this.dir.value;return"start"==e?e=d?r:i:"end"==e&&(e=d?i:r),d&&2==N0()?e==i?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:d&&1==N0()?e==i?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:e==i?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(kI),s.Y36(s.R0b),s.Y36(Py,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),uM=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new xn.x,this._changeListener=a=>{this._change.next(a)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,a=r.getBoundingClientRect();return{top:-a.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-a.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(dM(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Lr),s.LFG(s.R0b),s.LFG(K,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rF=new s.OlP("VIRTUAL_SCROLLABLE");let MH=(()=>{class n extends iF{constructor(e,i,r,a){super(e,i,r,a)}measureViewportSize(e){const i=this.elementRef.nativeElement;return"horizontal"===e?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(kI),s.Y36(s.R0b),s.Y36(Py,8))},n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const OH=typeof requestAnimationFrame<"u"?pH:lM;let RH=(()=>{class n extends MH{get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=qn(e)}constructor(e,i,r,a,d,f,_,b){super(e,f,r,d),this.elementRef=e,this._changeDetectorRef=i,this._scrollStrategy=a,this.scrollable=b,this._platform=(0,s.f3M)(Lr),this._detachedSubject=new xn.x,this._renderedRangeSubject=new xn.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new An.y(C=>this._scrollStrategy.scrolledIndexChange.subscribe(k=>Promise.resolve().then(()=>this.ngZone.run(()=>C.next(k))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Ba.w0.EMPTY,this._viewportChanges=_.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(I(null),dM(0,OH)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe((0,Qs.R)(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(e){return this.getElementRef().nativeElement.getBoundingClientRect()[e]}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function kH(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,i="to-start"){e=this.appendOnly&&"to-start"===i?0:e;const a="horizontal"==this.orientation,d=a?"X":"Y";let _=`translate${d}(${Number((a&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===i&&(_+=` translate${d}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=_&&(this._renderedContentTransform=_,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=e:r.top=e,this.scrollable.scrollTo(r)}scrollToIndex(e,i="auto"){this._scrollStrategy.scrollToIndex(e,i)}measureScrollOffset(e){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(e??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(e){let i;const r="left",a="right",d="rtl"==this.dir?.value;i="start"==e?d?a:r:"end"==e?d?r:a:e||("horizontal"===this.orientation?"left":"top");const f=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-f}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of e)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(DH,8),s.Y36(Py,8),s.Y36(kI),s.Y36(uM),s.Y36(rF,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,i){if(1&e&&s.Gf(IH,7),2&e){let r;s.iGM(r=s.CRH())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[s._Bn([{provide:iF,useFactory:(t,e)=>t||e,deps:[[new s.FiY,new s.tBr(rF)],n]}]),s.qOj,s.jDz],ngContentSelectors:SH,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA(),s._UZ(3,"div",2)),2&e&&(s.xp6(3),s.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),OI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),oF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[q0,OI,RH,q0,OI]}),n})();class hM{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class PH extends hM{constructor(t,e,i,r,a){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=a}}class sF extends hM{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class FH extends hM{constructor(t){super(),this.element=t instanceof s.SBq?t.nativeElement:t}}class NH{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof PH?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof sF?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof FH?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class LH extends NH{constructor(t,e,i,r,a){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=d=>{const f=d.element,_=this._document.createComment("dom-portal");f.parentNode.insertBefore(_,f),this.outletElement.appendChild(f),this._attachedPortal=d,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(f,_)})},this._document=a}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||s.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let BH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const aF=qO();class UH{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Er(-this._previousScrollPosition.left),t.style.top=Er(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,a=i.scrollBehavior||"",d=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),aF&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),aF&&(i.scrollBehavior=a,r.scrollBehavior=d)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class VH{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class cF{enable(){}disable(){}attach(){}}function fM(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function lF(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class jH{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();fM(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let zH=(()=>{class n{constructor(e,i,r,a){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new cF,this.close=d=>new VH(this._scrollDispatcher,this._ngZone,this._viewportRuler,d),this.block=()=>new UH(this._viewportRuler,this._document),this.reposition=d=>new jH(this._scrollDispatcher,this._viewportRuler,this._ngZone,d),this._document=a}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(kI),s.LFG(uM),s.LFG(s.R0b),s.LFG(K))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class dF{constructor(t){if(this.scrollStrategy=new cF,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class HH{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let uF=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(K))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$H=(()=>{class n extends uF{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const a=this._attachedOverlays;for(let d=a.length-1;d>-1;d--)if(a[d]._keydownEvents.observers.length>0){const f=a[d]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(r)):f.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(K),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GH=(()=>{class n extends uF{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=Mf(a)},this._clickListener=a=>{const d=Mf(a),f="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:d;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let b=_.length-1;b>-1;b--){const C=_[b];if(C._outsidePointerEvents.observers.length<1||!C.hasAttached())continue;if(C.overlayElement.contains(d)||C.overlayElement.contains(f))break;const k=C._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>k.next(a)):k.next(a)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(K),s.LFG(Lr),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hF=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||qT()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let a=0;a<r.length;a++)r[a].remove()}const i=this._document.createElement("div");i.classList.add(e),qT()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(K),s.LFG(Lr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class qH{constructor(t,e,i,r,a,d,f,_,b,C=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=a,this._keyboardDispatcher=d,this._document=f,this._location=_,this._outsideClickDispatcher=b,this._animationsDisabled=C,this._backdropElement=null,this._backdropClick=new xn.x,this._attachments=new xn.x,this._detachments=new xn.x,this._locationChanges=Ba.w0.EMPTY,this._backdropClickHandler=k=>this._backdropClick.next(k),this._backdropTransitionendHandler=k=>{this._disposeBackdrop(k.target)},this._keydownEvents=new xn.x,this._outsidePointerEvents=new xn.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,_s.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Er(this._config.width),t.height=Er(this._config.height),t.minWidth=Er(this._config.minWidth),t.minHeight=Er(this._config.minHeight),t.maxWidth=Er(this._config.maxWidth),t.maxHeight=Er(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=zC(e||[]).filter(a=>!!a);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe((0,Qs.R)((0,Mu.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const fF="cdk-overlay-connected-position-bounding-box",WH=/([A-Za-z%]+)$/;class KH{get positions(){return this._preferredPositions}constructor(t,e,i,r,a){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new xn.x,this._resizeSubscription=Ba.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(fF),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,a=[];let d;for(let f of this._preferredPositions){let _=this._getOriginPoint(t,r,f),b=this._getOverlayPoint(_,e,f),C=this._getOverlayFit(b,e,i,f);if(C.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,_);this._canFitWithFlexibleDimensions(C,b,i)?a.push({position:f,origin:_,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(_,f)}):(!d||d.overlayFit.visibleArea<C.visibleArea)&&(d={overlayFit:C,overlayPoint:b,originPoint:_,position:f,overlayRect:e})}if(a.length){let f=null,_=-1;for(const b of a){const C=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);C>_&&(_=C,f=b)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(d.position,d.originPoint);this._applyPosition(d.position,d.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Hp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(fF),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,a;if("center"==i.originX)r=t.left+t.width/2;else{const d=this._isRtl()?t.right:t.left,f=this._isRtl()?t.left:t.right;r="start"==i.originX?d:f}return e.left<0&&(r-=e.left),a="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(a-=e.top),{x:r,y:a}}_getOverlayPoint(t,e,i){let r,a;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,a="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+a}}_getOverlayFit(t,e,i,r){const a=pF(e);let{x:d,y:f}=t,_=this._getOffset(r,"x"),b=this._getOffset(r,"y");_&&(d+=_),b&&(f+=b);let L=0-f,B=f+a.height-i.height,$=this._subtractOverflows(a.width,0-d,d+a.width-i.width),ce=this._subtractOverflows(a.height,L,B),De=$*ce;return{visibleArea:De,isCompletelyWithinViewport:a.width*a.height===De,fitsInViewportVertically:ce===a.height,fitsInViewportHorizontally:$==a.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,a=i.right-e.x,d=mF(this._overlayRef.getConfig().minHeight),f=mF(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=d&&d<=r)&&(t.fitsInViewportHorizontally||null!=f&&f<=a)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=pF(e),a=this._viewportRect,d=Math.max(t.x+r.width-a.width,0),f=Math.max(t.y+r.height-a.height,0),_=Math.max(a.top-i.top-t.y,0),b=Math.max(a.left-i.left-t.x,0);let C=0,k=0;return C=r.width<=a.width?b||-d:t.x<this._viewportMargin?a.left-i.left-t.x:0,k=r.height<=a.height?_||-f:t.y<this._viewportMargin?a.top-i.top-t.y:0,this._previousPushAmount={x:C,y:k},{x:t.x+C,y:t.y+k}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new HH(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let a=0;a<e.length;a++)e[a].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let a,d,f,C,k,L;if("top"===e.overlayY)d=t.y,a=i.height-d+this._viewportMargin;else if("bottom"===e.overlayY)f=i.height-t.y+2*this._viewportMargin,a=i.height-f+this._viewportMargin;else{const B=Math.min(i.bottom-t.y+i.top,t.y),$=this._lastBoundingBoxSize.height;a=2*B,d=t.y-B,a>$&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.y-$/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)L=i.width-t.x+this._viewportMargin,C=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)k=t.x,C=i.right-t.x;else{const B=Math.min(i.right-t.x+i.left,t.x),$=this._lastBoundingBoxSize.width;C=2*B,k=t.x-B,C>$&&!this._isInitialRender&&!this._growAfterOpen&&(k=t.x-$/2)}return{top:d,left:k,bottom:f,right:L,width:C,height:a}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,d=this._overlayRef.getConfig().maxWidth;r.height=Er(i.height),r.top=Er(i.top),r.bottom=Er(i.bottom),r.width=Er(i.width),r.left=Er(i.left),r.right=Er(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",a&&(r.maxHeight=Er(a)),d&&(r.maxWidth=Er(d))}this._lastBoundingBoxSize=i,Hp(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Hp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Hp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),a=this._hasFlexibleDimensions,d=this._overlayRef.getConfig();if(r){const C=this._viewportRuler.getViewportScrollPosition();Hp(i,this._getExactOverlayY(e,t,C)),Hp(i,this._getExactOverlayX(e,t,C))}else i.position="static";let f="",_=this._getOffset(e,"x"),b=this._getOffset(e,"y");_&&(f+=`translateX(${_}px) `),b&&(f+=`translateY(${b}px)`),i.transform=f.trim(),d.maxHeight&&(r?i.maxHeight=Er(d.maxHeight):a&&(i.maxHeight="")),d.maxWidth&&(r?i.maxWidth=Er(d.maxWidth):a&&(i.maxWidth="")),Hp(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},a=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":r.top=Er(a.y),r}_getExactOverlayX(t,e,i){let d,r={left:"",right:""},a=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),d=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===d?r.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":r.left=Er(a.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:lF(t,i),isOriginOutsideView:fM(t,i),isOverlayClipped:lF(e,i),isOverlayOutsideView:fM(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&zC(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof s.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Hp(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function mF(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(WH);return e&&"px"!==e?null:parseFloat(t)}return n||null}function pF(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const gF="cdk-global-overlay-wrapper";class ZH{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(gF),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:a,maxWidth:d,maxHeight:f}=i,_=!("100%"!==r&&"100vw"!==r||d&&"100%"!==d&&"100vw"!==d),b=!("100%"!==a&&"100vh"!==a||f&&"100%"!==f&&"100vh"!==f),C=this._xPosition,k=this._xOffset,L="rtl"===this._overlayRef.getConfig().direction;let B="",$="",ce="";_?ce="flex-start":"center"===C?(ce="center",L?$=k:B=k):L?"left"===C||"end"===C?(ce="flex-end",B=k):("right"===C||"start"===C)&&(ce="flex-start",$=k):"left"===C||"start"===C?(ce="flex-start",B=k):("right"===C||"end"===C)&&(ce="flex-end",$=k),t.position=this._cssPosition,t.marginLeft=_?"0":B,t.marginTop=b?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=_?"0":$,e.justifyContent=ce,e.alignItems=b?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(gF),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let YH=(()=>{class n{constructor(e,i,r,a){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=a}global(){return new ZH}flexibleConnectedTo(e){return new KH(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(uM),s.LFG(K),s.LFG(Lr),s.LFG(hF))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QH=0,dw=(()=>{class n{constructor(e,i,r,a,d,f,_,b,C,k,L,B){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=a,this._keyboardDispatcher=d,this._injector=f,this._ngZone=_,this._document=b,this._directionality=C,this._location=k,this._outsideClickDispatcher=L,this._animationsModuleType=B}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),a=this._createPortalOutlet(r),d=new dF(e);return d.direction=d.direction||this._directionality.value,new qH(a,i,r,d,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+QH++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(s.z2F)),new LH(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(zH),s.LFG(hF),s.LFG(s._Vd),s.LFG(YH),s.LFG($H),s.LFG(s.zs3),s.LFG(s.R0b),s.LFG(K),s.LFG(Py),s.LFG(Fe),s.LFG(GH),s.LFG(s.QbO,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const e3={provide:new s.OlP("cdk-connected-overlay-scroll-strategy"),deps:[dw],useFactory:function JH(n){return()=>n.scrollStrategies.reposition()}};let _F=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[dw,e3],imports:[q0,BH,oF,oF]}),n})();class yF{}class t3{}const Uu="*";function uw(n,t){return{type:7,name:n,definitions:t,options:{}}}function Wy(n,t=null){return{type:4,styles:t,timings:n}}function vF(n,t=null){return{type:2,steps:n,options:t}}function ja(n){return{type:6,styles:n,offset:null}}function RI(n,t,e){return{type:0,name:n,styles:t,options:e}}function $p(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function bF(n){Promise.resolve().then(n)}class hw{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){bF(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class wF{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const a=this.players.length;0==a?bF(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++e==a&&this._onFinish()}),d.onDestroy(()=>{++i==a&&this._onDestroy()}),d.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((d,f)=>Math.max(d,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const mM="!";let xF=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),o3=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Ru(e);return new An.y(r=>{const d=this._observeElement(i).subscribe(r);return()=>{d.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new xn.x,r=this._mutationObserverFactory.create(a=>i.next(a));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(xF))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EF=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=qn(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=QT(e),this._subscribe()}constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new s.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe((0,YT.b)(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(o3),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),CF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[xF]}),n})();const s3=["matFormFieldNotchedOutline",""],a3=["*"],c3=["textField"],l3=["iconPrefixContainer"],d3=["textPrefixContainer"];function u3(n,t){1&n&&s._UZ(0,"span",19)}function h3(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"label",17),s.NdJ("cdkObserveContent",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r._refreshOutlineNotchWidth())}),s.Hsn(1,1),s.YNc(2,u3,1,0,"span",18),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("floating",e._shouldLabelFloat())("cdkObserveContentDisabled",!e._hasOutline())("id",e._labelId),s.uIk("for",e._control.id)("aria-owns",e._control.id),s.xp6(2),s.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required)}}function f3(n,t){if(1&n&&s.YNc(0,h3,3,6,"label",16),2&n){const e=s.oxw();s.Q6J("ngIf",e._hasFloatingLabel())}}function m3(n,t){1&n&&s._UZ(0,"div",20)}function p3(n,t){}function g3(n,t){if(1&n&&s.YNc(0,p3,0,0,"ng-template",22),2&n){s.oxw(2);const e=s.MAs(1);s.Q6J("ngTemplateOutlet",e)}}function _3(n,t){if(1&n&&(s.TgZ(0,"div",21),s.YNc(1,g3,1,1,"ng-template",9),s.qZA()),2&n){const e=s.oxw();s.Q6J("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",e._labelWidth),s.xp6(1),s.Q6J("ngIf",!e._forceDisplayInfixLabel())}}function y3(n,t){1&n&&(s.TgZ(0,"div",23,24),s.Hsn(2,2),s.qZA())}function v3(n,t){1&n&&(s.TgZ(0,"div",25,26),s.Hsn(2,3),s.qZA())}function b3(n,t){}function w3(n,t){if(1&n&&s.YNc(0,b3,0,0,"ng-template",22),2&n){s.oxw();const e=s.MAs(1);s.Q6J("ngTemplateOutlet",e)}}function x3(n,t){1&n&&(s.TgZ(0,"div",27),s.Hsn(1,4),s.qZA())}function E3(n,t){1&n&&(s.TgZ(0,"div",28),s.Hsn(1,5),s.qZA())}function C3(n,t){1&n&&s._UZ(0,"div",29)}function I3(n,t){if(1&n&&(s.TgZ(0,"div",30),s.Hsn(1,6),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState)}}function S3(n,t){if(1&n&&(s.TgZ(0,"mat-hint",34),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.Q6J("id",e._hintLabelId),s.xp6(1),s.Oqu(e.hintLabel)}}function D3(n,t){if(1&n&&(s.TgZ(0,"div",31),s.YNc(1,S3,2,2,"mat-hint",32),s.Hsn(2,7),s._UZ(3,"div",33),s.Hsn(4,8),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState),s.xp6(1),s.Q6J("ngIf",e.hintLabel)}}const T3=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],A3=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let IF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-label"]]}),n})();const M3=new s.OlP("MatError");let k3=0,SF=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+k3++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(e,i){2&e&&(s.Ikx("id",i.id),s.uIk("align",null),s.ekj("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const O3=new s.OlP("MatPrefix"),R3=new s.OlP("MatSuffix");let DF=(()=>{class n{constructor(e){this._elementRef=e,this.floating=!1}getWidth(){return function P3(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating"}}),n})();const TF="mdc-line-ripple--active",PI="mdc-line-ripple--deactivating";let AF=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const a=this._elementRef.nativeElement.classList,d=a.contains(PI);"opacity"===r.propertyName&&d&&a.remove(TF,PI)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(PI),e.add(TF)}deactivate(){this._elementRef.nativeElement.classList.add(PI)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),MF=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mdc-notched-outline--notched",i.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:s3,ngContentSelectors:a3,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(e,i){1&e&&(s.F$t(),s._UZ(0,"div",0),s.TgZ(1,"div",1),s.Hsn(2),s.qZA(),s._UZ(3,"div",2)),2&e&&(s.xp6(1),s.Udp("width",i._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const F3={transitionMessages:uw("transitionMessages",[RI("enter",ja({opacity:1,transform:"translateY(0%)"})),$p("void => enter",[ja({opacity:0,transform:"translateY(-5px)"}),Wy("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let kF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n}),n})();const OF=new s.OlP("MatFormField"),N3=new s.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let RF=0,NF=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=qn(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,a,d,f,_,b){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=a,this._platform=d,this._defaults=f,this._animationMode=_,this._document=b,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+RF++,this._hintLabelId="mat-mdc-hint-"+RF++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new xn.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,f&&(f.appearance&&(this.appearance=f.appearance),this._hideRequiredMarker=Boolean(f?.hideRequiredMarker),f.color&&(this.color=f.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe((0,Qs.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,Mu.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Qs.R)(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe((0,Qs.R)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,r=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,a=i?.getBoundingClientRect().width??0,d=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${a+d}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(Py),s.Y36(Lr),s.Y36(N3,8),s.Y36(s.QbO,8),s.Y36(K))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,IF,5),s.Suo(r,IF,7),s.Suo(r,kF,5),s.Suo(r,O3,5),s.Suo(r,R3,5),s.Suo(r,M3,5),s.Suo(r,SF,5)),2&e){let a;s.iGM(a=s.CRH())&&(i._labelChildNonStatic=a.first),s.iGM(a=s.CRH())&&(i._labelChildStatic=a.first),s.iGM(a=s.CRH())&&(i._formFieldControl=a.first),s.iGM(a=s.CRH())&&(i._prefixChildren=a),s.iGM(a=s.CRH())&&(i._suffixChildren=a),s.iGM(a=s.CRH())&&(i._errorChildren=a),s.iGM(a=s.CRH())&&(i._hintChildren=a)}},viewQuery:function(e,i){if(1&e&&(s.Gf(c3,5),s.Gf(l3,5),s.Gf(d3,5),s.Gf(DF,5),s.Gf(MF,5),s.Gf(AF,5)),2&e){let r;s.iGM(r=s.CRH())&&(i._textField=r.first),s.iGM(r=s.CRH())&&(i._iconPrefixContainer=r.first),s.iGM(r=s.CRH())&&(i._textPrefixContainer=r.first),s.iGM(r=s.CRH())&&(i._floatingLabel=r.first),s.iGM(r=s.CRH())&&(i._notchedOutline=r.first),s.iGM(r=s.CRH())&&(i._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(e,i){2&e&&s.ekj("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[s._Bn([{provide:OF,useExisting:n}])],ngContentSelectors:A3,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(e,i){1&e&&(s.F$t(T3),s.YNc(0,f3,1,1,"ng-template",null,0,s.W1O),s.TgZ(2,"div",1,2),s.NdJ("click",function(a){return i._control.onContainerClick&&i._control.onContainerClick(a)}),s.YNc(4,m3,1,0,"div",3),s.TgZ(5,"div",4),s.YNc(6,_3,2,3,"div",5),s.YNc(7,y3,3,0,"div",6),s.YNc(8,v3,3,0,"div",7),s.TgZ(9,"div",8),s.YNc(10,w3,1,1,"ng-template",9),s.Hsn(11),s.qZA(),s.YNc(12,x3,2,0,"div",10),s.YNc(13,E3,2,0,"div",11),s.qZA(),s.YNc(14,C3,1,0,"div",12),s.qZA(),s.TgZ(15,"div",13),s.YNc(16,I3,2,1,"div",14),s.YNc(17,D3,5,2,"div",15),s.qZA()),2&e&&(s.xp6(2),s.ekj("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),s.xp6(2),s.Q6J("ngIf",!i._hasOutline()&&!i._control.disabled),s.xp6(2),s.Q6J("ngIf",i._hasOutline()),s.xp6(1),s.Q6J("ngIf",i._hasIconPrefix),s.xp6(1),s.Q6J("ngIf",i._hasTextPrefix),s.xp6(2),s.Q6J("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),s.xp6(2),s.Q6J("ngIf",i._hasTextSuffix),s.xp6(1),s.Q6J("ngIf",i._hasIconSuffix),s.xp6(1),s.Q6J("ngIf",!i._hasOutline()),s.xp6(1),s.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),s.Q6J("ngSwitch",i._getDisplayedMessages()),s.xp6(1),s.Q6J("ngSwitchCase","error"),s.xp6(1),s.Q6J("ngSwitchCase","hint"))},dependencies:[fi,ye,po,go,EF,SF,DF,MF,AF],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[F3.transitionMessages]},changeDetection:0}),n})(),fw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[vi,gi,CF,vi]}),n})();const H3={provide:new s.OlP("mat-select-scroll-strategy"),deps:[dw],useFactory:function z3(n){return()=>n.scrollStrategies.reposition()}};let $3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[H3],imports:[gi,_F,E1,vi,OI,fw,E1,vi]}),n})(),G3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[vi,vi]}),n})(),w$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[CF,gi,vi,Ny,x1,G3]}),n})();const jF=Ty({passive:!0});let x$=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Fu.E;const i=Ru(e),r=this._monitoredElements.get(i);if(r)return r.subject;const a=new xn.x,d="cdk-text-field-autofilled",f=_=>{"cdk-text-field-autofill-start"!==_.animationName||i.classList.contains(d)?"cdk-text-field-autofill-end"===_.animationName&&i.classList.contains(d)&&(i.classList.remove(d),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!1}))):(i.classList.add(d),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",f,jF),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:a,unlisten:()=>{i.removeEventListener("animationstart",f,jF)}}),a}stopMonitoring(e){const i=Ru(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Lr),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),E$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const C$=new s.OlP("MAT_INPUT_VALUE_ACCESSOR"),I$=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let S$=0;const D$=tV(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new xn.x}});let zF=(()=>{class n extends D${get disabled(){return this._disabled}set disabled(e){this._disabled=qn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Ll.required)??!1}set required(e){this._required=qn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&GO().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=qn(e)}constructor(e,i,r,a,d,f,_,b,C,k){super(f,a,d,r),this._elementRef=e,this._platform=i,this._autofillMonitor=b,this._formField=k,this._uid="mat-input-"+S$++,this.focused=!1,this.stateChanges=new xn.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter($=>GO().has($)),this._iOSKeyupListener=$=>{const ce=$.target;!ce.value&&0===ce.selectionStart&&0===ce.selectionEnd&&(ce.setSelectionRange(1,1),ce.setSelectionRange(0,0))};const L=this._elementRef.nativeElement,B=L.nodeName.toLowerCase();this._inputValueAccessor=_||L,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&C.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===B,this._isTextarea="textarea"===B,this._isInFormField=!!k,this._isNativeSelect&&(this.controlType=L.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){I$.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Lr),s.Y36(Pu,10),s.Y36(nI,8),s.Y36(Pf,8),s.Y36(iV),s.Y36(C$,10),s.Y36(x$),s.Y36(s.R0b),s.Y36(OF,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(e,i){1&e&&s.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(s.Ikx("id",i.id)("disabled",i.disabled)("required",i.required),s.uIk("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),s.ekj("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[s._Bn([{provide:kF,useExisting:n}]),s.qOj,s.TTD]}),n})(),HF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[vi,fw,fw,E$,vi]}),n})();const $F=["mat-button",""],gM=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],_M=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],M$=["mat-fab",""],k$=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],O$=IA(CA(rI(class{constructor(n){this._elementRef=n}})));let yM=(()=>{class n extends O${constructor(e,i,r,a){super(e),this._platform=i,this._ngZone=r,this._animationMode=a,this._focusMonitor=(0,s.f3M)($C),this._isFab=!1;const d=e.nativeElement.classList;for(const f of k$)this._hasHostAttributes(f.selector)&&f.mdcClasses.forEach(_=>{d.add(_)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&s.Gf(Ff,5),2&e){let r;s.iGM(r=s.CRH())&&(i.ripple=r.first)}},features:[s.qOj]}),n})(),P$=(()=>{class n extends yM{constructor(e,i,r,a){super(e,i,r,a),this._haltDisabledEvents=d=>{this.disabled&&(d.preventDefault(),d.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})(),Ky=(()=>{class n extends yM{constructor(e,i,r,a){super(e,i,r,a)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Lr),s.Y36(s.R0b),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("disabled",i.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:$F,ngContentSelectors:_M,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(s.F$t(gM),s._UZ(0,"span",0),s.Hsn(1),s.TgZ(2,"span",1),s.Hsn(3,1),s.qZA(),s.Hsn(4,2),s._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&e&&(s.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),s.xp6(6),s.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[Ff],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),F$=(()=>{class n extends P${constructor(e,i,r,a){super(e,i,r,a)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Lr),s.Y36(s.R0b),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:9,hostBindings:function(e,i){2&e&&(s.uIk("disabled",i.disabled||null)("tabindex",i.disabled?-1:i.tabIndex)("aria-disabled",i.disabled.toString()),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[s.qOj],attrs:$F,ngContentSelectors:_M,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(s.F$t(gM),s._UZ(0,"span",0),s.Hsn(1),s.TgZ(2,"span",1),s.Hsn(3,1),s.qZA(),s.Hsn(4,2),s._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&e&&(s.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),s.xp6(6),s.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[Ff],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})();const N$=new s.OlP("mat-mdc-fab-default-options",{providedIn:"root",factory:GF});function GF(){return{color:"accent"}}const qF=GF();let L$=(()=>{class n extends yM{get extended(){return this._extended}set extended(e){this._extended=qn(e)}constructor(e,i,r,a,d){super(e,i,r,a),this._options=d,this._isFab=!0,this._options=this._options||qF,this.color=this.defaultColor=this._options.color||qF.color}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Lr),s.Y36(s.R0b),s.Y36(s.QbO,8),s.Y36(N$,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["button","mat-fab",""]],hostVars:11,hostBindings:function(e,i){2&e&&(s.uIk("disabled",i.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0)("mdc-fab--extended",i.extended)("mat-mdc-extended-fab",i.extended))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",extended:"extended"},exportAs:["matButton"],features:[s.qOj],attrs:M$,ngContentSelectors:_M,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(s.F$t(gM),s._UZ(0,"span",0),s.Hsn(1),s.TgZ(2,"span",1),s.Hsn(3,1),s.qZA(),s.Hsn(4,2),s._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&e&&(s.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),s.xp6(6),s.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[Ff],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);background-color:var(--mdc-fab-container-color, transparent);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color, inherit)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:24px}.mat-mdc-extended-fab .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0}),n})(),mw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[vi,Ny,vi]}),n})();const B$=["input"],U$=["label"],V$=["*"],j$=new s.OlP("mat-checkbox-default-options",{providedIn:"root",factory:WF});function WF(){return{color:"accent",clickAction:"check-indeterminate"}}const z$={provide:Xs,useExisting:(0,s.Gpc)(()=>vM),multi:!0};class H${}let $$=0;const KF=WF(),G$=eV(IA(rI(CA(class{constructor(n){this._elementRef=n}}))));let q$=(()=>{class n extends G${get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=qn(e)}constructor(e,i,r,a,d,f,_){super(i),this._changeDetectorRef=r,this._ngZone=a,this._animationMode=f,this._options=_,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new s.vpe,this.indeterminateChange=new s.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||KF,this.color=this.defaultColor=this._options.color||KF.color,this.tabIndex=parseInt(d)||0,this.id=this._uniqueId=`${e}${++$$}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){const i=qn(e);i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const i=qn(e);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const i=e!=this._indeterminate;this._indeterminate=qn(e),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_transitionCheckState(e){let i=this._currentCheckState,r=this._getAnimationTargetElement();if(i!==e&&r&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const a=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(a)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const e=this._options?.clickAction;this.disabled||"noop"===e?!this.disabled&&"noop"===e&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==e&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,i){if("NoopAnimations"===this._animationMode)return"";switch(e){case 0:if(1===i)return this._animationClasses.uncheckedToChecked;if(3==i)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===i?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===i?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===i?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){const i=this._inputElement;i&&(i.nativeElement.indeterminate=e)}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&(s.Gf(B$,5),s.Gf(U$,5),s.Gf(Ff,5)),2&e){let r;s.iGM(r=s.CRH())&&(i._inputElement=r.first),s.iGM(r=s.CRH())&&(i._labelElement=r.first),s.iGM(r=s.CRH())&&(i.ripple=r.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[s.qOj]}),n})(),vM=(()=>{class n extends q${constructor(e,i,r,a,d,f){super("mat-mdc-checkbox-",e,i,r,a,d,f),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(e){const i=new H$;return i.source=this,i.checked=e,i}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_onTouchTargetClick(){super._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(e){e.target&&this._labelElement.nativeElement.contains(e.target)&&e.stopPropagation()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(s.R0b),s.$8M("tabindex"),s.Y36(s.QbO,8),s.Y36(j$,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(e,i){2&e&&(s.Ikx("id",i.id),s.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mdc-checkbox--disabled",i.disabled)("mat-mdc-checkbox-disabled",i.disabled)("mat-mdc-checkbox-checked",i.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[s._Bn([z$]),s.qOj],ngContentSelectors:V$,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[3,"for"],["label",""]],template:function(e,i){if(1&e&&(s.F$t(),s.TgZ(0,"div",0),s.NdJ("click",function(a){return i._preventBubblingFromLabel(a)}),s.TgZ(1,"div",1,2)(3,"div",3),s.NdJ("click",function(){return i._onTouchTargetClick()}),s.qZA(),s.TgZ(4,"input",4,5),s.NdJ("blur",function(){return i._onBlur()})("click",function(){return i._onInputClick()})("change",function(a){return i._onInteractionEvent(a)}),s.qZA(),s._UZ(6,"div",6),s.TgZ(7,"div",7),s.O4$(),s.TgZ(8,"svg",8),s._UZ(9,"path",9),s.qZA(),s.kcU(),s._UZ(10,"div",10),s.qZA(),s._UZ(11,"div",11),s.qZA(),s.TgZ(12,"label",12,13),s.Hsn(14),s.qZA()()),2&e){const r=s.MAs(2);s.ekj("mdc-form-field--align-end","before"==i.labelPosition),s.xp6(4),s.ekj("mdc-checkbox--selected",i.checked),s.Q6J("checked",i.checked)("indeterminate",i.indeterminate)("disabled",i.disabled)("id",i.inputId)("required",i.required)("tabIndex",i.tabIndex),s.uIk("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby)("name",i.name)("value",i.value),s.xp6(7),s.Q6J("matRippleTrigger",r)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0),s.xp6(1),s.Q6J("for",i.inputId)}},dependencies:[Ff],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size, 48px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);width:var(--mdc-checkbox-state-layer-size, 48px);height:var(--mdc-checkbox-state-layer-size, 48px)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, rgba(0, 0, 0, 0.38));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color, rgba(0, 0, 0, 0.38))}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px)}.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:not([disabled])~.mdc-checkbox__ripple{opacity:.04;transform:scale(1);transition:opacity 80ms 0 cubic-bezier(0, 0, 0.2, 1),transform 80ms 0 cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:not([disabled]):focus~.mdc-checkbox__ripple{opacity:.16}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__native-control:focus:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, black)}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),ZF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),bM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[vi,Ny,ZF,vi,ZF]}),n})(),YF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[gi,EA,bM,mw,$3,w$,fw,HF]}),n})();var Vu=(()=>(function(n){n.UPDATE_QUESTION="[Update question] Update question",n.UPDATE_QUESTION_SUCCESS="[Update question] Update question success",n.UPDATE_QUESTION_FAILURE="[Update question] Update question failure",n.GET_QUESTION="[Update question] Get question",n.GET_QUESTION_SUCCESS="[Update question] Get question success",n.GET_QUESTION_FAILURE="[Update question] Get question failure"}(Vu||(Vu={})),Vu))();const wM=(0,fe.PH)(Vu.GET_QUESTION,(0,fe.Ky)()),QF=(0,fe.PH)(Vu.GET_QUESTION_SUCCESS,(0,fe.Ky)()),XF=(0,fe.PH)(Vu.GET_QUESTION_FAILURE),xM=(0,fe.PH)(Vu.UPDATE_QUESTION,(0,fe.Ky)()),EM=(0,fe.PH)(Vu.UPDATE_QUESTION_SUCCESS),JF=(0,fe.PH)(Vu.UPDATE_QUESTION_FAILURE),FI=(0,fe.ZF)("editQuestion"),Z$=(0,fe.P1)(FI,n=>n.question),Y$=(0,fe.P1)(FI,n=>n.isLoading),Q$=(0,fe.P1)(FI,n=>n.isSubmitting),X$=(0,fe.P1)(FI,n=>n.validationErrors);var pw=(()=>(function(n){n.BE="BE",n.FE="FE",n.BI="BI",n.AI="AI"}(pw||(pw={})),pw))();function J$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",8),s.NdJ("change",function(r){s.CHM(e);const a=s.oxw();return s.KtG(a.onCheckboxChange(r))}),s.TgZ(1,"label"),s._UZ(2,"input",9),s._uU(3),s.qZA()()}if(2&n){const e=t.$implicit,i=s.oxw();s.xp6(2),s.Q6J("value",e)("checked",i.tagsSet.get(e)),s.xp6(1),s.hij(" ",e," ")}}let eN=(()=>{class n{constructor(e){this.fb=e,this.initialValuesProps={},this.isSubmittingProps=null,this.errorsProps=null,this.questionSubmitEvent=new s.vpe,this.form={},this.tags=Object.values(pw),this.tagsSet=new Map}ngOnInit(){this.initializeForm(),this.initializeTags()}initializeTags(){this.initialValuesProps&&this.initialValuesProps.tags?.forEach(e=>{this.tagsSet.set(e,!0)})}onCheckboxChange(e){this.tagsSet.set(e.target.value,!this.tagsSet.get(e.target.value))}initializeForm(){this.form=this.fb.group({title:this.initialValuesProps.title,body:this.initialValuesProps.body,tags:[this.initialValuesProps.tags]})}onSubmit(){this.form.value.tags=Array.from(this.tagsSet.keys()),this.form.value.slug=this.initialValuesProps.slug,this.form.value.date=this.initialValuesProps.date,this.form.value.isAnswered=!1,this.questionSubmitEvent.emit(this.form.value)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(iI))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-question-form"]],inputs:{initialValuesProps:["initialValues","initialValuesProps"],isSubmittingProps:["isSubmitting","isSubmittingProps"],errorsProps:["errors","errorsProps"]},outputs:{questionSubmitEvent:"questionSubmit"},decls:15,vars:3,consts:[[1,"question-form"],[1,"question-form__container"],[1,"question-form__form",3,"formGroup","ngSubmit"],[1,"question-form__form-group"],["type","text","placeholder","Question title","formControlName","title",1,"question-form__input"],["rows","8","placeholder","Write your question","formControlName","body",1,"question-form__text-area"],[3,"change",4,"ngFor","ngForOf"],["mat-raised-button","","type","submit",1,"question-form__button",3,"disabled"],[3,"change"],["type","checkbox",3,"value","checked"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"form",2),s.NdJ("ngSubmit",function(){return i.onSubmit()}),s.TgZ(3,"fieldset")(4,"fieldset",3),s._UZ(5,"input",4),s.qZA(),s.TgZ(6,"fieldset",3),s._UZ(7,"textarea",5),s.qZA(),s.TgZ(8,"fieldset",3)(9,"h4"),s._uU(10,"Select your tags:"),s.qZA(),s.YNc(11,J$,4,3,"div",6),s.qZA(),s.TgZ(12,"fieldset")(13,"button",7),s._uU(14," Publish question "),s.qZA()()()()()()),2&e&&(s.xp6(2),s.Q6J("formGroup",i.form),s.xp6(9),s.Q6J("ngForOf",i.tags),s.xp6(2),s.Q6J("disabled",i.isSubmittingProps))},dependencies:[Pn,G0,Lp,L0,B0,Pf,Ry,Ky],styles:[".question-form[_ngcontent-%COMP%]{margin-top:30px}.question-form__tags-list[_ngcontent-%COMP%]{list-style:none}.question-form__form-group[_ngcontent-%COMP%], fieldset[_ngcontent-%COMP%]{border:none}"]}),n})();function e6(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"app-question-form",1),s.NdJ("questionSubmit",function(r){s.CHM(e);const a=s.oxw();return s.KtG(a.onSubmit(r))}),s.ALo(1,"async"),s.ALo(2,"async"),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("initialValues",s.lcZ(1,2,e.initialValues$))("isSubmitting",s.lcZ(2,4,e.isSubmitting$))}}let t6=(()=>{class n{constructor(e,i){this.store=e,this.route=i,this.initialValues$={},this.isSubmitting$={},this.isLoading$={},this.backendErrors$={},this.slug=""}ngOnInit(){this.initializeValues(),this.fetchData()}initializeValues(){this.slug=this.route.snapshot.paramMap.get("slug"),this.isSubmitting$=this.store.pipe((0,fe.Ys)(Q$)),this.isLoading$=this.store.pipe((0,fe.Ys)(Y$)),this.backendErrors$=this.store.pipe((0,fe.Ys)(X$)),this.initialValues$=this.store.pipe((0,fe.Ys)(Z$),(0,Re.h)(Boolean),(0,N.U)(e=>({title:e.title,slug:e.slug,body:e.body,tags:e.tags,date:e.date,comments:e.comments,isAnswered:e.isAnswered})))}fetchData(){this.slug&&this.store.dispatch(wM({slug:this.slug}))}onSubmit(e){this.slug&&this.store.dispatch(xM({questionInput:e}))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(fe.yh),s.Y36(Uf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-edit-question"]],decls:2,vars:3,consts:[[3,"initialValues","isSubmitting","questionSubmit",4,"ngIf"],[3,"initialValues","isSubmitting","questionSubmit"]],template:function(e,i){1&e&&(s.YNc(0,e6,3,6,"app-question-form",0),s.ALo(1,"async")),2&e&&s.Q6J("ngIf",s.lcZ(1,1,i.initialValues$))},dependencies:[fi,eN,Zt]}),n})(),NI=(()=>{class n{constructor(e){this.firestore=e}updateQuestion(e){return(0,tn.D)(this.firestore.collection("questions").doc(e.slug).update(e))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ou))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const s6=(0,$n.u3)(Tp,!0),a6=(0,$n.u3)(vC,!0),nN=(0,$n.u3)(Ok,!0);let LI=(()=>{class n{constructor(){this.db=nN()}getQuestion(e){var i=this;return(0,ue.Z)(function*(){const r=Tp(i.db,"questions",e);return(yield vC(r)).data()})()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),c6=(()=>{class n{constructor(e,i){this.actions$=e,this.sharedQuestionService=i,this.getQuestion$=lo(()=>this.actions$.pipe(uo(wM),(0,jn.w)(({slug:r})=>(0,tn.D)(this.sharedQuestionService.getQuestion(r)).pipe((0,N.U)(a=>QF({question:a})),(0,Br.K)(()=>(0,it.of)(XF()))))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Rc),s.LFG(LI))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),l6=(()=>{class n{constructor(e,i,r){this.actions$=e,this.editQuestionService=i,this.router=r,this.updateQuestion$=lo(()=>this.actions$.pipe(uo(xM),(0,jn.w)(({questionInput:a})=>this.editQuestionService.updateQuestion(a).pipe((0,N.U)(()=>EM()),(0,Br.K)(()=>(0,it.of)(JF())))))),this.redirectAfterCreate$=lo(()=>this.actions$.pipe(uo(EM),(0,ti.b)(()=>{this.router.navigate(["/"])})),{dispatch:!1})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Rc),s.LFG(NI),s.LFG(Cr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const u6=(0,fe.Lq)({question:null,isLoading:!1,isSubmitting:!1,validationErrors:null},(0,fe.on)(xM,n=>({...n,isSubmitting:!0})),(0,fe.on)(EM,()=>({isSubmitting:!1})),(0,fe.on)(JF,n=>({...n,isSubmitting:!1})),(0,fe.on)(wM,n=>({...n,isLoading:!0})),(0,fe.on)(QF,(n,t)=>({...n,isLoading:!1,question:t.question})),(0,fe.on)(XF,n=>({...n,isLoading:!1})));function h6(n,t){return u6(n,t)}const f6=[{path:"questions/:slug/edit",component:t6}];let m6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[NI,LI],imports:[gi,Vl.forChild(f6),YF,qy.forFeature([c6,l6]),fe.Aw.forFeature("editQuestion",h6)]}),n})(),SM=(()=>{class n{constructor(e){this.firestore=e,this.isOpenComment=!1}toggleComment(){this.isOpenComment=!this.isOpenComment}deleteQuestion(e){return this.firestore.collection("questions").doc(e).delete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ou))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();var za=(()=>(function(n){n.GET_QUESTION="[Question] Get question",n.GET_QUESTION_SUCCESS="[Question] Get question success",n.GET_QUESTION_FAILURE="[Question] Get question failure",n.DELETE_QUESTION="[Question] Delete Question",n.DELETE_QUESTION_SUCCESS="[Question] Delete question success",n.DELETE_QUESTION_FAILURE="[Question] Delete question failure",n.UPDATE_QUESTION="[Question] Update question",n.UPDATE_QUESTION_SUCCESS="[Question] Update question success",n.UPDATE_QUESTION_FAILURE="[Question] Update question failure"}(za||(za={})),za))();const DM=(0,fe.PH)(za.GET_QUESTION,(0,fe.Ky)()),iN=(0,fe.PH)(za.GET_QUESTION_SUCCESS,(0,fe.Ky)()),rN=(0,fe.PH)(za.GET_QUESTION_FAILURE);let p6=(()=>{class n{constructor(e,i){this.actions$=e,this.sharedQuestionService=i,this.getQuestion$=lo(()=>this.actions$.pipe(uo(DM),(0,jn.w)(({slug:r})=>(0,tn.D)(this.sharedQuestionService.getQuestion(r)).pipe((0,N.U)(a=>iN({question:a})),(0,Br.K)(()=>(0,it.of)(rN()))))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Rc),s.LFG(LI))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const oN=(0,fe.PH)(za.DELETE_QUESTION,(0,fe.Ky)()),sN=(0,fe.PH)(za.DELETE_QUESTION_SUCCESS),g6=(0,fe.PH)(za.DELETE_QUESTION_FAILURE);let _6=(()=>{class n{constructor(e,i,r){this.actions$=e,this.questionService=i,this.router=r,this.deleteQuestion$=lo(()=>this.actions$.pipe(uo(oN),(0,jn.w)(({slug:a})=>(0,tn.D)(this.questionService.deleteQuestion(a)).pipe((0,N.U)(()=>sN()),(0,Br.K)(()=>(0,it.of)(g6())))))),this.redirectAfterDelete$=lo(()=>this.actions$.pipe(uo(sN),(0,ti.b)(()=>{this.router.navigate(["/"])})),{dispatch:!1})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Rc),s.LFG(SM),s.LFG(Cr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();(0,fe.PH)("@ngrx/router-store/request",(0,fe.Ky)());const aN="@ngrx/router-store/navigation",cN=(0,fe.PH)(aN,(0,fe.Ky)()),lN="@ngrx/router-store/cancel",dN=((0,fe.PH)(lN,(0,fe.Ky)()),"@ngrx/router-store/error");function b6(n,t){const e=t;switch(e.type){case aN:case dN:case lN:return{state:e.payload.routerState,navigationId:e.payload.event.id};default:return n}}(0,fe.PH)(dN,(0,fe.Ky)()),(0,fe.PH)("@ngrx/router-store/navigated",(0,fe.Ky)()),new s.OlP("@ngrx/router-store Internal Configuration"),new s.OlP("@ngrx/router-store Configuration");const gw=(0,fe.PH)(za.UPDATE_QUESTION,(0,fe.Ky)()),TM=(0,fe.PH)(za.UPDATE_QUESTION_SUCCESS),gN=(0,fe.PH)(za.UPDATE_QUESTION_FAILURE),_N={question:null,isLoading:!1,error:null,isSubmitting:!1},D6=(0,fe.Lq)(_N,(0,fe.on)(DM,n=>({...n,isLoading:!0})),(0,fe.on)(iN,(n,t)=>({...n,isLoading:!1,question:t.question})),(0,fe.on)(rN,n=>({...n,isLoading:!1})),(0,fe.on)(gw,n=>({...n,isSubmitting:!0})),(0,fe.on)(TM,n=>({...n,isSubmitting:!1})),(0,fe.on)(gN,n=>({...n,isSubmitting:!1})),(0,fe.on)(cN,()=>_N));function T6(n,t){return D6(n,t)}const BI=(0,fe.ZF)("question"),A6=(0,fe.P1)(BI,n=>n.isLoading),M6=(0,fe.P1)(BI,n=>n.error),yN=(0,fe.P1)(BI,n=>n.question),k6=(0,fe.P1)(BI,n=>n.isSubmitting);let vN=(()=>{class n{constructor(){}convertObj(e,i){return Object.assign({},i,{comments:[...i?.comments,e]})}convertApproved(e){return Object.assign({},e,{approved:!0})}convertAnswerInObj(e,i){const r=i?.comments?.map(f=>Object.assign({},f,f.date===e?{isRightAnswer:!0}:{isRightAnswer:!1})),a=Object.assign({},i,{comments:[...r]});return Object.assign({},a,{isAnswered:!0})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class UI{}class AM{}class ju{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),a=r.toLowerCase(),d=e.slice(i+1).trim();this.maybeSetNormalizedName(r,a),this.headers.has(a)?this.headers.get(a).push(d):this.headers.set(a,[d])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof ju?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new ju;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ju?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const a=t.value;if(a){let d=this.headers.get(e);if(!d)return;d=d.filter(f=>-1===a.indexOf(f)),0===d.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,d)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class O6{encodeKey(t){return bN(t)}encodeValue(t){return bN(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const P6=/%(\d[a-f0-9])/gi,F6={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function bN(n){return encodeURIComponent(n).replace(P6,(t,e)=>F6[e]??t)}function VI(n){return`${n}`}class jf{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new O6,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function R6(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const a=r.indexOf("="),[d,f]=-1==a?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,a)),t.decodeValue(r.slice(a+1))],_=e.get(d)||[];_.push(f),e.set(d,_)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(VI):[VI(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(a=>{e.push({param:i,value:a,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new jf({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(VI(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(VI(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class N6{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function wN(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function xN(n){return typeof Blob<"u"&&n instanceof Blob}function EN(n){return typeof FormData<"u"&&n instanceof FormData}class _w{constructor(t,e,i,r){let a;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function L6(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new ju),this.context||(this.context=new N6),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=e;else{const f=e.indexOf("?");this.urlWithParams=e+(-1===f?"?":f<e.length-1?"&":"")+d}}else this.params=new jf,this.urlWithParams=e}serializeBody(){return null===this.body?null:wN(this.body)||xN(this.body)||EN(this.body)||function B6(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof jf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||EN(this.body)?null:xN(this.body)?this.body.type||null:wN(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof jf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,a=void 0!==t.body?t.body:this.body,d=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,f=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let _=t.headers||this.headers,b=t.params||this.params;const C=t.context??this.context;return void 0!==t.setHeaders&&(_=Object.keys(t.setHeaders).reduce((k,L)=>k.set(L,t.setHeaders[L]),_)),t.setParams&&(b=Object.keys(t.setParams).reduce((k,L)=>k.set(L,t.setParams[L]),b)),new _w(e,i,a,{params:b,headers:_,context:C,reportProgress:f,responseType:r,withCredentials:d})}}var Ir=(()=>((Ir=Ir||{})[Ir.Sent=0]="Sent",Ir[Ir.UploadProgress=1]="UploadProgress",Ir[Ir.ResponseHeader=2]="ResponseHeader",Ir[Ir.DownloadProgress=3]="DownloadProgress",Ir[Ir.Response=4]="Response",Ir[Ir.User=5]="User",Ir))();class MM{constructor(t,e=200,i="OK"){this.headers=t.headers||new ju,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class kM extends MM{constructor(t={}){super(t),this.type=Ir.ResponseHeader}clone(t={}){return new kM({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class jI extends MM{constructor(t={}){super(t),this.type=Ir.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new jI({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class CN extends MM{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function OM(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let RM=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let a;if(e instanceof _w)a=e;else{let _,b;_=r.headers instanceof ju?r.headers:new ju(r.headers),r.params&&(b=r.params instanceof jf?r.params:new jf({fromObject:r.params})),a=new _w(e,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:b,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const d=(0,it.of)(a).pipe((0,Nf.b)(_=>this.handler.handle(_)));if(e instanceof _w||"events"===r.observe)return d;const f=d.pipe((0,Re.h)(_=>_ instanceof jI));switch(r.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,N.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,N.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,N.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,N.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new jf).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,OM(r,i))}post(e,i,r={}){return this.request("POST",e,OM(r,i))}put(e,i,r={}){return this.request("PUT",e,OM(r,i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(UI))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function IN(n,t){return t(n)}function U6(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const j6=new s.OlP("HTTP_INTERCEPTORS"),yw=new s.OlP("HTTP_INTERCEPTOR_FNS");function z6(){let n=null;return(t,e)=>(null===n&&(n=((0,s.f3M)(j6,{optional:!0})??[]).reduceRight(U6,IN)),n(t,e))}let SN=(()=>{class n extends UI{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=Array.from(new Set(this.injector.get(yw)));this.chain=i.reduceRight((r,a)=>function V6(n,t,e){return(i,r)=>e.runInContext(()=>t(i,a=>n(a,r)))}(r,a,this.injector),IN)}return this.chain(e,i=>this.backend.handle(i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(AM),s.LFG(s.lqb))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const q6=/^\)\]\}',?\n/;let TN=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new An.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((B,$)=>r.setRequestHeader(B,$.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const B=e.detectContentTypeHeader();null!==B&&r.setRequestHeader("Content-Type",B)}if(e.responseType){const B=e.responseType.toLowerCase();r.responseType="json"!==B?B:"text"}const a=e.serializeBody();let d=null;const f=()=>{if(null!==d)return d;const B=r.statusText||"OK",$=new ju(r.getAllResponseHeaders()),ce=function W6(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return d=new kM({headers:$,status:r.status,statusText:B,url:ce}),d},_=()=>{let{headers:B,status:$,statusText:ce,url:De}=f(),Ye=null;204!==$&&(Ye=typeof r.response>"u"?r.responseText:r.response),0===$&&($=Ye?200:0);let vt=$>=200&&$<300;if("json"===e.responseType&&"string"==typeof Ye){const wt=Ye;Ye=Ye.replace(q6,"");try{Ye=""!==Ye?JSON.parse(Ye):null}catch(Ct){Ye=wt,vt&&(vt=!1,Ye={error:Ct,text:Ye})}}vt?(i.next(new jI({body:Ye,headers:B,status:$,statusText:ce,url:De||void 0})),i.complete()):i.error(new CN({error:Ye,headers:B,status:$,statusText:ce,url:De||void 0}))},b=B=>{const{url:$}=f(),ce=new CN({error:B,status:r.status||0,statusText:r.statusText||"Unknown Error",url:$||void 0});i.error(ce)};let C=!1;const k=B=>{C||(i.next(f()),C=!0);let $={type:Ir.DownloadProgress,loaded:B.loaded};B.lengthComputable&&($.total=B.total),"text"===e.responseType&&r.responseText&&($.partialText=r.responseText),i.next($)},L=B=>{let $={type:Ir.UploadProgress,loaded:B.loaded};B.lengthComputable&&($.total=B.total),i.next($)};return r.addEventListener("load",_),r.addEventListener("error",b),r.addEventListener("timeout",b),r.addEventListener("abort",b),e.reportProgress&&(r.addEventListener("progress",k),null!==a&&r.upload&&r.upload.addEventListener("progress",L)),r.send(a),i.next({type:Ir.Sent}),()=>{r.removeEventListener("error",b),r.removeEventListener("abort",b),r.removeEventListener("load",_),r.removeEventListener("timeout",b),e.reportProgress&&(r.removeEventListener("progress",k),null!==a&&r.upload&&r.upload.removeEventListener("progress",L)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Lc))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const PM=new s.OlP("XSRF_ENABLED"),AN=new s.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),MN=new s.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class kN{}let Y6=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Oo(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(K),s.LFG(s.Lbi),s.LFG(AN))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Q6(n,t){const e=n.url.toLowerCase();if(!(0,s.f3M)(PM)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=(0,s.f3M)(kN).getToken(),r=(0,s.f3M)(MN);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var hr=(()=>((hr=hr||{})[hr.Interceptors=0]="Interceptors",hr[hr.LegacyInterceptors=1]="LegacyInterceptors",hr[hr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",hr[hr.NoXsrfProtection=3]="NoXsrfProtection",hr[hr.JsonpSupport=4]="JsonpSupport",hr[hr.RequestsMadeViaParent=5]="RequestsMadeViaParent",hr))();function Zy(n,t){return{\u0275kind:n,\u0275providers:t}}function X6(...n){const t=[RM,TN,SN,{provide:UI,useExisting:SN},{provide:AM,useExisting:TN},{provide:yw,useValue:Q6,multi:!0},{provide:PM,useValue:!0},{provide:kN,useClass:Y6}];for(const e of n)t.push(...e.\u0275providers);return(0,s.MR2)(t)}const ON=new s.OlP("LEGACY_INTERCEPTOR_FN");let eG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[X6(Zy(hr.LegacyInterceptors,[{provide:ON,useFactory:z6},{provide:yw,useExisting:ON,multi:!0}]))]}),n})();const tG=["*"];let zI;function vw(n){return function nG(){if(void 0===zI&&(zI=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(zI=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return zI}()?.createHTML(n)||n}function RN(n){return Error(`Unable to find icon with the name "${n}"`)}function PN(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function FN(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Gp{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let HI=(()=>{class n{constructor(e,i,r,a){this._httpClient=e,this._sanitizer=i,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,a){return this._addSvgIconConfig(e,i,new Gp(r,null,a))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,a){const d=this._sanitizer.sanitize(s.q3G.HTML,r);if(!d)throw FN(r);const f=vw(d);return this._addSvgIconConfig(e,i,new Gp("",f,a))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Gp(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const a=this._sanitizer.sanitize(s.q3G.HTML,i);if(!a)throw FN(i);const d=vw(a);return this._addSvgIconSetConfig(e,new Gp("",d,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,e);if(!i)throw PN(e);const r=this._cachedIconsByUrl.get(i);return r?(0,it.of)($I(r)):this._loadSvgIconFromConfig(new Gp(e,null)).pipe((0,ti.b)(a=>this._cachedIconsByUrl.set(i,a)),(0,N.U)(a=>$I(a)))}getNamedSvgIcon(e,i=""){const r=NN(i,e);let a=this._svgIconConfigs.get(r);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(i,e),a)return this._svgIconConfigs.set(r,a),this._getSvgFromConfig(a);const d=this._iconSetConfigs.get(i);return d?this._getSvgFromIconSetConfigs(e,d):Up(RN(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,it.of)($I(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,N.U)(i=>$I(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?(0,it.of)(r):uR(i.filter(d=>!d.svgText).map(d=>this._loadSvgIconSetFromConfig(d).pipe((0,Br.K)(f=>{const b=`Loading icon set URL: ${this._sanitizer.sanitize(s.q3G.RESOURCE_URL,d.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(b)),(0,it.of)(null)})))).pipe((0,N.U)(()=>{const d=this._extractIconWithNameFromAnySet(e,i);if(!d)throw RN(e);return d}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const a=i[r];if(a.svgText&&a.svgText.toString().indexOf(e)>-1){const d=this._svgElementFromConfig(a),f=this._extractSvgIconFromSet(d,e,a.options);if(f)return f}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,ti.b)(i=>e.svgText=i),(0,N.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,it.of)(null):this._fetchIcon(e).pipe((0,ti.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const a=e.querySelector(`[id="${i}"]`);if(!a)return null;const d=a.cloneNode(!0);if(d.removeAttribute("id"),"svg"===d.nodeName.toLowerCase())return this._setSvgAttributes(d,r);if("symbol"===d.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(d),r);const f=this._svgElementFromString(vw("<svg></svg>"));return f.appendChild(d),this._setSvgAttributes(f,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(vw("<svg></svg>")),r=e.attributes;for(let a=0;a<r.length;a++){const{name:d,value:f}=r[a];"id"!==d&&i.setAttribute(d,f)}for(let a=0;a<e.childNodes.length;a++)e.childNodes[a].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[a].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,a=r?.withCredentials??!1;if(!this._httpClient)throw function iG(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const d=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,i);if(!d)throw PN(i);const f=this._inProgressUrlFetches.get(d);if(f)return f;const _=this._httpClient.get(d,{responseType:"text",withCredentials:a}).pipe((0,N.U)(b=>vw(b)),oI(()=>this._inProgressUrlFetches.delete(d)),(0,Jk.B)());return this._inProgressUrlFetches.set(d,_),_}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(NN(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const a=this._resolvers[r](i,e);if(a)return oG(a)?new Gp(a.url,null,a.options):new Gp(a,null)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(RM,8),s.LFG(_d),s.LFG(K,8),s.LFG(s.qLn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $I(n){return n.cloneNode(!0)}function NN(n,t){return n+":"+t}function oG(n){return!(!n.url||!n.options)}const sG=IA(class{constructor(n){this._elementRef=n}}),aG=new s.OlP("MAT_ICON_DEFAULT_OPTIONS"),cG=new s.OlP("mat-icon-location",{providedIn:"root",factory:function lG(){const n=(0,s.f3M)(K),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),LN=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],dG=LN.map(n=>`[${n}]`).join(", "),uG=/^url\(['"]?#(.*?)['"]?\)$/;let BN=(()=>{class n extends sG{get inline(){return this._inline}set inline(e){this._inline=qn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,r,a,d,f){super(e),this._iconRegistry=i,this._location=a,this._errorHandler=d,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Ba.w0.EMPTY,f&&(f.color&&(this.color=this.defaultColor=f.color),f.fontSet&&(this.fontSet=f.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,a)=>{r.forEach(d=>{a.setAttribute(d.name,`url('${e}#${d.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(dG),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<i.length;a++)LN.forEach(d=>{const f=i[a],_=f.getAttribute(d),b=_?_.match(uG):null;if(b){let C=r.get(f);C||(C=[],r.set(f,C)),C.push({name:d,value:b[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,_s.q)(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${a.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(HI),s.$8M("aria-hidden"),s.Y36(cG),s.Y36(s.qLn),s.Y36(aG,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,i){2&e&&(s.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),s.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[s.qOj],ngContentSelectors:tG,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),FM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[vi,vi]}),n})();const bw=(0,fe.ZF)("auth"),UN=(0,fe.P1)(bw,n=>n.isSubmitting),VN=(0,fe.P1)(bw,n=>n.validationErrors),jN=(0,fe.P1)(bw,n=>n.isLoggedIn),hG=(0,fe.P1)(bw,n=>!1===n.isLoggedIn),Yy=(0,fe.P1)(bw,n=>n.currentUser);let fG=(()=>{class n{constructor(e,i){this.fb=e,this.store=i,this.isSubmittingProps=null,this.questionValueProps={},this.commentSubmitEvent=new s.vpe,this.form={},this.currentUser={}}ngOnInit(){this.initializeForm(),this.store.pipe((0,fe.Ys)(Yy)).subscribe(e=>{e&&(this.currentUser=e)})}initializeForm(){this.form=this.fb.group({author:"",body:"",date:"",isRightAnswer:!1})}onSubmit(){this.form.value.date=Date.now(),this.form.value.author=this.currentUser.user.name,this.commentSubmitEvent.emit(this.form.value)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(iI),s.Y36(fe.yh))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-comment-form"]],inputs:{isSubmittingProps:["isSubmitting","isSubmittingProps"],questionValueProps:["question","questionValueProps"]},outputs:{commentSubmitEvent:"commentSubmit"},decls:8,vars:1,consts:[[1,"comment-form"],[1,"comment-form__container"],[1,"comment-form__form",3,"formGroup","ngSubmit"],[1,"comment-form__form-group"],["rows","8","placeholder","Write your comment","formControlName","body",1,"comment-form__text-area"],["mat-raised-button","","type","submit",1,"comment-form__button"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"form",2),s.NdJ("ngSubmit",function(){return i.onSubmit()}),s.TgZ(3,"fieldset",3),s._UZ(4,"textarea",4),s.qZA(),s.TgZ(5,"fieldset",3)(6,"button",5),s._uU(7," Publish comment "),s.qZA()()()()()),2&e&&(s.xp6(2),s.Q6J("formGroup",i.form))},dependencies:[Ky,G0,Lp,L0,B0,Pf,Ry],styles:[".comment-form[_ngcontent-%COMP%]{transition:all .5s ease-out}.comment-form__tags-list[_ngcontent-%COMP%]{list-style:none}.comment-form__form-group[_ngcontent-%COMP%]{border:none}"]}),n})();function mG(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" #",e," ")}}const pG=function(n){return["/questions",n,"edit"]};function gG(n,t){if(1&n&&(s.TgZ(0,"a",21),s._uU(1,"Edit question"),s.qZA()),2&n){const e=s.oxw();s.Q6J("routerLink",s.VKq(1,pG,null==e.question?null:e.question.slug))}}function _G(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",17),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.setApproved())}),s._uU(1," Approve "),s.qZA()}}function yG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"app-comment-form",22),s.NdJ("commentSubmit",function(r){s.CHM(e);const a=s.oxw();return s.KtG(a.onSubmit(r))}),s.ALo(1,"async"),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("question",e.question)("isSubmitting",s.lcZ(1,2,e.isSubmitting$))}}function vG(n,t){1&n&&(s.TgZ(0,"mat-icon"),s._uU(1,"check_circle"),s.qZA())}function bG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",23)(1,"div",24)(2,"p",25),s._uU(3),s.qZA(),s.TgZ(4,"div",26)(5,"div",27)(6,"span",28),s._uU(7),s.qZA(),s.TgZ(8,"span"),s._uU(9),s.ALo(10,"date"),s.qZA()(),s.YNc(11,vG,2,0,"mat-icon",29),s.qZA(),s.TgZ(12,"mat-checkbox",30),s.NdJ("click",function(){const a=s.CHM(e).$implicit,d=s.oxw();return s.KtG(d.clickRightAnswer(a.date))}),s._uU(13,"Right answer!"),s.qZA()()()}if(2&n){const e=t.$implicit;s.xp6(3),s.Oqu(e.body),s.xp6(4),s.hij("Author: ",e.author,""),s.xp6(2),s.hij("CreatedAt: ",s.xi3(10,4,e.date,"medium")," "),s.xp6(2),s.Q6J("ngIf",e.isRightAnswer)}}let wG=(()=>{class n{constructor(e,i,r,a){this.store=e,this.route=i,this.questionService=r,this.convertService=a,this.slug="",this.question={},this.questionSubscription={},this.isLoading$={},this.error$={},this.isAuthor$={},this.isSubmitting$={},this.question$={}}ngOnInit(){this.initializeValues(),this.fetchData(),this.initializeListeners()}ngOnDestroy(){this.questionSubscription.unsubscribe()}initializeValues(){this.slug=this.route.snapshot.paramMap.get("slug"),this.isLoading$=this.store.pipe((0,fe.Ys)(A6)),this.error$=this.store.pipe((0,fe.Ys)(M6)),this.isSubmitting$=this.store.pipe((0,fe.Ys)(k6)),this.question$=this.store.pipe((0,fe.Ys)(yN),(0,Re.h)(Boolean),(0,N.U)(e=>({title:e.title,slug:e.slug,body:e.body,tags:e.tags,date:e.date,comments:e.comments,isAnswered:e.isAnswered,author:e.author,approved:e.approved})))}initializeListeners(){this.questionSubscription=this.store.pipe((0,fe.Ys)(yN)).subscribe(e=>{this.question=e})}onSubmit(e){const i=this.convertService.convertObj(e,this.question);this.store.dispatch(gw(i))}fetchData(){this.slug&&this.store.dispatch(DM({slug:this.slug}))}deleteQuestion(){this.slug&&this.store.dispatch(oN({slug:this.slug}))}toggleComment(){this.questionService.toggleComment()}clickRightAnswer(e){const i=this.convertService.convertAnswerInObj(e,this.question);this.store.dispatch(gw(i))}setApproved(){const e=this.convertService.convertApproved(this.question);this.store.dispatch(gw(e))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(fe.yh),s.Y36(Uf),s.Y36(SM),s.Y36(vN))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-question"]],decls:31,vars:12,consts:[[1,"question"],[1,"question__container"],[1,"question__info-content"],[1,"question__info-about"],[1,"question__date"],[1,"question__item-title"],[1,"question__description-content"],[1,"question__description-text"],[1,"question__info-manage"],[1,"question__info"],[1,"question__tags"],[4,"ngFor","ngForOf"],[1,"question__links"],["class","question__link",3,"routerLink",4,"ngIf"],[1,"question__link",3,"click"],[1,"question__buttons"],["class","question__button","mat-raised-button","",3,"click",4,"ngIf"],["mat-raised-button","",1,"question__button",3,"click"],[3,"question","isSubmitting","commentSubmit",4,"ngIf"],[1,"question__comments-title"],["class","question__comments",4,"ngFor","ngForOf"],[1,"question__link",3,"routerLink"],[3,"question","isSubmitting","commentSubmit"],[1,"question__comments"],[1,"question__comments-item"],[1,"question__item-body"],[1,"question__comments-info"],[1,"question__comments-info-content"],[1,"question__item-author"],[4,"ngIf"],[1,"example-margin",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),s._uU(5),s.ALo(6,"date"),s.qZA(),s.TgZ(7,"p",4),s._uU(8),s.qZA()(),s.TgZ(9,"h4",5),s._uU(10),s.qZA()(),s.TgZ(11,"div",6)(12,"div",7),s._uU(13),s.qZA()(),s.TgZ(14,"div",8)(15,"div",9)(16,"div",10),s._uU(17," Tags: "),s.YNc(18,mG,2,1,"span",11),s.qZA(),s.TgZ(19,"div",12),s.YNc(20,gG,2,3,"a",13),s.TgZ(21,"div",14),s.NdJ("click",function(){return i.toggleComment()}),s._uU(22,"Comment"),s.qZA()(),s.TgZ(23,"div",15),s.YNc(24,_G,2,0,"button",16),s.TgZ(25,"button",17),s.NdJ("click",function(){return i.deleteQuestion()}),s._uU(26," Delete "),s.qZA()()(),s.YNc(27,yG,2,4,"app-comment-form",18),s.TgZ(28,"p",19),s._uU(29,"Comments"),s.qZA(),s.YNc(30,bG,14,7,"div",20),s.qZA()()()),2&e&&(s.xp6(5),s.hij(" CreatedAt: ",s.xi3(6,9,null==i.question?null:i.question.date,"medium")," "),s.xp6(3),s.hij("Author: ",null==i.question||null==i.question.author||null==i.question.author.user?null:i.question.author.user.name,""),s.xp6(2),s.Oqu(null==i.question?null:i.question.title),s.xp6(3),s.Oqu(null==i.question?null:i.question.body),s.xp6(5),s.Q6J("ngForOf",null==i.question?null:i.question.tags),s.xp6(2),s.Q6J("ngIf",!(null!=i.question&&i.question.approved)),s.xp6(4),s.Q6J("ngIf",!(null!=i.question&&i.question.approved)),s.xp6(3),s.Q6J("ngIf",i.questionService.isOpenComment),s.xp6(3),s.Q6J("ngForOf",null==i.question?null:i.question.comments))},dependencies:[Pn,fi,Lu,Ky,vM,BN,fG,Zt,Jo],styles:[".question[_ngcontent-%COMP%]{width:70vw}.question__container[_ngcontent-%COMP%]{display:flex;min-height:460px;flex-direction:column;justify-content:space-around}.question__container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{border-bottom:1px solid #45616b;margin-bottom:10px;padding-bottom:10px}.question__info-about[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:10px;font-weight:200}.question__item-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.question__info-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#264e26}.question__description-text[_ngcontent-%COMP%]{height:180px;width:100%;font-size:12px;overflow-y:hidden;margin-bottom:20px;color:#dfcdbf}.question__info-manage[_ngcontent-%COMP%]{color:#264e26}.question__link[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline;color:#45616b;padding:5px}.question__comments-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100px;border-radius:6px;padding:10px 15px;margin:20px;background-color:#fcf6f6;justify-content:space-between}.question__comments-title[_ngcontent-%COMP%]{color:#264e26;font-size:20px;margin-top:10px}.question__info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px 0;border-bottom:1px solid #45616b}@media (max-width: 700px){.question__info[_ngcontent-%COMP%]{flex-direction:column;align-items:center;margin-top:10px;margin-bottom:20px}.question__info[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-top:10px}}.question__comments-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:10px}.question__comments-info-content[_ngcontent-%COMP%]{width:70%;display:flex;justify-content:space-around}@media (max-width: 700px){.question__comments-info-content[_ngcontent-%COMP%]{flex-direction:column}}.question__tags[_ngcontent-%COMP%]{margin-top:6px}.question__links[_ngcontent-%COMP%]{display:flex}.question__button[_ngcontent-%COMP%]{margin:5px;color:#45616b}"]}),n})(),xG=(()=>{class n{constructor(e,i,r){this.actions$=e,this.editQuestionService=i,this.router=r,this.updateQuestion$=lo(()=>this.actions$.pipe(uo(gw),(0,jn.w)(a=>(0,tn.D)(this.editQuestionService.updateQuestion(a)).pipe((0,N.U)(()=>TM()),(0,Br.K)(()=>(0,it.of)(gN())))))),this.redirectAfterCreate$=lo(()=>this.actions$.pipe(uo(TM),(0,ti.b)(()=>{this.router.navigate(["/"])})),{dispatch:!1})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Rc),s.LFG(NI),s.LFG(Cr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const EG=[{path:"questions/:slug",component:wG}];let CG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[LI,SM,NI,vN],imports:[gi,Vl.forChild(EG),qy.forFeature([p6,_6,xG]),fe.Aw.forFeature("question",T6),Vl,mw,EA,bM,FM]}),n})();var Qy=(()=>(function(n){n.GET_ALL_QUESTIONS="[All Questions] Get all questions",n.GET_ALL_QUESTIONS_SUCCESS="[All Questions] Get all questions success",n.GET_ALL_QUESTIONS_FAILURE="[All Questions] Get all questions failure"}(Qy||(Qy={})),Qy))();const NM=(0,fe.PH)(Qy.GET_ALL_QUESTIONS,(0,fe.Ky)()),zN=(0,fe.PH)(Qy.GET_ALL_QUESTIONS_SUCCESS,(0,fe.Ky)()),HN=(0,fe.PH)(Qy.GET_ALL_QUESTIONS_FAILURE),LM=(0,fe.ZF)("allQuestions"),IG=(0,fe.P1)(LM,n=>n.isLoading),SG=(0,fe.P1)(LM,n=>n.error),DG=(0,fe.P1)(LM,n=>n.questions);let ww=(()=>{class n{constructor(){this.isAnswered=null,this.selectedTag=null,this.filterByDate="",this.filterByTag="",this.sortByDate="",this.allQuestionsItemInfo="all-questions__item-info all-questions__item-info_line",this.allQuestionsItem="all-questions__item all-questions__item_line",this.allQuestions="all-questions",this.filterByAuthor="",this.isLoggedIn=!1,this.filterByNotApproved=!0}setAnswered(e){this.isAnswered=e}setFilterByDate(e){this.filterByDate=e}setFilterByTag(e){this.filterByTag=e}setSortByDate(e){this.sortByDate=e}setLayoutType(e){this.allQuestionsItemInfo="line"===e?"all-questions__item-info all-questions__item-info_line":"all-questions__item-info all-questions__item-info_tile",this.allQuestionsItem="line"===e?"all-questions__item all-questions__item_line":"all-questions__item all-questions__item_tile",this.allQuestions="line"===e?"all-questions":"all-questions all-questions_tile"}setFilterByAuthor(e){this.filterByAuthor=e}setFilterByNotApproved(e){this.filterByNotApproved=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const TG=function(){return["/questions/new"]};let AG=(()=>{class n{constructor(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-add-button"]],decls:5,vars:2,consts:[[1,"add-button"],[3,"routerLink"],["mat-fab","",1,"add-button__button"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"a",1)(2,"button",2)(3,"mat-icon"),s._uU(4,"plus_one"),s.qZA()()()()),2&e&&(s.xp6(1),s.Q6J("routerLink",s.DdM(1,TG)))},dependencies:[Lu,BN,L$],styles:[".add-button__button[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px}"]}),n})(),MG=(()=>{class n{transform(e,i){return!0===i||!1===i?e.filter(r=>r.isAnswered===i):e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=s.Yjl({name:"isAnswered",type:n,pure:!0}),n})(),kG=(()=>{class n{transform(e,i){return"day"===i?e.filter(f=>Date.now()-f.date<864e5):"two-days"===i?e.filter(f=>Date.now()-f.date<1728e5):"week"===i?e.filter(f=>Date.now()-f.date<6048e5):e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=s.Yjl({name:"filterByDate",type:n,pure:!0}),n})(),OG=(()=>{class n{transform(e,i){return i?e.filter(r=>r.tags?.includes(i)):e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=s.Yjl({name:"filterByTag",type:n,pure:!0}),n})(),RG=(()=>{class n{transform(e,i){return"asc"===i?[...e].sort((r,a)=>a.date-r.date):"desc"===i?[...e].sort((r,a)=>r.date-a.date):e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=s.Yjl({name:"sortByDate",type:n,pure:!0}),n})(),PG=(()=>{class n{transform(e,i){return i?e.filter(r=>!!(r.author&&r.author.user&&r.author.user.name)&&r.author.user.name===i):e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=s.Yjl({name:"filterByAuthor",type:n,pure:!0}),n})(),FG=(()=>{class n{transform(e,i){return!i&&e?e.filter(r=>!r.approved):e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=s.Yjl({name:"filterByNotApproved",type:n,pure:!0}),n})(),NG=(()=>{class n{transform(e,i){return!i&&e?e.filter(r=>r.approved):e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=s.Yjl({name:"filterByLogged",type:n,pure:!0}),n})();function LG(n,t){1&n&&(s.TgZ(0,"span",9),s._uU(1,"not approved"),s.qZA())}function BG(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" #",e," ")}}const UG=function(n){return["/questions",n]};function VG(n,t){if(1&n&&(s.TgZ(0,"section",2)(1,"a",3)(2,"div",0),s.YNc(3,LG,2,0,"span",4),s.TgZ(4,"h2",5)(5,"span",6),s._uU(6," Question: "),s.qZA(),s._uU(7),s.qZA(),s.TgZ(8,"p",7),s._uU(9),s.qZA(),s.TgZ(10,"div",0)(11,"span"),s._uU(12),s.ALo(13,"date"),s.qZA(),s.TgZ(14,"span"),s._uU(15),s.qZA(),s.TgZ(16,"span"),s._uU(17,"Tags: "),s.YNc(18,BG,2,1,"span",8),s.qZA()()()()()),2&n){const e=t.$implicit,i=s.oxw();s.xp6(1),s.Q6J("routerLink",s.VKq(12,UG,e.slug)),s.xp6(1),s.Q6J("ngClass",i.settingsService.allQuestionsItem),s.xp6(1),s.Q6J("ngIf",!e.approved),s.xp6(4),s.hij(" ",e.title," "),s.xp6(2),s.Oqu(e.body),s.xp6(1),s.Q6J("ngClass",i.settingsService.allQuestionsItemInfo),s.xp6(2),s.hij("Date: ",s.xi3(13,9,e.date,"medium")," "),s.xp6(3),s.hij("Comments: ",null==e.comments?null:e.comments.length," "),s.xp6(3),s.Q6J("ngForOf",e.tags)}}let jG=(()=>{class n{constructor(e,i){this.store=e,this.settingsService=i,this.allQuestions$={},this.error$={},this.isLoading$={},this.isLoggedIn$={},this.isLoggedIn=!1}ngOnInit(){this.initializeValues(),this.fetchAllQuestions()}initializeValues(){this.allQuestions$=this.store.pipe((0,fe.Ys)(DG)),this.error$=this.store.pipe((0,fe.Ys)(SG)),this.isLoading$=this.store.pipe((0,fe.Ys)(IG)),this.isLoggedIn$=this.store.pipe((0,fe.Ys)(jN))}fetchAllQuestions(){this.store.dispatch(NM({value:"questions"}))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(fe.yh),s.Y36(ww))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-all-questions"]],decls:11,vars:25,consts:[[3,"ngClass"],["class","all-questions__section",4,"ngFor","ngForOf"],[1,"all-questions__section"],[1,"all-questions__link",3,"routerLink"],["class","all-questions__not-approved",4,"ngIf"],[1,"all-questions__item-title"],[1,"all-questions__item-title-name"],[1,"all-questions__item-body"],[4,"ngFor","ngForOf"],[1,"all-questions__not-approved"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"app-add-button"),s.YNc(2,VG,19,14,"section",1),s.ALo(3,"filterByLogged"),s.ALo(4,"filterByNotApproved"),s.ALo(5,"filterByAuthor"),s.ALo(6,"sortByDate"),s.ALo(7,"filterByTag"),s.ALo(8,"filterByDate"),s.ALo(9,"isAnswered"),s.ALo(10,"async"),s.qZA()),2&e&&(s.Q6J("ngClass",i.settingsService.allQuestions),s.xp6(2),s.Q6J("ngForOf",s.xi3(3,2,s.xi3(4,5,s.xi3(5,8,s.xi3(6,11,s.xi3(7,14,s.xi3(8,17,s.xi3(9,20,s.lcZ(10,23,i.allQuestions$),i.settingsService.isAnswered),i.settingsService.filterByDate),i.settingsService.filterByTag),i.settingsService.sortByDate),i.settingsService.filterByAuthor),i.settingsService.filterByNotApproved),i.settingsService.isLoggedIn)))},dependencies:[ht,Pn,fi,Lu,AG,Zt,Jo,MG,kG,OG,RG,PG,FG,NG],styles:[".all-questions__not-approved[_ngcontent-%COMP%]{text-transform:capitalize;color:red;font-weight:600}.all-questions_tile[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-evenly;position:relative}.all-questions__section[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#45616b}.all-questions[_ngcontent-%COMP%]:hover{opacity:.8}.all-questions__link[_ngcontent-%COMP%]{text-decoration:none;color:#45616b}.all-questions__item[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100px;border-radius:10px;padding:10px 8px;margin:20px;background-color:#fcf6f6}.all-questions__item_line[_ngcontent-%COMP%]{min-width:80vw}.all-questions__item_tile[_ngcontent-%COMP%]{width:250px}.all-questions__item-info[_ngcontent-%COMP%]{border-top:1px solid #79a1b0;padding:5px 10px;display:flex;justify-content:space-between}.all-questions__item-info_line[_ngcontent-%COMP%]{height:20px}@media (max-width: 700px){.all-questions__item-info_line[_ngcontent-%COMP%]{flex-direction:column;height:60px}}.all-questions__item-info_tile[_ngcontent-%COMP%]{flex-direction:column;height:60px}.all-questions__item-title[_ngcontent-%COMP%]{min-height:20px;border-bottom:1px solid #79a1b0}.all-questions__item-title-name[_ngcontent-%COMP%]{color:#e5a587}.all-questions__item-body[_ngcontent-%COMP%]{flex-grow:3}"]}),n})(),$N=(()=>{class n{constructor(e,i){this.firestore=e,this.store=i}getAllQuestions(e){return this.firestore.collection(e).valueChanges()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ou),s.LFG(fe.yh))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zG=(()=>{class n{constructor(e,i){this.actions$=e,this.allQuestionsService=i,this.getAllQuestions$=lo(()=>this.actions$.pipe(uo(NM),(0,jn.w)(({value:r})=>(0,tn.D)(this.allQuestionsService.getAllQuestions(r)).pipe((0,N.U)(a=>zN({allQuestions:a})),(0,Br.K)(()=>(0,it.of)(HN()))))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Rc),s.LFG($N))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const GN={questions:null,isLoading:!1,error:null},HG=(0,fe.Lq)(GN,(0,fe.on)(NM,n=>({...n,isLoading:!0})),(0,fe.on)(zN,(n,t)=>({...n,isLoading:!1,questions:t.allQuestions})),(0,fe.on)(HN,n=>({...n,isLoading:!1})),(0,fe.on)(cN,()=>GN));function $G(n,t){return HG(n,t)}const GG=[{path:"",component:jG}];let qG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[$N],imports:[gi,qy.forFeature([zG]),fe.Aw.forFeature("allQuestions",$G),Vl.forChild(GG),FM,mw]}),n})();function qN(n,t){return t?e=>hc(t.pipe((0,_s.q)(1),BP()),e.pipe(qN(n))):(0,ao.z)((e,i)=>(0,kf.Xf)(n(e,i)).pipe((0,_s.q)(1),R1(e)))}function WN(n,t=Ei.z){const e=nF(n,t);return qN(()=>e)}const WG=["mat-menu-item",""];function KG(n,t){1&n&&(s.O4$(),s.TgZ(0,"svg",3),s._UZ(1,"polygon",4),s.qZA())}const ZG=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],YG=["mat-icon, [matMenuItemIcon]","*"];function QG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",0),s.NdJ("keydown",function(r){s.CHM(e);const a=s.oxw();return s.KtG(a._handleKeydown(r))})("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){s.CHM(e);const a=s.oxw();return s.KtG(a._onAnimationStart(r))})("@transformMenu.done",function(r){s.CHM(e);const a=s.oxw();return s.KtG(a._onAnimationDone(r))}),s.TgZ(1,"div",1),s.Hsn(2),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),s.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const XG=["*"],BM=new s.OlP("MAT_MENU_PANEL"),JG=rI(CA(class{}));let GI=(()=>{class n extends JG{constructor(e,i,r,a,d){super(),this._elementRef=e,this._document=i,this._focusMonitor=r,this._parentMenu=a,this._changeDetectorRef=d,this.role="menuitem",this._hovered=new xn.x,this._focused=new xn.x,this._highlighted=!1,this._triggersSubmenu=!1,a?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(K),s.Y36($C),s.Y36(BM,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator","mdc-list-item"],hostVars:8,hostBindings:function(e,i){1&e&&s.NdJ("click",function(a){return i._checkDisabled(a)})("mouseenter",function(){return i._handleMouseEnter()}),2&e&&(s.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled)("disabled",i.disabled||null),s.ekj("mat-mdc-menu-item-highlighted",i._highlighted)("mat-mdc-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[s.qOj],attrs:WG,ngContentSelectors:YG,decls:5,vars:3,consts:[[1,"mdc-list-item__primary-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,i){1&e&&(s.F$t(ZG),s.Hsn(0),s.TgZ(1,"span",0),s.Hsn(2,1),s.qZA(),s._UZ(3,"div",1),s.YNc(4,KG,2,0,"svg",2)),2&e&&(s.xp6(3),s.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),s.xp6(1),s.Q6J("ngIf",i._triggersSubmenu))},dependencies:[fi,Ff],encapsulation:2,changeDetection:0}),n})();const e4=new s.OlP("MatMenuContent"),qI={transformMenu:uw("transformMenu",[RI("void",ja({opacity:0,transform:"scale(0.8)"})),$p("void => enter",Wy("120ms cubic-bezier(0, 0, 0.2, 1)",ja({opacity:1,transform:"scale(1)"}))),$p("* => void",Wy("100ms 25ms linear",ja({opacity:0})))]),fadeInItems:uw("fadeInItems",[RI("showing",ja({opacity:1})),$p("void => *",[ja({opacity:0}),Wy("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let t4=0;const KN=new s.OlP("mat-menu-default-options",{providedIn:"root",factory:function n4(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let xw=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=qn(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=qn(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,i,r,a){this._elementRef=e,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=a,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new s.n_E,this._classList={},this._panelAnimationState="void",this._animationDone=new xn.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new s.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+t4++}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new sR(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(I(this._directDescendantItems),(0,jn.w)(e=>(0,Mu.T)(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=e.toArray(),a=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[a]&&!r[a].disabled?i.setActiveItem(a):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(I(this._directDescendantItems),(0,jn.w)(i=>(0,Mu.T)(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,r=this._keyManager;switch(i){case 27:ZT(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe((0,_s.q)(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${i}`,a=Object.keys(this._classList).find(d=>d.startsWith(this._elevationPrefix));(!a||a===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===e,r["mat-menu-after"]="after"===e,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(I(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(KN),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,e4,5),s.Suo(r,GI,5),s.Suo(r,GI,4)),2&e){let a;s.iGM(a=s.CRH())&&(i.lazyContent=a.first),s.iGM(a=s.CRH())&&(i._allItems=a),s.iGM(a=s.CRH())&&(i.items=a)}},viewQuery:function(e,i){if(1&e&&s.Gf(s.Rgc,5),2&e){let r;s.iGM(r=s.CRH())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),r4=(()=>{class n extends xw{constructor(e,i,r,a){super(e,i,r,a),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(KN),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,i){2&e&&s.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[s._Bn([{provide:BM,useExisting:n}]),s.qOj],ngContentSelectors:XG,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mdc-menu-surface","mdc-menu-surface--open","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content","mdc-list"]],template:function(e,i){1&e&&(s.F$t(),s.YNc(0,QG,3,6,"ng-template"))},dependencies:[ht],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;position:relative}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item.mdc-list-item{align-items:center}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item .mdc-list-item__primary-text{white-space:normal}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[qI.transformMenu,qI.fadeInItems]},changeDetection:0}),n})();const ZN=new s.OlP("mat-menu-scroll-strategy"),s4={provide:ZN,deps:[dw],useFactory:function o4(n){return()=>n.scrollStrategies.reposition()}},YN=Ty({passive:!0});let a4=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,i,r,a,d,f,_,b,C){this._overlay=e,this._element=i,this._viewContainerRef=r,this._menuItemInstance=f,this._dir=_,this._focusMonitor=b,this._ngZone=C,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Ba.w0.EMPTY,this._hoverSubscription=Ba.w0.EMPTY,this._menuCloseSubscription=Ba.w0.EMPTY,this._changeDetectorRef=(0,s.f3M)(s.sBO),this._handleTouchStart=k=>{tA(k)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new s.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new s.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=a,this._parentMaterialMenu=d instanceof xw?d:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,YN)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,YN),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const i=this._createOverlay(e),r=i.getConfig(),a=r.positionStrategy;this._setPosition(e,a),r.hasBackdrop=null==e.hasBackdrop?!this.triggersSubmenu():e.hasBackdrop,i.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof xw&&(e._startAnimation(),e._directDescendantItems.changes.pipe((0,Qs.R)(e.close)).subscribe(()=>{a.withLockedPosition(!1).reapplyLastPosition(),a.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof xw?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe((0,Re.h)(r=>"void"===r.toState),(0,_s.q)(1),(0,Qs.R)(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let i=0,r=e.parentMenu;for(;r;)i++,r=r.parentMenu;e.setElevation(i)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){const i=this._getOverlayConfig(e);this._subscribeToPositions(e,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new dF({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,i){e.setPositionClasses&&i.positionChanges.subscribe(r=>{const a="start"===r.connectionPair.overlayX?"after":"before",d="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(a,d)):e.setPositionClasses(a,d)})}_setPosition(e,i){let[r,a]="before"===e.xPosition?["end","start"]:["start","end"],[d,f]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[_,b]=[d,f],[C,k]=[r,a],L=0;if(this.triggersSubmenu()){if(k=r="before"===e.xPosition?"start":"end",a=C="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const B=this._parentMaterialMenu.items.first;this._parentInnerPadding=B?B._getHostElement().offsetTop:0}L="bottom"===d?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(_="top"===d?"bottom":"top",b="top"===f?"bottom":"top");i.withPositions([{originX:r,originY:_,overlayX:C,overlayY:d,offsetY:L},{originX:a,originY:_,overlayX:k,overlayY:d,offsetY:L},{originX:r,originY:b,overlayX:C,overlayY:f,offsetY:-L},{originX:a,originY:b,overlayX:k,overlayY:f,offsetY:-L}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,it.of)(),a=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,Re.h)(d=>d!==this._menuItemInstance),(0,Re.h)(()=>this._menuOpen)):(0,it.of)();return(0,Mu.T)(e,r,a,i)}_handleMousedown(e){eA(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,Re.h)(e=>e===this._menuItemInstance&&!e.disabled),WN(0,lM)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof xw&&this.menu._isAnimating?this.menu._animationDone.pipe((0,_s.q)(1),WN(0,lM),(0,Qs.R)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new sF(e.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(dw),s.Y36(s.SBq),s.Y36(s.s_b),s.Y36(ZN),s.Y36(BM,8),s.Y36(GI,10),s.Y36(Py,8),s.Y36($C),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,hostVars:3,hostBindings:function(e,i){1&e&&s.NdJ("click",function(a){return i._handleClick(a)})("mousedown",function(a){return i._handleMousedown(a)})("keydown",function(a){return i._handleKeydown(a)}),2&e&&s.uIk("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),c4=(()=>{class n extends a4{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[s.qOj]}),n})(),l4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[s4],imports:[gi,Ny,vi,_F,OI,vi]}),n})(),d4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[gi,Vl,mw,l4,FM]}),n})();D(8848);const QN_firebase={projectId:"fir-stack-over",appId:"1:716807091844:web:f1f3fdbab136425d8134d1",databaseURL:"https://fir-stack-over-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"fir-stack-over.appspot.com",apiKey:"AIzaSyA3xBrKc9VoG68bbn9wHd_znbLnEIG27qA",authDomain:"fir-stack-over.firebaseapp.com",messagingSenderId:"716807091844",automaticDataCollectionEnabled:!1};let UM=(()=>{class n{constructor(e,i){this.firestore=e,this.store=i}createQuestion(e){return this.firestore.collection("questions").doc(e.slug).set(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ou),s.LFG(fe.yh))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Xy=(()=>(function(n){n.CREATE_QUESTION="[Create question] Create question",n.CREATE_QUESTION_SUCCESS="[Create question] Create question success",n.CREATE_QUESTION_FAILURE="[Create question] Create question failure"}(Xy||(Xy={})),Xy))();const VM=(0,fe.PH)(Xy.CREATE_QUESTION,(0,fe.Ky)()),jM=(0,fe.PH)(Xy.CREATE_QUESTION_SUCCESS),XN=(0,fe.PH)(Xy.CREATE_QUESTION_FAILURE);let u4=(()=>{class n{constructor(e,i,r){this.actions$=e,this.createQuestionService=i,this.router=r,this.createQuestion$=lo(()=>this.actions$.pipe(uo(VM),(0,jn.w)(({questionInput:a})=>(0,tn.D)(this.createQuestionService.createQuestion(a)).pipe((0,N.U)(()=>jM()),(0,Br.K)(()=>(0,it.of)(XN())))))),this.redirectAfterCreate$=lo(()=>this.actions$.pipe(uo(jM),(0,ti.b)(()=>{this.router.navigate(["/"])})),{dispatch:!1})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Rc),s.LFG(UM),s.LFG(Cr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const JN=(0,fe.ZF)("createQuestion"),h4=(0,fe.P1)(JN,n=>n.isSubmitting),f4=(0,fe.P1)(JN,n=>n.validationErrors);let m4=(()=>{class n{constructor(e,i,r){this.store=e,this.service=i,this.firestore=r,this.initialValues={title:"",body:"",tags:[],date:0,slug:"",comments:[],isAnswered:!1,author:null,approved:!1},this.isSubmitting$={},this.backendErrors$={},this.currentUser$={},this.currentUser={}}ngOnInit(){this.isSubmitting$=this.store.pipe((0,fe.Ys)(h4)),this.backendErrors$=this.store.pipe((0,fe.Ys)(f4)),this.store.pipe((0,fe.Ys)(Yy)).subscribe(e=>{e&&(this.currentUser=e)})}onSubmit(e){e.slug=this.firestore.createId(),e.date=Date.now(),e.comments=[],e.author=this.currentUser,e.approved=!1,this.store.dispatch(VM({questionInput:e}))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(fe.yh),s.Y36(UM),s.Y36(Ou))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-create-question"]],decls:3,vars:7,consts:[[3,"initialValues","isSubmitting","errors","questionSubmit"]],template:function(e,i){1&e&&(s.TgZ(0,"app-question-form",0),s.NdJ("questionSubmit",function(a){return i.onSubmit(a)}),s.ALo(1,"async"),s.ALo(2,"async"),s.qZA()),2&e&&s.Q6J("initialValues",i.initialValues)("isSubmitting",s.lcZ(1,3,i.isSubmitting$))("errors",s.lcZ(2,5,i.backendErrors$))},dependencies:[eN,Zt]}),n})();const g4=(0,fe.Lq)({isSubmitting:!1,validationErrors:null},(0,fe.on)(VM,n=>({...n,isSubmitting:!0})),(0,fe.on)(jM,n=>({...n,isSubmitting:!1})),(0,fe.on)(XN,n=>({...n,isSubmitting:!1})));function _4(n,t){return g4(n,t)}const y4=[{path:"questions/new",component:m4}];let v4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[UM],imports:[gi,Vl.forChild(y4),YF,qy.forFeature([u4]),fe.Aw.forFeature("createQuestion",_4),zO]}),n})();const b4=[];let w4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Vl.forRoot(b4),Vl]}),n})();var Yo=(()=>(function(n){n.REGISTRATION="[Auth] Registration",n.REGISTRATION_SUCCESS="[Auth] Registration success",n.REGISTRATION_FAILURE="[Auth] Registration failure",n.LOGIN="[Auth] Login",n.LOGIN_SUCCESS="[Auth] Login success",n.LOGIN_FAILURE="[Auth] Login failure",n.GET_CURRENT_USER="[Auth] Get current user",n.GET_CURRENT_USER_SUCCESS="[Auth] Get current user success",n.GET_CURRENT_USER_FAILURE="[Auth] Get current user failure",n.LOGOUT="[Auth] Logout",n.LOGOUT_SUCCESS="[Auth] Logout success",n.LOGOUT_FAILURE="[Auth] Logout failure"}(Yo||(Yo={})),Yo))();const zM=(0,fe.PH)(Yo.GET_CURRENT_USER),eL=(0,fe.PH)(Yo.GET_CURRENT_USER_SUCCESS,(0,fe.Ky)()),tL=(0,fe.PH)(Yo.GET_CURRENT_USER_FAILURE),HM=(0,fe.PH)(Yo.LOGOUT),x4=((0,fe.PH)(Yo.LOGOUT_SUCCESS),(0,fe.PH)(Yo.LOGOUT_FAILURE),function(){return["/register"]}),E4=function(){return["/login"]};function C4(n,t){1&n&&(s.TgZ(0,"div",11)(1,"li",5)(2,"a",12),s._uU(3," Sign Up "),s.qZA()(),s.TgZ(4,"li",5)(5,"a",12),s._uU(6," Sign In "),s.qZA()()()),2&n&&(s.xp6(2),s.Q6J("routerLink",s.DdM(2,x4)),s.xp6(3),s.Q6J("routerLink",s.DdM(3,E4)))}const WI=function(){return["/"]};function I4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"li",14),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.filterByNotApproved())}),s.TgZ(1,"a",12),s._uU(2," Not Approved Feed "),s.qZA()()}2&n&&(s.xp6(1),s.Q6J("routerLink",s.DdM(1,WI)))}const S4=function(){return["/profile"]};function D4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",13)(1,"li",14),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.filterByAuthor(r.userProfile.name))}),s.TgZ(2,"a",12),s._uU(3," My Feed "),s.qZA()(),s.YNc(4,I4,3,2,"li",15),s.ALo(5,"async"),s.TgZ(6,"button",16)(7,"p",17),s._uU(8),s.TgZ(9,"span"),s._uU(10),s.qZA()()(),s.TgZ(11,"mat-menu",null,18)(13,"button",19)(14,"span",20),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.logout())}),s._uU(15,"Logout"),s.qZA()(),s.TgZ(16,"button",19)(17,"span")(18,"a",12),s._uU(19," Profile "),s.qZA()()()()()}if(2&n){const e=s.MAs(12),i=s.oxw();let r;s.xp6(2),s.Q6J("routerLink",s.DdM(8,WI)),s.xp6(2),s.Q6J("ngIf",null==(r=s.lcZ(5,6,i.currentUser$))||null==r.user?null:r.user.isAdmin),s.xp6(2),s.Q6J("matMenuTriggerFor",e),s.xp6(2),s.hij(" User: ",i.userProfile.name," "),s.xp6(2),s.hij("(",i.userProfile.isAdmin?"Admin":"User",")"),s.xp6(8),s.Q6J("routerLink",s.DdM(9,S4))}}const T4=function(){return["/questions/new"]};let A4=(()=>{class n{constructor(e,i){this.store=e,this.settingsService=i,this.isLoggedIn$={},this.isAnonymous$={},this.currentUser$={},this.userProfileSubscription={},this.userProfile={}}ngOnInit(){this.isLoggedIn$=this.store.pipe((0,fe.Ys)(jN)),this.isAnonymous$=this.store.pipe((0,fe.Ys)(hG)),this.currentUser$=this.store.pipe((0,fe.Ys)(Yy)),this.initializeListeners()}initializeListeners(){this.userProfileSubscription=this.store.pipe((0,fe.Ys)(Yy)).subscribe(e=>{e&&(this.userProfile=e.user)})}logout(){this.store.dispatch(HM()),this.unsetFilters()}unsetFilters(){this.settingsService.setFilterByAuthor(""),this.settingsService.setFilterByNotApproved(!0)}filterByAuthor(e){this.settingsService.setFilterByAuthor(e)}filterByNotApproved(){this.settingsService.setFilterByNotApproved(!1)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(fe.yh),s.Y36(ww))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-header"]],decls:16,vars:12,consts:[[1,"header"],[1,"header__nav"],[1,"header__container"],[1,"header__title-link","header__link",3,"routerLink","click"],[1,"header__list"],[1,"header__list-item"],[1,"header__link",3,"routerLink","click"],["class","header__link-container",4,"ngIf"],["style","display: flex",4,"ngIf"],[1,"header__button-container"],["mat-raised-button","",1,"header__button",3,"routerLink"],[1,"header__link-container"],[1,"header__link",3,"routerLink"],[2,"display","flex"],[1,"header__list-item",3,"click"],["class","header__list-item",3,"click",4,"ngIf"],["mat-button","",3,"matMenuTriggerFor"],[1,"header__current-user"],["menu","matMenu"],["mat-menu-item",""],[1,"header__link",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"header",0)(1,"nav",1)(2,"div",2)(3,"a",3),s.NdJ("click",function(){return i.unsetFilters()}),s._uU(4," STACK OVER CLONE "),s.qZA(),s.TgZ(5,"ul",4)(6,"li",5)(7,"a",6),s.NdJ("click",function(){return i.unsetFilters()}),s._uU(8,"Home"),s.qZA()(),s.YNc(9,C4,7,4,"div",7),s.ALo(10,"async"),s.YNc(11,D4,20,10,"div",8),s.ALo(12,"async"),s.qZA(),s.TgZ(13,"div",9)(14,"a",10),s._uU(15," Add question "),s.qZA()()()()()),2&e&&(s.xp6(3),s.Q6J("routerLink",s.DdM(9,WI)),s.xp6(4),s.Q6J("routerLink",s.DdM(10,WI)),s.xp6(2),s.Q6J("ngIf",!s.lcZ(10,5,i.currentUser$)),s.xp6(2),s.Q6J("ngIf",s.lcZ(12,7,i.currentUser$)),s.xp6(3),s.Q6J("routerLink",s.DdM(11,T4)))},dependencies:[fi,Lu,F$,Ky,r4,GI,c4,Zt],styles:[".header[_ngcontent-%COMP%]{width:100%;height:80px;text-decoration:none}@media (max-width: 900px){.header[_ngcontent-%COMP%]{height:130px;margin-bottom:20px}}@media (max-width: 700px){.header[_ngcontent-%COMP%]{height:160px;margin-bottom:10px}}.header__link-container[_ngcontent-%COMP%]{display:flex}.header__nav[_ngcontent-%COMP%]{padding:20px 40px}.header__container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}@media (max-width: 700px){.header__container[_ngcontent-%COMP%]{flex-direction:column;align-items:center}}.header__list[_ngcontent-%COMP%]{padding:0;flex-direction:row}@media (max-width: 900px){.header__list[_ngcontent-%COMP%]{display:flex;flex-direction:row}}.header__title-link[_ngcontent-%COMP%]{align-self:center;cursor:pointer;font-size:24px;font-weight:700}.header__link[_ngcontent-%COMP%]{text-decoration:none;color:#45616b;transition:all .5s ease-out}.header__link[_ngcontent-%COMP%]:hover{color:#dfcdbf;opacity:.8;cursor:pointer}.header__list-item[_ngcontent-%COMP%]{margin:0 10px}.header__button-container[_ngcontent-%COMP%]{align-self:center}.header__list[_ngcontent-%COMP%]{display:flex;list-style:none}"]}),n})(),M4=(()=>{class n{constructor(e){this.document=e,this.theme=this.document.documentElement.classList.contains(n.DARK_THEME_CLASS)?n.DARK_THEME_DARK:n.DARK_THEME_LIGHT}selectDarkTheme(){this.document.documentElement.classList.add(n.DARK_THEME_CLASS),this.theme=n.DARK_THEME_DARK}selectLightTheme(){this.document.documentElement.classList.remove(n.DARK_THEME_CLASS),this.theme=n.DARK_THEME_LIGHT}}return n.DARK_THEME_CLASS="dark-theme",n.DARK_THEME_LIGHT="light",n.DARK_THEME_DARK="dark",n.\u0275fac=function(e){return new(e||n)(s.Y36(K))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-theme-switch"]],decls:5,vars:1,consts:[["name","theme","aria-label","Theme Selection",3,"value"],["value","light",3,"click"],["value","dark",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-button-toggle-group",0)(1,"mat-button-toggle",1),s.NdJ("click",function(){return i.selectLightTheme()}),s._uU(2,"Light"),s.qZA(),s.TgZ(3,"mat-button-toggle",2),s.NdJ("click",function(){return i.selectDarkTheme()}),s._uU(4,"Dark"),s.qZA()()),2&e&&s.Q6J("value",i.theme)},dependencies:[T1,A1],styles:[".mat-button-toggle{height:20px;margin:0}.mat-button-toggle-button,.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{line-height:0px}\n"],encapsulation:2}),n})();function k4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",8),s.NdJ("click",function(){const a=s.CHM(e).$implicit,d=s.oxw(2);return s.KtG(d.filterByTag(a))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e," ")}}function O4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"section",4)(2,"h3",5),s._uU(3,"Filters"),s.qZA(),s.TgZ(4,"span",6),s._uU(5,"By Answer"),s.qZA(),s.TgZ(6,"div",7)(7,"button",8),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.clickIsAnswered(null))}),s._uU(8,"All"),s.qZA(),s.TgZ(9,"button",8),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.clickIsAnswered(!0))}),s._uU(10," Answered questions "),s.qZA(),s.TgZ(11,"button",8),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.clickIsAnswered(!1))}),s._uU(12," Not answered questions "),s.qZA()(),s.TgZ(13,"span",6),s._uU(14,"By Tag"),s.qZA(),s.TgZ(15,"div",7),s.YNc(16,k4,2,1,"button",9),s.TgZ(17,"button",8),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.filterByTag(""))}),s._uU(18," Reset filter by tag "),s.qZA()(),s.TgZ(19,"span",6),s._uU(20,"By Date"),s.qZA(),s.TgZ(21,"div",7)(22,"button",8),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.filterByDate("day"))}),s._uU(23," Last day "),s.qZA(),s.TgZ(24,"button",8),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.filterByDate("two-days"))}),s._uU(25," Two days "),s.qZA(),s.TgZ(26,"button",8),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.filterByDate("week"))}),s._uU(27,"Week"),s.qZA(),s.TgZ(28,"button",8),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.filterByDate("all-time"))}),s._uU(29," All time "),s.qZA()()(),s.TgZ(30,"section",10)(31,"h3",5),s._uU(32,"Sort"),s.qZA(),s.TgZ(33,"span",6),s._uU(34,"By Date"),s.qZA(),s.TgZ(35,"div",7)(36,"button",8),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.sortByDate("asc"))}),s._uU(37,"Asc"),s.qZA(),s.TgZ(38,"button",8),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.sortByDate("desc"))}),s._uU(39,"Desc"),s.qZA()()(),s.TgZ(40,"section",4)(41,"h3",5),s._uU(42,"Settings"),s.qZA(),s.TgZ(43,"span",6),s._uU(44,"Layout"),s.qZA(),s.TgZ(45,"div",7)(46,"button",8),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.setLayoutType("line"))}),s._uU(47,"Line"),s.qZA(),s.TgZ(48,"button",8),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.setLayoutType("tile"))}),s._uU(49,"Tile"),s.qZA()(),s.TgZ(50,"span",6),s._uU(51,"Theme"),s.qZA(),s.TgZ(52,"div",7),s._UZ(53,"app-theme-switch"),s.qZA()()()}if(2&n){const e=s.oxw();s.xp6(16),s.Q6J("ngForOf",e.tags)}}let R4=(()=>{class n{constructor(e,i,r){this.service=e,this.firestore=i,this.settingsService=r,this.initialValues={title:"",body:"",tags:[],date:0,slug:"",comments:[],isAnswered:!1,author:null,approved:!1},this.isSubmitting$={},this.backendErrors$={},this.isSettingsOpen=!1,this.tags=Object.values(pw)}ngOnInit(){}toggleResultsPanel(){this.isSettingsOpen=!this.isSettingsOpen}clickIsAnswered(e){this.settingsService.setAnswered(e)}filterByDate(e){this.settingsService.setFilterByDate(e)}filterByTag(e){this.settingsService.setFilterByTag(e)}sortByDate(e){this.settingsService.setSortByDate(e)}setLayoutType(e){this.settingsService.setLayoutType(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(HO),s.Y36(Ou),s.Y36(ww))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-setting-panel"]],decls:4,vars:1,consts:[[1,"settings-panel"],[1,"settings-panel__titles",3,"click"],["class","settings-panel__container",4,"ngIf"],[1,"settings-panel__container"],[1,"setting-panel__filters","setting-panel__section"],[1,"settings-panel__title"],[1,"setting-panel__span"],[1,"setting-panel__buttons"],["mat-stroked-button","",3,"click"],["mat-stroked-button","",3,"click",4,"ngFor","ngForOf"],[1,"setting-panel__sort","setting-panel__section"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1),s.NdJ("click",function(){return i.toggleResultsPanel()}),s._uU(2," Filters / Sort / Settings "),s.qZA(),s.YNc(3,O4,54,1,"div",2),s.qZA()),2&e&&(s.xp6(3),s.Q6J("ngIf",i.isSettingsOpen))},dependencies:[Pn,fi,M4],styles:[".settings-panel[_ngcontent-%COMP%]{background-color:#a4d0bb;padding:10px;color:#45616b;transition:all .5s ease-out}.settings-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.8;cursor:pointer}.settings-panel__container[_ngcontent-%COMP%]{display:flex;justify-content:space-around}@media (max-width: 700px){.settings-panel__container[_ngcontent-%COMP%]{flex-direction:column;padding-left:20px}}.settings-panel__titles[_ngcontent-%COMP%]{cursor:pointer;display:flex;justify-content:center;font-size:20px;font-weight:600;margin-bottom:5px}.settings-panel__titles[_ngcontent-%COMP%]:hover{opacity:.8}.settings-panel__title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:0}.settings-panel__buttons[_ngcontent-%COMP%]{margin-bottom:5px}"]}),n})(),P4=(()=>{class n{constructor(e){this.store=e}ngOnInit(){this.store.dispatch(zM())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(fe.yh))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"main"]],template:function(e,i){1&e&&(s._UZ(0,"app-header")(1,"app-setting-panel"),s.TgZ(2,"main",0),s._UZ(3,"router-outlet"),s.qZA())},dependencies:[HA,A4,R4],styles:[".main[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;margin-top:5px}.base-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),n})();function nL(n){return new s.vHH(3e3,!1)}function g8(){return typeof window<"u"&&typeof window.document<"u"}function $M(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function zf(n){switch(n.length){case 0:return new hw;case 1:return n[0];default:return new wF(n)}}function iL(n,t,e,i,r=new Map,a=new Map){const d=[],f=[];let _=-1,b=null;if(i.forEach(C=>{const k=C.get("offset"),L=k==_,B=L&&b||new Map;C.forEach(($,ce)=>{let De=ce,Ye=$;if("offset"!==ce)switch(De=t.normalizePropertyName(De,d),Ye){case mM:Ye=r.get(ce);break;case Uu:Ye=a.get(ce);break;default:Ye=t.normalizeStyleValue(ce,De,Ye,d)}B.set(De,Ye)}),L||f.push(B),b=B,_=k}),d.length)throw function r8(n){return new s.vHH(3502,!1)}();return f}function GM(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&qM(e,"start",n)));break;case"done":n.onDone(()=>i(e&&qM(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&qM(e,"destroy",n)))}}function qM(n,t,e){const a=WM(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),d=n._data;return null!=d&&(a._data=d),a}function WM(n,t,e,i,r="",a=0,d){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:a,disabled:!!d}}function ea(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function rL(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let KM=(n,t)=>!1,oL=(n,t,e)=>[],sL=null;function ZM(n){const t=n.parentNode||n.host;return t===sL?null:t}($M()||typeof Element<"u")&&(g8()?(sL=(()=>document.documentElement)(),KM=(n,t)=>{for(;t;){if(t===n)return!0;t=ZM(t)}return!1}):KM=(n,t)=>n.contains(t),oL=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let qp=null,aL=!1;const cL=KM,lL=oL;let dL=(()=>{class n{validateStyleProperty(e){return function y8(n){qp||(qp=function v8(){return typeof document<"u"?document.body:null}()||{},aL=!!qp.style&&"WebkitAppearance"in qp.style);let t=!0;return qp.style&&!function _8(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in qp.style,!t&&aL&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in qp.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return cL(e,i)}getParentElement(e){return ZM(e)}query(e,i,r){return lL(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,a,d,f=[],_){return new hw(r,a)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),YM=(()=>{class n{}return n.NOOP=new dL,n})();const b8=1e3,QM="ng-enter",KI="ng-leave",ZI="ng-trigger",YI=".ng-trigger",hL="ng-animating",XM=".ng-animating";function zu(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:JM(parseFloat(t[1]),t[2])}function JM(n,t){return"s"===t?n*b8:n}function QI(n,t,e){return n.hasOwnProperty("duration")?n:function x8(n,t,e){let r,a=0,d="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return t.push(nL()),{duration:0,delay:0,easing:""};r=JM(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=JM(parseFloat(_),f[4]));const b=f[5];b&&(d=b)}else r=n;if(!e){let f=!1,_=t.length;r<0&&(t.push(function F4(){return new s.vHH(3100,!1)}()),f=!0),a<0&&(t.push(function N4(){return new s.vHH(3101,!1)}()),f=!0),f&&t.splice(_,0,nL())}return{duration:r,delay:a,easing:d}}(n,t,e)}function Ew(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function fL(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Hf(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function pL(n,t,e){return e?t+":"+e+";":""}function gL(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=pL(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=pL(0,S8(e),n.style[e]));n.setAttribute("style",t)}function jl(n,t,e){n.style&&(t.forEach((i,r)=>{const a=tk(r);e&&!e.has(r)&&e.set(r,n.style[a]),n.style[a]=i}),$M()&&gL(n))}function Wp(n,t){n.style&&(t.forEach((e,i)=>{const r=tk(i);n.style[r]=""}),$M()&&gL(n))}function Cw(n){return Array.isArray(n)?1==n.length?n[0]:vF(n):n}const ek=new RegExp("{{\\s*(.+?)\\s*}}","g");function _L(n){let t=[];if("string"==typeof n){let e;for(;e=ek.exec(n);)t.push(e[1]);ek.lastIndex=0}return t}function Iw(n,t,e){const i=n.toString(),r=i.replace(ek,(a,d)=>{let f=t[d];return null==f&&(e.push(function B4(n){return new s.vHH(3003,!1)}()),f=""),f.toString()});return r==i?n:r}function XI(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const I8=/-+([a-z0-9])/g;function tk(n){return n.replace(I8,(...t)=>t[1].toUpperCase())}function S8(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ta(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function U4(n){return new s.vHH(3004,!1)}()}}function yL(n,t){return window.getComputedStyle(n)[t]}const tS="*";function O8(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function R8(n,t,e){if(":"==n[0]){const _=function P8(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function J4(n){return new s.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof _)return void t.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function X4(n){return new s.vHH(3015,!1)}()),t;const r=i[1],a=i[2],d=i[3];t.push(vL(r,d));"<"==a[0]&&!(r==tS&&d==tS)&&t.push(vL(d,r))}(i,e,t)):e.push(n),e}const nS=new Set(["true","1"]),iS=new Set(["false","0"]);function vL(n,t){const e=nS.has(n)||iS.has(n),i=nS.has(t)||iS.has(t);return(r,a)=>{let d=n==tS||n==r,f=t==tS||t==a;return!d&&e&&"boolean"==typeof r&&(d=r?nS.has(n):iS.has(n)),!f&&i&&"boolean"==typeof a&&(f=a?nS.has(t):iS.has(t)),d&&f}}const F8=new RegExp("s*:selfs*,?","g");function nk(n,t,e,i){return new N8(n).build(t,e,i)}class N8{constructor(t){this._driver=t}build(t,e,i){const r=new U8(e);return this._resetContextStyleTimingState(r),ta(this,Cw(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const a=[],d=[];return"@"==t.name.charAt(0)&&e.errors.push(function j4(){return new s.vHH(3006,!1)}()),t.definitions.forEach(f=>{if(this._resetContextStyleTimingState(e),0==f.type){const _=f,b=_.name;b.toString().split(/\s*,\s*/).forEach(C=>{_.name=C,a.push(this.visitState(_,e))}),_.name=b}else if(1==f.type){const _=this.visitTransition(f,e);i+=_.queryCount,r+=_.depCount,d.push(_)}else e.errors.push(function z4(){return new s.vHH(3007,!1)}())}),{type:7,name:t.name,states:a,transitions:d,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const a=new Set,d=r||{};i.styles.forEach(f=>{f instanceof Map&&f.forEach(_=>{_L(_).forEach(b=>{d.hasOwnProperty(b)||a.add(b)})})}),a.size&&(XI(a.values()),e.errors.push(function H4(n,t){return new s.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=ta(this,Cw(t.animation),e);return{type:1,matchers:O8(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Kp(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>ta(this,i,e)),options:Kp(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const a=t.steps.map(d=>{e.currentTime=i;const f=ta(this,d,e);return r=Math.max(r,e.currentTime),f});return e.currentTime=r,{type:3,steps:a,options:Kp(t.options)}}visitAnimate(t,e){const i=function j8(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return ik(QI(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=ik(0,0,"");return a.dynamic=!0,a.strValue=e,a}const r=QI(e,t);return ik(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,a=t.styles?t.styles:ja({});if(5==a.type)r=this.visitKeyframes(a,e);else{let d=t.styles,f=!1;if(!d){f=!0;const b={};i.easing&&(b.easing=i.easing),d=ja(b)}e.currentTime+=i.duration+i.delay;const _=this.visitStyle(d,e);_.isEmptyStep=f,r=_}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let f of r)"string"==typeof f?f===Uu?i.push(f):e.errors.push(new s.vHH(3002,!1)):i.push(fL(f));let a=!1,d=null;return i.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(d=f.get("easing"),f.delete("easing")),!a))for(let _ of f.values())if(_.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:i,easing:d,offset:t.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,a=e.currentTime;i&&a>0&&(a-=i.duration+i.delay),t.styles.forEach(d=>{"string"!=typeof d&&d.forEach((f,_)=>{const b=e.collectedStyles.get(e.currentQuerySelector),C=b.get(_);let k=!0;C&&(a!=r&&a>=C.startTime&&r<=C.endTime&&(e.errors.push(function G4(n,t,e,i,r){return new s.vHH(3010,!1)}()),k=!1),a=C.startTime),k&&b.set(_,{startTime:a,endTime:r}),e.options&&function C8(n,t,e){const i=t.params||{},r=_L(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||e.push(function L4(n){return new s.vHH(3001,!1)}())})}(f,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function q4(){return new s.vHH(3011,!1)}()),i;let a=0;const d=[];let f=!1,_=!1,b=0;const C=t.steps.map(Ye=>{const vt=this._makeStyleAst(Ye,e);let wt=null!=vt.offset?vt.offset:function V8(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(vt.styles),Ct=0;return null!=wt&&(a++,Ct=vt.offset=wt),_=_||Ct<0||Ct>1,f=f||Ct<b,b=Ct,d.push(Ct),vt});_&&e.errors.push(function W4(){return new s.vHH(3012,!1)}()),f&&e.errors.push(function K4(){return new s.vHH(3200,!1)}());const k=t.steps.length;let L=0;a>0&&a<k?e.errors.push(function Z4(){return new s.vHH(3202,!1)}()):0==a&&(L=1/(k-1));const B=k-1,$=e.currentTime,ce=e.currentAnimateTimings,De=ce.duration;return C.forEach((Ye,vt)=>{const wt=L>0?vt==B?1:L*vt:d[vt],Ct=wt*De;e.currentTime=$+ce.delay+Ct,ce.duration=Ct,this._validateStyleAst(Ye,e),Ye.offset=wt,i.styles.push(Ye)}),i}visitReference(t,e){return{type:8,animation:ta(this,Cw(t.animation),e),options:Kp(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Kp(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Kp(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[a,d]=function L8(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(F8,"")),n=n.replace(/@\*/g,YI).replace(/@\w+/g,e=>YI+"-"+e.slice(1)).replace(/:animating/g,XM),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+a:a,ea(e.collectedStyles,e.currentQuerySelector,new Map);const f=ta(this,Cw(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:d,animation:f,originalSelector:t.selector,options:Kp(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Y4(){return new s.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:QI(t.timings,e.errors,!0);return{type:12,animation:ta(this,Cw(t.animation),e),timings:i,options:null}}}class U8{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Kp(n){return n?(n=Ew(n)).params&&(n.params=function B8(n){return n?Ew(n):null}(n.params)):n={},n}function ik(n,t,e){return{duration:n,delay:t,easing:e}}function rk(n,t,e,i,r,a,d=null,f=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:d,subTimeline:f}}class rS{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const $8=new RegExp(":enter","g"),q8=new RegExp(":leave","g");function ok(n,t,e,i,r,a=new Map,d=new Map,f,_,b=[]){return(new W8).buildKeyframes(n,t,e,i,r,a,d,f,_,b)}class W8{buildKeyframes(t,e,i,r,a,d,f,_,b,C=[]){b=b||new rS;const k=new sk(t,e,b,r,a,C,[]);k.options=_;const L=_.delay?zu(_.delay):0;k.currentTimeline.delayNextStep(L),k.currentTimeline.setStyles([d],null,k.errors,_),ta(this,i,k);const B=k.timelines.filter($=>$.containsAnimation());if(B.length&&f.size){let $;for(let ce=B.length-1;ce>=0;ce--){const De=B[ce];if(De.element===e){$=De;break}}$&&!$.allowOnlyTimelineStyles()&&$.setStyles([f],null,k.errors,_)}return B.length?B.map($=>$.buildKeyframes()):[rk(e,[],[],[],0,L,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),a=e.currentTimeline.currentTime,d=this._visitSubInstructions(i,r,r.options);a!=d&&e.transformIntoNewTimeline(d)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const a=r?.delay;if(a){const d="number"==typeof a?a:zu(Iw(a,r?.params??{},e.errors));i.delayNextStep(d)}}}_visitSubInstructions(t,e,i){let a=e.currentTimeline.currentTime;const d=null!=i.duration?zu(i.duration):null,f=null!=i.delay?zu(i.delay):null;return 0!==d&&t.forEach(_=>{const b=e.appendInstructionToTimeline(_,d,f);a=Math.max(a,b.duration+b.delay)}),a}visitReference(t,e){e.updateOptions(t.options,!0),ta(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const a=t.options;if(a&&(a.params||a.delay)&&(r=e.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=oS);const d=zu(a.delay);r.delayNextStep(d)}t.steps.length&&(t.steps.forEach(d=>ta(this,d,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const a=t.options&&t.options.delay?zu(t.options.delay):0;t.steps.forEach(d=>{const f=e.createSubContext(t.options);a&&f.delayNextStep(a),ta(this,d,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(d=>e.currentTimeline.mergeTimelineCollectedStyles(d)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return QI(e.params?Iw(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const a=t.style;5==a.type?this.visitKeyframes(a,e):(e.incrementTime(i.duration),this.visitStyle(a,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const a=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(a):i.setStyles(t.styles,a,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,a=i.duration,f=e.createSubContext().currentTimeline;f.easing=i.easing,t.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,e.errors,e.options),f.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(f),e.transformIntoNewTimeline(r+a),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},a=r.delay?zu(r.delay):0;a&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=oS);let d=i;const f=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=f.length;let _=null;f.forEach((b,C)=>{e.currentQueryIndex=C;const k=e.createSubContext(t.options,b);a&&k.delayNextStep(a),b===e.element&&(_=k.currentTimeline),ta(this,t.animation,k),k.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,k.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(d),_&&(e.currentTimeline.mergeTimelineCollectedStyles(_),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,a=t.timings,d=Math.abs(a.duration),f=d*(e.currentQueryTotal-1);let _=d*e.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=i.currentStaggerTime}const C=e.currentTimeline;_&&C.delayNextStep(_);const k=C.currentTime;ta(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-k+(r.startTime-i.currentTimeline.startTime)}}const oS={};class sk{constructor(t,e,i,r,a,d,f,_){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=d,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=oS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new sS(this._driver,e,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=zu(i.duration)),null!=i.delay&&(r.delay=zu(i.delay));const a=i.params;if(a){let d=r.params;d||(d=this.options.params={}),Object.keys(a).forEach(f=>{(!e||!d.hasOwnProperty(f))&&(d[f]=Iw(a[f],d,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,a=new sk(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(t),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(t){return this.previousNode=oS,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},a=new K8(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,a,d){let f=[];if(r&&f.push(this.element),t.length>0){t=(t=t.replace($8,"."+this._enterClassName)).replace(q8,"."+this._leaveClassName);let b=this._driver.query(this.element,t,1!=i);0!==i&&(b=i<0?b.slice(b.length+i,b.length):b.slice(0,i)),f.push(...b)}return!a&&0==f.length&&d.push(function Q4(n){return new s.vHH(3014,!1)}()),f}}class sS{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new sS(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Uu),this._currentKeyframe.set(e,Uu);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const a=r&&r.params||{},d=function Z8(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let a of i)e.set(a,Uu)}else Hf(r,e)}),e}(t,this._globalTimelineStyles);for(let[f,_]of d){const b=Iw(_,a,i);this._pendingStyles.set(f,b),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??Uu),this._updateStyle(f,b)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,_)=>{const b=Hf(f,new Map,this._backFill);b.forEach((C,k)=>{C===mM?t.add(k):C===Uu&&e.add(k)}),i||b.set("offset",_/this.duration),r.push(b)});const a=t.size?XI(t.values()):[],d=e.size?XI(e.values()):[];if(i){const f=r[0],_=new Map(f);f.set("offset",0),_.set("offset",1),r=[f,_]}return rk(this.element,r,a,d,this.duration,this.startTime,this.easing,!1)}}class K8 extends sS{constructor(t,e,i,r,a,d,f=!1){super(t,e,d.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const a=[],d=i+e,f=e/d,_=Hf(t[0]);_.set("offset",0),a.push(_);const b=Hf(t[0]);b.set("offset",xL(f)),a.push(b);const C=t.length-1;for(let k=1;k<=C;k++){let L=Hf(t[k]);const B=L.get("offset");L.set("offset",xL((e+B*i)/d)),a.push(L)}i=d,e=0,r="",t=a}return rk(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function xL(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class ak{}const Y8=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Q8 extends ak{normalizePropertyName(t,e){return tk(t)}normalizeStyleValue(t,e,i,r){let a="";const d=i.toString().trim();if(Y8.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function V4(n,t){return new s.vHH(3005,!1)}())}return d+a}}function EL(n,t,e,i,r,a,d,f,_,b,C,k,L){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:a,toState:i,toStyles:d,timelines:f,queriedElements:_,preStyleProps:b,postStyleProps:C,totalTime:k,errors:L}}const ck={};class CL{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function X8(n,t,e,i,r){return n.some(a=>a(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,a,d,f,_,b,C){const k=[],L=this.ast.options&&this.ast.options.params||ck,$=this.buildStyles(i,f&&f.params||ck,k),ce=_&&_.params||ck,De=this.buildStyles(r,ce,k),Ye=new Set,vt=new Map,wt=new Map,Ct="void"===r,Ut={params:J8(ce,L),delay:this.ast.options?.delay},Wt=C?[]:ok(t,e,this.ast.animation,a,d,$,De,Ut,b,k);let In=0;if(Wt.forEach(Hu=>{In=Math.max(Hu.duration+Hu.delay,In)}),k.length)return EL(e,this._triggerName,i,r,Ct,$,De,[],[],vt,wt,In,k);Wt.forEach(Hu=>{const $u=Hu.element,WL=ea(vt,$u,new Set);Hu.preStyleProps.forEach(Zp=>WL.add(Zp));const Dw=ea(wt,$u,new Set);Hu.postStyleProps.forEach(Zp=>Dw.add(Zp)),$u!==e&&Ye.add($u)});const Zr=XI(Ye.values());return EL(e,this._triggerName,i,r,Ct,$,De,Wt,Zr,vt,wt,In)}}function J8(n,t){const e=Ew(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class eq{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=Ew(this.defaultParams);return Object.keys(t).forEach(a=>{const d=t[a];null!==d&&(r[a]=d)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((d,f)=>{d&&(d=Iw(d,r,e));const _=this.normalizer.normalizePropertyName(f,e);d=this.normalizer.normalizeStyleValue(f,_,d,e),i.set(f,d)})}),i}}class nq{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new eq(r.style,r.options&&r.options.params||{},i))}),IL(this.states,"true","1"),IL(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new CL(t,r,this.states))}),this.fallbackTransition=function iq(n,t,e){return new CL(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,f)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(d=>d.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function IL(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const rq=new rS;class oq{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],r=[],a=nk(this._driver,e,i,r);if(i.length)throw function o8(n){return new s.vHH(3503,!1)}();this._animations.set(t,a)}_buildPlayer(t,e,i){const r=t.element,a=iL(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,a,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],a=this._animations.get(t);let d;const f=new Map;if(a?(d=ok(this._driver,e,a,QM,KI,new Map,new Map,i,rq,r),d.forEach(C=>{const k=ea(f,C.element,new Map);C.postStyleProps.forEach(L=>k.set(L,null))})):(r.push(function s8(){return new s.vHH(3300,!1)}()),d=[]),r.length)throw function a8(n){return new s.vHH(3504,!1)}();f.forEach((C,k)=>{C.forEach((L,B)=>{C.set(B,this._driver.computeStyle(k,B,Uu))})});const b=zf(d.map(C=>{const k=f.get(C.element);return this._buildPlayer(C,new Map,k)}));return this._playersById.set(t,b),b.onDestroy(()=>this.destroy(t)),this.players.push(b),b}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function c8(n){return new s.vHH(3301,!1)}();return e}listen(t,e,i,r){const a=WM(e,"","","");return GM(this._getPlayer(t),i,a,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const a=this._getPlayer(t);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const SL="ng-animate-queued",lk="ng-animate-disabled",dq=[],DL={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},uq={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ha="__ng_removed";class dk{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function pq(n){return n??null}(i?t.value:t),i){const a=Ew(t);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Sw="void",uk=new dk(Sw);class hq{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,$a(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function l8(n,t){return new s.vHH(3302,!1)}();if(null==i||0==i.length)throw function d8(n){return new s.vHH(3303,!1)}();if(!function gq(n){return"start"==n||"done"==n}(i))throw function u8(n,t){return new s.vHH(3400,!1)}();const a=ea(this._elementListeners,t,[]),d={name:e,phase:i,callback:r};a.push(d);const f=ea(this._engine.statesByElement,t,new Map);return f.has(e)||($a(t,ZI),$a(t,ZI+"-"+e),f.set(e,uk)),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(d);_>=0&&a.splice(_,1),this._triggers.has(e)||f.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function h8(n){return new s.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const a=this._getTrigger(e),d=new hk(this.id,e,t);let f=this._engine.statesByElement.get(t);f||($a(t,ZI),$a(t,ZI+"-"+e),this._engine.statesByElement.set(t,f=new Map));let _=f.get(e);const b=new dk(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&b.absorbOptions(_.options),f.set(e,b),_||(_=uk),b.value!==Sw&&_.value===b.value){if(!function vq(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const a=e[r];if(!t.hasOwnProperty(a)||n[a]!==t[a])return!1}return!0}(_.params,b.params)){const ce=[],De=a.matchStyles(_.value,_.params,ce),Ye=a.matchStyles(b.value,b.params,ce);ce.length?this._engine.reportError(ce):this._engine.afterFlush(()=>{Wp(t,De),jl(t,Ye)})}return}const L=ea(this._engine.playersByElement,t,[]);L.forEach(ce=>{ce.namespaceId==this.id&&ce.triggerName==e&&ce.queued&&ce.destroy()});let B=a.matchTransition(_.value,b.value,t,b.params),$=!1;if(!B){if(!r)return;B=a.fallbackTransition,$=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:B,fromState:_,toState:b,player:d,isFallbackTransition:$}),$||($a(t,SL),d.onStart(()=>{Jy(t,SL)})),d.onDone(()=>{let ce=this.players.indexOf(d);ce>=0&&this.players.splice(ce,1);const De=this._engine.playersByElement.get(t);if(De){let Ye=De.indexOf(d);Ye>=0&&De.splice(Ye,1)}}),this.players.push(d),L.push(d),d}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,YI,!0);i.forEach(r=>{if(r[Ha])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(d=>d.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const a=this._engine.statesByElement.get(t),d=new Map;if(a){const f=[];if(a.forEach((_,b)=>{if(d.set(b,_.value),this._triggers.has(b)){const C=this.trigger(t,b,Sw,r);C&&f.push(C)}}),f.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,d),i&&zf(f).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(a=>{const d=a.name;if(r.has(d))return;r.add(d);const _=this._triggers.get(d).fallbackTransition,b=i.get(d)||uk,C=new dk(Sw),k=new hk(this.id,d,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:d,transition:_,fromState:b,toState:C,player:k,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(t):[];if(a&&a.length)r=!0;else{let d=t;for(;d=d.parentNode;)if(i.statesByElement.get(d)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const a=t[Ha];(!a||a===DL)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){$a(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,d=this._elementListeners.get(a);d&&d.forEach(f=>{if(f.name==i.triggerName){const _=WM(a,i.triggerName,i.fromState.value,i.toState.value);_._data=t,GM(i.player,f.phase,_,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const a=i.transition.ast.depCount,d=r.transition.ast.depCount;return 0==a||0==d?a-d:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class fq{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new hq(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let d=!1,f=this.driver.getParentElement(e);for(;f;){const _=r.get(f);if(_){const b=i.indexOf(_);i.splice(b+1,0,t),d=!0;break}f=this.driver.getParentElement(f)}d||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const a=this._fetchNamespace(r.namespaceId);a&&e.add(a)}return e}trigger(t,e,i,r){if(aS(e)){const a=this._fetchNamespace(t);if(a)return a.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!aS(e))return;const a=e[Ha];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const d=this.collectedLeaveElements.indexOf(e);d>=0&&this.collectedLeaveElements.splice(d,1)}if(t){const d=this._fetchNamespace(t);d&&d.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),$a(t,lk)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Jy(t,lk))}removeNode(t,e,i,r){if(aS(e)){const a=t?this._fetchNamespace(t):null;if(a?a.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const d=this.namespacesByHostElement.get(e);d&&d.id!==t&&d.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,a){this.collectedLeaveElements.push(e),e[Ha]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(t,e,i,r,a){return aS(e)?this._fetchNamespace(t).listen(e,i,r,a):()=>{}}_buildInstruction(t,e,i,r,a){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,a)}destroyInnerAnimations(t){let e=this.driver.query(t,YI,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,XM,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return zf(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Ha];if(e&&e.setForRemoval){if(t[Ha]=DL,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(lk)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)$a(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?zf(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function f8(n){return new s.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new rS,r=[],a=new Map,d=[],f=new Map,_=new Map,b=new Map,C=new Set;this.disabledNodes.forEach(Mt=>{C.add(Mt);const $t=this.driver.query(Mt,".ng-animate-queued",!0);for(let en=0;en<$t.length;en++)C.add($t[en])});const k=this.bodyNode,L=Array.from(this.statesByElement.keys()),B=ML(L,this.collectedEnterElements),$=new Map;let ce=0;B.forEach((Mt,$t)=>{const en=QM+ce++;$.set($t,en),Mt.forEach(On=>$a(On,en))});const De=[],Ye=new Set,vt=new Set;for(let Mt=0;Mt<this.collectedLeaveElements.length;Mt++){const $t=this.collectedLeaveElements[Mt],en=$t[Ha];en&&en.setForRemoval&&(De.push($t),Ye.add($t),en.hasAnimation?this.driver.query($t,".ng-star-inserted",!0).forEach(On=>Ye.add(On)):vt.add($t))}const wt=new Map,Ct=ML(L,Array.from(Ye));Ct.forEach((Mt,$t)=>{const en=KI+ce++;wt.set($t,en),Mt.forEach(On=>$a(On,en))}),t.push(()=>{B.forEach((Mt,$t)=>{const en=$.get($t);Mt.forEach(On=>Jy(On,en))}),Ct.forEach((Mt,$t)=>{const en=wt.get($t);Mt.forEach(On=>Jy(On,en))}),De.forEach(Mt=>{this.processLeaveNode(Mt)})});const Ut=[],Wt=[];for(let Mt=this._namespaceList.length-1;Mt>=0;Mt--)this._namespaceList[Mt].drainQueuedTransitions(e).forEach(en=>{const On=en.player,Yr=en.element;if(Ut.push(On),this.collectedEnterElements.length){const Mo=Yr[Ha];if(Mo&&Mo.setForMove){if(Mo.previousTriggersValues&&Mo.previousTriggersValues.has(en.triggerName)){const Yp=Mo.previousTriggersValues.get(en.triggerName),Ga=this.statesByElement.get(en.element);if(Ga&&Ga.has(en.triggerName)){const uS=Ga.get(en.triggerName);uS.value=Yp,Ga.set(en.triggerName,uS)}}return void On.destroy()}}const zl=!k||!this.driver.containsElement(k,Yr),na=wt.get(Yr),$f=$.get(Yr),ji=this._buildInstruction(en,i,$f,na,zl);if(ji.errors&&ji.errors.length)return void Wt.push(ji);if(zl)return On.onStart(()=>Wp(Yr,ji.fromStyles)),On.onDestroy(()=>jl(Yr,ji.toStyles)),void r.push(On);if(en.isFallbackTransition)return On.onStart(()=>Wp(Yr,ji.fromStyles)),On.onDestroy(()=>jl(Yr,ji.toStyles)),void r.push(On);const YL=[];ji.timelines.forEach(Mo=>{Mo.stretchStartingKeyframe=!0,this.disabledNodes.has(Mo.element)||YL.push(Mo)}),ji.timelines=YL,i.append(Yr,ji.timelines),d.push({instruction:ji,player:On,element:Yr}),ji.queriedElements.forEach(Mo=>ea(f,Mo,[]).push(On)),ji.preStyleProps.forEach((Mo,Yp)=>{if(Mo.size){let Ga=_.get(Yp);Ga||_.set(Yp,Ga=new Set),Mo.forEach((uS,bk)=>Ga.add(bk))}}),ji.postStyleProps.forEach((Mo,Yp)=>{let Ga=b.get(Yp);Ga||b.set(Yp,Ga=new Set),Mo.forEach((uS,bk)=>Ga.add(bk))})});if(Wt.length){const Mt=[];Wt.forEach($t=>{Mt.push(function m8(n,t){return new s.vHH(3505,!1)}())}),Ut.forEach($t=>$t.destroy()),this.reportError(Mt)}const In=new Map,Zr=new Map;d.forEach(Mt=>{const $t=Mt.element;i.has($t)&&(Zr.set($t,$t),this._beforeAnimationBuild(Mt.player.namespaceId,Mt.instruction,In))}),r.forEach(Mt=>{const $t=Mt.element;this._getPreviousPlayers($t,!1,Mt.namespaceId,Mt.triggerName,null).forEach(On=>{ea(In,$t,[]).push(On),On.destroy()})});const Hu=De.filter(Mt=>OL(Mt,_,b)),$u=new Map;AL($u,this.driver,vt,b,Uu).forEach(Mt=>{OL(Mt,_,b)&&Hu.push(Mt)});const Dw=new Map;B.forEach((Mt,$t)=>{AL(Dw,this.driver,new Set(Mt),_,mM)}),Hu.forEach(Mt=>{const $t=$u.get(Mt),en=Dw.get(Mt);$u.set(Mt,new Map([...Array.from($t?.entries()??[]),...Array.from(en?.entries()??[])]))});const Zp=[],KL=[],ZL={};d.forEach(Mt=>{const{element:$t,player:en,instruction:On}=Mt;if(i.has($t)){if(C.has($t))return en.onDestroy(()=>jl($t,On.toStyles)),en.disabled=!0,en.overrideTotalTime(On.totalTime),void r.push(en);let Yr=ZL;if(Zr.size>1){let na=$t;const $f=[];for(;na=na.parentNode;){const ji=Zr.get(na);if(ji){Yr=ji;break}$f.push(na)}$f.forEach(ji=>Zr.set(ji,Yr))}const zl=this._buildAnimation(en.namespaceId,On,In,a,Dw,$u);if(en.setRealPlayer(zl),Yr===ZL)Zp.push(en);else{const na=this.playersByElement.get(Yr);na&&na.length&&(en.parentPlayer=zf(na)),r.push(en)}}else Wp($t,On.fromStyles),en.onDestroy(()=>jl($t,On.toStyles)),KL.push(en),C.has($t)&&r.push(en)}),KL.forEach(Mt=>{const $t=a.get(Mt.element);if($t&&$t.length){const en=zf($t);Mt.setRealPlayer(en)}}),r.forEach(Mt=>{Mt.parentPlayer?Mt.syncPlayerEvents(Mt.parentPlayer):Mt.destroy()});for(let Mt=0;Mt<De.length;Mt++){const $t=De[Mt],en=$t[Ha];if(Jy($t,KI),en&&en.hasAnimation)continue;let On=[];if(f.size){let zl=f.get($t);zl&&zl.length&&On.push(...zl);let na=this.driver.query($t,XM,!0);for(let $f=0;$f<na.length;$f++){let ji=f.get(na[$f]);ji&&ji.length&&On.push(...ji)}}const Yr=On.filter(zl=>!zl.destroyed);Yr.length?_q(this,$t,Yr):this.processLeaveNode($t)}return De.length=0,Zp.forEach(Mt=>{this.players.push(Mt),Mt.onDone(()=>{Mt.destroy();const $t=this.players.indexOf(Mt);this.players.splice($t,1)}),Mt.play()}),Zp}elementContainsData(t,e){let i=!1;const r=e[Ha];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,a){let d=[];if(e){const f=this.playersByQueriedElement.get(t);f&&(d=f)}else{const f=this.playersByElement.get(t);if(f){const _=!a||a==Sw;f.forEach(b=>{b.queued||!_&&b.triggerName!=r||d.push(b)})}}return(i||r)&&(d=d.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),d}_beforeAnimationBuild(t,e,i){const a=e.element,d=e.isRemovalTransition?void 0:t,f=e.isRemovalTransition?void 0:e.triggerName;for(const _ of e.timelines){const b=_.element,C=b!==a,k=ea(i,b,[]);this._getPreviousPlayers(b,C,d,f,e.toState).forEach(B=>{const $=B.getRealPlayer();$.beforeDestroy&&$.beforeDestroy(),B.destroy(),k.push(B)})}Wp(a,e.fromStyles)}_buildAnimation(t,e,i,r,a,d){const f=e.triggerName,_=e.element,b=[],C=new Set,k=new Set,L=e.timelines.map($=>{const ce=$.element;C.add(ce);const De=ce[Ha];if(De&&De.removedBeforeQueried)return new hw($.duration,$.delay);const Ye=ce!==_,vt=function yq(n){const t=[];return kL(n,t),t}((i.get(ce)||dq).map(In=>In.getRealPlayer())).filter(In=>!!In.element&&In.element===ce),wt=a.get(ce),Ct=d.get(ce),Ut=iL(0,this._normalizer,0,$.keyframes,wt,Ct),Wt=this._buildPlayer($,Ut,vt);if($.subTimeline&&r&&k.add(ce),Ye){const In=new hk(t,f,ce);In.setRealPlayer(Wt),b.push(In)}return Wt});b.forEach($=>{ea(this.playersByQueriedElement,$.element,[]).push($),$.onDone(()=>function mq(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,$.element,$))}),C.forEach($=>$a($,hL));const B=zf(L);return B.onDestroy(()=>{C.forEach($=>Jy($,hL)),jl(_,e.toStyles)}),k.forEach($=>{ea(r,$,[]).push(B)}),B}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new hw(t.duration,t.delay)}}class hk{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new hw,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>GM(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ea(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function aS(n){return n&&1===n.nodeType}function TL(n,t){const e=n.style.display;return n.style.display=t??"none",e}function AL(n,t,e,i,r){const a=[];e.forEach(_=>a.push(TL(_)));const d=[];i.forEach((_,b)=>{const C=new Map;_.forEach(k=>{const L=t.computeStyle(b,k,r);C.set(k,L),(!L||0==L.length)&&(b[Ha]=uq,d.push(b))}),n.set(b,C)});let f=0;return e.forEach(_=>TL(_,a[f++])),d}function ML(n,t){const e=new Map;if(n.forEach(f=>e.set(f,[])),0==t.length)return e;const i=1,r=new Set(t),a=new Map;function d(f){if(!f)return i;let _=a.get(f);if(_)return _;const b=f.parentNode;return _=e.has(b)?b:r.has(b)?i:d(b),a.set(f,_),_}return t.forEach(f=>{const _=d(f);_!==i&&e.get(_).push(f)}),e}function $a(n,t){n.classList?.add(t)}function Jy(n,t){n.classList?.remove(t)}function _q(n,t,e){zf(e).onDone(()=>n.processLeaveNode(t))}function kL(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof wF?kL(i.players,t):t.push(i)}}function OL(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(a=>r.add(a)):t.set(n,i),e.delete(n),!0}class cS{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new fq(t,e,i),this._timelineEngine=new oq(t,e,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(t,e,i,r,a){const d=t+"-"+r;let f=this._triggerCache[d];if(!f){const _=[],b=[],C=nk(this._driver,a,_,b);if(_.length)throw function n8(n,t){return new s.vHH(3404,!1)}();f=function tq(n,t,e){return new nq(n,t,e)}(r,C,this._normalizer),this._triggerCache[d]=f}this._transitionEngine.registerTrigger(e,r,f)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[a,d]=rL(i);this._timelineEngine.command(a,e,d,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,a){if("@"==i.charAt(0)){const[d,f]=rL(i);return this._timelineEngine.listen(d,e,f,a)}return this._transitionEngine.listen(t,e,i,r,a)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let wq=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(e);a||n.initialStylesByElement.set(e,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&jl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(jl(this._element,this._initialStyles),this._endStyles&&(jl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Wp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Wp(this._element,this._endStyles),this._endStyles=null),jl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function fk(n){let t=null;return n.forEach((e,i)=>{(function xq(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class RL{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:yL(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Eq{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return cL(t,e)}getParentElement(t){return ZM(t)}query(t,e,i){return lL(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,a,d=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(_.easing=a);const b=new Map,C=d.filter(B=>B instanceof RL);(function D8(n,t){return 0===n||0===t})(i,r)&&C.forEach(B=>{B.currentSnapshot.forEach(($,ce)=>b.set(ce,$))});let k=function E8(n){return n.length?n[0]instanceof Map?n:n.map(t=>fL(t)):[]}(e).map(B=>Hf(B));k=function T8(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((a,d)=>{i.has(d)||r.push(d),i.set(d,a)}),r.length)for(let a=1;a<t.length;a++){let d=t[a];r.forEach(f=>d.set(f,yL(n,f)))}}return t}(t,k,b);const L=function bq(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=fk(t[0]),t.length>1&&(i=fk(t[t.length-1]))):t instanceof Map&&(e=fk(t)),e||i?new wq(n,e,i):null}(t,k);return new RL(t,k,_,L)}}let Cq=(()=>{class n extends yF{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?vF(e):e;return PL(this._renderer,null,i,"register",[r]),new Iq(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(K))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Iq extends t3{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Sq(this._id,t,e||{},this._renderer)}}class Sq{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return PL(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function PL(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const FL="@.disabled";let Dq=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,d)=>{const f=d?.parentNode(a);f&&d.removeChild(f,a)}}createRenderer(e,i){const a=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let C=this._rendererCache.get(a);return C||(C=new NL("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,C)),C}const d=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,e);const _=C=>{Array.isArray(C)?C.forEach(_):this.engine.registerTrigger(d,f,e,C.name,C)};return i.data.animation.forEach(_),new Tq(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[d,f]=a;d(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(cS),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class NL{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?a=>e.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==FL?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Tq extends NL{constructor(t,e,i,r,a){super(e,i,r,a),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==FL?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function Aq(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let a=e.slice(1),d="";return"@"!=a.charAt(0)&&([a,d]=function Mq(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(a)),this.engine.listen(this.namespaceId,r,a,d,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(t,e,i)}}let kq=(()=>{class n extends cS{constructor(e,i,r,a){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(K),s.LFG(YM),s.LFG(ak),s.LFG(s.z2F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const LL=[{provide:yF,useClass:Cq},{provide:ak,useFactory:function Oq(){return new Q8}},{provide:cS,useClass:kq},{provide:s.FYo,useFactory:function Rq(n,t,e){return new Dq(n,t,e)},deps:[Ts,cS,s.R0b]}],mk=[{provide:YM,useFactory:()=>new Eq},{provide:s.QbO,useValue:"BrowserAnimations"},...LL],BL=[{provide:YM,useClass:dL},{provide:s.QbO,useValue:"NoopAnimations"},...LL];let Pq=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?BL:mk}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:mk,imports:[pa]}),n})(),pk=(()=>{class n{constructor(){}getId(e){return e+Math.floor(100*Math.random())+1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Fq=(()=>{class n{constructor(e,i,r){this.actions$=e,this.router=i,this.settingsService=r,this.logout$=lo(()=>this.actions$.pipe(uo(HM),(0,ti.b)(()=>{this.router.navigateByUrl("/"),this.settingsService.isLoggedIn=!1,this.settingsService.filterByNotApproved=!1})),{dispatch:!1})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Rc),s.LFG(Cr),s.LFG(ww))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const gk=(0,fe.PH)(Yo.LOGIN,(0,fe.Ky)()),_k=(0,fe.PH)(Yo.LOGIN_SUCCESS,(0,fe.Ky)()),UL=(0,fe.PH)(Yo.LOGIN_FAILURE,(0,fe.Ky)());let dS=(()=>{class n{constructor(e,i,r,a){this.afAuth=e,this.firestore=i,this.service=r,this.store=a,this.db=nN()}getById(e){return this.firestore.doc("users/"+e).get()}getUser(e){return e.user}register(e){return this.firestore.collection("users").doc(e.user.email).set(e)}login(e){var i=this;return(0,ue.Z)(function*(){const r=s6(i.db,"users",e.user.email);return(yield a6(r)).data()})()}getCurrentUser(){return this.store.pipe((0,fe.Ys)(Yy))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(UC),s.LFG(Ou),s.LFG(pk),s.LFG(fe.yh))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Nq=(()=>{class n{constructor(e,i,r,a){this.actions$=e,this.authService=i,this.router=r,this.settingsService=a,this.login$=lo(()=>this.actions$.pipe(uo(gk),(0,jn.w)(({request:d})=>(0,tn.D)(this.authService.login(d)).pipe((0,N.U)(f=>_k({currentUser:f})),(0,Br.K)(f=>(0,it.of)(UL({errors:f}))))))),this.redirectAfterSubmit$=lo(()=>this.actions$.pipe(uo(_k),(0,ti.b)(()=>{this.router.navigateByUrl("/"),this.settingsService.isLoggedIn=!0})),{dispatch:!1})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Rc),s.LFG(dS),s.LFG(Cr),s.LFG(ww))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const yk=(0,fe.PH)(Yo.REGISTRATION,(0,fe.Ky)()),vk=(0,fe.PH)(Yo.REGISTRATION_SUCCESS),VL=(0,fe.PH)(Yo.REGISTRATION_FAILURE,(0,fe.Ky)());let jL=(()=>{class n{constructor(){this.backendErrorsProps={}}ngOnInit(){console.log(this.backendErrorsProps)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-backend-error-message"]],inputs:{backendErrorsProps:["backendErrors","backendErrorsProps"]},decls:4,vars:1,consts:[[1,"backend-error"],[1,"backend-error__span"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._uU(1," Error: "),s.TgZ(2,"span",1),s._uU(3),s.qZA()()),2&e&&(s.xp6(3),s.Oqu(i.backendErrorsProps))},styles:[".backend-error[_ngcontent-%COMP%]{color:#d92121;font-size:18px;font-weight:600;margin-top:20px}.backend-error__span[_ngcontent-%COMP%]{color:#784d4d}"]}),n})();function Lq(n,t){if(1&n&&(s._UZ(0,"app-backend-error-message",13),s.ALo(1,"async")),2&n){const e=s.oxw();s.Q6J("backendErrors",s.lcZ(1,1,e.backendErrors$))}}const Bq=function(){return["/login"]};let Vq=(()=>{class n{constructor(e,i,r){this.formBuilder=e,this.store=i,this.service=r,this.form={},this.isSubmitting$={},this.backendErrors$={}}ngOnInit(){this.initializeForm(),this.initializeValues()}initializeValues(){this.isSubmitting$=this.store.pipe((0,fe.Ys)(UN)),this.backendErrors$=this.store.pipe((0,fe.Ys)(VN))}initializeForm(){this.form=this.formBuilder.group({name:["",Ll.required],email:["",[Ll.required,Ll.email]],password:["",[Ll.required,Ll.minLength(8)]],isAdmin:[!1,Ll.required]})}handleSubmit(){const e=this.service.getId(this.form.value.name),r={user:Object.assign({},this.form.value,{id:e})};this.store.dispatch(yk({request:r}))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(iI),s.Y36(fe.yh),s.Y36(pk))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-register"]],decls:21,vars:6,consts:[[1,"register"],[1,"register__container"],[1,"register__title-container"],[1,"register__title"],[1,"register__link",3,"routerLink"],[3,"backendErrors",4,"ngIf"],[1,"register__form",3,"formGroup","ngSubmit"],["appearance","fill"],["matInput","","type","text","placeholder","Name","formControlName","name"],["matInput","","type","email","placeholder","Email","formControlName","email"],["matInput","","type","password","placeholder","Password","formControlName","password"],["formControlName","isAdmin"],["type","submit","mat-raised-button","",1,"register__button"],[3,"backendErrors"]],template:function(e,i){1&e&&(s.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2",3),s._uU(4,"Sign Up"),s.qZA(),s.TgZ(5,"div")(6,"a",4),s._uU(7,"Have an account?"),s.qZA()()(),s.YNc(8,Lq,2,3,"app-backend-error-message",5),s.ALo(9,"async"),s.TgZ(10,"form",6),s.NdJ("ngSubmit",function(){return i.handleSubmit()}),s.TgZ(11,"mat-form-field",7),s._UZ(12,"input",8),s.qZA(),s.TgZ(13,"mat-form-field",7),s._UZ(14,"input",9),s.qZA(),s.TgZ(15,"mat-form-field",7),s._UZ(16,"input",10),s.qZA(),s.TgZ(17,"mat-checkbox",11),s._uU(18,"Is Admin?"),s.qZA(),s.TgZ(19,"button",12),s._uU(20," Sign Up "),s.qZA()()()()),2&e&&(s.xp6(6),s.Q6J("routerLink",s.DdM(5,Bq)),s.xp6(2),s.Q6J("ngIf",s.lcZ(9,3,i.backendErrors$)),s.xp6(2),s.Q6J("formGroup",i.form))},dependencies:[fi,Lu,G0,Lp,L0,B0,Pf,Ry,NF,zF,Ky,jL,vM,Zt],styles:[".register[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;color:#45616b;margin-top:50px}.register__container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center;width:320px;height:auto;padding:20px}.register__link[_ngcontent-%COMP%]{font-size:16px;color:#d3b197;transition:all .5s ease-out}.register__link[_ngcontent-%COMP%]:hover{color:#dfcdbf;opacity:.8}.register__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:10px}.register__form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-top:8px}.register__title[_ngcontent-%COMP%]{font-size:32px;font-weight:500}.register__button[_ngcontent-%COMP%]{font-size:20px}"]}),n})();function jq(n,t){if(1&n&&(s._UZ(0,"app-backend-error-message",11),s.ALo(1,"async")),2&n){const e=s.oxw();s.Q6J("backendErrors",s.lcZ(1,1,e.backendErrors$))}}const zq=function(){return["/register"]};let Hq=(()=>{class n{constructor(e,i){this.formBuilder=e,this.store=i,this.form={},this.isSubmitting$={},this.backendErrors$={}}ngOnInit(){this.initializeForm(),this.initializeValues()}initializeValues(){this.isSubmitting$=this.store.pipe((0,fe.Ys)(UN)),this.backendErrors$=this.store.pipe((0,fe.Ys)(VN))}initializeForm(){this.form=this.formBuilder.group({email:["",[Ll.required,Ll.email]],password:["",Ll.required]})}handleSubmit(){this.store.dispatch(gk({request:{user:this.form.value}}))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(iI),s.Y36(fe.yh))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-login"]],decls:17,vars:6,consts:[[1,"login"],[1,"login__container"],[1,"login__title-container"],[1,"login__title"],[1,"login__link",3,"routerLink"],[3,"backendErrors",4,"ngIf"],[1,"login__form",3,"formGroup","ngSubmit"],["appearance","fill"],["matInput","","type","email","placeholder","Email","formControlName","email"],["matInput","","type","password","placeholder","Password","formControlName","password"],["type","submit","mat-raised-button","",1,"login__button"],[3,"backendErrors"]],template:function(e,i){1&e&&(s.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2",3),s._uU(4,"Sign In"),s.qZA(),s.TgZ(5,"div")(6,"a",4),s._uU(7,"Need an account?"),s.qZA()()(),s.YNc(8,jq,2,3,"app-backend-error-message",5),s.ALo(9,"async"),s.TgZ(10,"form",6),s.NdJ("ngSubmit",function(){return i.handleSubmit()}),s.TgZ(11,"mat-form-field",7),s._UZ(12,"input",8),s.qZA(),s.TgZ(13,"mat-form-field",7),s._UZ(14,"input",9),s.qZA(),s.TgZ(15,"button",10),s._uU(16," Sign In "),s.qZA()()()()),2&e&&(s.xp6(6),s.Q6J("routerLink",s.DdM(5,zq)),s.xp6(2),s.Q6J("ngIf",s.lcZ(9,3,i.backendErrors$)),s.xp6(2),s.Q6J("formGroup",i.form))},dependencies:[fi,Lu,G0,Lp,L0,B0,Pf,Ry,NF,zF,Ky,jL,Zt],styles:[".login[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;color:#45616b;margin-top:50px}.login__container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center;width:320px;height:auto;padding:20px}.login__link[_ngcontent-%COMP%]{font-size:16px;color:#d3b197;transition:all .5s ease-out}.login__link[_ngcontent-%COMP%]:hover{color:#dfcdbf;opacity:.8}.login__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:10px}.login__form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-top:8px}.login__title[_ngcontent-%COMP%]{font-size:32px;font-weight:500}.login__button[_ngcontent-%COMP%]{font-size:20px}"]}),n})();const zL={isSubmitting:!1,currentUser:null,isLoggedIn:!1,validationErrors:null,isLoading:!1},$q=(0,fe.Lq)(zL,(0,fe.on)(yk,n=>({...n,isSubmitting:!0,validationErrors:null})),(0,fe.on)(vk,n=>({...n,isSubmitting:!1,isLoading:!1})),(0,fe.on)(VL,(n,t)=>({...n,isSubmitting:!1,validationErrors:t.errors})),(0,fe.on)(gk,n=>({...n,isSubmitting:!0,validationErrors:null})),(0,fe.on)(_k,(n,t)=>({...n,isSubmitting:!1,isLoggedIn:!0,currentUser:t.currentUser})),(0,fe.on)(UL,(n,t)=>({...n,isSubmitting:!1,validationErrors:t.errors})),(0,fe.on)(HM,n=>({...n,...zL,isLoggedIn:!1,currentUser:null})),(0,fe.on)(zM,n=>({...n,isLoading:!0})),(0,fe.on)(eL,(n,t)=>({...n,isLoading:!1,isLoggedIn:!0,currentUser:t.currentUser})),(0,fe.on)(tL,n=>({...n,isLoading:!1,isLoggedIn:!1,currentUser:null})));function Gq(n,t){return $q(n,t)}let HL=(()=>{class n{constructor(e,i,r){this.actions$=e,this.authService=i,this.router=r,this.register$=lo(()=>this.actions$.pipe(uo(yk),(0,jn.w)(({request:a})=>(0,tn.D)(this.authService.register(a)).pipe((0,N.U)(()=>vk()),(0,Br.K)(d=>(0,it.of)(VL({errors:d}))))))),this.redirectAfterSubmit$=lo(()=>this.actions$.pipe(uo(vk),(0,ti.b)(()=>{this.router.navigateByUrl("/login")})),{dispatch:!1})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Rc),s.LFG(dS),s.LFG(Cr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),qq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[gi]}),n})(),Wq=(()=>{class n{constructor(e,i){this.actions$=e,this.authService=i,this.getCurrentUser$=lo(()=>this.actions$.pipe(uo(zM),(0,jn.w)(()=>this.authService.getCurrentUser().pipe((0,N.U)(r=>eL({currentUser:r})),(0,Br.K)(()=>(0,it.of)(tL()))))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Rc),s.LFG(dS))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Kq=[{path:"register",component:Vq},{path:"login",component:Hq}];let Zq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[dS,pk],imports:[gi,Vl.forChild(Kq),EA,fe.Aw.forFeature("auth",Gq),qy.forFeature([HL,Nq,Fq,Wq,HL]),fw,HF,mw,qq,bM]}),n})();var Yq=D(825);const Qq=["*"],e5=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],t5=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],n5=new s.OlP("MAT_CARD_CONFIG");let $L=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(n5,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-mdc-card-outlined","outlined"===i.appearance)("mdc-card--outlined","outlined"===i.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:Qq,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),GL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),n})(),qL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:t5,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(e,i){1&e&&(s.F$t(e5),s.Hsn(0),s.TgZ(1,"div",0),s.Hsn(2,1),s.qZA(),s.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),p5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[vi,gi,vi]}),n})();function g5(n,t){if(1&n&&(s.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),s._uU(3,"Name: "),s.TgZ(4,"p",2),s._uU(5),s.qZA()(),s.TgZ(6,"mat-card-title"),s._uU(7,"E-mail: "),s.TgZ(8,"p",2),s._uU(9),s.qZA()(),s.TgZ(10,"mat-card-title"),s._uU(11,"Is Admin: "),s.TgZ(12,"p",2),s._uU(13),s.qZA()()()()),2&n){const e=s.oxw();s.xp6(5),s.hij(" ",e.userProfile.name," "),s.xp6(4),s.Oqu(e.userProfile.email),s.xp6(4),s.Oqu(e.userProfile.isAdmin)}}const _5=[{path:"profile",component:(()=>{class n{constructor(e){this.store=e,this.userProfile={},this.userProfileSubscription={}}ngOnInit(){this.initializeListeners()}initializeListeners(){this.userProfileSubscription=this.store.pipe((0,fe.Ys)(Yy)).subscribe(e=>{this.userProfile=e.user})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(fe.yh))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mc-user-profile"]],decls:2,vars:1,consts:[[1,"user-profile"],[4,"ngIf"],[1,"user-profile__p"]],template:function(e,i){1&e&&(s.TgZ(0,"section",0),s.YNc(1,g5,14,3,"mat-card",1),s.qZA()),2&e&&(s.xp6(1),s.Q6J("ngIf",i.userProfile))},dependencies:[fi,$L,qL,GL],styles:[".user-profile[_ngcontent-%COMP%]{margin-top:30px}.user-profile__p[_ngcontent-%COMP%]{font-size:14px;font-weight:400;margin-bottom:15px}.mat-mdc-card-header[_ngcontent-%COMP%]{height:300px;width:30vw;display:flex;flex-direction:column;justify-content:space-between}"]}),n})()}];let y5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[gi,Vl.forChild(_5),p5]}),n})(),v5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[P4]}),n.\u0275inj=s.cJS({imports:[pa,w4,Zq,d4,v4,qG,CG,m6,fV,y5,eG,qy.forRoot([]),fe.Aw.forRoot({router:b6}),at.hO.initializeApp(QN_firebase),Q2,zO,Pq,Yq.FT.instrument({maxAge:25,logOnly:false})]}),n})();Yc().bootstrapModule(v5).catch(n=>console.error(n))},1135:(ne,W,D)=>{D.d(W,{X:()=>H});var s=D(7579);class H extends s.x{constructor(J){super(),this._value=J}get value(){return this.getValue()}_subscribe(J){const q=super._subscribe(J);return!q.closed&&J.next(this._value),q}getValue(){const{hasError:J,thrownError:q,_value:K}=this;if(J)throw q;return this._throwIfClosed(),K}next(J){super.next(this._value=J)}}},9751:(ne,W,D)=>{D.d(W,{y:()=>ee});var s=D(930),H=D(727),P=D(8822),J=D(9635),q=D(2416),K=D(576),te=D(2806);let ee=(()=>{class G{constructor(we){we&&(this._subscribe=we)}lift(we){const Ve=new G;return Ve.source=this,Ve.operator=we,Ve}subscribe(we,Ve,Ze){const xe=function z(G){return G&&G instanceof s.Lv||function U(G){return G&&(0,K.m)(G.next)&&(0,K.m)(G.error)&&(0,K.m)(G.complete)}(G)&&(0,H.Nn)(G)}(we)?we:new s.Hp(we,Ve,Ze);return(0,te.x)(()=>{const{operator:Ee,source:Ie}=this;xe.add(Ee?Ee.call(xe,Ie):Ie?this._subscribe(xe):this._trySubscribe(xe))}),xe}_trySubscribe(we){try{return this._subscribe(we)}catch(Ve){we.error(Ve)}}forEach(we,Ve){return new(Ve=Y(Ve))((Ze,xe)=>{const Ee=new s.Hp({next:Ie=>{try{we(Ie)}catch(Fe){xe(Fe),Ee.unsubscribe()}},error:xe,complete:Ze});this.subscribe(Ee)})}_subscribe(we){var Ve;return null===(Ve=this.source)||void 0===Ve?void 0:Ve.subscribe(we)}[P.L](){return this}pipe(...we){return(0,J.U)(we)(this)}toPromise(we){return new(we=Y(we))((Ve,Ze)=>{let xe;this.subscribe(Ee=>xe=Ee,Ee=>Ze(Ee),()=>Ve(xe))})}}return G.create=pe=>new G(pe),G})();function Y(G){var pe;return null!==(pe=G??q.v.Promise)&&void 0!==pe?pe:Promise}},4707:(ne,W,D)=>{D.d(W,{t:()=>P});var s=D(7579),H=D(6063);class P extends s.x{constructor(q=1/0,K=1/0,te=H.l){super(),this._bufferSize=q,this._windowTime=K,this._timestampProvider=te,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=K===1/0,this._bufferSize=Math.max(1,q),this._windowTime=Math.max(1,K)}next(q){const{isStopped:K,_buffer:te,_infiniteTimeWindow:ee,_timestampProvider:Y,_windowTime:U}=this;K||(te.push(q),!ee&&te.push(Y.now()+U)),this._trimBuffer(),super.next(q)}_subscribe(q){this._throwIfClosed(),this._trimBuffer();const K=this._innerSubscribe(q),{_infiniteTimeWindow:te,_buffer:ee}=this,Y=ee.slice();for(let U=0;U<Y.length&&!q.closed;U+=te?1:2)q.next(Y[U]);return this._checkFinalizedStatuses(q),K}_trimBuffer(){const{_bufferSize:q,_timestampProvider:K,_buffer:te,_infiniteTimeWindow:ee}=this,Y=(ee?1:2)*q;if(q<1/0&&Y<te.length&&te.splice(0,te.length-Y),!ee){const U=K.now();let z=0;for(let G=1;G<te.length&&te[G]<=U;G+=2)z=G;z&&te.splice(0,z+1)}}}},7579:(ne,W,D)=>{D.d(W,{x:()=>te});var s=D(9751),H=D(727);const J=(0,D(3888).d)(Y=>function(){Y(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var q=D(8737),K=D(2806);let te=(()=>{class Y extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const G=new ee(this,this);return G.operator=z,G}_throwIfClosed(){if(this.closed)throw new J}next(z){(0,K.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const G of this.currentObservers)G.next(z)}})}error(z){(0,K.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:G}=this;for(;G.length;)G.shift().error(z)}})}complete(){(0,K.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:G,isStopped:pe,observers:we}=this;return G||pe?H.Lc:(this.currentObservers=null,we.push(z),new H.w0(()=>{this.currentObservers=null,(0,q.P)(we,z)}))}_checkFinalizedStatuses(z){const{hasError:G,thrownError:pe,isStopped:we}=this;G?z.error(pe):we&&z.complete()}asObservable(){const z=new s.y;return z.source=this,z}}return Y.create=(U,z)=>new ee(U,z),Y})();class ee extends te{constructor(U,z){super(),this.destination=U,this.source=z}next(U){var z,G;null===(G=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===G||G.call(z,U)}error(U){var z,G;null===(G=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===G||G.call(z,U)}complete(){var U,z;null===(z=null===(U=this.destination)||void 0===U?void 0:U.complete)||void 0===z||z.call(U)}_subscribe(U){var z,G;return null!==(G=null===(z=this.source)||void 0===z?void 0:z.subscribe(U))&&void 0!==G?G:H.Lc}}},930:(ne,W,D)=>{D.d(W,{Hp:()=>Ze,Lv:()=>G});var s=D(576),H=D(727),P=D(2416),J=D(7849),q=D(5032);const K=Y("C",void 0,void 0);function Y(le,de,Ce){return{kind:le,value:de,error:Ce}}var U=D(3410),z=D(2806);class G extends H.w0{constructor(de){super(),this.isStopped=!1,de?(this.destination=de,(0,H.Nn)(de)&&de.add(this)):this.destination=Fe}static create(de,Ce,Te){return new Ze(de,Ce,Te)}next(de){this.isStopped?Ie(function ee(le){return Y("N",le,void 0)}(de),this):this._next(de)}error(de){this.isStopped?Ie(function te(le){return Y("E",void 0,le)}(de),this):(this.isStopped=!0,this._error(de))}complete(){this.isStopped?Ie(K,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(de){this.destination.next(de)}_error(de){try{this.destination.error(de)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const pe=Function.prototype.bind;function we(le,de){return pe.call(le,de)}class Ve{constructor(de){this.partialObserver=de}next(de){const{partialObserver:Ce}=this;if(Ce.next)try{Ce.next(de)}catch(Te){xe(Te)}}error(de){const{partialObserver:Ce}=this;if(Ce.error)try{Ce.error(de)}catch(Te){xe(Te)}else xe(de)}complete(){const{partialObserver:de}=this;if(de.complete)try{de.complete()}catch(Ce){xe(Ce)}}}class Ze extends G{constructor(de,Ce,Te){let Pe;if(super(),(0,s.m)(de)||!de)Pe={next:de??void 0,error:Ce??void 0,complete:Te??void 0};else{let Q;this&&P.v.useDeprecatedNextContext?(Q=Object.create(de),Q.unsubscribe=()=>this.unsubscribe(),Pe={next:de.next&&we(de.next,Q),error:de.error&&we(de.error,Q),complete:de.complete&&we(de.complete,Q)}):Pe=de}this.destination=new Ve(Pe)}}function xe(le){P.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(le):(0,J.h)(le)}function Ie(le,de){const{onStoppedNotification:Ce}=P.v;Ce&&U.z.setTimeout(()=>Ce(le,de))}const Fe={closed:!0,next:q.Z,error:function Ee(le){throw le},complete:q.Z}},727:(ne,W,D)=>{D.d(W,{Lc:()=>K,w0:()=>q,Nn:()=>te});var s=D(576);const P=(0,D(3888).d)(Y=>function(z){Y(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((G,pe)=>`${pe+1}) ${G.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var J=D(8737);class q{constructor(U){this.initialTeardown=U,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let U;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const we of z)we.remove(this);else z.remove(this);const{initialTeardown:G}=this;if((0,s.m)(G))try{G()}catch(we){U=we instanceof P?we.errors:[we]}const{_finalizers:pe}=this;if(pe){this._finalizers=null;for(const we of pe)try{ee(we)}catch(Ve){U=U??[],Ve instanceof P?U=[...U,...Ve.errors]:U.push(Ve)}}if(U)throw new P(U)}}add(U){var z;if(U&&U!==this)if(this.closed)ee(U);else{if(U instanceof q){if(U.closed||U._hasParent(this))return;U._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push(U)}}_hasParent(U){const{_parentage:z}=this;return z===U||Array.isArray(z)&&z.includes(U)}_addParent(U){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(U),z):z?[z,U]:U}_removeParent(U){const{_parentage:z}=this;z===U?this._parentage=null:Array.isArray(z)&&(0,J.P)(z,U)}remove(U){const{_finalizers:z}=this;z&&(0,J.P)(z,U),U instanceof q&&U._removeParent(this)}}q.EMPTY=(()=>{const Y=new q;return Y.closed=!0,Y})();const K=q.EMPTY;function te(Y){return Y instanceof q||Y&&"closed"in Y&&(0,s.m)(Y.remove)&&(0,s.m)(Y.add)&&(0,s.m)(Y.unsubscribe)}function ee(Y){(0,s.m)(Y)?Y():Y.unsubscribe()}},2416:(ne,W,D)=>{D.d(W,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ne,W,D)=>{D.d(W,{E:()=>H});const H=new(D(9751).y)(q=>q.complete())},8996:(ne,W,D)=>{D.d(W,{D:()=>de});var s=D(8421),H=D(5363),P=D(9468),K=D(9751),ee=D(2202),Y=D(576),U=D(9672);function G(Ce,Te){if(!Ce)throw new Error("Iterable cannot be null");return new K.y(Pe=>{(0,U.f)(Pe,Te,()=>{const Q=Ce[Symbol.asyncIterator]();(0,U.f)(Pe,Te,()=>{Q.next().then(Oe=>{Oe.done?Pe.complete():Pe.next(Oe.value)})},0,!0)})})}var pe=D(3670),we=D(8239),Ve=D(1144),Ze=D(6495),xe=D(2206),Ee=D(4532),Ie=D(3260);function de(Ce,Te){return Te?function le(Ce,Te){if(null!=Ce){if((0,pe.c)(Ce))return function J(Ce,Te){return(0,s.Xf)(Ce).pipe((0,P.R)(Te),(0,H.Q)(Te))}(Ce,Te);if((0,Ve.z)(Ce))return function te(Ce,Te){return new K.y(Pe=>{let Q=0;return Te.schedule(function(){Q===Ce.length?Pe.complete():(Pe.next(Ce[Q++]),Pe.closed||this.schedule())})})}(Ce,Te);if((0,we.t)(Ce))return function q(Ce,Te){return(0,s.Xf)(Ce).pipe((0,P.R)(Te),(0,H.Q)(Te))}(Ce,Te);if((0,xe.D)(Ce))return G(Ce,Te);if((0,Ze.T)(Ce))return function z(Ce,Te){return new K.y(Pe=>{let Q;return(0,U.f)(Pe,Te,()=>{Q=Ce[ee.h](),(0,U.f)(Pe,Te,()=>{let Oe,qe;try{({value:Oe,done:qe}=Q.next())}catch(Qe){return void Pe.error(Qe)}qe?Pe.complete():Pe.next(Oe)},0,!0)}),()=>(0,Y.m)(Q?.return)&&Q.return()})}(Ce,Te);if((0,Ie.L)(Ce))return function Fe(Ce,Te){return G((0,Ie.Q)(Ce),Te)}(Ce,Te)}throw(0,Ee.z)(Ce)}(Ce,Te):(0,s.Xf)(Ce)}},8421:(ne,W,D)=>{D.d(W,{Xf:()=>pe});var s=D(655),H=D(1144),P=D(8239),J=D(9751),q=D(3670),K=D(2206),te=D(4532),ee=D(6495),Y=D(3260),U=D(576),z=D(7849),G=D(8822);function pe(le){if(le instanceof J.y)return le;if(null!=le){if((0,q.c)(le))return function we(le){return new J.y(de=>{const Ce=le[G.L]();if((0,U.m)(Ce.subscribe))return Ce.subscribe(de);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(le);if((0,H.z)(le))return function Ve(le){return new J.y(de=>{for(let Ce=0;Ce<le.length&&!de.closed;Ce++)de.next(le[Ce]);de.complete()})}(le);if((0,P.t)(le))return function Ze(le){return new J.y(de=>{le.then(Ce=>{de.closed||(de.next(Ce),de.complete())},Ce=>de.error(Ce)).then(null,z.h)})}(le);if((0,K.D)(le))return Ee(le);if((0,ee.T)(le))return function xe(le){return new J.y(de=>{for(const Ce of le)if(de.next(Ce),de.closed)return;de.complete()})}(le);if((0,Y.L)(le))return function Ie(le){return Ee((0,Y.Q)(le))}(le)}throw(0,te.z)(le)}function Ee(le){return new J.y(de=>{(function Fe(le,de){var Ce,Te,Pe,Q;return(0,s.mG)(this,void 0,void 0,function*(){try{for(Ce=(0,s.KL)(le);!(Te=yield Ce.next()).done;)if(de.next(Te.value),de.closed)return}catch(Oe){Pe={error:Oe}}finally{try{Te&&!Te.done&&(Q=Ce.return)&&(yield Q.call(Ce))}finally{if(Pe)throw Pe.error}}de.complete()})})(le,de).catch(Ce=>de.error(Ce))})}},6451:(ne,W,D)=>{D.d(W,{T:()=>K});var s=D(8189),H=D(8421),P=D(515),J=D(3269),q=D(8996);function K(...te){const ee=(0,J.yG)(te),Y=(0,J._6)(te,1/0),U=te;return U.length?1===U.length?(0,H.Xf)(U[0]):(0,s.J)(Y)((0,q.D)(U,ee)):P.E}},9646:(ne,W,D)=>{D.d(W,{of:()=>P});var s=D(3269),H=D(8996);function P(...J){const q=(0,s.yG)(J);return(0,H.D)(J,q)}},5403:(ne,W,D)=>{D.d(W,{Q:()=>P,x:()=>H});var s=D(930);function H(J,q,K,te,ee){return new P(J,q,K,te,ee)}class P extends s.Lv{constructor(q,K,te,ee,Y,U){super(q),this.onFinalize=Y,this.shouldUnsubscribe=U,this._next=K?function(z){try{K(z)}catch(G){q.error(G)}}:super._next,this._error=ee?function(z){try{ee(z)}catch(G){q.error(G)}finally{this.unsubscribe()}}:super._error,this._complete=te?function(){try{te()}catch(z){q.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var q;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:K}=this;super.unsubscribe(),!K&&(null===(q=this.onFinalize)||void 0===q||q.call(this))}}}},262:(ne,W,D)=>{D.d(W,{K:()=>J});var s=D(8421),H=D(5403),P=D(4482);function J(q){return(0,P.e)((K,te)=>{let U,ee=null,Y=!1;ee=K.subscribe((0,H.x)(te,void 0,void 0,z=>{U=(0,s.Xf)(q(z,J(q)(K))),ee?(ee.unsubscribe(),ee=null,U.subscribe(te)):Y=!0})),Y&&(ee.unsubscribe(),ee=null,U.subscribe(te))})}},4351:(ne,W,D)=>{D.d(W,{b:()=>P});var s=D(5577),H=D(576);function P(J,q){return(0,H.m)(q)?(0,s.z)(J,q,1):(0,s.z)(J,1)}},8372:(ne,W,D)=>{D.d(W,{b:()=>J});var s=D(4986),H=D(4482),P=D(5403);function J(q,K=s.z){return(0,H.e)((te,ee)=>{let Y=null,U=null,z=null;const G=()=>{if(Y){Y.unsubscribe(),Y=null;const we=U;U=null,ee.next(we)}};function pe(){const we=z+q,Ve=K.now();if(Ve<we)return Y=this.schedule(void 0,we-Ve),void ee.add(Y);G()}te.subscribe((0,P.x)(ee,we=>{U=we,z=K.now(),Y||(Y=K.schedule(pe,q),ee.add(Y))},()=>{G(),ee.complete()},void 0,()=>{U=Y=null}))})}},1884:(ne,W,D)=>{D.d(W,{x:()=>J});var s=D(4671),H=D(4482),P=D(5403);function J(K,te=s.y){return K=K??q,(0,H.e)((ee,Y)=>{let U,z=!0;ee.subscribe((0,P.x)(Y,G=>{const pe=te(G);(z||!K(U,pe))&&(z=!1,U=pe,Y.next(G))}))})}function q(K,te){return K===te}},9300:(ne,W,D)=>{D.d(W,{h:()=>P});var s=D(4482),H=D(5403);function P(J,q){return(0,s.e)((K,te)=>{let ee=0;K.subscribe((0,H.x)(te,Y=>J.call(q,Y,ee++)&&te.next(Y)))})}},4004:(ne,W,D)=>{D.d(W,{U:()=>P});var s=D(4482),H=D(5403);function P(J,q){return(0,s.e)((K,te)=>{let ee=0;K.subscribe((0,H.x)(te,Y=>{te.next(J.call(q,Y,ee++))}))})}},8189:(ne,W,D)=>{D.d(W,{J:()=>P});var s=D(5577),H=D(4671);function P(J=1/0){return(0,s.z)(H.y,J)}},5577:(ne,W,D)=>{D.d(W,{z:()=>ee});var s=D(4004),H=D(8421),P=D(4482),J=D(9672),q=D(5403),te=D(576);function ee(Y,U,z=1/0){return(0,te.m)(U)?ee((G,pe)=>(0,s.U)((we,Ve)=>U(G,we,pe,Ve))((0,H.Xf)(Y(G,pe))),z):("number"==typeof U&&(z=U),(0,P.e)((G,pe)=>function K(Y,U,z,G,pe,we,Ve,Ze){const xe=[];let Ee=0,Ie=0,Fe=!1;const le=()=>{Fe&&!xe.length&&!Ee&&U.complete()},de=Te=>Ee<G?Ce(Te):xe.push(Te),Ce=Te=>{we&&U.next(Te),Ee++;let Pe=!1;(0,H.Xf)(z(Te,Ie++)).subscribe((0,q.x)(U,Q=>{pe?.(Q),we?de(Q):U.next(Q)},()=>{Pe=!0},void 0,()=>{if(Pe)try{for(Ee--;xe.length&&Ee<G;){const Q=xe.shift();Ve?(0,J.f)(U,Ve,()=>Ce(Q)):Ce(Q)}le()}catch(Q){U.error(Q)}}))};return Y.subscribe((0,q.x)(U,de,()=>{Fe=!0,le()})),()=>{Ze?.()}}(G,pe,Y,z)))}},5363:(ne,W,D)=>{D.d(W,{Q:()=>J});var s=D(9672),H=D(4482),P=D(5403);function J(q,K=0){return(0,H.e)((te,ee)=>{te.subscribe((0,P.x)(ee,Y=>(0,s.f)(ee,q,()=>ee.next(Y),K),()=>(0,s.f)(ee,q,()=>ee.complete(),K),Y=>(0,s.f)(ee,q,()=>ee.error(Y),K)))})}},5026:(ne,W,D)=>{D.d(W,{R:()=>J});var s=D(4482),H=D(5403);function J(q,K){return(0,s.e)(function P(q,K,te,ee,Y){return(U,z)=>{let G=te,pe=K,we=0;U.subscribe((0,H.x)(z,Ve=>{const Ze=we++;pe=G?q(pe,Ve,Ze):(G=!0,Ve),ee&&z.next(pe)},Y&&(()=>{G&&z.next(pe),z.complete()})))}}(q,K,arguments.length>=2,!0))}},3099:(ne,W,D)=>{D.d(W,{B:()=>q});var s=D(8421),H=D(7579),P=D(930),J=D(4482);function q(te={}){const{connector:ee=(()=>new H.x),resetOnError:Y=!0,resetOnComplete:U=!0,resetOnRefCountZero:z=!0}=te;return G=>{let pe,we,Ve,Ze=0,xe=!1,Ee=!1;const Ie=()=>{we?.unsubscribe(),we=void 0},Fe=()=>{Ie(),pe=Ve=void 0,xe=Ee=!1},le=()=>{const de=pe;Fe(),de?.unsubscribe()};return(0,J.e)((de,Ce)=>{Ze++,!Ee&&!xe&&Ie();const Te=Ve=Ve??ee();Ce.add(()=>{Ze--,0===Ze&&!Ee&&!xe&&(we=K(le,z))}),Te.subscribe(Ce),!pe&&Ze>0&&(pe=new P.Hp({next:Pe=>Te.next(Pe),error:Pe=>{Ee=!0,Ie(),we=K(Fe,Y,Pe),Te.error(Pe)},complete:()=>{xe=!0,Ie(),we=K(Fe,U),Te.complete()}}),(0,s.Xf)(de).subscribe(pe))})(G)}}function K(te,ee,...Y){if(!0===ee)return void te();if(!1===ee)return;const U=new P.Hp({next:()=>{U.unsubscribe(),te()}});return(0,s.Xf)(ee(...Y)).subscribe(U)}},5684:(ne,W,D)=>{D.d(W,{T:()=>H});var s=D(9300);function H(P){return(0,s.h)((J,q)=>P<=q)}},9468:(ne,W,D)=>{D.d(W,{R:()=>H});var s=D(4482);function H(P,J=0){return(0,s.e)((q,K)=>{K.add(P.schedule(()=>q.subscribe(K),J))})}},3900:(ne,W,D)=>{D.d(W,{w:()=>J});var s=D(8421),H=D(4482),P=D(5403);function J(q,K){return(0,H.e)((te,ee)=>{let Y=null,U=0,z=!1;const G=()=>z&&!Y&&ee.complete();te.subscribe((0,P.x)(ee,pe=>{Y?.unsubscribe();let we=0;const Ve=U++;(0,s.Xf)(q(pe,Ve)).subscribe(Y=(0,P.x)(ee,Ze=>ee.next(K?K(pe,Ze,Ve,we++):Ze),()=>{Y=null,G()}))},()=>{z=!0,G()}))})}},5698:(ne,W,D)=>{D.d(W,{q:()=>J});var s=D(515),H=D(4482),P=D(5403);function J(q){return q<=0?()=>s.E:(0,H.e)((K,te)=>{let ee=0;K.subscribe((0,P.x)(te,Y=>{++ee<=q&&(te.next(Y),q<=ee&&te.complete())}))})}},2722:(ne,W,D)=>{D.d(W,{R:()=>q});var s=D(4482),H=D(5403),P=D(8421),J=D(5032);function q(K){return(0,s.e)((te,ee)=>{(0,P.Xf)(K).subscribe((0,H.x)(ee,()=>ee.complete(),J.Z)),!ee.closed&&te.subscribe(ee)})}},8505:(ne,W,D)=>{D.d(W,{b:()=>q});var s=D(576),H=D(4482),P=D(5403),J=D(4671);function q(K,te,ee){const Y=(0,s.m)(K)||te||ee?{next:K,error:te,complete:ee}:K;return Y?(0,H.e)((U,z)=>{var G;null===(G=Y.subscribe)||void 0===G||G.call(Y);let pe=!0;U.subscribe((0,P.x)(z,we=>{var Ve;null===(Ve=Y.next)||void 0===Ve||Ve.call(Y,we),z.next(we)},()=>{var we;pe=!1,null===(we=Y.complete)||void 0===we||we.call(Y),z.complete()},we=>{var Ve;pe=!1,null===(Ve=Y.error)||void 0===Ve||Ve.call(Y,we),z.error(we)},()=>{var we,Ve;pe&&(null===(we=Y.unsubscribe)||void 0===we||we.call(Y)),null===(Ve=Y.finalize)||void 0===Ve||Ve.call(Y)}))}):J.y}},7414:(ne,W,D)=>{D.d(W,{V:()=>Y});var s=D(4986),H=D(1165),P=D(4482),J=D(8421),q=D(3888),K=D(5403),te=D(9672);const ee=(0,q.d)(z=>function(pe=null){z(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=pe});function Y(z,G){const{first:pe,each:we,with:Ve=U,scheduler:Ze=G??s.z,meta:xe=null}=(0,H.q)(z)?{first:z}:"number"==typeof z?{each:z}:z;if(null==pe&&null==we)throw new TypeError("No timeout provided.");return(0,P.e)((Ee,Ie)=>{let Fe,le,de=null,Ce=0;const Te=Pe=>{le=(0,te.f)(Ie,Ze,()=>{try{Fe.unsubscribe(),(0,J.Xf)(Ve({meta:xe,lastValue:de,seen:Ce})).subscribe(Ie)}catch(Q){Ie.error(Q)}},Pe)};Fe=Ee.subscribe((0,K.x)(Ie,Pe=>{le?.unsubscribe(),Ce++,Ie.next(de=Pe),we>0&&Te(we)},void 0,void 0,()=>{le?.closed||le?.unsubscribe(),de=null})),!Ce&&Te(null!=pe?"number"==typeof pe?pe:+pe-Ze.now():we)})}function U(z){throw new ee(z)}},1365:(ne,W,D)=>{D.d(W,{M:()=>te});var s=D(4482),H=D(5403),P=D(8421),J=D(4671),q=D(5032),K=D(3269);function te(...ee){const Y=(0,K.jO)(ee);return(0,s.e)((U,z)=>{const G=ee.length,pe=new Array(G);let we=ee.map(()=>!1),Ve=!1;for(let Ze=0;Ze<G;Ze++)(0,P.Xf)(ee[Ze]).subscribe((0,H.x)(z,xe=>{pe[Ze]=xe,!Ve&&!we[Ze]&&(we[Ze]=!0,(Ve=we.every(J.y))&&(we=null))},q.Z));U.subscribe((0,H.x)(z,Ze=>{if(Ve){const xe=[Ze,...pe];z.next(Y?Y(...xe):xe)}}))})}},4408:(ne,W,D)=>{D.d(W,{o:()=>q});var s=D(727);class H extends s.w0{constructor(te,ee){super()}schedule(te,ee=0){return this}}const P={setInterval(K,te,...ee){const{delegate:Y}=P;return Y?.setInterval?Y.setInterval(K,te,...ee):setInterval(K,te,...ee)},clearInterval(K){const{delegate:te}=P;return(te?.clearInterval||clearInterval)(K)},delegate:void 0};var J=D(8737);class q extends H{constructor(te,ee){super(te,ee),this.scheduler=te,this.work=ee,this.pending=!1}schedule(te,ee=0){var Y;if(this.closed)return this;this.state=te;const U=this.id,z=this.scheduler;return null!=U&&(this.id=this.recycleAsyncId(z,U,ee)),this.pending=!0,this.delay=ee,this.id=null!==(Y=this.id)&&void 0!==Y?Y:this.requestAsyncId(z,this.id,ee),this}requestAsyncId(te,ee,Y=0){return P.setInterval(te.flush.bind(te,this),Y)}recycleAsyncId(te,ee,Y=0){if(null!=Y&&this.delay===Y&&!1===this.pending)return ee;null!=ee&&P.clearInterval(ee)}execute(te,ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Y=this._execute(te,ee);if(Y)return Y;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(te,ee){let U,Y=!1;try{this.work(te)}catch(z){Y=!0,U=z||new Error("Scheduled action threw falsy error")}if(Y)return this.unsubscribe(),U}unsubscribe(){if(!this.closed){const{id:te,scheduler:ee}=this,{actions:Y}=ee;this.work=this.state=this.scheduler=null,this.pending=!1,(0,J.P)(Y,this),null!=te&&(this.id=this.recycleAsyncId(ee,te,null)),this.delay=null,super.unsubscribe()}}}},7565:(ne,W,D)=>{D.d(W,{v:()=>P});var s=D(6063);class H{constructor(q,K=H.now){this.schedulerActionCtor=q,this.now=K}schedule(q,K=0,te){return new this.schedulerActionCtor(this,q).schedule(te,K)}}H.now=s.l.now;class P extends H{constructor(q,K=H.now){super(q,K),this.actions=[],this._active=!1}flush(q){const{actions:K}=this;if(this._active)return void K.push(q);let te;this._active=!0;do{if(te=q.execute(q.state,q.delay))break}while(q=K.shift());if(this._active=!1,te){for(;q=K.shift();)q.unsubscribe();throw te}}}},4986:(ne,W,D)=>{D.d(W,{P:()=>J,z:()=>P});var s=D(4408);const P=new(D(7565).v)(s.o),J=P},6063:(ne,W,D)=>{D.d(W,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},233:(ne,W,D)=>{D.d(W,{N:()=>q});var s=D(4408),P=D(7565);const q=new class J extends P.v{}(class H extends s.o{constructor(ee,Y){super(ee,Y),this.scheduler=ee,this.work=Y}schedule(ee,Y=0){return Y>0?super.schedule(ee,Y):(this.delay=Y,this.state=ee,this.scheduler.flush(this),this)}execute(ee,Y){return Y>0||this.closed?super.execute(ee,Y):this._execute(ee,Y)}requestAsyncId(ee,Y,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(ee,Y,U):(ee.flush(this),0)}})},3410:(ne,W,D)=>{D.d(W,{z:()=>s});const s={setTimeout(H,P,...J){const{delegate:q}=s;return q?.setTimeout?q.setTimeout(H,P,...J):setTimeout(H,P,...J)},clearTimeout(H){const{delegate:P}=s;return(P?.clearTimeout||clearTimeout)(H)},delegate:void 0}},2202:(ne,W,D)=>{D.d(W,{h:()=>H});const H=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ne,W,D)=>{D.d(W,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ne,W,D)=>{D.d(W,{_6:()=>K,jO:()=>J,yG:()=>q});var s=D(576),H=D(3532);function P(te){return te[te.length-1]}function J(te){return(0,s.m)(P(te))?te.pop():void 0}function q(te){return(0,H.K)(P(te))?te.pop():void 0}function K(te,ee){return"number"==typeof P(te)?te.pop():ee}},8737:(ne,W,D)=>{function s(H,P){if(H){const J=H.indexOf(P);0<=J&&H.splice(J,1)}}D.d(W,{P:()=>s})},3888:(ne,W,D)=>{function s(H){const J=H(q=>{Error.call(q),q.stack=(new Error).stack});return J.prototype=Object.create(Error.prototype),J.prototype.constructor=J,J}D.d(W,{d:()=>s})},2806:(ne,W,D)=>{D.d(W,{O:()=>J,x:()=>P});var s=D(2416);let H=null;function P(q){if(s.v.useDeprecatedSynchronousErrorHandling){const K=!H;if(K&&(H={errorThrown:!1,error:null}),q(),K){const{errorThrown:te,error:ee}=H;if(H=null,te)throw ee}}else q()}function J(q){s.v.useDeprecatedSynchronousErrorHandling&&H&&(H.errorThrown=!0,H.error=q)}},9672:(ne,W,D)=>{function s(H,P,J,q=0,K=!1){const te=P.schedule(function(){J(),K?H.add(this.schedule(null,q)):this.unsubscribe()},q);if(H.add(te),!K)return te}D.d(W,{f:()=>s})},4671:(ne,W,D)=>{function s(H){return H}D.d(W,{y:()=>s})},1144:(ne,W,D)=>{D.d(W,{z:()=>s});const s=H=>H&&"number"==typeof H.length&&"function"!=typeof H},2206:(ne,W,D)=>{D.d(W,{D:()=>H});var s=D(576);function H(P){return Symbol.asyncIterator&&(0,s.m)(P?.[Symbol.asyncIterator])}},1165:(ne,W,D)=>{function s(H){return H instanceof Date&&!isNaN(H)}D.d(W,{q:()=>s})},576:(ne,W,D)=>{function s(H){return"function"==typeof H}D.d(W,{m:()=>s})},3670:(ne,W,D)=>{D.d(W,{c:()=>P});var s=D(8822),H=D(576);function P(J){return(0,H.m)(J[s.L])}},6495:(ne,W,D)=>{D.d(W,{T:()=>P});var s=D(2202),H=D(576);function P(J){return(0,H.m)(J?.[s.h])}},8239:(ne,W,D)=>{D.d(W,{t:()=>H});var s=D(576);function H(P){return(0,s.m)(P?.then)}},3260:(ne,W,D)=>{D.d(W,{L:()=>J,Q:()=>P});var s=D(655),H=D(576);function P(q){return(0,s.FC)(this,arguments,function*(){const te=q.getReader();try{for(;;){const{value:ee,done:Y}=yield(0,s.qq)(te.read());if(Y)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(ee)}}finally{te.releaseLock()}})}function J(q){return(0,H.m)(q?.getReader)}},3532:(ne,W,D)=>{D.d(W,{K:()=>H});var s=D(576);function H(P){return P&&(0,s.m)(P.schedule)}},4482:(ne,W,D)=>{D.d(W,{A:()=>H,e:()=>P});var s=D(576);function H(J){return(0,s.m)(J?.lift)}function P(J){return q=>{if(H(q))return q.lift(function(K){try{return J(K,this)}catch(te){this.error(te)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ne,W,D)=>{function s(){}D.d(W,{Z:()=>s})},9635:(ne,W,D)=>{D.d(W,{U:()=>P,z:()=>H});var s=D(4671);function H(...J){return P(J)}function P(J){return 0===J.length?s.y:1===J.length?J[0]:function(K){return J.reduce((te,ee)=>ee(te),K)}}},7849:(ne,W,D)=>{D.d(W,{h:()=>P});var s=D(2416),H=D(3410);function P(J){H.z.setTimeout(()=>{const{onUnhandledError:q}=s.v;if(!q)throw J;q(J)})}},4532:(ne,W,D)=>{function s(H){return new TypeError(`You provided ${null!==H&&"object"==typeof H?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}D.d(W,{z:()=>s})},8848:()=>{Zone.__load_patch("Error",(ne,W,D)=>{const s=D.symbol("zoneJsInternalStackFrames"),H=ne[D.symbol("Error")]=ne.Error,P={};let J,q,K,te,ee;ne.Error=pe;const Y="stackRewrite",U=ne.__Zone_Error_BlacklistedStackFrames_policy||ne.__Zone_Error_ZoneJsInternalStackFrames_policy||"default";function G(le,de,Ce=!0){let Te=le.split("\n"),Pe=0;for(;Te[Pe]!==J&&Te[Pe]!==q&&Te[Pe]!==K&&Te[Pe]!==te&&Te[Pe]!==ee&&Pe<Te.length;)Pe++;for(;Pe<Te.length&&de;Pe++){let Q=Te[Pe];if(Q.trim())switch(P[Q]){case 0:Te.splice(Pe,1),Pe--;break;case 1:de=de.parent?de.parent:null,Te.splice(Pe,1),Pe--;break;default:Te[Pe]+=Ce?` [${de.zone.name}]`:` [${de.zoneName}]`}}return Te.join("\n")}function pe(){let le=H.apply(this,arguments);const de=le.originalStack=le.stack;if(pe[Y]&&de){let Ce=D.currentZoneFrame();if("lazy"===U)le[D.symbol("zoneFrameNames")]=function z(le){let de={zoneName:le.zone.name},Ce=de;for(;le.parent;){const Te={zoneName:(le=le.parent).zone.name};de.parent=Te,de=Te}return Ce}(Ce);else if("default"===U)try{le.stack=le.zoneAwareStack=G(de,Ce)}catch{}}return this instanceof H&&this.constructor!=H?(Object.keys(le).concat("stack","message").forEach(Ce=>{const Te=le[Ce];if(void 0!==Te)try{this[Ce]=Te}catch{}}),this):le}pe.prototype=H.prototype,pe[s]=P,pe[Y]=!1;const we=D.symbol("zoneAwareStack");"lazy"===U&&Object.defineProperty(pe.prototype,"zoneAwareStack",{configurable:!0,enumerable:!0,get:function(){return this[we]||(this[we]=G(this.originalStack,this[D.symbol("zoneFrameNames")],!1)),this[we]},set:function(le){this.originalStack=le,this[we]=G(this.originalStack,this[D.symbol("zoneFrameNames")],!1)}});const Ve=["stackTraceLimit","captureStackTrace","prepareStackTrace"],Ze=Object.keys(H);if(Ze&&Ze.forEach(le=>{0===Ve.filter(de=>de===le).length&&Object.defineProperty(pe,le,{get:function(){return H[le]},set:function(de){H[le]=de}})}),H.hasOwnProperty("stackTraceLimit")&&(H.stackTraceLimit=Math.max(H.stackTraceLimit,15),Object.defineProperty(pe,"stackTraceLimit",{get:function(){return H.stackTraceLimit},set:function(le){return H.stackTraceLimit=le}})),H.hasOwnProperty("captureStackTrace")&&Object.defineProperty(pe,"captureStackTrace",{value:function(de,Ce){H.captureStackTrace(de,Ce)}}),Object.defineProperty(pe,"prepareStackTrace",{get:function(){return H.prepareStackTrace},set:function(le){return H.prepareStackTrace=le&&"function"==typeof le?function(de,Ce){if(Ce)for(let Te=0;Te<Ce.length;Te++)if("zoneCaptureStackTrace"===Ce[Te].getFunctionName()){Ce.splice(Te,1);break}return le.call(this,de,Ce)}:le}}),"disable"===U)return;const Ie=W.current.fork({name:"detect",onHandleError:function(le,de,Ce,Te){if(Te.originalStack&&Error===pe){let Pe=Te.originalStack.split(/\n/),Q=!1,Oe=!1,qe=!1;for(;Pe.length;){let Qe=Pe.shift();if(/:\d+:\d+/.test(Qe)||"ZoneAwareError"===Qe){let gt=Qe.split("(")[0].split("@")[0],ct=1;if(-1!==gt.indexOf("ZoneAwareError")&&(-1!==gt.indexOf("new ZoneAwareError")?(J=Qe,q=Qe.replace("new ZoneAwareError","new Error.ZoneAwareError")):(K=Qe,te=Qe.replace("Error.",""),-1===Qe.indexOf("Error.ZoneAwareError")&&(ee=Qe.replace("ZoneAwareError","Error.ZoneAwareError"))),P[q]=0),-1!==gt.indexOf("runGuarded")?Oe=!0:-1!==gt.indexOf("runTask")?qe=!0:-1!==gt.indexOf("run")?Q=!0:ct=0,P[Qe]=ct,Q&&Oe&&qe){pe[Y]=!0;break}}}}return!1}}).fork({name:"child",onScheduleTask:function(le,de,Ce,Te){return le.scheduleTask(Ce,Te)},onInvokeTask:function(le,de,Ce,Te,Pe,Q){return le.invokeTask(Ce,Te,Pe,Q)},onCancelTask:function(le,de,Ce,Te){return le.cancelTask(Ce,Te)},onInvoke:function(le,de,Ce,Te,Pe,Q,Oe){return le.invoke(Ce,Te,Pe,Q,Oe)}}),Fe=Error.stackTraceLimit;Error.stackTraceLimit=100,Ie.run(()=>{Ie.runGuarded(()=>{const le=()=>{};Ie.scheduleEventTask(s,()=>{Ie.scheduleMacroTask(s,()=>{Ie.scheduleMicroTask(s,()=>{throw new Error},void 0,de=>{de._transitionTo=le,de.invoke()}),Ie.scheduleMicroTask(s,()=>{throw Error()},void 0,de=>{de._transitionTo=le,de.invoke()})},void 0,de=>{de._transitionTo=le,de.invoke()},()=>{})},void 0,de=>{de._transitionTo=le,de.invoke()},()=>{})})}),Error.stackTraceLimit=Fe})},655:(ne,W,D)=>{function J(ve,Me){var Le={};for(var ze in ve)Object.prototype.hasOwnProperty.call(ve,ze)&&Me.indexOf(ze)<0&&(Le[ze]=ve[ze]);if(null!=ve&&"function"==typeof Object.getOwnPropertySymbols){var Ke=0;for(ze=Object.getOwnPropertySymbols(ve);Ke<ze.length;Ke++)Me.indexOf(ze[Ke])<0&&Object.prototype.propertyIsEnumerable.call(ve,ze[Ke])&&(Le[ze[Ke]]=ve[ze[Ke]])}return Le}function G(ve,Me,Le,ze){return new(Le||(Le=Promise))(function(Xe,dt){function ot(an){try{It(ze.next(an))}catch(ft){dt(ft)}}function un(an){try{It(ze.throw(an))}catch(ft){dt(ft)}}function It(an){an.done?Xe(an.value):function Ke(Xe){return Xe instanceof Le?Xe:new Le(function(dt){dt(Xe)})}(an.value).then(ot,un)}It((ze=ze.apply(ve,Me||[])).next())})}function le(ve){return this instanceof le?(this.v=ve,this):new le(ve)}function de(ve,Me,Le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ke,ze=Le.apply(ve,Me||[]),Xe=[];return Ke={},dt("next"),dt("throw"),dt("return"),Ke[Symbol.asyncIterator]=function(){return this},Ke;function dt(Bt){ze[Bt]&&(Ke[Bt]=function(Ln){return new Promise(function(fn,Sn){Xe.push([Bt,Ln,fn,Sn])>1||ot(Bt,Ln)})})}function ot(Bt,Ln){try{!function un(Bt){Bt.value instanceof le?Promise.resolve(Bt.value.v).then(It,an):ft(Xe[0][2],Bt)}(ze[Bt](Ln))}catch(fn){ft(Xe[0][3],fn)}}function It(Bt){ot("next",Bt)}function an(Bt){ot("throw",Bt)}function ft(Bt,Ln){Bt(Ln),Xe.shift(),Xe.length&&ot(Xe[0][0],Xe[0][1])}}function Te(ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,Me=ve[Symbol.asyncIterator];return Me?Me.call(ve):(ve=function Ze(ve){var Me="function"==typeof Symbol&&Symbol.iterator,Le=Me&&ve[Me],ze=0;if(Le)return Le.call(ve);if(ve&&"number"==typeof ve.length)return{next:function(){return ve&&ze>=ve.length&&(ve=void 0),{value:ve&&ve[ze++],done:!ve}}};throw new TypeError(Me?"Object is not iterable.":"Symbol.iterator is not defined.")}(ve),Le={},ze("next"),ze("throw"),ze("return"),Le[Symbol.asyncIterator]=function(){return this},Le);function ze(Xe){Le[Xe]=ve[Xe]&&function(dt){return new Promise(function(ot,un){!function Ke(Xe,dt,ot,un){Promise.resolve(un).then(function(It){Xe({value:It,done:ot})},dt)}(ot,un,(dt=ve[Xe](dt)).done,dt.value)})}}}D.d(W,{FC:()=>de,KL:()=>Te,_T:()=>J,mG:()=>G,qq:()=>le})},4650:(ne,W,D)=>{D.d(W,{$8M:()=>ma,$WT:()=>fo,$Z:()=>zg,AFp:()=>tC,ALo:()=>AE,AaK:()=>ee,CHM:()=>Xu,CRH:()=>Q_,CZH:()=>Cf,CqO:()=>hu,D6c:()=>gT,DdM:()=>xu,EJc:()=>iC,EiD:()=>Dg,EpF:()=>Sx,F$t:()=>ib,F4k:()=>Dx,FYo:()=>Hw,FiY:()=>se,Gf:()=>PE,GfV:()=>Om,Gpc:()=>z,Hsn:()=>rf,Ikx:()=>Gr,JOm:()=>Co,JVY:()=>ke,JZr:()=>Ze,KtG:()=>Wf,L6k:()=>nt,LAX:()=>kt,LFG:()=>tt,Lbi:()=>kk,Lck:()=>jb,MAs:()=>Gm,MMx:()=>pp,MR2:()=>yS,NdJ:()=>a_,O4$:()=>Kc,OlP:()=>wn,Oqu:()=>__,P3R:()=>mv,PXZ:()=>_y,Q6J:()=>du,QGY:()=>eb,QbO:()=>Ui,Qsj:()=>bS,R0b:()=>gs,RDi:()=>jd,Rgc:()=>bp,SBq:()=>km,Sil:()=>Nk,Suo:()=>FE,TTD:()=>Es,TgZ:()=>qm,Udp:()=>lb,VKq:()=>Eu,W1O:()=>J_,X6Q:()=>by,XFs:()=>Et,Xpm:()=>ia,Xts:()=>si,Y36:()=>us,YKP:()=>xE,YNc:()=>rn,Yjl:()=>Wa,Yz7:()=>ft,Z0I:()=>Sn,ZZ4:()=>IC,_Bn:()=>wE,_UZ:()=>r_,_Vd:()=>Fh,_c5:()=>mT,_uU:()=>g_,aQg:()=>Cy,c2e:()=>nC,cJS:()=>Ln,cg1:()=>w_,dDg:()=>eT,dqk:()=>Vt,eBb:()=>_t,eFA:()=>D0,eJc:()=>Ip,ekj:()=>db,eoX:()=>lC,f3M:()=>mt,g9A:()=>Qn,h0i:()=>Ml,hGG:()=>pT,hij:()=>Xm,iGM:()=>Y_,ifc:()=>me,ip1:()=>x0,jDz:()=>EE,kL8:()=>Yx,kcU:()=>ih,lG2:()=>ys,lcZ:()=>e0,lqb:()=>js,lri:()=>fy,mCW:()=>Us,n5z:()=>pd,n_E:()=>wf,oAB:()=>ra,oxw:()=>Ws,pB0:()=>xt,q3G:()=>Ii,q4F:()=>Gw,qLn:()=>Zd,qOj:()=>Jg,qZA:()=>Wm,qzn:()=>F,rWj:()=>cC,sBO:()=>rT,s_b:()=>G_,soG:()=>ly,tBr:()=>N,tb:()=>py,tp0:()=>Re,uIk:()=>n_,vHH:()=>xe,vpe:()=>ps,wAp:()=>Ot,xi3:()=>t0,xp6:()=>Rm,z2F:()=>vy,z3N:()=>M,zSh:()=>Ph,zs3:()=>So});var s=D(7579),H=D(727),P=D(9751),J=D(6451),q=D(3099);function K(o){for(let c in o)if(o[c]===K)return c;throw Error("Could not find renamed property on target object.")}function te(o,c){for(const l in c)c.hasOwnProperty(l)&&!o.hasOwnProperty(l)&&(o[l]=c[l])}function ee(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(ee).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const c=o.toString();if(null==c)return""+c;const l=c.indexOf("\n");return-1===l?c:c.substring(0,l)}function Y(o,c){return null==o||""===o?null===c?"":c:null==c||""===c?o:o+" "+c}const U=K({__forward_ref__:K});function z(o){return o.__forward_ref__=z,o.toString=function(){return ee(this())},o}function G(o){return pe(o)?o():o}function pe(o){return"function"==typeof o&&o.hasOwnProperty(U)&&o.__forward_ref__===z}function we(o){return o&&!!o.\u0275providers}const Ze="https://g.co/ng/security#xss";class xe extends Error{constructor(c,l){super(Ee(c,l)),this.code=c}}function Ee(o,c){return`NG0${Math.abs(o)}${c?": "+c.trim():""}`}function Ie(o){return"string"==typeof o?o:null==o?"":String(o)}function Te(o,c){throw new xe(-201,!1)}function dt(o,c){null==o&&function ot(o,c,l,u){throw new Error(`ASSERTION ERROR: ${o}`+(null==u?"":` [Expected=> ${l} ${u} ${c} <=Actual]`))}(c,o,null,"!=")}function ft(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Ln(o){return{providers:o.providers||[],imports:o.imports||[]}}function fn(o){return Bn(o,Hi)||Bn(o,vn)}function Sn(o){return null!==fn(o)}function Bn(o,c){return o.hasOwnProperty(c)?o[c]:null}function tr(o){return o&&(o.hasOwnProperty(ho)||o.hasOwnProperty(Ai))?o[ho]:null}const Hi=K({\u0275prov:K}),ho=K({\u0275inj:K}),vn=K({ngInjectableDef:K}),Ai=K({ngInjectorDef:K});var Et=(()=>((Et=Et||{})[Et.Default=0]="Default",Et[Et.Host=1]="Host",Et[Et.Self=2]="Self",Et[Et.SkipSelf=4]="SkipSelf",Et[Et.Optional=8]="Optional",Et))();let fr;function En(o){const c=fr;return fr=o,c}function Mi(o,c,l){const u=fn(o);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:l&Et.Optional?null:void 0!==c?c:void Te(ee(o))}const Vt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Rn={},Wn="__NG_DI_FLAG__",bi="ngTempTokenPath",wi="ngTokenPath",Qo=/\n/gm,pn="\u0275",Xr="__source";let cn;function $i(o){const c=cn;return cn=o,c}function Tr(o,c=Et.Default){if(void 0===cn)throw new xe(-203,!1);return null===cn?Mi(o,void 0,c):cn.get(o,c&Et.Optional?null:void 0,c)}function tt(o,c=Et.Default){return(function Sr(){return fr}()||Tr)(G(o),c)}function mt(o,c=Et.Default){return tt(o,Nt(c))}function Nt(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function jt(o){const c=[];for(let l=0;l<o.length;l++){const u=G(o[l]);if(Array.isArray(u)){if(0===u.length)throw new xe(900,!1);let h,p=Et.Default;for(let v=0;v<u.length;v++){const x=u[v],E=Gi(x);"number"==typeof E?-1===E?h=x.token:p|=E:h=x}c.push(tt(h,p))}else c.push(tt(u))}return c}function Yt(o,c){return o[Wn]=c,o.prototype[Wn]=c,o}function Gi(o){return o[Wn]}function re(o){return{toString:o}.toString()}var Ne=(()=>((Ne=Ne||{})[Ne.OnPush=0]="OnPush",Ne[Ne.Default=1]="Default",Ne))(),me=(()=>{return(o=me||(me={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",me;var o})();const ut={},st=[],bn=K({\u0275cmp:K}),Un=K({\u0275dir:K}),zn=K({\u0275pipe:K}),ni=K({\u0275mod:K}),Qt=K({\u0275fac:K}),qi=K({__NG_ELEMENT_ID__:K});let Ur=0;function ia(o){return re(()=>{const c=ki(o),l={...c,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===Ne.OnPush,directiveDefs:null,pipeDefs:null,dependencies:c.standalone&&o.dependencies||null,getStandaloneInjector:null,data:o.data||{},encapsulation:o.encapsulation||me.Emulated,id:"c"+Ur++,styles:o.styles||st,_:null,schemas:o.schemas||null,tView:null};Oo(l);const u=o.dependencies;return l.directiveDefs=Ro(u,!1),l.pipeDefs=Ro(u,!0),l})}function qa(o){return on(o)||Kn(o)}function Xo(o){return null!==o}function ra(o){return re(()=>({type:o.type,bootstrap:o.bootstrap||st,declarations:o.declarations||st,imports:o.imports||st,exports:o.exports||st,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function Hn(o,c){if(null==o)return ut;const l={};for(const u in o)if(o.hasOwnProperty(u)){let h=o[u],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),l[h]=u,c&&(c[h]=p)}return l}function ys(o){return re(()=>{const c=ki(o);return Oo(c),c})}function Wa(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function on(o){return o[bn]||null}function Kn(o){return o[Un]||null}function hi(o){return o[zn]||null}function fo(o){const c=on(o)||Kn(o)||hi(o);return null!==c&&c.standalone}function ii(o,c){const l=o[ni]||null;if(!l&&!0===c)throw new Error(`Type ${ee(o)} does not have '\u0275mod' property.`);return l}function ki(o){const c={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:c,exportAs:o.exportAs||null,standalone:!0===o.standalone,selectors:o.selectors||st,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Hn(o.inputs,c),outputs:Hn(o.outputs)}}function Oo(o){o.features?.forEach(c=>c(o))}function Ro(o,c){if(!o)return null;const l=c?hi:qa;return()=>("function"==typeof o?o():o).map(u=>l(u)).filter(Xo)}const mr=0,ht=1,Kt=2,Dn=3,pr=4,Ar=5,Pn=6,Po=7,Vn=8,fi=9,vs=10,Xt=11,mo=12,po=13,go=14,bs=15,mi=16,j=17,_e=18,ae=19,ye=20,et=21,je=22,Tn=1,Fn=2,ri=7,Zt=8,xi=9,pi=10;function Wi(o){return Array.isArray(o)&&"object"==typeof o[Tn]}function Mr(o){return Array.isArray(o)&&!0===o[Tn]}function Fo(o){return 0!=(4&o.flags)}function Pc(o){return o.componentOffset>-1}function Jo(o){return 1==(1&o.flags)}function nr(o){return!!o.template}function Gu(o){return 0!=(256&o[Kt])}function kr(o,c){return o.hasOwnProperty(Qt)?o[Qt]:null}class Ku{constructor(c,l,u){this.previousValue=c,this.currentValue=l,this.firstChange=u}isFirstChange(){return this.firstChange}}function Es(){return Za}function Za(o){return o.type.prototype.ngOnChanges&&(o.setInput=aa),sa}function sa(){const o=Lc(this),c=o?.current;if(c){const l=o.previous;if(l===ut)o.previous=c;else for(let u in c)l[u]=c[u];o.current=null,this.ngOnChanges(c)}}function aa(o,c,l,u){const h=this.declaredInputs[l],p=Lc(o)||function Bc(o,c){return o[Ya]=c}(o,{previous:ut,current:null}),v=p.current||(p.current={}),x=p.previous,E=x[h];v[h]=new Ku(E&&E.currentValue,c,x===ut),o[u]=c}Es.ngInherit=!0;const Ya="__ngSimpleChanges__";function Lc(o){return o[Ya]||null}const gn=function(o,c,l){},Uc="svg";function Zn(o){for(;Array.isArray(o);)o=o[mr];return o}function yo(o,c){return Zn(c[o])}function ir(o,c){return Zn(c[o.index])}function Zl(o,c){return o.data[c]}function vo(o,c){return o[c]}function Oi(o,c){const l=c[o];return Wi(l)?l:l[mr]}function Cs(o){return 64==(64&o[Kt])}function Jr(o,c){return null==c?null:o[c]}function jc(o){o[_e]=0}function Ja(o,c){o[Ar]+=c;let l=o,u=o[Dn];for(;null!==u&&(1===c&&1===l[Ar]||-1===c&&0===l[Ar]);)u[Ar]+=c,l=u,u=u[Dn]}const qt={lFrame:tg(null),bindingsEnabled:!0};function Qu(){return qt.bindingsEnabled}function He(){return qt.lFrame.lView}function ln(){return qt.lFrame.tView}function Xu(o){return qt.lFrame.contextLView=o,o[Vn]}function Wf(o){return qt.lFrame.contextLView=null,o}function oi(){let o=Kf();for(;null!==o&&64===o.type;)o=o.parent;return o}function Kf(){return qt.lFrame.currentTNode}function eo(o,c){const l=qt.lFrame;l.currentTNode=o,l.isParent=c}function Hc(){return qt.lFrame.isParent}function $c(){qt.lFrame.isParent=!1}function _i(){const o=qt.lFrame;let c=o.bindingRootIndex;return-1===c&&(c=o.bindingRootIndex=o.tView.bindingStartIndex),c}function Is(){return qt.lFrame.bindingIndex++}function rd(o,c){const l=qt.lFrame;l.bindingIndex=l.bindingRootIndex=o,Lo(c)}function Lo(o){qt.lFrame.currentDirectiveIndex=o}function eh(){return qt.lFrame.currentQueryIndex}function Wc(o){qt.lFrame.currentQueryIndex=o}function eg(o){const c=o[ht];return 2===c.type?c.declTNode:1===c.type?o[Pn]:null}function sd(o,c,l){if(l&Et.SkipSelf){let h=c,p=o;for(;!(h=h.parent,null!==h||l&Et.Host||(h=eg(p),null===h||(p=p[bs],10&h.type))););if(null===h)return!1;c=h,o=p}const u=qt.lFrame=ev();return u.currentTNode=c,u.lView=o,!0}function th(o){const c=ev(),l=o[ht];qt.lFrame=c,c.currentTNode=l.firstChild,c.lView=o,c.tView=l,c.contextLView=o,c.bindingIndex=l.bindingStartIndex,c.inI18n=!1}function ev(){const o=qt.lFrame,c=null===o?null:o.child;return null===c?tg(o):c}function tg(o){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=c),c}function ad(){const o=qt.lFrame;return qt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const tv=ad;function Yf(){const o=ad();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function gr(){return qt.lFrame.selectedIndex}function ns(o){qt.lFrame.selectedIndex=o}function Cn(){const o=qt.lFrame;return Zl(o.tView,o.selectedIndex)}function Kc(){qt.lFrame.currentNamespace=Uc}function ih(){!function ig(){qt.lFrame.currentNamespace=null}()}function Ss(o,c){for(let l=c.directiveStart,u=c.directiveEnd;l<u;l++){const p=o.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:x,ngAfterViewInit:E,ngAfterViewChecked:T,ngOnDestroy:R}=p;v&&(o.contentHooks||(o.contentHooks=[])).push(-l,v),x&&((o.contentHooks||(o.contentHooks=[])).push(l,x),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(l,x)),E&&(o.viewHooks||(o.viewHooks=[])).push(-l,E),T&&((o.viewHooks||(o.viewHooks=[])).push(l,T),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(l,T)),null!=R&&(o.destroyHooks||(o.destroyHooks=[])).push(l,R)}}function cd(o,c,l){la(o,c,3,l)}function Bo(o,c,l,u){(3&o[Kt])===l&&la(o,c,l,u)}function ca(o,c){let l=o[Kt];(3&l)===c&&(l&=2047,l+=1,o[Kt]=l)}function la(o,c,l,u){const p=u??-1,v=c.length-1;let x=0;for(let E=void 0!==u?65535&o[_e]:0;E<v;E++)if("number"==typeof c[E+1]){if(x=c[E],null!=u&&x>=u)break}else c[E]<0&&(o[_e]+=65536),(x<p||-1==p)&&(Qf(o,l,c,E),o[_e]=(4294901760&o[_e])+E+2),E++}function Qf(o,c,l,u){const h=l[u]<0,p=l[u+1],x=o[h?-l[u]:l[u]];if(h){if(o[Kt]>>11<o[_e]>>16&&(3&o[Kt])===c){o[Kt]+=2048,gn(4,x,p);try{p.call(x)}finally{gn(5,x,p)}}}else{gn(4,x,p);try{p.call(x)}finally{gn(5,x,p)}}}const Uo=-1;class Zi{constructor(c,l,u){this.factory=c,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=u}}function da(o,c,l){let u=0;for(;u<l.length;){const h=l[u];if("number"==typeof h){if(0!==h)break;u++;const p=l[u++],v=l[u++],x=l[u++];o.setAttribute(c,v,x,p)}else{const p=h,v=l[++u];ua(p)?o.setProperty(c,p,v):o.setAttribute(c,p,v),u++}}return u}function Vo(o){return 3===o||4===o||6===o}function ua(o){return 64===o.charCodeAt(0)}function jo(o,c){if(null!==c&&0!==c.length)if(null===o||0===o.length)o=c.slice();else{let l=-1;for(let u=0;u<c.length;u++){const h=c[u];"number"==typeof h?l=h:0===l||ld(o,l,h,null,-1===l||2===l?c[++u]:null)}}return o}function ld(o,c,l,u,h){let p=0,v=o.length;if(-1===c)v=-1;else for(;p<o.length;){const x=o[p++];if("number"==typeof x){if(x===c){v=-1;break}if(x>c){v=p-1;break}}}for(;p<o.length;){const x=o[p];if("number"==typeof x)break;if(x===l){if(null===u)return void(null!==h&&(o[p+1]=h));if(u===o[p+1])return void(o[p+2]=h)}p++,null!==u&&p++,null!==h&&p++}-1!==v&&(o.splice(v,0,c),p=v+1),o.splice(p++,0,l),null!==u&&o.splice(p++,0,u),null!==h&&o.splice(p++,0,h)}function dd(o){return o!==Uo}function Ds(o){return 32767&o}function zo(o,c){let l=function em(o){return o>>16}(o),u=c;for(;l>0;)u=u[bs],l--;return u}let ic=!0;function xo(o){const c=ic;return ic=o,c}const rc=255,oc=5;let Ts=0;const _r={};function Ho(o,c){const l=fd(o,c);if(-1!==l)return l;const u=c[ht];u.firstCreatePass&&(o.injectorIndex=c.length,ha(u.data,o),ha(c,null),ha(u.blueprint,null));const h=sc(o,c),p=o.injectorIndex;if(dd(h)){const v=Ds(h),x=zo(h,c),E=x[ht].data;for(let T=0;T<8;T++)c[p+T]=x[v+T]|E[v+T]}return c[p+8]=h,p}function ha(o,c){o.push(0,0,0,0,0,0,0,0,c)}function fd(o,c){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===c[o.injectorIndex+8]?-1:o.injectorIndex}function sc(o,c){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let l=0,u=null,h=c;for(;null!==h;){if(u=gd(h),null===u)return Uo;if(l++,h=h[bs],-1!==u.injectorIndex)return u.injectorIndex|l<<16}return Uo}function ac(o,c,l){!function hd(o,c,l){let u;"string"==typeof l?u=l.charCodeAt(0)||0:l.hasOwnProperty(qi)&&(u=l[qi]),null==u&&(u=l[qi]=Ts++);const h=u&rc;c.data[o+(h>>oc)]|=1<<h}(o,c,l)}function cc(o,c,l){if(l&Et.Optional||void 0!==o)return o;Te()}function oh(o,c,l,u){if(l&Et.Optional&&void 0===u&&(u=null),!(l&(Et.Self|Et.Host))){const h=o[fi],p=En(void 0);try{return h?h.get(c,u,l&Et.Optional):Mi(c,u,l&Et.Optional)}finally{En(p)}}return cc(u,0,l)}function Eo(o,c,l,u=Et.Default,h){if(null!==o){if(1024&c[Kt]){const v=function sh(o,c,l,u,h){let p=o,v=c;for(;null!==p&&null!==v&&1024&v[Kt]&&!(256&v[Kt]);){const x=lc(p,v,l,u|Et.Self,_r);if(x!==_r)return x;let E=p.parent;if(!E){const T=v[et];if(T){const R=T.get(l,_r,u);if(R!==_r)return R}E=gd(v),v=v[bs]}p=E}return h}(o,c,l,u,_r);if(v!==_r)return v}const p=lc(o,c,l,u,_r);if(p!==_r)return p}return oh(c,l,u,h)}function lc(o,c,l,u,h){const p=function md(o){if("string"==typeof o)return o.charCodeAt(0)||0;const c=o.hasOwnProperty(qi)?o[qi]:void 0;return"number"==typeof c?c>=0?c&rc:tm:c}(l);if("function"==typeof p){if(!sd(c,o,u))return u&Et.Host?cc(h,0,u):oh(c,l,u,h);try{const v=p(u);if(null!=v||u&Et.Optional)return v;Te()}finally{tv()}}else if("number"==typeof p){let v=null,x=fd(o,c),E=Uo,T=u&Et.Host?c[mi][Pn]:null;for((-1===x||u&Et.SkipSelf)&&(E=-1===x?sc(o,c):c[x+8],E!==Uo&&Ms(u,!1)?(v=c[ht],x=Ds(E),c=zo(E,c)):x=-1);-1!==x;){const R=c[ht];if($o(p,x,R.data)){const V=Zc(x,c,l,v,u,T);if(V!==_r)return V}E=c[x+8],E!==Uo&&Ms(u,c[ht].data[x+8]===T)&&$o(p,x,c)?(v=R,x=Ds(E),c=zo(E,c)):x=-1}}return h}function Zc(o,c,l,u,h,p){const v=c[ht],x=v.data[o+8],R=As(x,v,l,null==u?Pc(x)&&ic:u!=v&&0!=(3&x.type),h&Et.Host&&p===x);return null!==R?rs(c,v,R,x):_r}function As(o,c,l,u,h){const p=o.providerIndexes,v=c.data,x=1048575&p,E=o.directiveStart,R=p>>20,ie=h?x+R:o.directiveEnd;for(let he=u?x:x+R;he<ie;he++){const Ae=v[he];if(he<E&&l===Ae||he>=E&&Ae.type===l)return he}if(h){const he=v[E];if(he&&nr(he)&&he.type===l)return E}return null}function rs(o,c,l,u){let h=o[l];const p=c.data;if(function tc(o){return o instanceof Zi}(h)){const v=h;v.resolving&&function le(o,c){const l=c?`. Dependency path: ${c.join(" > ")} > ${o}`:"";throw new xe(-200,`Circular dependency in DI detected for ${o}${l}`)}(function Fe(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Ie(o)}(p[l]));const x=xo(v.canSeeViewProviders);v.resolving=!0;const E=v.injectImpl?En(v.injectImpl):null;sd(o,u,Et.Default);try{h=o[l]=v.factory(void 0,p,o,u),c.firstCreatePass&&l>=u.directiveStart&&function rh(o,c,l){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:p}=c.type.prototype;if(u){const v=Za(c);(l.preOrderHooks||(l.preOrderHooks=[])).push(o,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(o,v)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-o,h),p&&((l.preOrderHooks||(l.preOrderHooks=[])).push(o,p),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(o,p))}(l,p[l],c)}finally{null!==E&&En(E),xo(x),v.resolving=!1,tv()}}return h}function $o(o,c,l){return!!(l[c+(o>>oc)]&1<<o)}function Ms(o,c){return!(o&Et.Self||o&Et.Host&&c)}class dc{constructor(c,l){this._tNode=c,this._lView=l}get(c,l,u){return Eo(this._tNode,this._lView,c,Nt(u),l)}}function tm(){return new dc(oi(),He())}function pd(o){return re(()=>{const c=o.prototype.constructor,l=c[Qt]||Yc(c),u=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==u;){const p=h[Qt]||Yc(h);if(p&&p!==l)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function Yc(o){return pe(o)?()=>{const c=Yc(G(o));return c&&c()}:kr(o)}function gd(o){const c=o[ht],l=c.type;return 2===l?c.declTNode:1===l?o[Pn]:null}function ma(o){return function fa(o,c){if("class"===c)return o.classes;if("style"===c)return o.styles;const l=o.attrs;if(l){const u=l.length;let h=0;for(;h<u;){const p=l[h];if(Vo(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<u&&"string"==typeof l[h];)h++;else{if(p===c)return l[h+1];h+=2}}}return null}(oi(),o)}const Qc="__parameters__";function ks(o,c,l){return re(()=>{const u=function ah(o){return function(...l){if(o){const u=o(...l);for(const h in u)this[h]=u[h]}}}(c);function h(...p){if(this instanceof h)return u.apply(this,p),this;const v=new h(...p);return x.annotation=v,x;function x(E,T,R){const V=E.hasOwnProperty(Qc)?E[Qc]:Object.defineProperty(E,Qc,{value:[]})[Qc];for(;V.length<=R;)V.push(null);return(V[R]=V[R]||[]).push(v),E}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}class wn{constructor(c,l){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=ft({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ya(o,c){o.forEach(l=>Array.isArray(l)?ya(l,c):c(l))}function ag(o,c,l){c>=o.length?o.push(l):o.splice(c,0,l)}function fh(o,c){return c>=o.length-1?o.pop():o.splice(c,1)[0]}function va(o,c){const l=[];for(let u=0;u<o;u++)l.push(c);return l}function Ei(o,c,l){let u=tn(o,c);return u>=0?o[1|u]=l:(u=~u,function yd(o,c,l,u){let h=o.length;if(h==c)o.push(l,u);else if(1===h)o.push(u,o[0]),o[0]=l;else{for(h--,o.push(o[h-1],o[h]);h>c;)o[h]=o[h-2],h--;o[c]=l,o[c+1]=u}}(o,u,c,l)),u}function An(o,c){const l=tn(o,c);if(l>=0)return o[1|l]}function tn(o,c){return function $n(o,c,l){let u=0,h=o.length>>l;for(;h!==u;){const p=u+(h-u>>1),v=o[p<<l];if(c===v)return p<<l;v>c?h=p:u=p+1}return~(h<<l)}(o,c,1)}const N=Yt(ks("Inject",o=>({token:o})),-1),se=Yt(ks("Optional"),8),Re=Yt(ks("SkipSelf"),4);var Co=(()=>((Co=Co||{})[Co.Important=1]="Important",Co[Co.DashCase=2]="DashCase",Co))();const wd=new Map;let xd=0;const pc="__ngContext__";function yr(o,c){Wi(c)?(o[pc]=c[ye],function mg(o){wd.set(o[ye],o)}(c)):o[pc]=c}let wh;function xh(o,c){return wh(o,c)}function rl(o){const c=o[Dn];return Mr(c)?c[Dn]:c}function Eh(o){return Ch(o[po])}function hm(o){return Ch(o[pr])}function Ch(o){for(;null!==o&&!Mr(o);)o=o[pr];return o}function Ca(o,c,l,u,h){if(null!=u){let p,v=!1;Mr(u)?p=u:Wi(u)&&(v=!0,u=u[mr]);const x=Zn(u);0===o&&null!==l?null==h?_m(c,l,x):to(c,l,x,h||null,!0):1===o&&null!==l?to(c,l,x,h||null,!0):2===o?function Fd(o,c,l){const u=Pd(o,c);u&&function Rd(o,c,l,u){o.removeChild(c,l,u)}(o,u,c,l)}(c,x,v):3===o&&c.destroyNode(x),null!=p&&function ll(o,c,l,u,h){const p=l[ri];p!==Zn(l)&&Ca(c,o,u,p,h);for(let x=pi;x<l.length;x++){const E=l[x];Ia(E[ht],E,o,c,u,p)}}(c,o,p,l,h)}}function ol(o,c,l){return o.createElement(c,l)}function gm(o,c){const l=o[xi],u=l.indexOf(c),h=c[Dn];512&c[Kt]&&(c[Kt]&=-513,Ja(h,-1)),l.splice(u,1)}function kd(o,c){if(o.length<=pi)return;const l=pi+c,u=o[l];if(u){const h=u[j];null!==h&&h!==o&&gm(h,u),c>0&&(o[l-1][pr]=u[pr]);const p=fh(o,pi+c);!function fm(o,c){Ia(o,c,c[Xt],2,null,null),c[mr]=null,c[Pn]=null}(u[ht],u);const v=p[ae];null!==v&&v.detachView(p[ht]),u[Dn]=null,u[pr]=null,u[Kt]&=-65}return u}function xg(o,c){if(!(128&c[Kt])){const l=c[Xt];l.destroyNode&&Ia(o,c,l,3,null,null),function wg(o){let c=o[po];if(!c)return sl(o[ht],o);for(;c;){let l=null;if(Wi(c))l=c[po];else{const u=c[pi];u&&(l=u)}if(!l){for(;c&&!c[pr]&&c!==o;)Wi(c)&&sl(c[ht],c),c=c[Dn];null===c&&(c=o),Wi(c)&&sl(c[ht],c),l=c&&c[pr]}c=l}}(c)}}function sl(o,c){if(!(128&c[Kt])){c[Kt]&=-65,c[Kt]|=128,function cv(o,c){let l;if(null!=o&&null!=(l=o.destroyHooks))for(let u=0;u<l.length;u+=2){const h=c[l[u]];if(!(h instanceof Zi)){const p=l[u+1];if(Array.isArray(p))for(let v=0;v<p.length;v+=2){const x=h[p[v]],E=p[v+1];gn(4,x,E);try{E.call(x)}finally{gn(5,x,E)}}else{gn(4,h,p);try{p.call(h)}finally{gn(5,h,p)}}}}}(o,c),function Eg(o,c){const l=o.cleanup,u=c[Po];let h=-1;if(null!==l)for(let p=0;p<l.length-1;p+=2)if("string"==typeof l[p]){const v=l[p+3];v>=0?u[h=v]():u[h=-v].unsubscribe(),p+=2}else{const v=u[h=l[p+1]];l[p].call(v)}if(null!==u){for(let p=h+1;p<u.length;p++)(0,u[p])();c[Po]=null}}(o,c),1===c[ht].type&&c[Xt].destroy();const l=c[j];if(null!==l&&Mr(c[Dn])){l!==c[Dn]&&gm(l,c);const u=c[ae];null!==u&&u.detachView(o)}!function Ed(o){wd.delete(o[ye])}(c)}}function Od(o,c,l){return function Sh(o,c,l){let u=c;for(;null!==u&&40&u.type;)u=(c=u).parent;if(null===u)return l[mr];{const{componentOffset:h}=u;if(h>-1){const{encapsulation:p}=o.data[u.directiveStart+h];if(p===me.None||p===me.Emulated)return null}return ir(u,l)}}(o,c.parent,l)}function to(o,c,l,u,h){o.insertBefore(c,l,u,h)}function _m(o,c,l){o.appendChild(c,l)}function ym(o,c,l,u,h){null!==u?to(o,c,l,u,h):_m(o,c,l)}function Pd(o,c){return o.parentNode(c)}function al(o,c,l){return Th(o,c,l)}let Ns,Ld,Io,Sa,Th=function Dh(o,c,l){return 40&o.type?ir(o,l):null};function cl(o,c,l,u){const h=Od(o,u,c),p=c[Xt],x=al(u.parent||c[Pn],u,c);if(null!=h)if(Array.isArray(l))for(let E=0;E<l.length;E++)ym(p,h,l[E],x,!1);else ym(p,h,l,x,!1);void 0!==Ns&&Ns(p,u,c,l,h)}function as(o,c){if(null!==c){const l=c.type;if(3&l)return ir(c,o);if(4&l)return cs(-1,o[c.index]);if(8&l){const u=c.child;if(null!==u)return as(o,u);{const h=o[c.index];return Mr(h)?cs(-1,h):Zn(h)}}if(32&l)return xh(c,o)()||Zn(o[c.index]);{const u=Pr(o,c);return null!==u?Array.isArray(u)?u[0]:as(rl(o[mi]),u):as(o,c.next)}}return null}function Pr(o,c){return null!==c?o[mi][Pn].projection[c.projection]:null}function cs(o,c){const l=pi+o+1;if(l<c.length){const u=c[l],h=u[ht].firstChild;if(null!==h)return as(u,h)}return c[ri]}function gc(o,c,l,u,h,p,v){for(;null!=l;){const x=u[l.index],E=l.type;if(v&&0===c&&(x&&yr(Zn(x),u),l.flags|=2),32!=(32&l.flags))if(8&E)gc(o,c,l.child,u,h,p,!1),Ca(c,o,h,x,p);else if(32&E){const T=xh(l,u);let R;for(;R=T();)Ca(c,o,h,R,p);Ca(c,o,h,x,p)}else 16&E?vm(o,c,u,l,h,p):Ca(c,o,h,x,p);l=v?l.projectionNext:l.next}}function Ia(o,c,l,u,h,p){gc(l,u,o.firstChild,c,h,p,!1)}function vm(o,c,l,u,h,p){const v=l[mi],E=v[Pn].projection[u.projection];if(Array.isArray(E))for(let T=0;T<E.length;T++)Ca(c,o,h,E[T],p);else gc(o,c,E,v[Dn],h,p,!0)}function Nd(o,c,l){""===l?o.removeAttribute(c,"class"):o.setAttribute(c,"class",l)}function bm(o,c,l){const{mergedAttrs:u,classes:h,styles:p}=l;null!==u&&da(o,c,u),null!==h&&Nd(o,c,h),null!==p&&function Ls(o,c,l){o.setAttribute(c,"style",l)}(o,c,p)}function Bs(o){return function _c(){if(void 0===Ld&&(Ld=null,Vt.trustedTypes))try{Ld=Vt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Ld}()?.createHTML(o)||o}function jd(o){Io=o}function xm(o){return function Hd(){if(void 0===Sa&&(Sa=null,Vt.trustedTypes))try{Sa=Vt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Sa}()?.createScriptURL(o)||o}class yc{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ze})`}}class Gd extends yc{getTypeName(){return"HTML"}}class y extends yc{getTypeName(){return"Style"}}class m extends yc{getTypeName(){return"Script"}}class g extends yc{getTypeName(){return"URL"}}class w extends yc{getTypeName(){return"ResourceURL"}}function M(o){return o instanceof yc?o.changingThisBreaksApplicationSecurity:o}function F(o,c){const l=function oe(o){return o instanceof yc&&o.getTypeName()||null}(o);if(null!=l&&l!==c){if("ResourceURL"===l&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${l} (see ${Ze})`)}return l===c}function ke(o){return new Gd(o)}function nt(o){return new y(o)}function _t(o){return new m(o)}function kt(o){return new g(o)}function xt(o){return new w(o)}class zr{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const l=(new window.DOMParser).parseFromString(Bs(c),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(c):(l.removeChild(l.firstChild),l)}catch{return null}}}class qd{constructor(c){this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(c){const l=this.inertDocument.createElement("template");return l.innerHTML=Bs(c),l}}const dl=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Us(o){return(o=String(o)).match(dl)?o:"unsafe:"+o}function Hr(o){const c={};for(const l of o.split(","))c[l]=!0;return c}function vc(...o){const c={};for(const l of o)for(const u in l)l.hasOwnProperty(u)&&(c[u]=!0);return c}const Mh=Hr("area,br,col,hr,img,wbr"),Em=Hr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),kh=Hr("rp,rt"),ls=vc(Mh,vc(Em,Hr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),vc(kh,Hr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),vc(kh,Em)),Sg=Hr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Wd=vc(Sg,Hr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Hr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),mS=Hr("script,style,template");class pS{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let l=c.firstChild,u=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?u=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,u&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(c){const l=c.nodeName.toLowerCase();if(!ls.hasOwnProperty(l))return this.sanitizedSomething=!0,!mS.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const u=c.attributes;for(let h=0;h<u.length;h++){const p=u.item(h),v=p.name,x=v.toLowerCase();if(!Wd.hasOwnProperty(x)){this.sanitizedSomething=!0;continue}let E=p.value;Sg[x]&&(E=Us(E)),this.buf.push(" ",v,'="',uv(E),'"')}return this.buf.push(">"),!0}endElement(c){const l=c.nodeName.toLowerCase();ls.hasOwnProperty(l)&&!Mh.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(c){this.buf.push(uv(c))}checkClobberedElement(c,l){if(l&&(c.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return l}}const Mw=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gS=/([^\#-~ |!])/g;function uv(o){return o.replace(/&/g,"&amp;").replace(Mw,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(gS,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Cm;function Dg(o,c){let l=null;try{Cm=Cm||function Jn(o){const c=new qd(o);return function Gn(){try{return!!(new window.DOMParser).parseFromString(Bs(""),"text/html")}catch{return!1}}()?new zr(c):c}(o);let u=c?String(c):"";l=Cm.getInertBodyElement(u);let h=5,p=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=p,p=l.innerHTML,l=Cm.getInertBodyElement(u)}while(u!==p);return Bs((new pS).sanitizeChildren(Im(l)||l))}finally{if(l){const u=Im(l)||l;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Im(o){return"content"in o&&function kw(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Ii=(()=>((Ii=Ii||{})[Ii.NONE=0]="NONE",Ii[Ii.HTML=1]="HTML",Ii[Ii.STYLE=2]="STYLE",Ii[Ii.SCRIPT=3]="SCRIPT",Ii[Ii.URL=4]="URL",Ii[Ii.RESOURCE_URL=5]="RESOURCE_URL",Ii))();function Ow(o){const c=Dm();return c?c.sanitize(Ii.URL,o)||"":F(o,"URL")?M(o):Us(Ie(o))}function Rw(o){const c=Dm();if(c)return xm(c.sanitize(Ii.RESOURCE_URL,o)||"");if(F(o,"ResourceURL"))return xm(M(o));throw new xe(904,!1)}function mv(o,c,l){return function fv(o,c){return"src"===c&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===c&&("base"===o||"link"===o)?Rw:Ow}(c,l)(o)}function Dm(){const o=He();return o&&o[mo]}const si=new wn("ENVIRONMENT_INITIALIZER"),pv=new wn("INJECTOR",-1),Pw=new wn("INJECTOR_DEF_TYPES");class Fw{get(c,l=Rn){if(l===Rn){const u=new Error(`NullInjectorError: No provider for ${ee(c)}!`);throw u.name="NullInjectorError",u}return l}}function yS(o){return{\u0275providers:o}}function Nw(...o){return{\u0275providers:gv(0,o),\u0275fromNgModule:!0}}function gv(o,...c){const l=[],u=new Set;let h;return ya(c,p=>{const v=p;Oh(v,l,[],u)&&(h||(h=[]),h.push(v))}),void 0!==h&&_v(h,l),l}function _v(o,c){for(let l=0;l<o.length;l++){const{providers:h}=o[l];Vs(h,p=>{c.push(p)})}}function Oh(o,c,l,u){if(!(o=G(o)))return!1;let h=null,p=tr(o);const v=!p&&on(o);if(p||v){if(v&&!v.standalone)return!1;h=o}else{const E=o.ngModule;if(p=tr(E),!p)return!1;h=E}const x=u.has(h);if(v){if(x)return!1;if(u.add(h),v.dependencies){const E="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const T of E)Oh(T,c,l,u)}}else{if(!p)return!1;{if(null!=p.imports&&!x){let T;u.add(h);try{ya(p.imports,R=>{Oh(R,c,l,u)&&(T||(T=[]),T.push(R))})}finally{}void 0!==T&&_v(T,c)}if(!x){const T=kr(h)||(()=>new h);c.push({provide:h,useFactory:T,deps:st},{provide:Pw,useValue:h,multi:!0},{provide:si,useValue:()=>tt(h),multi:!0})}const E=p.providers;null==E||x||Vs(E,R=>{c.push(R)})}}return h!==o&&void 0!==o.providers}function Vs(o,c){for(let l of o)we(l)&&(l=l.\u0275providers),Array.isArray(l)?Vs(l,c):c(l)}const Lw=K({provide:String,useValue:K});function Og(o){return null!==o&&"object"==typeof o&&Lw in o}function hl(o){return"function"==typeof o}const Ph=new wn("Set Injector scope."),Tm={},Pg={};let vv;function Am(){return void 0===vv&&(vv=new Fw),vv}class js{}class bv extends js{get destroyed(){return this._destroyed}constructor(c,l,u,h){super(),this.parent=l,this.source=u,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ng(c,v=>this.processProvider(v)),this.records.set(pv,bc(void 0,this)),h.has("environment")&&this.records.set(js,bc(void 0,this));const p=this.records.get(Ph);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Pw.multi,st,Et.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();for(const c of this._onDestroyHooks)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(c){this._onDestroyHooks.push(c)}runInContext(c){this.assertNotDestroyed();const l=$i(this),u=En(void 0);try{return c()}finally{$i(l),En(u)}}get(c,l=Rn,u=Et.Default){this.assertNotDestroyed(),u=Nt(u);const h=$i(this),p=En(void 0);try{if(!(u&Et.SkipSelf)){let x=this.records.get(c);if(void 0===x){const E=function Kd(o){return"function"==typeof o||"object"==typeof o&&o instanceof wn}(c)&&fn(c);x=E&&this.injectableDefInScope(E)?bc(Fg(c),Tm):null,this.records.set(c,x)}if(null!=x)return this.hydrate(c,x)}return(u&Et.Self?Am():this.parent).get(c,l=u&Et.Optional&&l===Rn?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[bi]=v[bi]||[]).unshift(ee(c)),h)throw v;return function X(o,c,l,u){const h=o[bi];throw c[Xr]&&h.unshift(c[Xr]),o.message=function Z(o,c,l,u=null){o=o&&"\n"===o.charAt(0)&&o.charAt(1)==pn?o.slice(2):o;let h=ee(c);if(Array.isArray(c))h=c.map(ee).join(" -> ");else if("object"==typeof c){let p=[];for(let v in c)if(c.hasOwnProperty(v)){let x=c[v];p.push(v+":"+("string"==typeof x?JSON.stringify(x):ee(x)))}h=`{${p.join(", ")}}`}return`${l}${u?"("+u+")":""}[${h}]: ${o.replace(Qo,"\n  ")}`}("\n"+o.message,h,l,u),o[wi]=h,o[bi]=null,o}(v,c,"R3InjectorError",this.source)}throw v}finally{En(p),$i(h)}}resolveInjectorInitializers(){const c=$i(this),l=En(void 0);try{const u=this.get(si.multi,st,Et.Self);for(const h of u)h()}finally{$i(c),En(l)}}toString(){const c=[],l=this.records;for(const u of l.keys())c.push(ee(u));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processProvider(c){let l=hl(c=G(c))?c:G(c&&c.provide);const u=function xv(o){return Og(o)?bc(void 0,o.useValue):bc(Ev(o),Tm)}(c);if(hl(c)||!0!==c.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=bc(void 0,Tm,!0),h.factory=()=>jt(h.multi),this.records.set(l,h)),l=c,h.multi.push(c)}this.records.set(l,u)}hydrate(c,l){return l.value===Tm&&(l.value=Pg,l.value=l.factory()),"object"==typeof l.value&&l.value&&function Uw(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(c){if(!c.providedIn)return!1;const l=G(c.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function Fg(o){const c=fn(o),l=null!==c?c.factory:kr(o);if(null!==l)return l;if(o instanceof wn)throw new xe(204,!1);if(o instanceof Function)return function wv(o){const c=o.length;if(c>0)throw va(c,"?"),new xe(204,!1);const l=function zi(o){const c=o&&(o[Hi]||o[vn]);return c?(function ko(o){if(o.hasOwnProperty("name"))return o.name;(""+o).match(/^function\s*([^\s(]+)/)}(o),c):null}(o);return null!==l?()=>l.factory(o):()=>new o}(o);throw new xe(204,!1)}function Ev(o,c,l){let u;if(hl(o)){const h=G(o);return kr(h)||Fg(h)}if(Og(o))u=()=>G(o.useValue);else if(function Rh(o){return!(!o||!o.useFactory)}(o))u=()=>o.useFactory(...jt(o.deps||[]));else if(function Rg(o){return!(!o||!o.useExisting)}(o))u=()=>tt(G(o.useExisting));else{const h=G(o&&(o.useClass||o.provide));if(!function Bw(o){return!!o.deps}(o))return kr(h)||Fg(h);u=()=>new h(...jt(o.deps))}return u}function bc(o,c,l=!1){return{factory:o,value:c,multi:l?[]:void 0}}function Ng(o,c){for(const l of o)Array.isArray(l)?Ng(l,c):l&&we(l)?Ng(l.\u0275providers,c):c(l)}class Vw{}class Cv{}class zw{resolveComponentFactory(c){throw function jw(o){const c=Error(`No component factory found for ${ee(o)}. Did you add it to @NgModule.entryComponents?`);return c.ngComponent=o,c}(c)}}let Fh=(()=>{class o{}return o.NULL=new zw,o})();function Nh(){return Lh(oi(),He())}function Lh(o,c){return new km(ir(o,c))}let km=(()=>{class o{constructor(l){this.nativeElement=l}}return o.__NG_ELEMENT_ID__=Nh,o})();function Iv(o){return o instanceof km?o.nativeElement:o}class Hw{}let bS=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function $w(){const o=He(),l=Oi(oi().index,o);return(Wi(l)?l:o)[Xt]}(),o})(),wS=(()=>{class o{}return o.\u0275prov=ft({token:o,providedIn:"root",factory:()=>null}),o})();class Om{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const Gw=new Om("15.2.4"),Lg={},Qi="ngOriginalError";function Da(o){return o[Qi]}class Zd{constructor(){this._console=console}handleError(c){const l=this._findOriginalError(c);this._console.error("ERROR",c),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(c){let l=c&&Da(c);for(;l&&Da(l);)l=Da(l);return l||null}}function rt(o){return o instanceof Function?o():o}function Ww(o,c,l){let u=o.length;for(;;){const h=o.indexOf(c,l);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const p=c.length;if(h+p===u||o.charCodeAt(h+p)<=32)return h}l=h+1}}const Kw="ng-template";function CS(o,c,l){let u=0,h=!0;for(;u<o.length;){let p=o[u++];if("string"==typeof p&&h){const v=o[u++];if(l&&"class"===p&&-1!==Ww(v.toLowerCase(),c,0))return!0}else{if(1===p){for(;u<o.length&&"string"==typeof(p=o[u++]);)if(p.toLowerCase()===c)return!0;return!1}"number"==typeof p&&(h=!1)}}return!1}function Dv(o){return 4===o.type&&o.value!==Kw}function IS(o,c,l){return c===(4!==o.type||l?o.value:Kw)}function xk(o,c,l){let u=4;const h=o.attrs||[],p=function Yw(o){for(let c=0;c<o.length;c++)if(Vo(o[c]))return c;return o.length}(h);let v=!1;for(let x=0;x<c.length;x++){const E=c[x];if("number"!=typeof E){if(!v)if(4&u){if(u=2|1&u,""!==E&&!IS(o,E,l)||""===E&&1===c.length){if(zs(u))return!1;v=!0}}else{const T=8&u?E:c[++x];if(8&u&&null!==o.attrs){if(!CS(o.attrs,T,l)){if(zs(u))return!1;v=!0}continue}const V=Zw(8&u?"class":E,h,Dv(o),l);if(-1===V){if(zs(u))return!1;v=!0;continue}if(""!==T){let ie;ie=V>p?"":h[V+1].toLowerCase();const he=8&u?ie:null;if(he&&-1!==Ww(he,T,0)||2&u&&T!==ie){if(zs(u))return!1;v=!0}}}}else{if(!v&&!zs(u)&&!zs(E))return!1;if(v&&zs(E))continue;v=!1,u=E|1&u}}return zs(u)||v}function zs(o){return 0==(1&o)}function Zw(o,c,l,u){if(null===c)return-1;let h=0;if(u||!l){let p=!1;for(;h<c.length;){const v=c[h];if(v===o)return h;if(3===v||6===v)p=!0;else{if(1===v||2===v){let x=c[++h];for(;"string"==typeof x;)x=c[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=p?1:2}return-1}return function ai(o,c){let l=o.indexOf(4);if(l>-1)for(l++;l<o.length;){const u=o[l];if("number"==typeof u)return-1;if(u===c)return l;l++}return-1}(c,o)}function nn(o,c,l=!1){for(let u=0;u<c.length;u++)if(xk(o,c[u],l))return!0;return!1}function Pt(o,c){e:for(let l=0;l<c.length;l++){const u=c[l];if(o.length===u.length){for(let h=0;h<o.length;h++)if(o[h]!==u[h])continue e;return!0}}return!1}function jh(o,c){return o?":not("+c.trim()+")":c}function yn(o){let c=o[0],l=1,u=2,h="",p=!1;for(;l<o.length;){let v=o[l];if("string"==typeof v)if(2&u){const x=o[++l];h+="["+v+(x.length>0?'="'+x+'"':"")+"]"}else 8&u?h+="."+v:4&u&&(h+=" "+v);else""!==h&&!zs(v)&&(c+=jh(p,h),h=""),u=v,p=p||!zs(u);l++}return""!==h&&(c+=jh(p,h)),c}const Be={};function Rm(o){Bg(ln(),He(),gr()+o,!1)}function Bg(o,c,l,u){if(!u)if(3==(3&c[Kt])){const p=o.preOrderCheckHooks;null!==p&&cd(c,p,l)}else{const p=o.preOrderHooks;null!==p&&Bo(c,p,0,l)}ns(l)}function Av(o,c=null,l=null,u){const h=Mv(o,c,l,u);return h.resolveInjectorInitializers(),h}function Mv(o,c=null,l=null,u,h=new Set){const p=[l||st,Nw(o)];return u=u||("object"==typeof o?void 0:ee(o)),new bv(p,c||Am(),u||null,h)}let So=(()=>{class o{static create(l,u){if(Array.isArray(l))return Av({name:""},u,l,"");{const h=l.name??"";return Av({name:h},l.parent,l.providers,h)}}}return o.THROW_IF_NOT_FOUND=Rn,o.NULL=new Fw,o.\u0275prov=ft({token:o,providedIn:"any",factory:()=>tt(pv)}),o.__NG_ELEMENT_ID__=-1,o})();function us(o,c=Et.Default){const l=He();return null===l?tt(o,c):Eo(oi(),l,G(o),c)}function zg(){throw new Error("invalid")}function Gh(o,c){const l=o.contentQueries;if(null!==l)for(let u=0;u<l.length;u+=2){const p=l[u+1];if(-1!==p){const v=o.data[p];Wc(l[u]),v.contentQueries(2,c[p],p)}}}function Ta(o,c,l,u,h,p,v,x,E,T,R){const V=c.blueprint.slice();return V[mr]=h,V[Kt]=76|u,(null!==R||o&&1024&o[Kt])&&(V[Kt]|=1024),jc(V),V[Dn]=V[bs]=o,V[Vn]=l,V[vs]=v||o&&o[vs],V[Xt]=x||o&&o[Xt],V[mo]=E||o&&o[mo]||null,V[fi]=T||o&&o[fi]||null,V[Pn]=p,V[ye]=function cm(){return xd++}(),V[et]=R,V[mi]=2==c.type?o[mi]:V,V}function no(o,c,l,u,h){let p=o.data[c];if(null===p)p=function Jd(o,c,l,u,h){const p=Kf(),v=Hc(),E=o.data[c]=function OS(o,c,l,u,h,p){return{type:l,index:u,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?p:p&&p.parent,l,c,u,h);return null===o.firstChild&&(o.firstChild=E),null!==p&&(v?null==p.child&&null!==E.parent&&(p.child=E):null===p.next&&(p.next=E,E.prev=p)),E}(o,c,l,u,h),function qc(){return qt.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=l,p.value=u,p.attrs=h;const v=function ts(){const o=qt.lFrame,c=o.currentTNode;return o.isParent?c:c.parent}();p.injectorIndex=null===v?-1:v.injectorIndex}return eo(p,!0),p}function hs(o,c,l,u){if(0===l)return-1;const h=c.length;for(let p=0;p<l;p++)c.push(u),o.blueprint.push(u),o.data.push(null);return h}function $g(o,c,l){th(c);try{const u=o.viewQuery;null!==u&&$v(1,u,l);const h=o.template;null!==h&&Gg(o,c,h,1,l),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&Gh(o,c),o.staticViewQueries&&$v(2,o.viewQuery,l);const p=o.components;null!==p&&function Hg(o,c){for(let l=0;l<c.length;l++)fx(o,c[l])}(c,p)}catch(u){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),u}finally{c[Kt]&=-5,Yf()}}function wc(o,c,l,u){const h=c[Kt];if(128!=(128&h)){th(c);try{jc(c),function nd(o){return qt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==l&&Gg(o,c,l,2,u);const v=3==(3&h);if(v){const T=o.preOrderCheckHooks;null!==T&&cd(c,T,null)}else{const T=o.preOrderHooks;null!==T&&Bo(c,T,0,null),ca(c,0)}if(function Yg(o){for(let c=Eh(o);null!==c;c=hm(c)){if(!c[Fn])continue;const l=c[xi];for(let u=0;u<l.length;u++){const h=l[u];512&h[Kt]||Ja(h[Dn],1),h[Kt]|=512}}}(c),function Di(o){for(let c=Eh(o);null!==c;c=hm(c))for(let l=pi;l<c.length;l++){const u=c[l],h=u[ht];Cs(u)&&wc(h,u,h.template,u[Vn])}}(c),null!==o.contentQueries&&Gh(o,c),v){const T=o.contentCheckHooks;null!==T&&cd(c,T)}else{const T=o.contentHooks;null!==T&&Bo(c,T,1),ca(c,1)}!function rx(o,c){const l=o.hostBindingOpCodes;if(null!==l)try{for(let u=0;u<l.length;u++){const h=l[u];if(h<0)ns(~h);else{const p=h,v=l[++u],x=l[++u];rd(v,p),x(2,c[p])}}}finally{ns(-1)}}(o,c);const x=o.components;null!==x&&function _l(o,c){for(let l=0;l<c.length;l++)Fr(o,c[l])}(c,x);const E=o.viewQuery;if(null!==E&&$v(2,E,u),v){const T=o.viewCheckHooks;null!==T&&cd(c,T)}else{const T=o.viewHooks;null!==T&&Bo(c,T,2),ca(c,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),c[Kt]&=-41,512&c[Kt]&&(c[Kt]&=-513,Ja(c[Dn],-1))}finally{Yf()}}}function Gg(o,c,l,u,h){const p=gr(),v=2&u;try{ns(-1),v&&c.length>je&&Bg(o,c,je,!1),gn(v?2:0,h),l(u,h)}finally{ns(p),gn(v?3:1,h)}}function xc(o,c,l){if(Fo(c)){const h=c.directiveEnd;for(let p=c.directiveStart;p<h;p++){const v=o.data[p];v.contentQueries&&v.contentQueries(1,l[p],p)}}}function Nm(o,c,l){Qu()&&(function cx(o,c,l,u){const h=l.directiveStart,p=l.directiveEnd;Pc(l)&&function NS(o,c,l){const u=ir(c,o),h=Lv(l),p=o[vs],v=Nr(o,Ta(o,h,null,l.onPush?32:16,u,c,p,p.createRenderer(u,l),null,null,null));o[c.index]=v}(c,l,o.data[h+l.componentOffset]),o.firstCreatePass||Ho(l,c),yr(u,c);const v=l.initialInputs;for(let x=h;x<p;x++){const E=o.data[x],T=rs(c,o,x,l);yr(T,c),null!==v&&LS(0,x-h,T,E,0,v),nr(E)&&(Oi(l.index,c)[Vn]=rs(c,o,x,l))}}(o,c,l,ir(l,c)),64==(64&l.flags)&&Kg(o,c,l))}function eu(o,c,l=ir){const u=c.localNames;if(null!==u){let h=c.index+1;for(let p=0;p<u.length;p+=2){const v=u[p+1],x=-1===v?l(c,o):o[v];o[h++]=x}}}function Lv(o){const c=o.tView;return null===c||c.incompleteFirstPass?o.tView=qg(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):c}function qg(o,c,l,u,h,p,v,x,E,T){const R=je+u,V=R+h,ie=function Wg(o,c){const l=[];for(let u=0;u<c;u++)l.push(u<o?null:Be);return l}(R,V),he="function"==typeof T?T():T;return ie[ht]={type:o,blueprint:ie,template:l,queries:null,viewQuery:x,declTNode:c,data:ie.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:V,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:E,consts:he,incompleteFirstPass:!1}}function Bv(o,c,l,u){const h=vl(c);null===l?h.push(u):(h.push(l),o.firstCreatePass&&Kh(o).push(u,h.length-1))}function ox(o,c,l,u){for(let h in o)if(o.hasOwnProperty(h)){l=null===l?{}:l;const p=o[h];null===u?Uv(l,c,h,p):u.hasOwnProperty(h)&&Uv(l,c,u[h],p)}return l}function Uv(o,c,l,u){o.hasOwnProperty(l)?o[l].push(c,u):o[l]=[c,u]}function To(o,c,l,u,h,p,v,x){const E=ir(c,l);let R,T=c.inputs;!x&&null!=T&&(R=T[u])?(Qg(o,l,R,u,h),Pc(c)&&Vv(l,c.index)):3&c.type&&(u=function yl(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(u),h=null!=v?v(h,c.value||"",u):h,p.setProperty(E,u,h))}function Vv(o,c){const l=Oi(c,o);16&l[Kt]||(l[Kt]|=32)}function kn(o,c,l,u){if(Qu()){const h=null===u?null:{"":-1},p=function dx(o,c){const l=o.directiveRegistry;let u=null,h=null;if(l)for(let p=0;p<l.length;p++){const v=l[p];if(nn(c,v.selectors,!1))if(u||(u=[]),nr(v))if(null!==v.findHostDirectiveDefs){const x=[];h=h||new Map,v.findHostDirectiveDefs(v,x,h),u.unshift(...x,v),Zg(o,c,x.length)}else u.unshift(v),Zg(o,c,0);else h=h||new Map,v.findHostDirectiveDefs?.(v,u,h),u.push(v)}return null===u?null:[u,h]}(o,l);let v,x;null===p?v=x=null:[v,x]=p,null!==v&&tu(o,c,l,v,h,x),h&&function RS(o,c,l){if(c){const u=o.localNames=[];for(let h=0;h<c.length;h+=2){const p=l[c[h+1]];if(null==p)throw new xe(-301,!1);u.push(c[h],p)}}}(l,u,h)}l.mergedAttrs=jo(l.mergedAttrs,l.attrs)}function tu(o,c,l,u,h,p){for(let T=0;T<u.length;T++)ac(Ho(l,c),o,u[T].type);!function FS(o,c,l){o.flags|=1,o.directiveStart=c,o.directiveEnd=c+l,o.providerIndexes=c}(l,o.data.length,u.length);for(let T=0;T<u.length;T++){const R=u[T];R.providersResolver&&R.providersResolver(R)}let v=!1,x=!1,E=hs(o,c,u.length,null);for(let T=0;T<u.length;T++){const R=u[T];l.mergedAttrs=jo(l.mergedAttrs,R.hostAttrs),ux(o,l,c,E,R),PS(E,R,h),null!==R.contentQueries&&(l.flags|=4),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(l.flags|=64);const V=R.type.prototype;!v&&(V.ngOnChanges||V.ngOnInit||V.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(l.index),v=!0),!x&&(V.ngOnChanges||V.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(l.index),x=!0),E++}!function sx(o,c,l){const h=c.directiveEnd,p=o.data,v=c.attrs,x=[];let E=null,T=null;for(let R=c.directiveStart;R<h;R++){const V=p[R],ie=l?l.get(V):null,Ae=ie?ie.outputs:null;E=ox(V.inputs,R,E,ie?ie.inputs:null),T=ox(V.outputs,R,T,Ae);const Je=null===E||null===v||Dv(c)?null:qh(E,R,v);x.push(Je)}null!==E&&(E.hasOwnProperty("class")&&(c.flags|=8),E.hasOwnProperty("style")&&(c.flags|=16)),c.initialInputs=x,c.inputs=E,c.outputs=T}(o,l,p)}function Kg(o,c,l){const u=l.directiveStart,h=l.directiveEnd,p=l.index,v=function Zf(){return qt.lFrame.currentDirectiveIndex}();try{ns(p);for(let x=u;x<h;x++){const E=o.data[x],T=c[x];Lo(x),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&lx(E,T)}}finally{ns(-1),Lo(v)}}function lx(o,c){null!==o.hostBindings&&o.hostBindings(1,c)}function Zg(o,c,l){c.componentOffset=l,(o.components||(o.components=[])).push(c.index)}function PS(o,c,l){if(l){if(c.exportAs)for(let u=0;u<c.exportAs.length;u++)l[c.exportAs[u]]=o;nr(c)&&(l[""]=o)}}function ux(o,c,l,u,h){o.data[u]=h;const p=h.factory||(h.factory=kr(h.type)),v=new Zi(p,nr(h),us);o.blueprint[u]=v,l[u]=v,function jv(o,c,l,u,h){const p=h.hostBindings;if(p){let v=o.hostBindingOpCodes;null===v&&(v=o.hostBindingOpCodes=[]);const x=~c.index;(function zv(o){let c=o.length;for(;c>0;){const l=o[--c];if("number"==typeof l&&l<0)return l}return 0})(v)!=x&&v.push(x),v.push(l,u,p)}}(o,c,u,hs(o,l,h.hostVars,Be),h)}function $s(o,c,l,u,h,p){const v=ir(o,c);!function Hv(o,c,l,u,h,p,v){if(null==p)o.removeAttribute(c,h,l);else{const x=null==v?Ie(p):v(p,u||"",h);o.setAttribute(c,h,x,l)}}(c[Xt],v,p,o.value,l,u,h)}function LS(o,c,l,u,h,p){const v=p[c];if(null!==v){const x=u.setInput;for(let E=0;E<v.length;){const T=v[E++],R=v[E++],V=v[E++];null!==x?u.setInput(l,V,T,R):l[R]=V}}}function qh(o,c,l){let u=null,h=0;for(;h<l.length;){const p=l[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(o.hasOwnProperty(p)){null===u&&(u=[]);const v=o[p];for(let x=0;x<v.length;x+=2)if(v[x]===c){u.push(p,v[x+1],l[h+1]);break}}h+=2}else h+=2;else h+=4}return u}function hx(o,c,l,u){return[o,!0,!1,c,null,0,u,l,null,null]}function Fr(o,c){const l=Oi(c,o);if(Cs(l)){const u=l[ht];48&l[Kt]?wc(u,l,u.template,l[Vn]):l[Ar]>0&&Nn(l)}}function Nn(o){for(let u=Eh(o);null!==u;u=hm(u))for(let h=pi;h<u.length;h++){const p=u[h];if(Cs(p))if(512&p[Kt]){const v=p[ht];wc(v,p,v.template,p[Vn])}else p[Ar]>0&&Nn(p)}const l=o[ht].components;if(null!==l)for(let u=0;u<l.length;u++){const h=Oi(l[u],o);Cs(h)&&h[Ar]>0&&Nn(h)}}function fx(o,c){const l=Oi(c,o),u=l[ht];(function Wh(o,c){for(let l=c.length;l<o.blueprint.length;l++)c.push(o.blueprint[l])})(u,l),$g(u,l,l[Vn])}function Nr(o,c){return o[po]?o[go][pr]=c:o[po]=c,o[go]=c,c}function Xi(o){for(;o;){o[Kt]|=32;const c=rl(o);if(Gu(o)&&!c)return o;o=c}return null}function Bm(o,c,l,u=!0){const h=c[vs];h.begin&&h.begin();try{wc(o,c,o.template,l)}catch(v){throw u&&Vm(c,v),v}finally{h.end&&h.end()}}function $v(o,c,l){Wc(0),c(o,l)}function vl(o){return o[Po]||(o[Po]=[])}function Kh(o){return o.cleanup||(o.cleanup=[])}function Vm(o,c){const l=o[fi],u=l?l.get(Zd,null):null;u&&u.handleError(c)}function Qg(o,c,l,u,h){for(let p=0;p<l.length;){const v=l[p++],x=l[p++],E=c[v],T=o.data[v];null!==T.setInput?T.setInput(E,h,u,x):E[x]=h}}function fs(o,c,l){let u=l?o.styles:null,h=l?o.classes:null,p=0;if(null!==c)for(let v=0;v<c.length;v++){const x=c[v];"number"==typeof x?p=x:1==p?h=Y(h,x):2==p&&(u=Y(u,x+": "+c[++v]+";"))}l?o.styles=u:o.stylesWithoutHost=u,l?o.classes=h:o.classesWithoutHost=h}function jm(o,c,l,u,h=!1){for(;null!==l;){const p=c[l.index];if(null!==p&&u.push(Zn(p)),Mr(p))for(let x=pi;x<p.length;x++){const E=p[x],T=E[ht].firstChild;null!==T&&jm(E[ht],E,T,u)}const v=l.type;if(8&v)jm(o,c,l.child,u);else if(32&v){const x=xh(l,c);let E;for(;E=x();)u.push(E)}else if(16&v){const x=Pr(c,l);if(Array.isArray(x))u.push(...x);else{const E=rl(c[mi]);jm(E[ht],E,x,u,!0)}}l=h?l.projectionNext:l.next}return u}class Ma{get rootNodes(){const c=this._lView,l=c[ht];return jm(l,c,l.firstChild,[])}constructor(c,l){this._lView=c,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Vn]}set context(c){this._lView[Vn]=c}get destroyed(){return 128==(128&this._lView[Kt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[Dn];if(Mr(c)){const l=c[Zt],u=l?l.indexOf(this):-1;u>-1&&(kd(c,u),fh(l,u))}this._attachedToViewContainer=!1}xg(this._lView[ht],this._lView)}onDestroy(c){Bv(this._lView[ht],this._lView,null,c)}markForCheck(){Xi(this._cdRefInjectingView||this._lView)}detach(){this._lView[Kt]&=-65}reattach(){this._lView[Kt]|=64}detectChanges(){Bm(this._lView[ht],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function pm(o,c){Ia(o,c,c[Xt],2,null,null)}(this._lView[ht],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new xe(902,!1);this._appRef=c}}class px extends Ma{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;Bm(c[ht],c,c[Vn],!1)}checkNoChanges(){}get context(){return null}}class Xg extends Fh{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const l=on(c);return new lr(l,this.ngModule)}}function zm(o){const c=[];for(let l in o)o.hasOwnProperty(l)&&c.push({propName:o[l],templateName:l});return c}class nu{constructor(c,l){this.injector=c,this.parentInjector=l}get(c,l,u){u=Nt(u);const h=this.injector.get(c,Lg,u);return h!==Lg||l===Lg?h:this.parentInjector.get(c,l,u)}}class lr extends Cv{get inputs(){return zm(this.componentDef.inputs)}get outputs(){return zm(this.componentDef.outputs)}constructor(c,l){super(),this.componentDef=c,this.ngModule=l,this.componentType=c.type,this.selector=function SS(o){return o.map(yn).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!l}create(c,l,u,h){let p=(h=h||this.ngModule)instanceof js?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const v=p?new nu(c,p):c,x=v.get(Hw,null);if(null===x)throw new xe(407,!1);const E=v.get(wS,null),T=x.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",V=u?function Lm(o,c,l){return o.selectRootElement(c,l===me.ShadowDom)}(T,u,this.componentDef.encapsulation):ol(T,R,function Gv(o){const c=o.toLowerCase();return"svg"===c?Uc:"math"===c?"math":null}(R)),ie=this.componentDef.onPush?288:272,he=qg(0,null,null,1,0,null,null,null,null,null),Ae=Ta(null,he,null,ie,null,null,x,T,E,v,null);let Je,lt;th(Ae);try{const yt=this.componentDef;let Ft,Ge=null;yt.findHostDirectiveDefs?(Ft=[],Ge=new Map,yt.findHostDirectiveDefs(yt,Ft,Ge),Ft.push(yt)):Ft=[yt];const Ht=function Hm(o,c){const l=o[ht],u=je;return o[u]=c,no(l,u,2,"#host",null)}(Ae,V),ui=function gx(o,c,l,u,h,p,v,x){const E=h[ht];!function Kv(o,c,l,u){for(const h of o)c.mergedAttrs=jo(c.mergedAttrs,h.hostAttrs);null!==c.mergedAttrs&&(fs(c,c.mergedAttrs,!0),null!==l&&bm(u,l,c))}(u,o,c,v);const T=p.createRenderer(c,l),R=Ta(h,Lv(l),null,l.onPush?32:16,h[o.index],o,p,T,x||null,null,null);return E.firstCreatePass&&Zg(E,o,u.length-1),Nr(h,R),h[o.index]=R}(Ht,V,yt,Ft,Ae,x,T);lt=Zl(he,je),V&&function _x(o,c,l,u){if(u)da(o,l,["ng-version",Gw.full]);else{const{attrs:h,classes:p}=function Si(o){const c=[],l=[];let u=1,h=2;for(;u<o.length;){let p=o[u];if("string"==typeof p)2===h?""!==p&&c.push(p,o[++u]):8===h&&l.push(p);else{if(!zs(h))break;h=p}u++}return{attrs:c,classes:l}}(c.selectors[0]);h&&da(o,l,h),p&&p.length>0&&Nd(o,l,p.join(" "))}}(T,yt,V,u),void 0!==l&&function yx(o,c,l){const u=o.projection=[];for(let h=0;h<c.length;h++){const p=l[h];u.push(null!=p?Array.from(p):null)}}(lt,this.ngContentSelectors,l),Je=function $m(o,c,l,u,h,p){const v=oi(),x=h[ht],E=ir(v,h);tu(x,h,v,l,null,u);for(let R=0;R<l.length;R++)yr(rs(h,x,v.directiveStart+R,v),h);Kg(x,h,v),E&&yr(E,h);const T=rs(h,x,v.directiveStart+v.componentOffset,v);if(o[Vn]=h[Vn]=T,null!==p)for(const R of p)R(T,c);return xc(x,v,o),T}(ui,yt,Ft,Ge,Ae,[BS]),$g(he,Ae,null)}finally{Yf()}return new qv(this.componentType,Je,Lh(lt,Ae),Ae,lt)}}class qv extends Vw{constructor(c,l,u,h,p){super(),this.location=u,this._rootLView=h,this._tNode=p,this.instance=l,this.hostView=this.changeDetectorRef=new px(h),this.componentType=c}setInput(c,l){const u=this._tNode.inputs;let h;if(null!==u&&(h=u[c])){const p=this._rootLView;Qg(p[ht],p,h,c,l),Vv(p,this._tNode.index)}}get injector(){return new dc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function BS(){const o=oi();Ss(He()[ht],o)}function Jg(o){let c=function Zv(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),l=!0;const u=[o];for(;c;){let h;if(nr(o))h=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new xe(903,!1);h=c.\u0275dir}if(h){if(l){u.push(h);const v=o;v.inputs=Zh(o.inputs),v.declaredInputs=Zh(o.declaredInputs),v.outputs=Zh(o.outputs);const x=h.hostBindings;x&&bx(o,x);const E=h.viewQuery,T=h.contentQueries;if(E&&US(o,E),T&&VS(o,T),te(o.inputs,h.inputs),te(o.declaredInputs,h.declaredInputs),te(o.outputs,h.outputs),nr(h)&&h.data.animation){const R=o.data;R.animation=(R.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let v=0;v<p.length;v++){const x=p[v];x&&x.ngInherit&&x(o),x===Jg&&(l=!1)}}c=Object.getPrototypeOf(c)}!function vx(o){let c=0,l=null;for(let u=o.length-1;u>=0;u--){const h=o[u];h.hostVars=c+=h.hostVars,h.hostAttrs=jo(h.hostAttrs,l=jo(l,h.hostAttrs))}}(u)}function Zh(o){return o===ut?{}:o===st?[]:o}function US(o,c){const l=o.viewQuery;o.viewQuery=l?(u,h)=>{c(u,h),l(u,h)}:c}function VS(o,c){const l=o.contentQueries;o.contentQueries=l?(u,h,p)=>{c(u,h,p),l(u,h,p)}:c}function bx(o,c){const l=o.hostBindings;o.hostBindings=l?(u,h)=>{c(u,h),l(u,h)}:c}function e_(o){return!!Xh(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function Xh(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function ka(o,c,l){return o[c]=l}function $r(o,c,l){return!Object.is(o[c],l)&&(o[c]=l,!0)}function n_(o,c,l,u){const h=He();return $r(h,Is(),c)&&(ln(),$s(Cn(),h,o,c,l,u)),n_}function rn(o,c,l,u,h,p,v,x){const E=He(),T=ln(),R=o+je,V=T.firstCreatePass?function HS(o,c,l,u,h,p,v,x,E){const T=c.consts,R=no(c,o,4,v||null,Jr(T,x));kn(c,l,R,Jr(T,E)),Ss(c,R);const V=R.tView=qg(2,R,u,h,p,c.directiveRegistry,c.pipeRegistry,null,c.schemas,T);return null!==c.queries&&(c.queries.template(c,R),V.queries=c.queries.embeddedTView(R)),R}(R,T,E,c,l,u,h,p,v):T.data[R];eo(V,!1);const ie=E[Xt].createComment("");cl(T,E,ie,V),yr(ie,E),Nr(E,E[R]=hx(ie,E,ie,V)),Jo(V)&&Nm(T,E,V),null!=v&&eu(E,V,x)}function Gm(o){return vo(function Gc(){return qt.lFrame.contextLView}(),je+o)}function du(o,c,l){const u=He();return $r(u,Is(),c)&&To(ln(),Cn(),u,o,c,u[Xt],l,!1),du}function uu(o,c,l,u,h){const v=h?"class":"style";Qg(o,l,c.inputs[v],v,u)}function qm(o,c,l,u){const h=He(),p=ln(),v=je+o,x=h[Xt],E=p.firstCreatePass?function i_(o,c,l,u,h,p){const v=c.consts,E=no(c,o,2,u,Jr(v,h));return kn(c,l,E,Jr(v,p)),null!==E.attrs&&fs(E,E.attrs,!1),null!==E.mergedAttrs&&fs(E,E.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,E),E}(v,p,h,c,l,u):p.data[v],T=h[v]=ol(x,c,function rg(){return qt.lFrame.currentNamespace}()),R=Jo(E);return eo(E,!0),bm(x,T,E),32!=(32&E.flags)&&cl(p,h,T,E),0===function Xl(){return qt.lFrame.elementDepthCount}()&&yr(T,h),function Jl(){qt.lFrame.elementDepthCount++}(),R&&(Nm(p,h,E),xc(p,E,h)),null!==u&&eu(h,E),qm}function Wm(){let o=oi();Hc()?$c():(o=o.parent,eo(o,!1));const c=o;!function ed(){qt.lFrame.elementDepthCount--}();const l=ln();return l.firstCreatePass&&(Ss(l,o),Fo(o)&&l.queries.elementEnd(o)),null!=c.classesWithoutHost&&function Jf(o){return 0!=(8&o.flags)}(c)&&uu(l,c,He(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function is(o){return 0!=(16&o.flags)}(c)&&uu(l,c,He(),c.stylesWithoutHost,!1),Wm}function r_(o,c,l,u){return qm(o,c,l,u),Wm(),r_}function Sx(){return He()}function eb(o){return!!o&&"function"==typeof o.then}function Dx(o){return!!o&&"function"==typeof o.subscribe}const hu=Dx;function a_(o,c,l,u){const h=He(),p=ln(),v=oi();return function c_(o,c,l,u,h,p,v){const x=Jo(u),T=o.firstCreatePass&&Kh(o),R=c[Vn],V=vl(c);let ie=!0;if(3&u.type||v){const Je=ir(u,c),lt=v?v(Je):Je,yt=V.length,Ft=v?Ht=>v(Zn(Ht[u.index])):u.index;let Ge=null;if(!v&&x&&(Ge=function Bi(o,c,l,u){const h=o.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const v=h[p];if(v===l&&h[p+1]===u){const x=c[Po],E=h[p+2];return x.length>E?x[E]:null}"string"==typeof v&&(p+=2)}return null}(o,c,h,u.index)),null!==Ge)(Ge.__ngLastListenerFn__||Ge).__ngNextListenerFn__=p,Ge.__ngLastListenerFn__=p,ie=!1;else{p=nf(u,c,R,p,!1);const Ht=l.listen(lt,h,p);V.push(p,Ht),T&&T.push(h,Ft,yt,yt+1)}}else p=nf(u,c,R,p,!1);const he=u.outputs;let Ae;if(ie&&null!==he&&(Ae=he[h])){const Je=Ae.length;if(Je)for(let lt=0;lt<Je;lt+=2){const ui=c[Ae[lt]][Ae[lt+1]].subscribe(p),Vi=V.length;V.push(p,ui),T&&T.push(h,u.index,Vi,-(Vi+1))}}}(p,h,h[Xt],v,o,c,u),a_}function tb(o,c,l,u){try{return gn(6,c,l),!1!==l(u)}catch(h){return Vm(o,h),!1}finally{gn(7,c,l)}}function nf(o,c,l,u,h){return function p(v){if(v===Function)return u;Xi(o.componentOffset>-1?Oi(o.index,c):c);let E=tb(c,l,u,v),T=p.__ngNextListenerFn__;for(;T;)E=tb(c,l,T,v)&&E,T=T.__ngNextListenerFn__;return h&&!1===E&&(v.preventDefault(),v.returnValue=!1),E}}function Ws(o=1){return function nh(o){return(qt.lFrame.contextLView=function ng(o,c){for(;o>0;)c=c[bs],o--;return c}(o,qt.lFrame.contextLView))[Vn]}(o)}function nb(o,c){let l=null;const u=function Vh(o){const c=o.attrs;if(null!=c){const l=c.indexOf(5);if(!(1&l))return c[l+1]}return null}(o);for(let h=0;h<c.length;h++){const p=c[h];if("*"!==p){if(null===u?nn(o,p,!0):Pt(u,p))return h}else l=h}return l}function ib(o){const c=He()[mi][Pn];if(!c.projection){const u=c.projection=va(o?o.length:1,null),h=u.slice();let p=c.child;for(;null!==p;){const v=o?nb(p,o):0;null!==v&&(h[v]?h[v].projectionNext=p:u[v]=p,h[v]=p),p=p.next}}}function rf(o,c=0,l){const u=He(),h=ln(),p=no(h,je+o,16,null,l||null);null===p.projection&&(p.projection=c),$c(),32!=(32&p.flags)&&function cr(o,c,l){vm(c[Xt],0,c,l,Od(o,l,c),al(l.parent||c[Pn],l,c))}(h,u,p)}function Km(o,c){return o<<17|c<<2}function xl(o){return o>>17&32767}function ab(o){return 2|o}function fu(o){return(131068&o)>>2}function Oa(o,c){return-131069&o|c<<2}function h_(o){return 1|o}function cb(o,c,l,u,h){const p=o[l+1],v=null===c;let x=u?xl(p):fu(p),E=!1;for(;0!==x&&(!1===E||v);){const R=o[x+1];Ra(o[x],c)&&(E=!0,o[x+1]=u?h_(R):ab(R)),x=u?xl(R):fu(R)}E&&(o[l+1]=u?ab(p):h_(p))}function Ra(o,c){return null===o||null==c||(Array.isArray(o)?o[1]:o)===c||!(!Array.isArray(o)||"string"!=typeof c)&&tn(o,c)>=0}function lb(o,c,l){return ms(o,c,l,!1),lb}function db(o,c){return ms(o,c,null,!0),db}function ms(o,c,l,u){const h=He(),p=ln(),v=function bo(o){const c=qt.lFrame,l=c.bindingIndex;return c.bindingIndex=c.bindingIndex+o,l}(2);p.firstUpdatePass&&function dr(o,c,l,u){const h=o.data;if(null===h[l+1]){const p=h[gr()],v=function f_(o,c){return c>=o.expandoStartIndex}(o,l);(function p_(o,c){return 0!=(o.flags&(c?8:16))})(p,u)&&null===c&&!v&&(c=!1),c=function ub(o,c,l,u){const h=function od(o){const c=qt.lFrame.currentDirectiveIndex;return-1===c?null:o[c]}(o);let p=u?c.residualClasses:c.residualStyles;if(null===h)0===(u?c.classBindings:c.styleBindings)&&(l=Ym(l=m_(null,o,c,l,u),c.attrs,u),p=null);else{const v=c.directiveStylingLast;if(-1===v||o[v]!==h)if(l=m_(h,o,c,l,u),null===p){let E=function hb(o,c,l){const u=l?c.classBindings:c.styleBindings;if(0!==fu(u))return o[xl(u)]}(o,c,u);void 0!==E&&Array.isArray(E)&&(E=m_(null,o,c,E[1],u),E=Ym(E,c.attrs,u),function fb(o,c,l,u){o[xl(l?c.classBindings:c.styleBindings)]=u}(o,c,u,E))}else p=function El(o,c,l){let u;const h=c.directiveEnd;for(let p=1+c.directiveStylingLast;p<h;p++)u=Ym(u,o[p].hostAttrs,l);return Ym(u,c.attrs,l)}(o,c,u)}return void 0!==p&&(u?c.residualClasses=p:c.residualStyles=p),l}(h,p,c,u),function ro(o,c,l,u,h,p){let v=p?c.classBindings:c.styleBindings,x=xl(v),E=fu(v);o[u]=l;let R,T=!1;if(Array.isArray(l)?(R=l[1],(null===R||tn(l,R)>0)&&(T=!0)):R=l,h)if(0!==E){const ie=xl(o[x+1]);o[u+1]=Km(ie,x),0!==ie&&(o[ie+1]=Oa(o[ie+1],u)),o[x+1]=function qS(o,c){return 131071&o|c<<17}(o[x+1],u)}else o[u+1]=Km(x,0),0!==x&&(o[x+1]=Oa(o[x+1],u)),x=u;else o[u+1]=Km(E,0),0===x?x=u:o[E+1]=Oa(o[E+1],u),E=u;T&&(o[u+1]=ab(o[u+1])),cb(o,R,u,!0),cb(o,R,u,!1),function KS(o,c,l,u,h){const p=h?o.residualClasses:o.residualStyles;null!=p&&"string"==typeof c&&tn(p,c)>=0&&(l[u+1]=h_(l[u+1]))}(c,R,o,u,p),v=Km(x,E),p?c.classBindings=v:c.styleBindings=v}(h,p,c,l,v,u)}}(p,o,v,u),c!==Be&&$r(h,v,c)&&function Cl(o,c,l,u,h,p,v,x){if(!(3&c.type))return;const E=o.data,T=E[x+1],R=function af(o){return 1==(1&o)}(T)?Il(E,c,l,h,fu(T),v):void 0;Sl(R)||(Sl(p)||function Ox(o){return 2==(2&o)}(T)&&(p=Il(E,null,l,h,x,v)),function Ah(o,c,l,u,h){if(c)h?o.addClass(l,u):o.removeClass(l,u);else{let p=-1===u.indexOf("-")?void 0:Co.DashCase;null==h?o.removeStyle(l,u,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=Co.Important),o.setStyle(l,u,h,p))}}(u,v,yo(gr(),l),h,p))}(p,p.data[gr()],h,h[Xt],o,h[v+1]=function jx(o,c){return null==o||("string"==typeof c?o+=c:"object"==typeof o&&(o=ee(M(o)))),o}(c,l),u,v)}function m_(o,c,l,u,h){let p=null;const v=l.directiveEnd;let x=l.directiveStylingLast;for(-1===x?x=l.directiveStart:x++;x<v&&(p=c[x],u=Ym(u,p.hostAttrs,h),p!==o);)x++;return null!==o&&(l.directiveStylingLast=x),u}function Ym(o,c,l){const u=l?1:2;let h=-1;if(null!==c)for(let p=0;p<c.length;p++){const v=c[p];"number"==typeof v?h=v:h===u&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Ei(o,v,!!l||c[++p]))}return void 0===o?null:o}function Il(o,c,l,u,h,p){const v=null===c;let x;for(;h>0;){const E=o[h],T=Array.isArray(E),R=T?E[1]:E,V=null===R;let ie=l[h+1];ie===Be&&(ie=V?st:void 0);let he=V?An(ie,u):R===u?ie:void 0;if(T&&!Sl(he)&&(he=An(E,u)),Sl(he)&&(x=he,v))return x;const Ae=o[h+1];h=v?xl(Ae):fu(Ae)}if(null!==c){let E=p?c.residualClasses:c.residualStyles;null!=E&&(x=An(E,u))}return x}function Sl(o){return void 0!==o}function g_(o,c=""){const l=He(),u=ln(),h=o+je,p=u.firstCreatePass?no(u,h,1,c,null):u.data[h],v=l[h]=function Md(o,c){return o.createText(c)}(l[Xt],c);cl(u,l,v,p),eo(p,!1)}function __(o){return Xm("",o,""),__}function Xm(o,c,l){const u=He(),h=function au(o,c,l,u){return $r(o,Is(),l)?c+Ie(l)+u:Be}(u,o,c,l);return h!==Be&&function Aa(o,c,l){const u=yo(c,o);!function Ci(o,c,l){o.setValue(c,l)}(o[Xt],u,l)}(u,gr(),h),Xm}function Gr(o,c,l){const u=He();return $r(u,Is(),c)&&To(ln(),Cn(),u,o,c,u[Xt],l,!0),Gr}const Fa=void 0;var Zx=["en",[["a","p"],["AM","PM"],Fa],[["AM","PM"],Fa,Fa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fa,"{1} 'at' {0}",Fa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function b_(o){const l=Math.floor(Math.abs(o)),u=o.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===u?1:5}];let Wo={};function w_(o){const c=function Qx(o){return o.toLowerCase().replace(/_/g,"-")}(o);let l=gu(c);if(l)return l;const u=c.split("-")[0];if(l=gu(u),l)return l;if("en"===u)return Zx;throw new xe(701,!1)}function Yx(o){return w_(o)[Ot.PluralCase]}function gu(o){return o in Wo||(Wo[o]=Vt.ng&&Vt.ng.common&&Vt.ng.common.locales&&Vt.ng.common.locales[o]),Wo[o]}var Ot=(()=>((Ot=Ot||{})[Ot.LocaleId=0]="LocaleId",Ot[Ot.DayPeriodsFormat=1]="DayPeriodsFormat",Ot[Ot.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ot[Ot.DaysFormat=3]="DaysFormat",Ot[Ot.DaysStandalone=4]="DaysStandalone",Ot[Ot.MonthsFormat=5]="MonthsFormat",Ot[Ot.MonthsStandalone=6]="MonthsStandalone",Ot[Ot.Eras=7]="Eras",Ot[Ot.FirstDayOfWeek=8]="FirstDayOfWeek",Ot[Ot.WeekendRange=9]="WeekendRange",Ot[Ot.DateFormat=10]="DateFormat",Ot[Ot.TimeFormat=11]="TimeFormat",Ot[Ot.DateTimeFormat=12]="DateTimeFormat",Ot[Ot.NumberSymbols=13]="NumberSymbols",Ot[Ot.NumberFormats=14]="NumberFormats",Ot[Ot.CurrencyCode=15]="CurrencyCode",Ot[Ot.CurrencySymbol=16]="CurrencySymbol",Ot[Ot.CurrencyName=17]="CurrencyName",Ot[Ot.Currencies=18]="Currencies",Ot[Ot.Directionality=19]="Directionality",Ot[Ot.PluralCase=20]="PluralCase",Ot[Ot.ExtraData=21]="ExtraData",Ot))();const ff="en-US";let Xx=ff;function fp(o,c,l,u,h){if(o=G(o),Array.isArray(o))for(let p=0;p<o.length;p++)fp(o[p],c,l,u,h);else{const p=ln(),v=He();let x=hl(o)?o:G(o.provide),E=Ev(o);const T=oi(),R=1048575&T.providerIndexes,V=T.directiveStart,ie=T.providerIndexes>>20;if(hl(o)||!o.multi){const he=new Zi(E,h,us),Ae=mp(x,c,h?R:R+ie,V);-1===Ae?(ac(Ho(T,v),p,x),F_(p,o,c.length),c.push(x),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),l.push(he),v.push(he)):(l[Ae]=he,v[Ae]=he)}else{const he=mp(x,c,R+ie,V),Ae=mp(x,c,R,R+ie),lt=Ae>=0&&l[Ae];if(h&&!lt||!h&&!(he>=0&&l[he])){ac(Ho(T,v),p,x);const yt=function Vb(o,c,l,u,h){const p=new Zi(o,l,us);return p.multi=[],p.index=c,p.componentProviders=0,N_(p,h,u&&!l),p}(h?bE:Sc,l.length,h,u,E);!h&&lt&&(l[Ae].providerFactory=yt),F_(p,o,c.length,0),c.push(x),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),l.push(yt),v.push(yt)}else F_(p,o,he>-1?he:Ae,N_(l[h?Ae:he],E,!h&&u));!h&&u&&lt&&l[Ae].componentProviders++}}}function F_(o,c,l,u){const h=hl(c),p=function yv(o){return!!o.useClass}(c);if(h||p){const E=(p?G(c.useClass):c).prototype.ngOnDestroy;if(E){const T=o.destroyHooks||(o.destroyHooks=[]);if(!h&&c.multi){const R=T.indexOf(l);-1===R?T.push(l,[u,E]):T[R+1].push(u,E)}else T.push(l,E)}}}function N_(o,c,l){return l&&o.componentProviders++,o.multi.push(c)-1}function mp(o,c,l,u){for(let h=l;h<u;h++)if(c[h]===o)return h;return-1}function Sc(o,c,l,u){return Ub(this.multi,[])}function bE(o,c,l,u){const h=this.multi;let p;if(this.providerFactory){const v=this.providerFactory.componentProviders,x=rs(l,l[ht],this.providerFactory.index,u);p=x.slice(0,v),Ub(h,p);for(let E=v;E<x.length;E++)p.push(x[E])}else p=[],Ub(h,p);return p}function Ub(o,c){for(let l=0;l<o.length;l++)c.push((0,o[l])());return c}function wE(o,c=[]){return l=>{l.providersResolver=(u,h)=>function hp(o,c,l){const u=ln();if(u.firstCreatePass){const h=nr(o);fp(l,u.data,u.blueprint,h,!0),fp(c,u.data,u.blueprint,h,!1)}}(u,h?h(o):o,c)}}class Ml{}class xE{}function jb(o,c){return new L_(o,c??null)}class L_ extends Ml{constructor(c,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Xg(this);const u=ii(c);this._bootstrapComponents=rt(u.bootstrap),this._r3Injector=Mv(c,l,[{provide:Ml,useValue:this},{provide:Fh,useValue:this.componentFactoryResolver}],ee(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class B_ extends xE{constructor(c){super(),this.moduleType=c}create(c){return new L_(this.moduleType,c)}}class vf extends Ml{constructor(c,l,u){super(),this.componentFactoryResolver=new Xg(this),this.instance=null;const h=new bv([...c,{provide:Ml,useValue:this},{provide:Fh,useValue:this.componentFactoryResolver}],l||Am(),u,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function pp(o,c,l=null){return new vf(o,c,l).injector}let ID=(()=>{class o{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const u=gv(0,l.type),h=u.length>0?pp([u],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,h)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=ft({token:o,providedIn:"environment",factory:()=>new o(tt(js))}),o})();function EE(o){o.getStandaloneInjector=c=>c.get(ID).getOrCreateStandaloneInjector(o)}function xu(o,c,l){const u=_i()+o,h=He();return h[u]===Be?ka(h,u,l?c.call(l):c()):function Ec(o,c){return o[c]}(h,u)}function Eu(o,c,l,u){return DE(He(),_i(),o,c,l,u)}function _p(o,c){const l=o[c];return l===Be?void 0:l}function DE(o,c,l,u,h,p){const v=c+l;return $r(o,v,h)?ka(o,v+1,p?u.call(p,h):u(h)):_p(o,v+1)}function H_(o,c,l,u,h,p,v){const x=c+l;return function bl(o,c,l,u){const h=$r(o,c,l);return $r(o,c+1,u)||h}(o,x,h,p)?ka(o,x+2,v?u.call(v,h,p):u(h,p)):_p(o,x+2)}function AE(o,c){const l=ln();let u;const h=o+je;l.firstCreatePass?(u=function ME(o,c){if(c)for(let l=c.length-1;l>=0;l--){const u=c[l];if(o===u.name)return u}}(c,l.pipeRegistry),l.data[h]=u,u.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,u.onDestroy)):u=l.data[h];const p=u.factory||(u.factory=kr(u.type)),v=En(us);try{const x=xo(!1),E=p();return xo(x),function $S(o,c,l,u){l>=o.data.length&&(o.data[l]=null,o.blueprint[l]=null),c[l]=u}(l,He(),h,E),E}finally{En(v)}}function e0(o,c,l){const u=o+je,h=He(),p=vo(h,u);return yp(h,u)?DE(h,_i(),c,p.transform,l,p):p.transform(l)}function t0(o,c,l,u){const h=o+je,p=He(),v=vo(p,h);return yp(p,h)?H_(p,_i(),c,v.transform,l,u,v):v.transform(l,u)}function yp(o,c){return o[ht].data[c].pure}function vp(o){return c=>{setTimeout(o,void 0,c)}}const ps=class n0 extends s.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,l,u){let h=c,p=l||(()=>null),v=u;if(c&&"object"==typeof c){const E=c;h=E.next?.bind(E),p=E.error?.bind(E),v=E.complete?.bind(E)}this.__isAsync&&(p=vp(p),h&&(h=vp(h)),v&&(v=vp(v)));const x=super.subscribe({next:h,error:p,complete:v});return c instanceof H.w0&&c.add(x),x}};function FD(){return this._results[Symbol.iterator]()}class wf{get changes(){return this._changes||(this._changes=new ps)}constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=wf.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=FD)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,l){return this._results.reduce(c,l)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,l){const u=this;u.dirty=!1;const h=function or(o){return o.flat(Number.POSITIVE_INFINITY)}(c);(this._changesDetected=!function hh(o,c,l){if(o.length!==c.length)return!1;for(let u=0;u<o.length;u++){let h=o[u],p=c[u];if(l&&(h=l(h),p=l(p)),p!==h)return!1}return!0}(u._results,h,l))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let bp=(()=>{class o{}return o.__NG_ELEMENT_ID__=o0,o})();const r0=bp,kE=class extends r0{constructor(c,l,u){super(),this._declarationLView=c,this._declarationTContainer=l,this.elementRef=u}createEmbeddedView(c,l){const u=this._declarationTContainer.tView,h=Ta(this._declarationLView,u,c,16,null,u.declTNode,null,null,null,null,l||null);h[j]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[ae];return null!==v&&(h[ae]=v.createEmbeddedView(u)),$g(u,h,c),new Ma(h)}};function o0(){return wp(oi(),He())}function wp(o,c){return 4&o.type?new kE(c,o,Lh(o,c)):null}let G_=(()=>{class o{}return o.__NG_ELEMENT_ID__=s0,o})();function s0(){return RE(oi(),He())}const ND=G_,q_=class extends ND{constructor(c,l,u){super(),this._lContainer=c,this._hostTNode=l,this._hostLView=u}get element(){return Lh(this._hostTNode,this._hostLView)}get injector(){return new dc(this._hostTNode,this._hostLView)}get parentInjector(){const c=sc(this._hostTNode,this._hostLView);if(dd(c)){const l=zo(c,this._hostLView),u=Ds(c);return new dc(l[ht].data[u+8],l)}return new dc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const l=OE(this._lContainer);return null!==l&&l[c]||null}get length(){return this._lContainer.length-pi}createEmbeddedView(c,l,u){let h,p;"number"==typeof u?h=u:null!=u&&(h=u.index,p=u.injector);const v=c.createEmbeddedView(l||{},p);return this.insert(v,h),v}createComponent(c,l,u,h,p){const v=c&&!function Rs(o){return"function"==typeof o}(c);let x;if(v)x=l;else{const V=l||{};x=V.index,u=V.injector,h=V.projectableNodes,p=V.environmentInjector||V.ngModuleRef}const E=v?c:new lr(on(c)),T=u||this.parentInjector;if(!p&&null==E.ngModule){const ie=(v?T:this.parentInjector).get(js,null);ie&&(p=ie)}const R=E.create(T,h,void 0,p);return this.insert(R.hostView,x),R}insert(c,l){const u=c._lView,h=u[ht];if(function Yu(o){return Mr(o[Dn])}(u)){const R=this.indexOf(c);if(-1!==R)this.detach(R);else{const V=u[Dn],ie=new q_(V,V[Pn],V[Dn]);ie.detach(ie.indexOf(c))}}const p=this._adjustIndex(l),v=this._lContainer;!function av(o,c,l,u){const h=pi+u,p=l.length;u>0&&(l[h-1][pr]=c),u<p-pi?(c[pr]=l[h],ag(l,pi+u,c)):(l.push(c),c[pr]=null),c[Dn]=l;const v=c[j];null!==v&&l!==v&&function Ih(o,c){const l=o[xi];c[mi]!==c[Dn][Dn][mi]&&(o[Fn]=!0),null===l?o[xi]=[c]:l.push(c)}(v,c);const x=c[ae];null!==x&&x.insertView(o),c[Kt]|=64}(h,u,v,p);const x=cs(p,v),E=u[Xt],T=Pd(E,v[ri]);return null!==T&&function mm(o,c,l,u,h,p){u[mr]=h,u[Pn]=c,Ia(o,u,l,1,h,p)}(h,v[Pn],E,u,T,x),c.attachToViewContainerRef(),ag(xp(v),p,c),c}move(c,l){return this.insert(c,l)}indexOf(c){const l=OE(this._lContainer);return null!==l?l.indexOf(c):-1}remove(c){const l=this._adjustIndex(c,-1),u=kd(this._lContainer,l);u&&(fh(xp(this._lContainer),l),xg(u[ht],u))}detach(c){const l=this._adjustIndex(c,-1),u=kd(this._lContainer,l);return u&&null!=fh(xp(this._lContainer),l)?new Ma(u):null}_adjustIndex(c,l=0){return c??this.length+l}};function OE(o){return o[Zt]}function xp(o){return o[Zt]||(o[Zt]=[])}function RE(o,c){let l;const u=c[o.index];if(Mr(u))l=u;else{let h;if(8&o.type)h=Zn(u);else{const p=c[Xt];h=p.createComment("");const v=ir(o,c);to(p,Pd(p,v),h,function Cg(o,c){return o.nextSibling(c)}(p,v),!1)}c[o.index]=l=hx(u,c,h,o),Nr(c,l)}return new q_(l,o,c)}class Ep{constructor(c){this.queryList=c,this.matches=null}clone(){return new Ep(this.queryList)}setDirty(){this.queryList.setDirty()}}class Cp{constructor(c=[]){this.queries=c}createEmbeddedView(c){const l=c.queries;if(null!==l){const u=null!==c.contentQueries?c.contentQueries[0]:l.length,h=[];for(let p=0;p<u;p++){const v=l.getByIndex(p);h.push(this.queries[v.indexInDeclarationView].clone())}return new Cp(h)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let l=0;l<this.queries.length;l++)null!==LE(c,l).matches&&this.queries[l].setDirty()}}class W_{constructor(c,l,u=null){this.predicate=c,this.flags=l,this.read=u}}class Ol{constructor(c=[]){this.queries=c}elementStart(c,l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(c,l)}elementEnd(c){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(c)}embeddedTView(c){let l=null;for(let u=0;u<this.length;u++){const h=null!==l?l.length:0,p=this.getByIndex(u).embeddedTView(c,h);p&&(p.indexInDeclarationView=u,null!==l?l.push(p):l=[p])}return null!==l?new Ol(l):null}template(c,l){for(let u=0;u<this.queries.length;u++)this.queries[u].template(c,l)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class K_{constructor(c,l=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(c,l){this.isApplyingToNode(l)&&this.matchTNode(c,l)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,l){this.elementStart(c,l)}embeddedTView(c,l){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,l),new K_(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let u=c.parent;for(;null!==u&&8&u.type&&u.index!==l;)u=u.parent;return l===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(c,l){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const p=u[h];this.matchTNodeWithReadOption(c,l,a0(l,p)),this.matchTNodeWithReadOption(c,l,As(l,c,p,!1,!1))}else u===bp?4&l.type&&this.matchTNodeWithReadOption(c,l,-1):this.matchTNodeWithReadOption(c,l,As(l,c,u,!1,!1))}matchTNodeWithReadOption(c,l,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===km||h===G_||h===bp&&4&l.type)this.addMatch(l.index,-2);else{const p=As(l,c,h,!1,!1);null!==p&&this.addMatch(l.index,p)}else this.addMatch(l.index,u)}}addMatch(c,l){null===this.matches?this.matches=[c,l]:this.matches.push(c,l)}}function a0(o,c){const l=o.localNames;if(null!==l)for(let u=0;u<l.length;u+=2)if(l[u]===c)return l[u+1];return null}function c0(o,c,l,u){return-1===l?function LD(o,c){return 11&o.type?Lh(o,c):4&o.type?wp(o,c):null}(c,o):-2===l?function Dc(o,c,l){return l===km?Lh(c,o):l===bp?wp(c,o):l===G_?RE(c,o):void 0}(o,c,u):rs(o,o[ht],l,c)}function Z_(o,c,l,u){const h=c[ae].queries[u];if(null===h.matches){const p=o.data,v=l.matches,x=[];for(let E=0;E<v.length;E+=2){const T=v[E];x.push(T<0?null:c0(c,p[T],v[E+1],l.metadata.read))}h.matches=x}return h.matches}function l0(o,c,l,u){const h=o.queries.getByIndex(l),p=h.matches;if(null!==p){const v=Z_(o,c,h,l);for(let x=0;x<p.length;x+=2){const E=p[x];if(E>0)u.push(v[x/2]);else{const T=p[x+1],R=c[-E];for(let V=pi;V<R.length;V++){const ie=R[V];ie[j]===ie[Dn]&&l0(ie[ht],ie,T,u)}if(null!==R[xi]){const V=R[xi];for(let ie=0;ie<V.length;ie++){const he=V[ie];l0(he[ht],he,T,u)}}}}}return u}function Y_(o){const c=He(),l=ln(),u=eh();Wc(u+1);const h=LE(l,u);if(o.dirty&&function Yl(o){return 4==(4&o[Kt])}(c)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const p=h.crossesNgTemplate?l0(l,c,u,[]):Z_(l,c,h,u);o.reset(p,Iv),o.notifyOnChanges()}return!0}return!1}function PE(o,c,l){const u=ln();u.firstCreatePass&&(NE(u,new W_(o,c,l),-1),2==(2&c)&&(u.staticViewQueries=!0)),X_(u,He(),c)}function FE(o,c,l,u){const h=ln();if(h.firstCreatePass){const p=oi();NE(h,new W_(c,l,u),p.index),function d0(o,c){const l=o.contentQueries||(o.contentQueries=[]);c!==(l.length?l[l.length-1]:-1)&&l.push(o.queries.length-1,c)}(h,o),2==(2&l)&&(h.staticContentQueries=!0)}X_(h,He(),l)}function Q_(){return function BD(o,c){return o[ae].queries[c].queryList}(He(),eh())}function X_(o,c,l){const u=new wf(4==(4&l));Bv(o,c,u,u.destroy),null===c[ae]&&(c[ae]=new Cp),c[ae].queries.push(new Ep(u))}function NE(o,c,l){null===o.queries&&(o.queries=new Ol),o.queries.track(new K_(c,l))}function LE(o,c){return o.queries.getByIndex(c)}function J_(o,c){return wp(o,c)}function Ip(o){return!!ii(o)}function ay(...o){}const x0=new wn("Application Initializer");let Cf=(()=>{class o{constructor(l){this.appInits=l,this.resolve=ay,this.reject=ay,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(eb(p))l.push(p);else if(hu(p)){const v=new Promise((x,E)=>{p.subscribe({complete:x,error:E})});l.push(v)}}Promise.all(l).then(()=>{u()}).catch(h=>{this.reject(h)}),0===l.length&&u(),this.initialized=!0}}return o.\u0275fac=function(l){return new(l||o)(tt(x0,8))},o.\u0275prov=ft({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const tC=new wn("AppId",{providedIn:"root",factory:function cy(){return`${E0()}${E0()}${E0()}`}});function E0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Qn=new wn("Platform Initializer"),kk=new wn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ui=new wn("AnimationModuleType");let nC=(()=>{class o{log(l){console.log(l)}warn(l){console.warn(l)}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=ft({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const ly=new wn("LocaleId",{providedIn:"root",factory:()=>mt(ly,Et.Optional|Et.SkipSelf)||function YD(){return typeof $localize<"u"&&$localize.locale||ff}()}),iC=new wn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class QD{constructor(c,l){this.ngModuleFactory=c,this.componentFactories=l}}let Nk=(()=>{class o{compileModuleSync(l){return new B_(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const u=this.compileModuleSync(l),p=rt(ii(l).declarations).reduce((v,x)=>{const E=on(x);return E&&v.push(new lr(E)),v},[]);return new QD(u,p)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=ft({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Bk=(()=>Promise.resolve(0))();function Mc(o){typeof Zone>"u"?Bk.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class gs{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ps(!1),this.onMicrotaskEmpty=new ps(!1),this.onStable=new ps(!1),this.onError=new ps(!1),typeof Zone>"u")throw new xe(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&l,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function dy(){let o=Vt.requestAnimationFrame,c=Vt.cancelAnimationFrame;if(typeof Zone<"u"&&o&&c){const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l);const u=c[Zone.__symbol__("OriginalDelegate")];u&&(c=u)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function JD(o){const c=()=>{!function hy(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Vt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,kc(o),o.isCheckStableRunning=!0,uy(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),kc(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,u,h,p,v,x)=>{try{return Ap(o),l.invokeTask(h,p,v,x)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||o.shouldCoalesceRunChangeDetection)&&c(),Sf(o)}},onInvoke:(l,u,h,p,v,x,E)=>{try{return Ap(o),l.invoke(h,p,v,x,E)}finally{o.shouldCoalesceRunChangeDetection&&c(),Sf(o)}},onHasTask:(l,u,h,p)=>{l.hasTask(h,p),u===h&&("microTask"==p.change?(o._hasPendingMicrotasks=p.microTask,kc(o),uy(o)):"macroTask"==p.change&&(o.hasPendingMacrotasks=p.macroTask))},onHandleError:(l,u,h,p)=>(l.handleError(h,p),o.runOutsideAngular(()=>o.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gs.isInAngularZone())throw new xe(909,!1)}static assertNotInAngularZone(){if(gs.isInAngularZone())throw new xe(909,!1)}run(c,l,u){return this._inner.run(c,l,u)}runTask(c,l,u,h){const p=this._inner,v=p.scheduleEventTask("NgZoneEvent: "+h,c,sC,ay,ay);try{return p.runTask(v,l,u)}finally{p.cancelTask(v)}}runGuarded(c,l,u){return this._inner.runGuarded(c,l,u)}runOutsideAngular(c){return this._outer.run(c)}}const sC={};function uy(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function kc(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function Ap(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function Sf(o){o._nesting--,uy(o)}class aC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ps,this.onMicrotaskEmpty=new ps,this.onStable=new ps,this.onError=new ps}run(c,l,u){return c.apply(l,u)}runGuarded(c,l,u){return c.apply(l,u)}runOutsideAngular(c){return c()}runTask(c,l,u,h){return c.apply(l,u)}}const fy=new wn(""),cC=new wn("");let Mp,eT=(()=>{class o{constructor(l,u,h){this._ngZone=l,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Mp||(function C0(o){Mp=o}(h),h.addToWindow(u)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gs.assertNotInAngularZone(),Mc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Mc(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(l)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,u,h){let p=-1;u&&u>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==p),l(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:l,timeoutId:p,updateCb:h})}whenStable(l,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,u,h){return[]}}return o.\u0275fac=function(l){return new(l||o)(tt(gs),tt(lC),tt(cC))},o.\u0275prov=ft({token:o,factory:o.\u0275fac}),o})(),lC=(()=>{class o{constructor(){this._applications=new Map}registerApplication(l,u){this._applications.set(l,u)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,u=!0){return Mp?.findTestabilityInTree(this,l,u)??null}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=ft({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Na=!1;let Ao=null;const I0=new wn("AllowMultipleToken"),my=new wn("PlatformDestroyListeners"),py=new wn("appBootstrapListener");class _y{constructor(c,l){this.name=c,this.token=l}}function D0(o,c,l=[]){const u=`Platform: ${c}`,h=new wn(u);return(p=[])=>{let v=Su();if(!v||v.injector.get(I0,!1)){const x=[...l,...p,{provide:h,useValue:!0}];o?o(x):function dC(o){if(Ao&&!Ao.get(I0,!1))throw new xe(400,!1);Ao=o;const c=o.get(hC);(function uC(o){const c=o.get(Qn,null);c&&c.forEach(l=>l())})(o)}(function Df(o=[],c){return So.create({name:c,providers:[{provide:Ph,useValue:"platform"},{provide:my,useValue:new Set([()=>Ao=null])},...o]})}(x,u))}return function T0(o){const c=Su();if(!c)throw new xe(401,!1);return c}()}}function Su(){return Ao?.get(hC)??null}let hC=(()=>{class o{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,u){const h=function tT(o,c){let l;return l="noop"===o?new aC:("zone.js"===o?void 0:o)||new gs(c),l}(u?.ngZone,function Du(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(u)),p=[{provide:gs,useValue:h}];return h.run(()=>{const v=So.create({providers:p,parent:this.injector,name:l.moduleType.name}),x=l.create(v),E=x.injector.get(Zd,null);if(!E)throw new xe(402,!1);return h.runOutsideAngular(()=>{const T=h.onError.subscribe({next:R=>{E.handleError(R)}});x.onDestroy(()=>{Tu(this._modules,x),T.unsubscribe()})}),function nT(o,c,l){try{const u=l();return eb(u)?u.catch(h=>{throw c.runOutsideAngular(()=>o.handleError(h)),h}):u}catch(u){throw c.runOutsideAngular(()=>o.handleError(u)),u}}(E,h,()=>{const T=x.injector.get(Cf);return T.runInitializers(),T.donePromise.then(()=>(function Ib(o){dt(o,"Expected localeId to be defined"),"string"==typeof o&&(Xx=o.toLowerCase().replace(/_/g,"-"))}(x.injector.get(ly,ff)||ff),this._moduleDoBootstrap(x),x))})})}bootstrapModule(l,u=[]){const h=yy({},u);return function kp(o,c,l){const u=new B_(l);return Promise.resolve(u)}(0,0,l).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(l){const u=l.injector.get(vy);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new xe(-403,!1);l.instance.ngDoBootstrap(u)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const l=this._injector.get(my,null);l&&(l.forEach(u=>u()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(l){return new(l||o)(tt(So))},o.\u0275prov=ft({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function yy(o,c){return Array.isArray(c)?c.reduce(yy,o):{...o,...c}}let vy=(()=>{class o{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(l,u,h){this._zone=l,this._injector=u,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new P.y(x=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{x.next(this._stable),x.complete()})}),v=new P.y(x=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{gs.assertNotInAngularZone(),Mc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,x.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{gs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{x.next(!1)}))});return()=>{E.unsubscribe(),T.unsubscribe()}});this.isStable=(0,J.T)(p,v.pipe((0,q.B)()))}bootstrap(l,u){const h=l instanceof Cv;if(!this._injector.get(Cf).done){!h&&fo(l);throw new xe(405,Na)}let v;v=h?l:this._injector.get(Fh).resolveComponentFactory(l),this.componentTypes.push(v.componentType);const x=function gy(o){return o.isBoundToModule}(v)?void 0:this._injector.get(Ml),T=v.create(So.NULL,[],u||v.selector,x),R=T.location.nativeElement,V=T.injector.get(fy,null);return V?.registerApplication(R),T.onDestroy(()=>{this.detachView(T.hostView),Tu(this.components,T),V?.unregisterApplication(R)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new xe(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const u=l;this._views.push(u),u.attachToAppRef(this)}detachView(l){const u=l;Tu(this._views,u),u.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const u=this._injector.get(py,[]);u.push(...this._bootstrapListeners),u.forEach(h=>h(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Tu(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new xe(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(l){return new(l||o)(tt(gs),tt(js),tt(Zd))},o.\u0275prov=ft({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Tu(o,c){const l=o.indexOf(c);l>-1&&o.splice(l,1)}function by(){return!1}let rT=(()=>{class o{}return o.__NG_ELEMENT_ID__=pC,o})();function pC(o){return function gC(o,c,l){if(Pc(o)&&!l){const u=Oi(o.index,c);return new Ma(u,u)}return 47&o.type?new Ma(c[mi],c):null}(oi(),He(),16==(16&o))}class bC{constructor(){}supports(c){return e_(c)}create(c){return new uT(c)}}const dT=(o,c)=>c;class uT{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||dT}forEachItem(c){let l;for(l=this._itHead;null!==l;l=l._next)c(l)}forEachOperation(c){let l=this._itHead,u=this._removalsHead,h=0,p=null;for(;l||u;){const v=!u||l&&l.currentIndex<CC(u,h,p)?l:u,x=CC(v,h,p),E=v.currentIndex;if(v===u)h--,u=u._nextRemoved;else if(l=l._next,null==v.previousIndex)h++;else{p||(p=[]);const T=x-h,R=E-h;if(T!=R){for(let ie=0;ie<T;ie++){const he=ie<p.length?p[ie]:p[ie]=0,Ae=he+ie;R<=Ae&&Ae<T&&(p[ie]=he+1)}p[v.previousIndex]=R-T}}x!==E&&c(v,x,E)}}forEachPreviousItem(c){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)c(l)}forEachAddedItem(c){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)c(l)}forEachMovedItem(c){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)c(l)}forEachRemovedItem(c){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)c(l)}forEachIdentityChange(c){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)c(l)}diff(c){if(null==c&&(c=[]),!e_(c))throw new xe(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let h,p,v,l=this._itHead,u=!1;if(Array.isArray(c)){this.length=c.length;for(let x=0;x<this.length;x++)p=c[x],v=this._trackByFn(x,p),null!==l&&Object.is(l.trackById,v)?(u&&(l=this._verifyReinsertion(l,p,v,x)),Object.is(l.item,p)||this._addIdentityChange(l,p)):(l=this._mismatch(l,p,v,x),u=!0),l=l._next}else h=0,function t_(o,c){if(Array.isArray(o))for(let l=0;l<o.length;l++)c(o[l]);else{const l=o[Symbol.iterator]();let u;for(;!(u=l.next()).done;)c(u.value)}}(c,x=>{v=this._trackByFn(h,x),null!==l&&Object.is(l.trackById,v)?(u&&(l=this._verifyReinsertion(l,x,v,h)),Object.is(l.item,x)||this._addIdentityChange(l,x)):(l=this._mismatch(l,x,v,h),u=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,l,u,h){let p;return null===c?p=this._itTail:(p=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(c.item,l)||this._addIdentityChange(c,l),this._reinsertAfter(c,p,h)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(c.item,l)||this._addIdentityChange(c,l),this._moveAfter(c,p,h)):c=this._addAfter(new wC(l,u),p,h),c}_verifyReinsertion(c,l,u,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==p?c=this._reinsertAfter(p,c._prev,h):c.currentIndex!=h&&(c.currentIndex=h,this._addToMoves(c,h)),c}_truncate(c){for(;null!==c;){const l=c._next;this._addToRemovals(this._unlink(c)),c=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,l,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const h=c._prevRemoved,p=c._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(c,l,u),this._addToMoves(c,u),c}_moveAfter(c,l,u){return this._unlink(c),this._insertAfter(c,l,u),this._addToMoves(c,u),c}_addAfter(c,l,u){return this._insertAfter(c,l,u),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,l,u){const h=null===l?this._itHead:l._next;return c._next=h,c._prev=l,null===h?this._itTail=c:h._prev=c,null===l?this._itHead=c:l._next=c,null===this._linkedRecords&&(this._linkedRecords=new EC),this._linkedRecords.put(c),c.currentIndex=u,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const l=c._prev,u=c._next;return null===l?this._itHead=u:l._next=u,null===u?this._itTail=l:u._prev=l,c}_addToMoves(c,l){return c.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new EC),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,l){return c.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class wC{constructor(c,l){this.item=c,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xC{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,l){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===l||l<=u.currentIndex)&&Object.is(u.trackById,c))return u;return null}remove(c){const l=c._prevDup,u=c._nextDup;return null===l?this._head=u:l._nextDup=u,null===u?this._tail=l:u._prevDup=l,null===this._head}}class EC{constructor(){this.map=new Map}put(c){const l=c.trackById;let u=this.map.get(l);u||(u=new xC,this.map.set(l,u)),u.add(c)}get(c,l){const h=this.map.get(c);return h?h.get(c,l):null}remove(c){const l=c.trackById;return this.map.get(l).remove(c)&&this.map.delete(l),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function CC(o,c,l){const u=o.previousIndex;if(null===u)return u;let h=0;return l&&u<l.length&&(h=l[u]),u+c+h}class k0{constructor(){}supports(c){return c instanceof Map||Xh(c)}create(){return new hT}}class hT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let l;for(l=this._mapHead;null!==l;l=l._next)c(l)}forEachPreviousItem(c){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)c(l)}forEachChangedItem(c){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)c(l)}forEachAddedItem(c){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)c(l)}forEachRemovedItem(c){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)c(l)}diff(c){if(c){if(!(c instanceof Map||Xh(c)))throw new xe(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(c,(u,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,u),this._appendAfter=l,l=l._next;else{const p=this._getOrCreateRecordForKey(h,u);l=this._insertBeforeOrAppend(l,p)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let u=l;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,l){if(c){const u=c._prev;return l._next=c,l._prev=u,c._prev=l,u&&(u._next=l),c===this._mapHead&&(this._mapHead=l),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(c,l){if(this._records.has(c)){const h=this._records.get(c);this._maybeAddToChanges(h,l);const p=h._prev,v=h._next;return p&&(p._next=v),v&&(v._prev=p),h._next=null,h._prev=null,h}const u=new Af(c);return this._records.set(c,u),u.currentValue=l,this._addToAdditions(u),u}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,l){Object.is(l,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=l,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,l){c instanceof Map?c.forEach(l):Object.keys(c).forEach(u=>l(c[u],u))}}class Af{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ey(){return new IC([new bC])}let IC=(()=>{class o{constructor(l){this.factories=l}static create(l,u){if(null!=u){const h=u.factories.slice();l=l.concat(h)}return new o(l)}static extend(l){return{provide:o,useFactory:u=>o.create(l,u||Ey()),deps:[[o,new Re,new se]]}}find(l){const u=this.factories.find(h=>h.supports(l));if(null!=u)return u;throw new xe(901,!1)}}return o.\u0275prov=ft({token:o,providedIn:"root",factory:Ey}),o})();function SC(){return new Cy([new k0])}let Cy=(()=>{class o{constructor(l){this.factories=l}static create(l,u){if(u){const h=u.factories.slice();l=l.concat(h)}return new o(l)}static extend(l){return{provide:o,useFactory:u=>o.create(l,u||SC()),deps:[[o,new Re,new se]]}}find(l){const u=this.factories.find(h=>h.supports(l));if(u)return u;throw new xe(901,!1)}}return o.\u0275prov=ft({token:o,providedIn:"root",factory:SC}),o})();const mT=D0(null,"core",[]);let pT=(()=>{class o{constructor(l){}}return o.\u0275fac=function(l){return new(l||o)(tt(vy))},o.\u0275mod=ra({type:o}),o.\u0275inj=Ln({}),o})();function gT(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(ne,W,D)=>{D.d(W,{Z:()=>Ve});var s=D(2090),H=D(4859),P=D(9681),J=D(1877);class q{constructor(xe,Ee){this._delegate=xe,this.firebase=Ee,(0,P._addComponent)(xe,new H.wA("app-compat",()=>this,"PUBLIC")),this.container=xe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this._delegate.automaticDataCollectionEnabled=xe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(xe=>{this._delegate.checkDestroyed(),xe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(xe,Ee=P._DEFAULT_ENTRY_NAME){var Ie;this._delegate.checkDestroyed();const Fe=this._delegate.container.getProvider(xe);return!Fe.isInitialized()&&"EXPLICIT"===(null===(Ie=Fe.getComponent())||void 0===Ie?void 0:Ie.instantiationMode)&&Fe.initialize(),Fe.getImmediate({identifier:Ee})}_removeServiceInstance(xe,Ee=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(xe).clearInstance(Ee)}_addComponent(xe){(0,P._addComponent)(this._delegate,xe)}_addOrOverwriteComponent(xe){(0,P._addOrOverwriteComponent)(this._delegate,xe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const te=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),U=function Y(){const Ze=function ee(Ze){const xe={},Ee={__esModule:!0,initializeApp:function le(Pe,Q={}){const Oe=P.initializeApp(Pe,Q);if((0,s.r3)(xe,Oe.name))return xe[Oe.name];const qe=new Ze(Oe,Ee);return xe[Oe.name]=qe,qe},app:Fe,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function Ce(Pe){const Q=Pe.name,Oe=Q.replace("-compat","");if(P._registerComponent(Pe)&&"PUBLIC"===Pe.type){const qe=(Qe=Fe())=>{if("function"!=typeof Qe[Oe])throw te.create("invalid-app-argument",{appName:Q});return Qe[Oe]()};void 0!==Pe.serviceProps&&(0,s.ZB)(qe,Pe.serviceProps),Ee[Oe]=qe,Ze.prototype[Oe]=function(...Qe){return this._getService.bind(this,Q).apply(this,Pe.multipleInstances?Qe:[])}}return"PUBLIC"===Pe.type?Ee[Oe]:null},removeApp:function Ie(Pe){delete xe[Pe]},useAsService:function Te(Pe,Q){return"serverAuth"===Q?null:Q},modularAPIs:P}};function Fe(Pe){if(!(0,s.r3)(xe,Pe=Pe||P._DEFAULT_ENTRY_NAME))throw te.create("no-app",{appName:Pe});return xe[Pe]}return Ee.default=Ee,Object.defineProperty(Ee,"apps",{get:function de(){return Object.keys(xe).map(Pe=>xe[Pe])}}),Fe.App=Ze,Ee}(q);return Ze.INTERNAL=Object.assign(Object.assign({},Ze.INTERNAL),{createFirebaseNamespace:Y,extendNamespace:function xe(Ee){(0,s.ZB)(Ze,Ee)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),Ze}(),z=new J.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ze=self.firebase.SDK_VERSION;Ze&&Ze.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ve=U;!function we(Ze){(0,P.registerVersion)("@firebase/app-compat","0.2.5",Ze)}()},9681:(ne,W,D)=>{D.r(W),D.d(W,{FirebaseError:()=>J.ZR,SDK_VERSION:()=>zi,_DEFAULT_ENTRY_NAME:()=>Ke,_addComponent:()=>un,_addOrOverwriteComponent:()=>It,_apps:()=>dt,_clearComponents:()=>Ln,_components:()=>ot,_getProvider:()=>ft,_registerComponent:()=>an,_removeServiceInstance:()=>Bt,deleteApp:()=>ho,getApp:()=>tr,getApps:()=>Hi,initializeApp:()=>ko,onLog:()=>Et,registerVersion:()=>Ai,setLogLevel:()=>fr});var s=D(5861),H=D(4859),P=D(1877),J=D(2090),q=D(8766);class K{constructor(Ue){this.container=Ue}getPlatformInfoString(){return this.container.getProviders().map(mt=>{if(function te(tt){return"VERSION"===tt.getComponent()?.type}(mt)){const Nt=mt.getImmediate();return`${Nt.library}/${Nt.version}`}return null}).filter(mt=>mt).join(" ")}}const ee="@firebase/app",Y="0.9.5",U=new P.Yd("@firebase/app"),Ke="[DEFAULT]",Xe={[ee]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},dt=new Map,ot=new Map;function un(tt,Ue){try{tt.container.addComponent(Ue)}catch(mt){U.debug(`Component ${Ue.name} failed to register with FirebaseApp ${tt.name}`,mt)}}function It(tt,Ue){tt.container.addOrOverwriteComponent(Ue)}function an(tt){const Ue=tt.name;if(ot.has(Ue))return U.debug(`There were multiple attempts to register component ${Ue}.`),!1;ot.set(Ue,tt);for(const mt of dt.values())un(mt,tt);return!0}function ft(tt,Ue){const mt=tt.container.getProvider("heartbeat").getImmediate({optional:!0});return mt&&mt.triggerHeartbeat(),tt.container.getProvider(Ue)}function Bt(tt,Ue,mt=Ke){ft(tt,Ue).clearInstance(mt)}function Ln(){ot.clear()}const Sn=new J.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Bn{constructor(Ue,mt,Nt){this._isDeleted=!1,this._options=Object.assign({},Ue),this._config=Object.assign({},mt),this._name=mt.name,this._automaticDataCollectionEnabled=mt.automaticDataCollectionEnabled,this._container=Nt,this.container.addComponent(new H.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ue){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ue}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ue){this._isDeleted=Ue}checkDestroyed(){if(this.isDeleted)throw Sn.create("app-deleted",{appName:this._name})}}const zi="9.18.0";function ko(tt,Ue={}){let mt=tt;"object"!=typeof Ue&&(Ue={name:Ue});const Nt=Object.assign({name:Ke,automaticDataCollectionEnabled:!1},Ue),jt=Nt.name;if("string"!=typeof jt||!jt)throw Sn.create("bad-app-name",{appName:String(jt)});if(mt||(mt=(0,J.aH)()),!mt)throw Sn.create("no-options");const Yt=dt.get(jt);if(Yt){if((0,J.vZ)(mt,Yt.options)&&(0,J.vZ)(Nt,Yt.config))return Yt;throw Sn.create("duplicate-app",{appName:jt})}const Gi=new H.H0(jt);for(const Z of ot.values())Gi.addComponent(Z);const X=new Bn(mt,Nt,Gi);return dt.set(jt,X),X}function tr(tt=Ke){const Ue=dt.get(tt);if(!Ue&&tt===Ke)return ko();if(!Ue)throw Sn.create("no-app",{appName:tt});return Ue}function Hi(){return Array.from(dt.values())}function ho(tt){return vn.apply(this,arguments)}function vn(){return(vn=(0,s.Z)(function*(tt){const Ue=tt.name;dt.has(Ue)&&(dt.delete(Ue),yield Promise.all(tt.container.getProviders().map(mt=>mt.delete())),tt.isDeleted=!0)})).apply(this,arguments)}function Ai(tt,Ue,mt){var Nt;let jt=null!==(Nt=Xe[tt])&&void 0!==Nt?Nt:tt;mt&&(jt+=`-${mt}`);const Yt=jt.match(/\s|\//),Gi=Ue.match(/\s|\//);if(Yt||Gi){const X=[`Unable to register library "${jt}" with version "${Ue}":`];return Yt&&X.push(`library name "${jt}" contains illegal characters (whitespace or "/")`),Yt&&Gi&&X.push("and"),Gi&&X.push(`version name "${Ue}" contains illegal characters (whitespace or "/")`),void U.warn(X.join(" "))}an(new H.wA(`${jt}-version`,()=>({library:jt,version:Ue}),"VERSION"))}function Et(tt,Ue){if(null!==tt&&"function"!=typeof tt)throw Sn.create("invalid-log-argument");(0,P.Am)(tt,Ue)}function fr(tt){(0,P.Ub)(tt)}const Sr="firebase-heartbeat-database",En=1,Mi="firebase-heartbeat-store";let Qr=null;function Vt(){return Qr||(Qr=(0,q.X3)(Sr,En,{upgrade:(tt,Ue)=>{0===Ue&&tt.createObjectStore(Mi)}}).catch(tt=>{throw Sn.create("idb-open",{originalErrorMessage:tt.message})})),Qr}function Lt(){return(Lt=(0,s.Z)(function*(tt){try{return(yield Vt()).transaction(Mi).objectStore(Mi).get(Wn(tt))}catch(Ue){if(Ue instanceof J.ZR)U.warn(Ue.message);else{const mt=Sn.create("idb-get",{originalErrorMessage:Ue?.message});U.warn(mt.message)}}})).apply(this,arguments)}function Dr(tt,Ue){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,s.Z)(function*(tt,Ue){try{const Nt=(yield Vt()).transaction(Mi,"readwrite");return yield Nt.objectStore(Mi).put(Ue,Wn(tt)),Nt.done}catch(mt){if(mt instanceof J.ZR)U.warn(mt.message);else{const Nt=Sn.create("idb-set",{originalErrorMessage:mt?.message});U.warn(Nt.message)}}})).apply(this,arguments)}function Wn(tt){return`${tt.name}!${tt.options.appId}`}class Qo{constructor(Ue){this.container=Ue,this._heartbeatsCache=null;const mt=this.container.getProvider("app").getImmediate();this._storage=new cn(mt),this._heartbeatsCachePromise=this._storage.read().then(Nt=>(this._heartbeatsCache=Nt,Nt))}triggerHeartbeat(){var Ue=this;return(0,s.Z)(function*(){const Nt=Ue.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),jt=pn();if(null===Ue._heartbeatsCache&&(Ue._heartbeatsCache=yield Ue._heartbeatsCachePromise),Ue._heartbeatsCache.lastSentHeartbeatDate!==jt&&!Ue._heartbeatsCache.heartbeats.some(Yt=>Yt.date===jt))return Ue._heartbeatsCache.heartbeats.push({date:jt,agent:Nt}),Ue._heartbeatsCache.heartbeats=Ue._heartbeatsCache.heartbeats.filter(Yt=>{const Gi=new Date(Yt.date).valueOf();return Date.now()-Gi<=2592e6}),Ue._storage.overwrite(Ue._heartbeatsCache)})()}getHeartbeatsHeader(){var Ue=this;return(0,s.Z)(function*(){if(null===Ue._heartbeatsCache&&(yield Ue._heartbeatsCachePromise),null===Ue._heartbeatsCache||0===Ue._heartbeatsCache.heartbeats.length)return"";const mt=pn(),{heartbeatsToSend:Nt,unsentEntries:jt}=function Xr(tt,Ue=1024){const mt=[];let Nt=tt.slice();for(const jt of tt){const Yt=mt.find(Gi=>Gi.agent===jt.agent);if(Yt){if(Yt.dates.push(jt.date),$i(mt)>Ue){Yt.dates.pop();break}}else if(mt.push({agent:jt.agent,dates:[jt.date]}),$i(mt)>Ue){mt.pop();break}Nt=Nt.slice(1)}return{heartbeatsToSend:mt,unsentEntries:Nt}}(Ue._heartbeatsCache.heartbeats),Yt=(0,J.L)(JSON.stringify({version:2,heartbeats:Nt}));return Ue._heartbeatsCache.lastSentHeartbeatDate=mt,jt.length>0?(Ue._heartbeatsCache.heartbeats=jt,yield Ue._storage.overwrite(Ue._heartbeatsCache)):(Ue._heartbeatsCache.heartbeats=[],Ue._storage.overwrite(Ue._heartbeatsCache)),Yt})()}}function pn(){return(new Date).toISOString().substring(0,10)}class cn{constructor(Ue){this.app=Ue,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,J.hl)()&&(0,J.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ue=this;return(0,s.Z)(function*(){return(yield Ue._canUseIndexedDBPromise)&&(yield function St(tt){return Lt.apply(this,arguments)}(Ue.app))||{heartbeats:[]}})()}overwrite(Ue){var mt=this;return(0,s.Z)(function*(){var Nt;if(yield mt._canUseIndexedDBPromise){const Yt=yield mt.read();return Dr(mt.app,{lastSentHeartbeatDate:null!==(Nt=Ue.lastSentHeartbeatDate)&&void 0!==Nt?Nt:Yt.lastSentHeartbeatDate,heartbeats:Ue.heartbeats})}})()}add(Ue){var mt=this;return(0,s.Z)(function*(){var Nt;if(yield mt._canUseIndexedDBPromise){const Yt=yield mt.read();return Dr(mt.app,{lastSentHeartbeatDate:null!==(Nt=Ue.lastSentHeartbeatDate)&&void 0!==Nt?Nt:Yt.lastSentHeartbeatDate,heartbeats:[...Yt.heartbeats,...Ue.heartbeats]})}})()}}function $i(tt){return(0,J.L)(JSON.stringify({version:2,heartbeats:tt})).length}!function Tr(tt){an(new H.wA("platform-logger",Ue=>new K(Ue),"PRIVATE")),an(new H.wA("heartbeat",Ue=>new Qo(Ue),"PRIVATE")),Ai(ee,Y,tt),Ai(ee,Y,"esm2017"),Ai("fire-js","")}("")},4859:(ne,W,D)=>{D.d(W,{H0:()=>ee,wA:()=>P});var s=D(5861),H=D(2090);class P{constructor(U,z,G){this.name=U,this.instanceFactory=z,this.type=G,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(U){return this.instantiationMode=U,this}setMultipleInstances(U){return this.multipleInstances=U,this}setServiceProps(U){return this.serviceProps=U,this}setInstanceCreatedCallback(U){return this.onInstanceCreated=U,this}}const J="[DEFAULT]";class q{constructor(U,z){this.name=U,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(U){const z=this.normalizeInstanceIdentifier(U);if(!this.instancesDeferred.has(z)){const G=new H.BH;if(this.instancesDeferred.set(z,G),this.isInitialized(z)||this.shouldAutoInitialize())try{const pe=this.getOrInitializeService({instanceIdentifier:z});pe&&G.resolve(pe)}catch{}}return this.instancesDeferred.get(z).promise}getImmediate(U){var z;const G=this.normalizeInstanceIdentifier(U?.identifier),pe=null!==(z=U?.optional)&&void 0!==z&&z;if(!this.isInitialized(G)&&!this.shouldAutoInitialize()){if(pe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:G})}catch(we){if(pe)return null;throw we}}getComponent(){return this.component}setComponent(U){if(U.name!==this.name)throw Error(`Mismatching Component ${U.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=U,this.shouldAutoInitialize()){if(function te(Y){return"EAGER"===Y.instantiationMode}(U))try{this.getOrInitializeService({instanceIdentifier:J})}catch{}for(const[z,G]of this.instancesDeferred.entries()){const pe=this.normalizeInstanceIdentifier(z);try{const we=this.getOrInitializeService({instanceIdentifier:pe});G.resolve(we)}catch{}}}}clearInstance(U=J){this.instancesDeferred.delete(U),this.instancesOptions.delete(U),this.instances.delete(U)}delete(){var U=this;return(0,s.Z)(function*(){const z=Array.from(U.instances.values());yield Promise.all([...z.filter(G=>"INTERNAL"in G).map(G=>G.INTERNAL.delete()),...z.filter(G=>"_delete"in G).map(G=>G._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(U=J){return this.instances.has(U)}getOptions(U=J){return this.instancesOptions.get(U)||{}}initialize(U={}){const{options:z={}}=U,G=this.normalizeInstanceIdentifier(U.instanceIdentifier);if(this.isInitialized(G))throw Error(`${this.name}(${G}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const pe=this.getOrInitializeService({instanceIdentifier:G,options:z});for(const[we,Ve]of this.instancesDeferred.entries())G===this.normalizeInstanceIdentifier(we)&&Ve.resolve(pe);return pe}onInit(U,z){var G;const pe=this.normalizeInstanceIdentifier(z),we=null!==(G=this.onInitCallbacks.get(pe))&&void 0!==G?G:new Set;we.add(U),this.onInitCallbacks.set(pe,we);const Ve=this.instances.get(pe);return Ve&&U(Ve,pe),()=>{we.delete(U)}}invokeOnInitCallbacks(U,z){const G=this.onInitCallbacks.get(z);if(G)for(const pe of G)try{pe(U,z)}catch{}}getOrInitializeService({instanceIdentifier:U,options:z={}}){let G=this.instances.get(U);if(!G&&this.component&&(G=this.component.instanceFactory(this.container,{instanceIdentifier:(Y=U,Y===J?void 0:Y),options:z}),this.instances.set(U,G),this.instancesOptions.set(U,z),this.invokeOnInitCallbacks(G,U),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,U,G)}catch{}var Y;return G||null}normalizeInstanceIdentifier(U=J){return this.component?this.component.multipleInstances?U:J:U}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ee{constructor(U){this.name=U,this.providers=new Map}addComponent(U){const z=this.getProvider(U.name);if(z.isComponentSet())throw new Error(`Component ${U.name} has already been registered with ${this.name}`);z.setComponent(U)}addOrOverwriteComponent(U){this.getProvider(U.name).isComponentSet()&&this.providers.delete(U.name),this.addComponent(U)}getProvider(U){if(this.providers.has(U))return this.providers.get(U);const z=new q(U,this);return this.providers.set(U,z),z}getProviders(){return Array.from(this.providers.values())}}},1877:(ne,W,D)=>{D.d(W,{Am:()=>Y,Ub:()=>ee,Yd:()=>te,in:()=>H});const s=[];var H=(()=>{return(U=H||(H={}))[U.DEBUG=0]="DEBUG",U[U.VERBOSE=1]="VERBOSE",U[U.INFO=2]="INFO",U[U.WARN=3]="WARN",U[U.ERROR=4]="ERROR",U[U.SILENT=5]="SILENT",H;var U})();const P={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},J=H.INFO,q={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},K=(U,z,...G)=>{if(z<U.logLevel)return;const pe=(new Date).toISOString(),we=q[z];if(!we)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[we](`[${pe}]  ${U.name}:`,...G)};class te{constructor(z){this.name=z,this._logLevel=J,this._logHandler=K,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in H))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?P[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...z),this._logHandler(this,H.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...z),this._logHandler(this,H.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,H.INFO,...z),this._logHandler(this,H.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,H.WARN,...z),this._logHandler(this,H.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...z),this._logHandler(this,H.ERROR,...z)}}function ee(U){s.forEach(z=>{z.setLogLevel(U)})}function Y(U,z){for(const G of s){let pe=null;z&&z.level&&(pe=P[z.level]),G.userLogHandler=null===U?null:(we,Ve,...Ze)=>{const xe=Ze.map(Ee=>{if(null==Ee)return null;if("string"==typeof Ee)return Ee;if("number"==typeof Ee||"boolean"==typeof Ee)return Ee.toString();if(Ee instanceof Error)return Ee.message;try{return JSON.stringify(Ee)}catch{return null}}).filter(Ee=>Ee).join(" ");Ve>=(pe??we.logLevel)&&U({level:H[Ve].toLowerCase(),message:xe,args:Ze,type:we.name})}}}},825:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4650),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9653),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(515),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9751),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6451),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(233),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4707),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3099),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9300),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4004),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4351),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7414),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8372),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(262),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5698),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2722),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3900),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5684),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5363),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1365),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(5026);const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(W,D){if(this.action=W,this.timestamp=D,this.type=PERFORM_ACTION,typeof W.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(W){this.timestamp=W,this.type=RESET}}class Rollback{constructor(W){this.timestamp=W,this.type=ROLLBACK}}class Commit{constructor(W){this.timestamp=W,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(W){this.id=W,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(W,D,s=!0){this.start=W,this.end=D,this.active=s,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(W){this.index=W,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(W){this.actionId=W,this.type=JUMP_TO_ACTION}}class ImportState{constructor(W){this.nextLiftedState=W,this.type=IMPORT_STATE}}class LockChanges{constructor(W){this.status=W,this.type=LOCK_CHANGES}}class PauseRecording{constructor(W){this.status=W,this.type=PAUSE_RECORDING}}class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(ne){const W={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},D="function"==typeof ne?ne():ne,P=Object.assign({},W,{features:D.features||!!D.logOnly&&{pause:!0,export:!0,test:!0}||W.features},D);if(P.maxAge&&P.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${P.maxAge}`);return P}function difference(ne,W){return ne.filter(D=>W.indexOf(D)<0)}function unliftState(ne){const{computedStates:W,currentStateIndex:D}=ne;if(D>=W.length){const{state:H}=W[W.length-1];return H}const{state:s}=W[D];return s}function unliftAction(ne){return ne.actionsById[ne.nextActionId-1]}function liftAction(ne){return new PerformAction(ne,+Date.now())}function sanitizeActions(ne,W){return Object.keys(W).reduce((D,s)=>{const H=Number(s);return D[H]=sanitizeAction(ne,W[H],H),D},{})}function sanitizeAction(ne,W,D){return{...W,action:ne(W.action,D)}}function sanitizeStates(ne,W){return W.map((D,s)=>({state:sanitizeState(ne,D.state,s),error:D.error}))}function sanitizeState(ne,W,D){return ne(W,D)}function shouldFilterActions(ne){return ne.predicate||ne.actionsSafelist||ne.actionsBlocklist}function filterLiftedState(ne,W,D,s){const H=[],P={},J=[];return ne.stagedActionIds.forEach((q,K)=>{const te=ne.actionsById[q];te&&(K&&isActionFiltered(ne.computedStates[K],te,W,D,s)||(P[q]=te,H.push(q),J.push(ne.computedStates[K])))}),{...ne,stagedActionIds:H,actionsById:P,computedStates:J}}function isActionFiltered(ne,W,D,s,H){const P=D&&!D(ne,W.action),J=s&&!W.action.type.match(s.map(K=>escapeRegExp(K)).join("|")),q=H&&W.action.type.match(H.map(K=>escapeRegExp(K)).join("|"));return P||J||q}function escapeRegExp(ne){return ne.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}let DevtoolsDispatcher=(()=>{class ne extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return ne.\u0275fac=function(){let W;return function(s){return(W||(W=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(ne)))(s||ne)}}(),ne.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:ne,factory:ne.\u0275fac}),ne})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(ne,W,D){this.config=W,this.dispatcher=D,this.devtoolsExtension=ne,this.createActionStreams()}notify(ne,W){if(this.devtoolsExtension)if(ne.type===PERFORM_ACTION){if(W.isLocked||W.isPaused)return;const D=unliftState(W);if(shouldFilterActions(this.config)&&isActionFiltered(D,ne,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const s=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,D,W.currentStateIndex):D,H=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,ne,W.nextActionId):ne;this.sendToReduxDevtools(()=>this.extensionConnection.send(H,s))}else{const D={...W,stagedActionIds:W.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,W.actionsById):W.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,W.computedStates):W.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,D,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(ne=>{const W=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=W,W.init(),W.subscribe(D=>ne.next(D)),W.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const ne=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),W=ne.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(q=>q.type===ExtensionActionTypes.START)),D=ne.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(q=>q.type===ExtensionActionTypes.STOP)),s=ne.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(q=>q.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(q=>this.unwrapAction(q.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(q=>q.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(K=>K.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>q),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(q)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(q))),P=ne.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(q=>q.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(q=>this.unwrapAction(q.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(D)),J=s.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(D));this.start$=W.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(D)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>P)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>J))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(ne){const W={name:ne.name,features:ne.features,serialize:ne.serialize,autoPause:ne.autoPause??!1,trace:ne.trace??!1,traceLimit:ne.traceLimit??75};return!1!==ne.maxAge&&(W.maxAge=ne.maxAge),W}sendToReduxDevtools(ne){try{ne()}catch(W){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",W)}}}return DevtoolsExtension.\u0275fac=function ne(W){return new(W||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(ne,W,D,s,H){if(s)return{state:D,error:"Interrupted by an error up the chain"};let J,P=D;try{P=ne(D,W)}catch(q){J=q.toString(),H.handleError(q)}return{state:P,error:J}}function recomputeStates(ne,W,D,s,H,P,J,q,K){if(W>=ne.length&&ne.length===P.length)return ne;const te=ne.slice(0,W),ee=P.length-(K?1:0);for(let Y=W;Y<ee;Y++){const U=P[Y],z=H[U].action,G=te[Y-1],pe=G?G.state:s,we=G?G.error:void 0,Ze=J.indexOf(U)>-1?G:computeNextEntry(D,z,pe,we,q);te.push(Ze)}return K&&te.push(ne[ne.length-1]),te}function liftInitialState(ne,W){return{monitorState:W(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:ne,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(ne,W,D,s,H={}){return P=>(J,q)=>{let{monitorState:K,actionsById:te,nextActionId:ee,stagedActionIds:Y,skippedActionIds:U,committedState:z,currentStateIndex:G,computedStates:pe,isLocked:we,isPaused:Ve}=J||W;function Ze(Ie){let Fe=Ie,le=Y.slice(1,Fe+1);for(let de=0;de<le.length;de++){if(pe[de+1].error){Fe=de,le=Y.slice(1,Fe+1);break}delete te[le[de]]}U=U.filter(de=>-1===le.indexOf(de)),Y=[0,...Y.slice(Fe+1)],z=pe[Fe].state,pe=pe.slice(Fe),G=G>Fe?G-Fe:0}function xe(){te={0:liftAction(INIT_ACTION)},ee=1,Y=[0],U=[],z=pe[G].state,G=0,pe=[]}J||(te=Object.create(te));let Ee=0;switch(q.type){case LOCK_CHANGES:we=q.status,Ee=1/0;break;case PAUSE_RECORDING:Ve=q.status,Ve?(Y=[...Y,ee],te[ee]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),ee++,Ee=Y.length-1,pe=pe.concat(pe[pe.length-1]),G===Y.length-2&&G++,Ee=1/0):xe();break;case RESET:te={0:liftAction(INIT_ACTION)},ee=1,Y=[0],U=[],z=ne,G=0,pe=[];break;case COMMIT:xe();break;case ROLLBACK:te={0:liftAction(INIT_ACTION)},ee=1,Y=[0],U=[],G=0,pe=[];break;case TOGGLE_ACTION:{const{id:Ie}=q;U=-1===U.indexOf(Ie)?[Ie,...U]:U.filter(le=>le!==Ie),Ee=Y.indexOf(Ie);break}case SET_ACTIONS_ACTIVE:{const{start:Ie,end:Fe,active:le}=q,de=[];for(let Ce=Ie;Ce<Fe;Ce++)de.push(Ce);U=le?difference(U,de):[...U,...de],Ee=Y.indexOf(Ie);break}case JUMP_TO_STATE:G=q.index,Ee=1/0;break;case JUMP_TO_ACTION:{const Ie=Y.indexOf(q.actionId);-1!==Ie&&(G=Ie),Ee=1/0;break}case SWEEP:Y=difference(Y,U),U=[],G=Math.min(G,Y.length-1);break;case PERFORM_ACTION:{if(we)return J||W;if(Ve||J&&isActionFiltered(J.computedStates[G],q,H.predicate,H.actionsSafelist,H.actionsBlocklist)){const Fe=pe[pe.length-1];pe=[...pe.slice(0,-1),computeNextEntry(P,q.action,Fe.state,Fe.error,D)],Ee=1/0;break}H.maxAge&&Y.length===H.maxAge&&Ze(1),G===Y.length-1&&G++;const Ie=ee++;te[Ie]=q,Y=[...Y,Ie],Ee=Y.length-1;break}case IMPORT_STATE:({monitorState:K,actionsById:te,nextActionId:ee,stagedActionIds:Y,skippedActionIds:U,committedState:z,currentStateIndex:G,computedStates:pe,isLocked:we,isPaused:Ve}=q.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:Ee=0,H.maxAge&&Y.length>H.maxAge&&(pe=recomputeStates(pe,Ee,P,z,te,Y,U,D,Ve),Ze(Y.length-H.maxAge),Ee=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(pe.filter(Fe=>Fe.error).length>0)Ee=0,H.maxAge&&Y.length>H.maxAge&&(pe=recomputeStates(pe,Ee,P,z,te,Y,U,D,Ve),Ze(Y.length-H.maxAge),Ee=1/0);else{if(!Ve&&!we){G===Y.length-1&&G++;const Fe=ee++;te[Fe]=new PerformAction(q,+Date.now()),Y=[...Y,Fe],Ee=Y.length-1,pe=recomputeStates(pe,Ee,P,z,te,Y,U,D,Ve)}pe=pe.map(Fe=>({...Fe,state:P(Fe.state,RECOMPUTE_ACTION)})),G=Y.length-1,H.maxAge&&Y.length>H.maxAge&&Ze(Y.length-H.maxAge),Ee=1/0}break;default:Ee=1/0}return pe=recomputeStates(pe,Ee,P,z,te,Y,U,D,Ve),K=s(K,q),{monitorState:K,actionsById:te,nextActionId:ee,stagedActionIds:Y,skippedActionIds:U,committedState:z,currentStateIndex:G,computedStates:pe,isLocked:we,isPaused:Ve}}}let StoreDevtools=(()=>{class ne{constructor(D,s,H,P,J,q,K,te){const ee=liftInitialState(K,te.monitor),Y=liftReducerWith(K,ee,q,te.monitor,te),U=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(s.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),P.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),D,P.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),z=H.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(Y)),G=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),pe=U.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(z),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:xe},[Ee,Ie])=>{let Fe=Ie(xe,Ee);return Ee.type!==PERFORM_ACTION&&shouldFilterActions(te)&&(Fe=filterLiftedState(Fe,te.predicate,te.actionsSafelist,te.actionsBlocklist)),P.notify(Ee,Fe),{state:Fe,action:Ee}},{state:ee,action:null})).subscribe(({state:xe,action:Ee})=>{G.next(xe),Ee.type===PERFORM_ACTION&&J.next(Ee.action)}),we=P.start$.subscribe(()=>{this.refresh()}),Ve=G.asObservable(),Ze=Ve.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=we,this.stateSubscription=pe,this.dispatcher=D,this.liftedState=Ve,this.state=Ze}dispatch(D){this.dispatcher.next(D)}next(D){this.dispatcher.next(D)}error(D){}complete(){}performAction(D){this.dispatch(new PerformAction(D,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(D){this.dispatch(new ToggleAction(D))}jumpToAction(D){this.dispatch(new JumpToAction(D))}jumpToState(D){this.dispatch(new JumpToState(D))}importState(D){this.dispatch(new ImportState(D))}lockChanges(D){this.dispatch(new LockChanges(D))}pauseRecording(D){this.dispatch(new PauseRecording(D))}}return ne.\u0275fac=function(D){return new(D||ne)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},ne.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:ne,factory:ne.\u0275fac}),ne})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(ne,W){return Boolean(ne)||W.monitor!==noMonitor}function createReduxDevtoolsExtension(){const ne="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[ne]<"u"?window[ne]:null}function provideStoreDevtools(ne={}){return(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.MR2)([DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:ne},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}])}function createStateObservable(ne){return ne.state}let StoreDevtoolsModule=(()=>{class ne{static instrument(D={}){return{ngModule:ne,providers:[provideStoreDevtools(D)]}}}return ne.\u0275fac=function(D){return new(D||ne)},ne.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:ne}),ne.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),ne})()},9653:(ne,W,D)=>{D.d(W,{UO:()=>Te,qg:()=>Ce,Y6:()=>qe,mK:()=>Ai,n$:()=>vn,Y$:()=>En,FR:()=>Qr,yh:()=>Dr,CK:()=>po,Aw:()=>go,cr:()=>mo,wb:()=>Et,PH:()=>we,ZF:()=>Un,Lq:()=>mi,P1:()=>ut,on:()=>bs,Ky:()=>Ve,Ys:()=>Wn});var s=D(4650),H=D(1135),P=D(9751),J=D(7579),q=D(233),K=D(5363),te=D(1365),ee=D(5026),Y=D(4004),z=D(1884);const G={};function we(j,_e){if(G[j]=(G[j]||0)+1,"function"==typeof _e)return xe(j,(...ye)=>({..._e(...ye),type:j}));switch(_e?_e._as:"empty"){case"empty":return xe(j,()=>({type:j}));case"props":return xe(j,ye=>({...ye,type:j}));default:throw new Error("Unexpected config.")}}function Ve(){return{_as:"props",_p:void 0}}function xe(j,_e){return Object.defineProperty(_e,"type",{value:j,writable:!1})}const Ce="@ngrx/store/init";let Te=(()=>{class j extends H.X{constructor(){super({type:Ce})}next(ae){if("function"==typeof ae)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof ae>"u")throw new TypeError("Actions must be objects");if(typeof ae.type>"u")throw new TypeError("Actions must have a type property");super.next(ae)}complete(){}ngOnDestroy(){super.complete()}}return j.\u0275fac=function(ae){return new(ae||j)},j.\u0275prov=s.Yz7({token:j,factory:j.\u0275fac}),j})();const Pe=[Te],Q=new s.OlP("@ngrx/store Internal Root Guard"),Oe=new s.OlP("@ngrx/store Internal Initial State"),qe=new s.OlP("@ngrx/store Initial State"),Qe=new s.OlP("@ngrx/store Reducer Factory"),gt=new s.OlP("@ngrx/store Internal Reducer Factory Provider"),ct=new s.OlP("@ngrx/store Initial Reducers"),ve=new s.OlP("@ngrx/store Internal Initial Reducers"),Me=new s.OlP("@ngrx/store Store Features"),Le=new s.OlP("@ngrx/store Internal Store Reducers"),ze=new s.OlP("@ngrx/store Internal Feature Reducers"),Ke=new s.OlP("@ngrx/store Internal Feature Configs"),Xe=new s.OlP("@ngrx/store Internal Store Features"),dt=new s.OlP("@ngrx/store Internal Feature Reducers Token"),ot=new s.OlP("@ngrx/store Feature Reducers"),un=new s.OlP("@ngrx/store User Provided Meta Reducers"),It=new s.OlP("@ngrx/store Meta Reducers"),an=new s.OlP("@ngrx/store Internal Resolved Meta Reducers"),ft=new s.OlP("@ngrx/store User Runtime Checks Config"),Bt=new s.OlP("@ngrx/store Internal User Runtime Checks Config"),Ln=new s.OlP("@ngrx/store Internal Runtime Checks"),fn=new s.OlP("@ngrx/store Check if Action types are unique");function zi(j,_e={}){const ae=Object.keys(j),ye={};for(let je=0;je<ae.length;je++){const Gt=ae[je];"function"==typeof j[Gt]&&(ye[Gt]=j[Gt])}const et=Object.keys(ye);return function(Gt,Tn){Gt=void 0===Gt?_e:Gt;let Fn=!1;const ri={};for(let Zt=0;Zt<et.length;Zt++){const xi=et[Zt],Gl=Gt[xi],Wi=(0,ye[xi])(Gl,Tn);ri[xi]=Wi,Fn=Fn||Wi!==Gl}return Fn?ri:Gt}}function tr(...j){return function(_e){if(0===j.length)return _e;const ae=j[j.length-1];return j.slice(0,-1).reduceRight((et,je)=>je(et),ae(_e))}}function Hi(j,_e){return Array.isArray(_e)&&_e.length>0&&(j=tr.apply(null,[..._e,j])),(ae,ye)=>{const et=j(ae);return(je,Gt)=>et(je=void 0===je?ye:je,Gt)}}new s.OlP("@ngrx/store Root Store Provider"),new s.OlP("@ngrx/store Feature State Provider");class vn extends P.y{}class Ai extends Te{}const Et="@ngrx/store/update-reducers";let fr=(()=>{class j extends H.X{constructor(ae,ye,et,je){super(je(et,ye)),this.dispatcher=ae,this.initialState=ye,this.reducers=et,this.reducerFactory=je}get currentReducers(){return this.reducers}addFeature(ae){this.addFeatures([ae])}addFeatures(ae){const ye=ae.reduce((et,{reducers:je,reducerFactory:Gt,metaReducers:Tn,initialState:Fn,key:ri})=>{const Zt="function"==typeof je?function ho(j){const _e=Array.isArray(j)&&j.length>0?tr(...j):ae=>ae;return(ae,ye)=>(ae=_e(ae),(et,je)=>ae(et=void 0===et?ye:et,je))}(Tn)(je,Fn):Hi(Gt,Tn)(je,Fn);return et[ri]=Zt,et},{});this.addReducers(ye)}removeFeature(ae){this.removeFeatures([ae])}removeFeatures(ae){this.removeReducers(ae.map(ye=>ye.key))}addReducer(ae,ye){this.addReducers({[ae]:ye})}addReducers(ae){this.reducers={...this.reducers,...ae},this.updateReducers(Object.keys(ae))}removeReducer(ae){this.removeReducers([ae])}removeReducers(ae){ae.forEach(ye=>{this.reducers=function ko(j,_e){return Object.keys(j).filter(ae=>ae!==_e).reduce((ae,ye)=>Object.assign(ae,{[ye]:j[ye]}),{})}(this.reducers,ye)}),this.updateReducers(ae)}updateReducers(ae){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Et,features:ae})}ngOnDestroy(){this.complete()}}return j.\u0275fac=function(ae){return new(ae||j)(s.LFG(Ai),s.LFG(qe),s.LFG(ct),s.LFG(Qe))},j.\u0275prov=s.Yz7({token:j,factory:j.\u0275fac}),j})();const Sr=[fr,{provide:vn,useExisting:fr},{provide:Ai,useExisting:Te}];let En=(()=>{class j extends J.x{ngOnDestroy(){this.complete()}}return j.\u0275fac=function(){let _e;return function(ye){return(_e||(_e=s.n5z(j)))(ye||j)}}(),j.\u0275prov=s.Yz7({token:j,factory:j.\u0275fac}),j})();const Mi=[En];class Qr extends P.y{}let Vt=(()=>{class j extends H.X{constructor(ae,ye,et,je){super(je);const ri=ae.pipe((0,K.Q)(q.N)).pipe((0,te.M)(ye)).pipe((0,ee.R)(St,{state:je}));this.stateSubscription=ri.subscribe(({state:Zt,action:xi})=>{this.next(Zt),et.next(xi)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return j.INIT=Ce,j.\u0275fac=function(ae){return new(ae||j)(s.LFG(Te),s.LFG(vn),s.LFG(En),s.LFG(qe))},j.\u0275prov=s.Yz7({token:j,factory:j.\u0275fac}),j})();function St(j={state:void 0},[_e,ae]){const{state:ye}=j;return{state:ae(ye,_e),action:_e}}const Lt=[Vt,{provide:Qr,useExisting:Vt}];let Dr=(()=>{class j extends P.y{constructor(ae,ye,et){super(),this.actionsObserver=ye,this.reducerManager=et,this.source=ae}select(ae,...ye){return Wn.call(null,ae,...ye)(this)}lift(ae){const ye=new j(this,this.actionsObserver,this.reducerManager);return ye.operator=ae,ye}dispatch(ae){this.actionsObserver.next(ae)}next(ae){this.actionsObserver.next(ae)}error(ae){this.actionsObserver.error(ae)}complete(){this.actionsObserver.complete()}addReducer(ae,ye){this.reducerManager.addReducer(ae,ye)}removeReducer(ae){this.reducerManager.removeReducer(ae)}}return j.\u0275fac=function(ae){return new(ae||j)(s.LFG(Qr),s.LFG(Te),s.LFG(fr))},j.\u0275prov=s.Yz7({token:j,factory:j.\u0275fac}),j})();const Rn=[Dr];function Wn(j,_e,...ae){return function(et){let je;if("string"==typeof j){const Gt=[_e,...ae].filter(Boolean);je=et.pipe(function U(...j){const _e=j.length;if(0===_e)throw new Error("list of properties cannot be empty.");return(0,Y.U)(ae=>{let ye=ae;for(let et=0;et<_e;et++){const je=ye?.[j[et]];if(!(typeof je<"u"))return;ye=je}return ye})}(j,...Gt))}else{if("function"!=typeof j)throw new TypeError(`Unexpected type '${typeof j}' in select operator, expected 'string' or 'function'`);je=et.pipe((0,Y.U)(Gt=>j(Gt,_e)))}return je.pipe((0,z.x)())}}const bi="https://ngrx.io/guide/store/configuration/runtime-checks";function wi(j){return void 0===j}function Qo(j){return null===j}function pn(j){return Array.isArray(j)}function Tr(j){return"object"==typeof j&&null!==j}function mt(j){return"function"==typeof j}let Yt=!1;function Z(j,_e){return j===_e}function me(j,_e=Z,ae=Z){let je,ye=null,et=null;return{memoized:function ri(){if(void 0!==je)return je.result;if(!ye)return et=j.apply(null,arguments),ye=arguments,et;if(!function re(j,_e,ae){for(let ye=0;ye<j.length;ye++)if(!ae(j[ye],_e[ye]))return!0;return!1}(arguments,ye,_e))return et;const Zt=j.apply(null,arguments);return ye=arguments,ae(et,Zt)?et:(et=Zt,Zt)},reset:function Gt(){ye=null,et=null},setResult:function Tn(Zt){je={result:Zt}},clearResult:function Fn(){je=void 0}}}function ut(...j){return function bn(j,_e={stateFn:st}){return function(...ae){let ye=ae;if(Array.isArray(ye[0])){const[Zt,...xi]=ye;ye=[...Zt,...xi]}else 1===ye.length&&function zn(j){return!!j&&"object"==typeof j&&Object.values(j).every(_e=>"function"==typeof _e)}(ye[0])&&(ye=function ni(j){const _e=Object.values(j),ae=Object.keys(j);return[..._e,(...et)=>ae.reduce((je,Gt,Tn)=>({...je,[Gt]:et[Tn]}),{})]}(ye[0]));const et=ye.slice(0,ye.length-1),je=ye[ye.length-1],Gt=et.filter(Zt=>Zt.release&&"function"==typeof Zt.release),Tn=j(function(...Zt){return je.apply(null,Zt)}),Fn=me(function(Zt,xi){return _e.stateFn.apply(null,[Zt,et,xi,Tn])});return Object.assign(Fn.memoized,{release:function ri(){Fn.reset(),Tn.reset(),Gt.forEach(Zt=>Zt.release())},projector:Tn.memoized,setResult:Fn.setResult,clearResult:Fn.clearResult})}}(me)(...j)}function st(j,_e,ae,ye){if(void 0===ae){const je=_e.map(Gt=>Gt(j));return ye.memoized.apply(null,je)}const et=_e.map(je=>je(j,ae));return ye.memoized.apply(null,[...et,ae])}function Un(j){return ut(_e=>{const ae=_e[j];return!function X(){return Yt}()&&(0,s.X6Q)()&&!(j in _e)&&console.warn(`@ngrx/store: The feature name "${j}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${j}', ...) or StoreModule.forFeature('${j}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),ae},_e=>_e)}function ia(j){return j instanceof s.OlP?(0,s.f3M)(j):j}function Hl(j,_e){return _e.map((ae,ye)=>{if(j[ye]instanceof s.OlP){const et=(0,s.f3M)(j[ye]);return{key:ae.key,reducerFactory:et.reducerFactory?et.reducerFactory:zi,metaReducers:et.metaReducers?et.metaReducers:[],initialState:et.initialState}}return ae})}function qa(j){return j.map(_e=>_e instanceof s.OlP?(0,s.f3M)(_e):_e)}function Xo(j){return"function"==typeof j?j():j}function ra(j,_e){return j.concat(_e)}function $l(){if((0,s.f3M)(Dr,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function ys(j){Object.freeze(j);const _e=mt(j);return Object.getOwnPropertyNames(j).forEach(ae=>{if(!ae.startsWith("\u0275")&&function jt(j,_e){return Object.prototype.hasOwnProperty.call(j,_e)}(j,ae)&&(!_e||"caller"!==ae&&"callee"!==ae&&"arguments"!==ae)){const ye=j[ae];(Tr(ye)||mt(ye))&&!Object.isFrozen(ye)&&ys(ye)}}),j}function on(j,_e=[]){return(wi(j)||Qo(j))&&0===_e.length?{path:["root"],value:j}:Object.keys(j).reduce((ye,et)=>{if(ye)return ye;const je=j[et];return function Nt(j){return mt(j)&&j.hasOwnProperty("\u0275cmp")}(je)?ye:!(wi(je)||Qo(je)||function $i(j){return"number"==typeof j}(je)||function cn(j){return"boolean"==typeof j}(je)||function Xr(j){return"string"==typeof j}(je)||pn(je))&&(function Ue(j){if(!function tt(j){return Tr(j)&&!pn(j)}(j))return!1;const _e=Object.getPrototypeOf(j);return _e===Object.prototype||null===_e}(je)?on(je,[..._e,et]):{path:[..._e,et],value:je})},!1)}function Kn(j,_e){if(!1===j)return;const ae=j.path.join("."),ye=new Error(`Detected unserializable ${_e} at "${ae}". ${bi}#strict${_e}serializability`);throw ye.value=j.value,ye.unserializablePath=ae,ye}function fo(j){return(0,s.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...j}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function ii({strictActionSerializability:j,strictStateSerializability:_e}){return ae=>j||_e?function Wa(j,_e){return function(ae,ye){_e.action(ye)&&Kn(on(ye),"action");const et=j(ae,ye);return _e.state()&&Kn(on(et),"state"),et}}(ae,{action:ye=>j&&!Oo(ye),state:()=>_e}):ae}function ki({strictActionImmutability:j,strictStateImmutability:_e}){return ae=>j||_e?function Hn(j,_e){return function(ae,ye){const et=_e.action(ye)?ys(ye):ye,je=j(ae,et);return _e.state()?ys(je):je}}(ae,{action:ye=>j&&!Oo(ye),state:()=>_e}):ae}function Oo(j){return j.type.startsWith("@ngrx")}function Ro({strictActionWithinNgZone:j}){return _e=>j?function hi(j,_e){return function(ae,ye){if(_e.action(ye)&&!s.R0b.isInAngularZone())throw new Error(`Action '${ye.type}' running outside NgZone. ${bi}#strictactionwithinngzone`);return j(ae,ye)}}(_e,{action:ae=>j&&!Oo(ae)}):_e}function mr(j){return[{provide:Bt,useValue:j},{provide:ft,useFactory:Kt,deps:[Bt]},{provide:Ln,deps:[ft],useFactory:fo},{provide:It,multi:!0,deps:[Ln],useFactory:ki},{provide:It,multi:!0,deps:[Ln],useFactory:ii},{provide:It,multi:!0,deps:[Ln],useFactory:Ro}]}function ht(){return[{provide:fn,multi:!0,deps:[Ln],useFactory:Dn}]}function Kt(j){return j}function Dn(j){if(!j.strictActionTypeUniqueness)return;const _e=Object.entries(G).filter(([,ae])=>ae>1).map(([ae])=>ae);if(_e.length)throw new Error(`Action types are registered more than once, ${_e.map(ae=>`"${ae}"`).join(", ")}. ${bi}#strictactiontypeuniqueness`)}function Ar(j={},_e={}){return[{provide:Q,useFactory:$l},{provide:Oe,useValue:_e.initialState},{provide:qe,useFactory:Xo,deps:[Oe]},{provide:ve,useValue:j},{provide:Le,useExisting:j instanceof s.OlP?j:ve},{provide:ct,deps:[ve,[new s.tBr(Le)]],useFactory:ia},{provide:un,useValue:_e.metaReducers?_e.metaReducers:[]},{provide:an,deps:[It,un],useFactory:ra},{provide:gt,useValue:_e.reducerFactory?_e.reducerFactory:zi},{provide:Qe,deps:[gt,an],useFactory:Hi},Pe,Sr,Mi,Lt,Rn,mr(_e.runtimeChecks),ht()]}function Xt(j,_e,ae={}){return[{provide:Ke,multi:!0,useValue:j instanceof Object?{}:ae},{provide:Me,multi:!0,useValue:{key:j instanceof Object?j.name:j,reducerFactory:ae instanceof s.OlP||!ae.reducerFactory?zi:ae.reducerFactory,metaReducers:ae instanceof s.OlP||!ae.metaReducers?[]:ae.metaReducers,initialState:ae instanceof s.OlP||!ae.initialState?void 0:ae.initialState}},{provide:Xe,deps:[Ke,Me],useFactory:Hl},{provide:ze,multi:!0,useValue:j instanceof Object?j.reducer:_e},{provide:dt,multi:!0,useExisting:_e instanceof s.OlP?_e:ze},{provide:ot,multi:!0,deps:[ze,[new s.tBr(dt)]],useFactory:qa},ht()]}let mo=(()=>{class j{constructor(ae,ye,et,je,Gt,Tn){}}return j.\u0275fac=function(ae){return new(ae||j)(s.LFG(Te),s.LFG(vn),s.LFG(En),s.LFG(Dr),s.LFG(Q,8),s.LFG(fn,8))},j.\u0275mod=s.oAB({type:j}),j.\u0275inj=s.cJS({}),j})(),po=(()=>{class j{constructor(ae,ye,et,je,Gt){this.features=ae,this.featureReducers=ye,this.reducerManager=et;const Tn=ae.map((Fn,ri)=>{const xi=ye.shift()[ri];return{...Fn,reducers:xi,initialState:Xo(Fn.initialState)}});et.addFeatures(Tn)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return j.\u0275fac=function(ae){return new(ae||j)(s.LFG(Xe),s.LFG(ot),s.LFG(fr),s.LFG(mo),s.LFG(fn,8))},j.\u0275mod=s.oAB({type:j}),j.\u0275inj=s.cJS({}),j})(),go=(()=>{class j{static forRoot(ae,ye){return{ngModule:mo,providers:[...Ar(ae,ye)]}}static forFeature(ae,ye,et={}){return{ngModule:po,providers:[...Xt(ae,ye,et)]}}}return j.\u0275fac=function(ae){return new(ae||j)},j.\u0275mod=s.oAB({type:j}),j.\u0275inj=s.cJS({}),j})();function bs(...j){return{reducer:j.pop(),types:j.map(ye=>ye.type)}}function mi(j,..._e){const ae=new Map;for(const ye of _e)for(const et of ye.types){const je=ae.get(et);ae.set(et,je?(Tn,Fn)=>ye.reducer(je(Tn,Fn),Fn):ye.reducer)}return function(ye=j,et){const je=ae.get(et.type);return je?je(ye,et):ye}}},259:(ne,W,D)=>{D.d(W,{C6:()=>s.getApps,Mq:()=>s.getApp});var s=D(9681);(0,s.registerVersion)("firebase","9.18.0","app")},9260:(ne,W,D)=>{D.d(W,{Z:()=>s.Z});var s=D(3942);s.Z.registerVersion("firebase","9.18.0","app-compat")},8971:(ne,W,D)=>{D.r(W);var s=D(5861),H=D(3942),P=D(2090),J=D(9681),q=D(1877),K=D(655),te=D(4859);const Y={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},G_EMAIL_SIGNIN="EMAIL_SIGNIN",G_PASSWORD_RESET="PASSWORD_RESET",G_RECOVER_EMAIL="RECOVER_EMAIL",G_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",G_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",G_VERIFY_EMAIL="VERIFY_EMAIL";const Ve=function pe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ze=function we(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},xe=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ie=new q.Yd("@firebase/auth");function Fe(y,...m){Ie.logLevel<=q.in.ERROR&&Ie.error(`Auth (${J.SDK_VERSION}): ${y}`,...m)}function le(y,...m){throw Pe(y,...m)}function de(y,...m){return Pe(y,...m)}function Ce(y,m,g){const w=Object.assign(Object.assign({},Ze()),{[m]:g});return new P.LL("auth","Firebase",w).create(m,{appName:y.name})}function Te(y,m,g){if(!(m instanceof g))throw g.name!==m.constructor.name&&le(y,"argument-error"),Ce(y,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pe(y,...m){if("string"!=typeof y){const g=m[0],w=[...m.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(g,...w)}return xe.create(y,...m)}function Q(y,m,...g){if(!y)throw Pe(m,...g)}function Oe(y){const m="INTERNAL ASSERTION FAILED: "+y;throw Fe(m),new Error(m)}function qe(y,m){y||Oe(m)}const Qe=new Map;function gt(y){qe(y instanceof Function,"Expected a class definition");let m=Qe.get(y);return m?(qe(m instanceof y,"Instance stored in cache mismatched with class"),m):(m=new y,Qe.set(y,m),m)}function Me(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Le(){return"http:"===ze()||"https:"===ze()}function ze(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class dt{constructor(m,g){this.shortDelay=m,this.longDelay=g,qe(g>m,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function Ke(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Le()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ot(y,m){qe(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return m?`${g}${m.startsWith("/")?m.slice(1):m}`:g}class un{static initialize(m,g,w){this.fetchImpl=m,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Oe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Oe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Oe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const It={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},an=new dt(3e4,6e4);function ft(y,m){return y.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:y.tenantId}):m}function Bt(y,m,g,w){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,s.Z)(function*(y,m,g,w,M={}){return fn(y,M,(0,s.Z)(function*(){let F={},oe={};w&&("GET"===m?oe=w:F={body:JSON.stringify(w)});const ke=(0,P.xO)(Object.assign({key:y.config.apiKey},oe)).slice(1),nt=yield y._getAdditionalHeaders();return nt["Content-Type"]="application/json",y.languageCode&&(nt["X-Firebase-Locale"]=y.languageCode),un.fetch()(ko(y,y.config.apiHost,g,ke),Object.assign({method:m,headers:nt,referrerPolicy:"no-referrer"},F))}))})).apply(this,arguments)}function fn(y,m,g){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,s.Z)(function*(y,m,g){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},It),m);try{const M=new tr(y),F=yield Promise.race([g(),M.promise]);M.clearNetworkTimeout();const oe=yield F.json();if("needConfirmation"in oe)throw Hi(y,"account-exists-with-different-credential",oe);if(F.ok&&!("errorMessage"in oe))return oe;{const ke=F.ok?oe.errorMessage:oe.error.message,[nt,_t]=ke.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===nt)throw Hi(y,"credential-already-in-use",oe);if("EMAIL_EXISTS"===nt)throw Hi(y,"email-already-in-use",oe);if("USER_DISABLED"===nt)throw Hi(y,"user-disabled",oe);const kt=w[nt]||nt.toLowerCase().replace(/[_\s]+/g,"-");if(_t)throw Ce(y,kt,_t);le(y,kt)}}catch(M){if(M instanceof P.ZR)throw M;le(y,"internal-error",{message:String(M)})}})).apply(this,arguments)}function Bn(y,m,g,w){return zi.apply(this,arguments)}function zi(){return(zi=(0,s.Z)(function*(y,m,g,w,M={}){const F=yield Bt(y,m,g,w,M);return"mfaPendingCredential"in F&&le(y,"multi-factor-auth-required",{_serverResponse:F}),F})).apply(this,arguments)}function ko(y,m,g,w){const M=`${m}${g}?${w}`;return y.config.emulator?ot(y.config,M):`${y.config.apiScheme}://${M}`}class tr{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(de(this.auth,"network-request-failed")),an.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hi(y,m,g){const w={appName:y.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const M=de(y,m,w);return M.customData._tokenResponse=g,M}function vn(){return(vn=(0,s.Z)(function*(y,m){return Bt(y,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Et(){return(Et=(0,s.Z)(function*(y,m){return Bt(y,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Sr(){return(Sr=(0,s.Z)(function*(y,m){return Bt(y,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function En(y){if(y)try{const m=new Date(Number(y));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function Vt(){return(Vt=(0,s.Z)(function*(y,m=!1){const g=(0,P.m9)(y),w=yield g.getIdToken(m),M=Lt(w);Q(M&&M.exp&&M.auth_time&&M.iat,g.auth,"internal-error");const F="object"==typeof M.firebase?M.firebase:void 0,oe=F?.sign_in_provider;return{claims:M,token:w,authTime:En(St(M.auth_time)),issuedAtTime:En(St(M.iat)),expirationTime:En(St(M.exp)),signInProvider:oe||null,signInSecondFactor:F?.sign_in_second_factor||null}})).apply(this,arguments)}function St(y){return 1e3*Number(y)}function Lt(y){const[m,g,w]=y.split(".");if(void 0===m||void 0===g||void 0===w)return Fe("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,P.tV)(g);return M?JSON.parse(M):(Fe("Failed to decode base64 JWT payload"),null)}catch(M){return Fe("Caught error parsing JWT payload as JSON",M?.toString()),null}}function Rn(y,m){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,s.Z)(function*(y,m,g=!1){if(g)return m;try{return yield m}catch(w){throw w instanceof P.ZR&&function bi({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}class wi{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var g;if(m){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const M=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(m=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(m);this.timerId=setTimeout((0,s.Z)(function*(){yield g.iteration()}),w)}iteration(){var m=this;return(0,s.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&m.schedule(!0))}m.schedule()})()}}class Qo{constructor(m,g){this.createdAt=m,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=En(this.lastLoginAt),this.creationTime=En(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function pn(y){return Xr.apply(this,arguments)}function Xr(){return Xr=(0,s.Z)(function*(y){var m;const g=y.auth,w=yield y.getIdToken(),M=yield Rn(y,function fr(y,m){return Sr.apply(this,arguments)}(g,{idToken:w}));Q(M?.users.length,g,"internal-error");const F=M.users[0];y._notifyReloadListener(F);const oe=null!==(m=F.providerUserInfo)&&void 0!==m&&m.length?function tt(y){return y.map(m=>{var{providerId:g}=m,w=(0,K._T)(m,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(F.providerUserInfo):[],ke=function Tr(y,m){return[...y.filter(w=>!m.some(M=>M.providerId===w.providerId)),...m]}(y.providerData,oe),kt=!!y.isAnonymous&&!(y.email&&F.passwordHash||ke?.length),xt={uid:F.localId,displayName:F.displayName||null,photoURL:F.photoUrl||null,email:F.email||null,emailVerified:F.emailVerified||!1,phoneNumber:F.phoneNumber||null,tenantId:F.tenantId||null,providerData:ke,metadata:new Qo(F.createdAt,F.lastLoginAt),isAnonymous:kt};Object.assign(y,xt)}),Xr.apply(this,arguments)}function $i(){return($i=(0,s.Z)(function*(y){const m=(0,P.m9)(y);yield pn(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function mt(){return(mt=(0,s.Z)(function*(y,m){const g=yield fn(y,{},(0,s.Z)(function*(){const w=(0,P.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:M,apiKey:F}=y.config,oe=ko(y,M,"/v1/token",`key=${F}`),ke=yield y._getAdditionalHeaders();return ke["Content-Type"]="application/x-www-form-urlencoded",un.fetch()(oe,{method:"POST",headers:ke,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Nt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){Q(m.idToken,"internal-error"),Q(typeof m.idToken<"u","internal-error"),Q(typeof m.refreshToken<"u","internal-error");const g="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function Dr(y){const m=Lt(y);return Q(m,"internal-error"),Q(typeof m.exp<"u","internal-error"),Q(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,g)}getToken(m,g=!1){var w=this;return(0,s.Z)(function*(){return Q(!w.accessToken||w.refreshToken,m,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(m,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,g){var w=this;return(0,s.Z)(function*(){const{accessToken:M,refreshToken:F,expiresIn:oe}=yield function Ue(y,m){return mt.apply(this,arguments)}(m,g);w.updateTokensAndExpiration(M,F,Number(oe))})()}updateTokensAndExpiration(m,g,w){this.refreshToken=g||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(m,g){const{refreshToken:w,accessToken:M,expirationTime:F}=g,oe=new Nt;return w&&(Q("string"==typeof w,"internal-error",{appName:m}),oe.refreshToken=w),M&&(Q("string"==typeof M,"internal-error",{appName:m}),oe.accessToken=M),F&&(Q("number"==typeof F,"internal-error",{appName:m}),oe.expirationTime=F),oe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new Nt,this.toJSON())}_performRefresh(){return Oe("not implemented")}}function jt(y,m){Q("string"==typeof y||typeof y>"u","internal-error",{appName:m})}class Yt{constructor(m){var{uid:g,auth:w,stsTokenManager:M}=m,F=(0,K._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=F.displayName||null,this.email=F.email||null,this.emailVerified=F.emailVerified||!1,this.phoneNumber=F.phoneNumber||null,this.photoURL=F.photoURL||null,this.isAnonymous=F.isAnonymous||!1,this.tenantId=F.tenantId||null,this.providerData=F.providerData?[...F.providerData]:[],this.metadata=new Qo(F.createdAt||void 0,F.lastLoginAt||void 0)}getIdToken(m){var g=this;return(0,s.Z)(function*(){const w=yield Rn(g,g.stsTokenManager.getToken(g.auth,m));return Q(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(m){return function Qr(y){return Vt.apply(this,arguments)}(this,m)}reload(){return function cn(y){return $i.apply(this,arguments)}(this)}_assign(m){this!==m&&(Q(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(g=>Object.assign({},g)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const g=new Yt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(m){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,g=!1){var w=this;return(0,s.Z)(function*(){let M=!1;m.idToken&&m.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(m),M=!0),g&&(yield pn(w)),yield w.auth._persistUserIfCurrent(w),M&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var m=this;return(0,s.Z)(function*(){const g=yield m.getIdToken();return yield Rn(m,function ho(y,m){return vn.apply(this,arguments)}(m.auth,{idToken:g})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,g){var w,M,F,oe,ke,nt,_t,kt;const xt=null!==(w=g.displayName)&&void 0!==w?w:void 0,Jn=null!==(M=g.email)&&void 0!==M?M:void 0,zr=null!==(F=g.phoneNumber)&&void 0!==F?F:void 0,qd=null!==(oe=g.photoURL)&&void 0!==oe?oe:void 0,Gn=null!==(ke=g.tenantId)&&void 0!==ke?ke:void 0,dl=null!==(nt=g._redirectEventId)&&void 0!==nt?nt:void 0,Us=null!==(_t=g.createdAt)&&void 0!==_t?_t:void 0,Hr=null!==(kt=g.lastLoginAt)&&void 0!==kt?kt:void 0,{uid:vc,emailVerified:Mh,isAnonymous:Em,providerData:kh,stsTokenManager:dv}=g;Q(vc&&dv,m,"internal-error");const Aw=Nt.fromJSON(this.name,dv);Q("string"==typeof vc,m,"internal-error"),jt(xt,m.name),jt(Jn,m.name),Q("boolean"==typeof Mh,m,"internal-error"),Q("boolean"==typeof Em,m,"internal-error"),jt(zr,m.name),jt(qd,m.name),jt(Gn,m.name),jt(dl,m.name),jt(Us,m.name),jt(Hr,m.name);const ul=new Yt({uid:vc,auth:m,email:Jn,emailVerified:Mh,displayName:xt,isAnonymous:Em,photoURL:qd,phoneNumber:zr,tenantId:Gn,stsTokenManager:Aw,createdAt:Us,lastLoginAt:Hr});return kh&&Array.isArray(kh)&&(ul.providerData=kh.map(ls=>Object.assign({},ls))),dl&&(ul._redirectEventId=dl),ul}static _fromIdTokenResponse(m,g,w=!1){return(0,s.Z)(function*(){const M=new Nt;M.updateFromServerResponse(g);const F=new Yt({uid:g.localId,auth:m,stsTokenManager:M,isAnonymous:w});return yield pn(F),F})()}}const X=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(g,w){var M=this;return(0,s.Z)(function*(){M.storage[g]=w})()}_get(g){var w=this;return(0,s.Z)(function*(){const M=w.storage[g];return void 0===M?null:M})()}_remove(g){var w=this;return(0,s.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return y.type="NONE",y})();function Z(y,m,g){return`firebase:${y}:${m}:${g}`}class re{constructor(m,g,w){this.persistence=m,this.auth=g,this.userKey=w;const{config:M,name:F}=this.auth;this.fullUserKey=Z(this.userKey,M.apiKey,F),this.fullPersistenceKey=Z("persistence",M.apiKey,F),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,s.Z)(function*(){const g=yield m.persistence._get(m.fullUserKey);return g?Yt._fromJSON(m.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var g=this;return(0,s.Z)(function*(){if(g.persistence===m)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=m,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,g,w="authUser"){return(0,s.Z)(function*(){if(!g.length)return new re(gt(X),m,w);const M=(yield Promise.all(g.map(function(){var _t=(0,s.Z)(function*(kt){if(yield kt._isAvailable())return kt});return function(kt){return _t.apply(this,arguments)}}()))).filter(_t=>_t);let F=M[0]||gt(X);const oe=Z(w,m.config.apiKey,m.name);let ke=null;for(const _t of g)try{const kt=yield _t._get(oe);if(kt){const xt=Yt._fromJSON(m,kt);_t!==F&&(ke=xt),F=_t;break}}catch{}const nt=M.filter(_t=>_t._shouldAllowMigration);return F._shouldAllowMigration&&nt.length?(F=nt[0],ke&&(yield F._set(oe,ke.toJSON())),yield Promise.all(g.map(function(){var _t=(0,s.Z)(function*(kt){if(kt!==F)try{yield kt._remove(oe)}catch{}});return function(kt){return _t.apply(this,arguments)}}())),new re(F,m,w)):new re(F,m,w)})()}}function Ne(y){const m=y.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(bn(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(me(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(zn(m))return"Blackberry";if(ni(m))return"Webos";if(ut(m))return"Safari";if((m.includes("chrome/")||st(m))&&!m.includes("edge/"))return"Chrome";if(Un(m))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function me(y=(0,P.z$)()){return/firefox\//i.test(y)}function ut(y=(0,P.z$)()){const m=y.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function st(y=(0,P.z$)()){return/crios\//i.test(y)}function bn(y=(0,P.z$)()){return/iemobile/i.test(y)}function Un(y=(0,P.z$)()){return/android/i.test(y)}function zn(y=(0,P.z$)()){return/blackberry/i.test(y)}function ni(y=(0,P.z$)()){return/webos/i.test(y)}function Qt(y=(0,P.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Hl(y=(0,P.z$)()){return Qt(y)||Un(y)||ni(y)||zn(y)||/windows phone/i.test(y)||bn(y)}function Xo(y,m=[]){let g;switch(y){case"Browser":g=Ne((0,P.z$)());break;case"Worker":g=`${Ne((0,P.z$)())}-${y}`;break;default:g=y}const w=m.length?m.join(","):"FirebaseCore-web";return`${g}/JsCore/${J.SDK_VERSION}/${w}`}class ra{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,g){const w=F=>new Promise((oe,ke)=>{try{oe(m(F))}catch(nt){ke(nt)}});w.onAbort=g,this.queue.push(w);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(m){var g=this;return(0,s.Z)(function*(){if(g.auth.currentUser===m)return;const w=[];try{for(const M of g.queue)yield M(m),M.onAbort&&w.push(M.onAbort)}catch(M){w.reverse();for(const F of w)try{F()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:M?.message})}})()}}class $l{constructor(m,g,w){this.app=m,this.heartbeatServiceProvider=g,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ys(this),this.idTokenSubscription=new ys(this),this.beforeStateQueue=new ra(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(m,g){var w=this;return g&&(this._popupRedirectResolver=gt(g)),this._initializationPromise=this.queue((0,s.Z)(function*(){var M,F;if(!w._deleted&&(w.persistenceManager=yield re.create(w,m),!w._deleted)){if(null!==(M=w._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(F=w.currentUser)||void 0===F?void 0:F.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,s.Z)(function*(){if(m._deleted)return;const g=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||g){if(m.currentUser&&g&&m.currentUser.uid===g.uid)return m._currentUser._assign(g),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(g,!0)}})()}initializeCurrentUser(m){var g=this;return(0,s.Z)(function*(){var w;const M=yield g.assertedPersistence.getCurrentUser();let F=M,oe=!1;if(m&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ke=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,nt=F?._redirectEventId,_t=yield g.tryRedirectSignIn(m);(!ke||ke===nt)&&_t?.user&&(F=_t.user,oe=!0)}if(!F)return g.directlySetCurrentUser(null);if(!F._redirectEventId){if(oe)try{yield g.beforeStateQueue.runMiddleware(F)}catch(ke){F=M,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(ke))}return F?g.reloadAndSetCurrentUserOrClear(F):g.directlySetCurrentUser(null)}return Q(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===F._redirectEventId?g.directlySetCurrentUser(F):g.reloadAndSetCurrentUserOrClear(F)})()}tryRedirectSignIn(m){var g=this;return(0,s.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,m,!0)}catch{yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(m){var g=this;return(0,s.Z)(function*(){try{yield pn(m)}catch(w){if("auth/network-request-failed"!==w?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function Xe(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var m=this;return(0,s.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var g=this;return(0,s.Z)(function*(){const w=m?(0,P.m9)(m):null;return w&&Q(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(m,g=!1){var w=this;return(0,s.Z)(function*(){if(!w._deleted)return m&&Q(w.tenantId===m.tenantId,w,"tenant-id-mismatch"),g||(yield w.beforeStateQueue.runMiddleware(m)),w.queue((0,s.Z)(function*(){yield w.directlySetCurrentUser(m),w.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,s.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var g=this;return this.queue((0,s.Z)(function*(){yield g.assertedPersistence.setPersistence(gt(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new P.LL("auth","Firebase",m())}onAuthStateChanged(m,g,w){return this.registerStateListener(this.authStateSubscription,m,g,w)}beforeAuthStateChanged(m,g){return this.beforeStateQueue.pushCallback(m,g)}onIdTokenChanged(m,g,w){return this.registerStateListener(this.idTokenSubscription,m,g,w)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,g){var w=this;return(0,s.Z)(function*(){const M=yield w.getOrInitRedirectPersistenceManager(g);return null===m?M.removeCurrentUser():M.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var g=this;return(0,s.Z)(function*(){if(!g.redirectPersistenceManager){const w=m&&gt(m)||g._popupRedirectResolver;Q(w,g,"argument-error"),g.redirectPersistenceManager=yield re.create(g,[gt(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(m){var g=this;return(0,s.Z)(function*(){var w,M;return g._isInitialized&&(yield g.queue((0,s.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===m?g._currentUser:(null===(M=g.redirectUser)||void 0===M?void 0:M._redirectEventId)===m?g.redirectUser:null})()}_persistUserIfCurrent(m){var g=this;return(0,s.Z)(function*(){if(m===g.currentUser)return g.queue((0,s.Z)(function*(){return g.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,g,w,M){if(this._deleted)return()=>{};const F="function"==typeof g?g:g.next.bind(g),oe=this._isInitialized?Promise.resolve():this._initializationPromise;return Q(oe,this,"internal-error"),oe.then(()=>F(this.currentUser)),"function"==typeof g?m.addObserver(g,w,M):m.addObserver(g)}directlySetCurrentUser(m){var g=this;return(0,s.Z)(function*(){g.currentUser&&g.currentUser!==m&&g._currentUser._stopProactiveRefresh(),m&&g.isProactiveRefreshEnabled&&m._startProactiveRefresh(),g.currentUser=m,m?yield g.assertedPersistence.setCurrentUser(m):yield g.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Xo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,s.Z)(function*(){var g;const w={"X-Client-Version":m.clientVersion};m.app.options.appId&&(w["X-Firebase-gmpid"]=m.app.options.appId);const M=yield null===(g=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return M&&(w["X-Firebase-Client"]=M),w})()}}function Hn(y){return(0,P.m9)(y)}class ys{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,P.ne)(g=>this.observer=g)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function on(y){const m=y.indexOf(":");return m<0?"":y.substr(0,m+1)}function hi(y){if(!y)return null;const m=Number(y);return isNaN(m)?null:m}class ii{constructor(m,g){this.providerId=m,this.signInMethod=g}toJSON(){return Oe("not implemented")}_getIdTokenResponse(m){return Oe("not implemented")}_linkToIdToken(m,g){return Oe("not implemented")}_getReauthenticationResolver(m){return Oe("not implemented")}}function ki(y,m){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,s.Z)(function*(y,m){return Bt(y,"POST","/v1/accounts:resetPassword",ft(y,m))})).apply(this,arguments)}function Ro(y,m){return mr.apply(this,arguments)}function mr(){return(mr=(0,s.Z)(function*(y,m){return Bt(y,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Kt(){return(Kt=(0,s.Z)(function*(y,m){return Bt(y,"POST","/v1/accounts:update",ft(y,m))})).apply(this,arguments)}function pr(){return(pr=(0,s.Z)(function*(y,m){return Bn(y,"POST","/v1/accounts:signInWithPassword",ft(y,m))})).apply(this,arguments)}function Ar(y,m){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,s.Z)(function*(y,m){return Bt(y,"POST","/v1/accounts:sendOobCode",ft(y,m))})).apply(this,arguments)}function Vn(){return(Vn=(0,s.Z)(function*(y,m){return Ar(y,m)})).apply(this,arguments)}function vs(){return(vs=(0,s.Z)(function*(y,m){return Ar(y,m)})).apply(this,arguments)}function mo(){return(mo=(0,s.Z)(function*(y,m){return Ar(y,m)})).apply(this,arguments)}function go(){return(go=(0,s.Z)(function*(y,m){return Ar(y,m)})).apply(this,arguments)}function mi(){return(mi=(0,s.Z)(function*(y,m){return Bn(y,"POST","/v1/accounts:signInWithEmailLink",ft(y,m))})).apply(this,arguments)}function _e(){return(_e=(0,s.Z)(function*(y,m){return Bn(y,"POST","/v1/accounts:signInWithEmailLink",ft(y,m))})).apply(this,arguments)}class ae extends ii{constructor(m,g,w,M=null){super("password",w),this._email=m,this._password=g,this._tenantId=M}static _fromEmailAndPassword(m,g){return new ae(m,g,"password")}static _fromEmailAndCode(m,g,w=null){return new ae(m,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const g="string"==typeof m?JSON.parse(m):m;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(m){var g=this;return(0,s.Z)(function*(){switch(g.signInMethod){case"password":return function Dn(y,m){return pr.apply(this,arguments)}(m,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function bs(y,m){return mi.apply(this,arguments)}(m,{email:g._email,oobCode:g._password});default:le(m,"internal-error")}})()}_linkToIdToken(m,g){var w=this;return(0,s.Z)(function*(){switch(w.signInMethod){case"password":return Ro(m,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function j(y,m){return _e.apply(this,arguments)}(m,{idToken:g,email:w._email,oobCode:w._password});default:le(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function ye(y,m){return et.apply(this,arguments)}function et(){return(et=(0,s.Z)(function*(y,m){return Bn(y,"POST","/v1/accounts:signInWithIdp",ft(y,m))})).apply(this,arguments)}class Gt extends ii{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const g=new Gt(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(g.idToken=m.idToken),m.accessToken&&(g.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(g.nonce=m.nonce),m.pendingToken&&(g.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(g.accessToken=m.oauthToken,g.secret=m.oauthTokenSecret):le("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const g="string"==typeof m?JSON.parse(m):m,{providerId:w,signInMethod:M}=g,F=(0,K._T)(g,["providerId","signInMethod"]);if(!w||!M)return null;const oe=new Gt(w,M);return oe.idToken=F.idToken||void 0,oe.accessToken=F.accessToken||void 0,oe.secret=F.secret,oe.nonce=F.nonce,oe.pendingToken=F.pendingToken||null,oe}_getIdTokenResponse(m){return ye(m,this.buildRequest())}_linkToIdToken(m,g){const w=this.buildRequest();return w.idToken=g,ye(m,w)}_getReauthenticationResolver(m){const g=this.buildRequest();return g.autoCreate=!1,ye(m,g)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),m.postBody=(0,P.xO)(g)}return m}}function Fn(){return(Fn=(0,s.Z)(function*(y,m){return Bt(y,"POST","/v1/accounts:sendVerificationCode",ft(y,m))})).apply(this,arguments)}function Zt(){return(Zt=(0,s.Z)(function*(y,m){return Bn(y,"POST","/v1/accounts:signInWithPhoneNumber",ft(y,m))})).apply(this,arguments)}function pi(){return(pi=(0,s.Z)(function*(y,m){const g=yield Bn(y,"POST","/v1/accounts:signInWithPhoneNumber",ft(y,m));if(g.temporaryProof)throw Hi(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Gl={USER_NOT_FOUND:"user-not-found"};function Mr(){return(Mr=(0,s.Z)(function*(y,m){return Bn(y,"POST","/v1/accounts:signInWithPhoneNumber",ft(y,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Gl)})).apply(this,arguments)}class Fo extends ii{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,g){return new Fo({verificationId:m,verificationCode:g})}static _fromTokenResponse(m,g){return new Fo({phoneNumber:m,temporaryProof:g})}_getIdTokenResponse(m){return function ri(y,m){return Zt.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,g){return function xi(y,m){return pi.apply(this,arguments)}(m,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Wi(y,m){return Mr.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:g,verificationId:w,verificationCode:M}=this.params;return m&&g?{temporaryProof:m,phoneNumber:g}:{sessionInfo:w,code:M}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:g,verificationCode:w,phoneNumber:M,temporaryProof:F}=m;return w||g||M||F?new Fo({verificationId:g,verificationCode:w,phoneNumber:M,temporaryProof:F}):null}}class nr{constructor(m){var g,w,M,F,oe,ke;const nt=(0,P.zd)((0,P.pd)(m)),_t=null!==(g=nt.apiKey)&&void 0!==g?g:null,kt=null!==(w=nt.oobCode)&&void 0!==w?w:null,xt=function Pc(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=nt.mode)&&void 0!==M?M:null);Q(_t&&kt&&xt,"argument-error"),this.apiKey=_t,this.operation=xt,this.code=kt,this.continueUrl=null!==(F=nt.continueUrl)&&void 0!==F?F:null,this.languageCode=null!==(oe=nt.languageCode)&&void 0!==oe?oe:null,this.tenantId=null!==(ke=nt.tenantId)&&void 0!==ke?ke:null}static parseLink(m){const g=function Jo(y){const m=(0,P.zd)((0,P.pd)(y)).link,g=m?(0,P.zd)((0,P.pd)(m)).deep_link_id:null,w=(0,P.zd)((0,P.pd)(y)).deep_link_id;return(w?(0,P.zd)((0,P.pd)(w)).link:null)||w||g||m||y}(m);try{return new nr(g)}catch{return null}}}let qu=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,w){return ae._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const M=nr.parseLink(w);return Q(M,"argument-error"),ae._fromEmailAndCode(g,M.code,M.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class No{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class ws extends No{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Ka extends ws{static credentialFromJSON(m){const g="string"==typeof m?JSON.parse(m):m;return Q("providerId"in g&&"signInMethod"in g,"argument-error"),Gt._fromParams(g)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return Q(m.idToken||m.accessToken,"argument-error"),Gt._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Ka.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Ka.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:M,pendingToken:F,nonce:oe,providerId:ke}=m;if(!w&&!M&&!g&&!F||!ke)return null;try{return new Ka(ke)._credential({idToken:g,accessToken:w,nonce:oe,pendingToken:F})}catch{return null}}}let ql=(()=>{class y extends ws{constructor(){super("facebook.com")}static credential(g){return Gt._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Gf=(()=>{class y extends ws{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return Gt._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:M}=g;if(!w&&!M)return null;try{return y.credential(w,M)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),qf=(()=>{class y extends ws{constructor(){super("github.com")}static credential(g){return Gt._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class oa extends ii{constructor(m,g){super(m,m),this.pendingToken=g}_getIdTokenResponse(m){return ye(m,this.buildRequest())}_linkToIdToken(m,g){const w=this.buildRequest();return w.idToken=g,ye(m,w)}_getReauthenticationResolver(m){const g=this.buildRequest();return g.autoCreate=!1,ye(m,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const g="string"==typeof m?JSON.parse(m):m,{providerId:w,signInMethod:M,pendingToken:F}=g;return w&&M&&F&&w===M?new oa(w,F):null}static _create(m,g){return new oa(m,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class _o extends No{constructor(m){Q(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return _o.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return _o.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const g=oa.fromJSON(m);return Q(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:g,providerId:w}=m;if(!g||!w)return null;try{return oa._create(w,g)}catch{return null}}}let Xp=(()=>{class y extends ws{constructor(){super("twitter.com")}static credential(g,w){return Gt._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:M}=g;if(!w||!M)return null;try{return y.credential(w,M)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function gi(y,m){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,s.Z)(function*(y,m){return Bn(y,"POST","/v1/accounts:signUp",ft(y,m))})).apply(this,arguments)}class Vr{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,g,w,M=!1){return(0,s.Z)(function*(){const F=yield Yt._fromIdTokenResponse(m,w,M),oe=Kl(w);return new Vr({user:F,providerId:oe,_tokenResponse:w,operationType:g})})()}static _forOperation(m,g,w){return(0,s.Z)(function*(){yield m._updateTokensIfNecessary(w,!0);const M=Kl(w);return new Vr({user:m,providerId:M,_tokenResponse:w,operationType:g})})()}}function Kl(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Wu(){return(Wu=(0,s.Z)(function*(y){var m;const g=Hn(y);if(yield g._initializationPromise,null!==(m=g.currentUser)&&void 0!==m&&m.isAnonymous)return new Vr({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield gi(g,{returnSecureToken:!0}),M=yield Vr._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(M.user),M})).apply(this,arguments)}class Nc extends P.ZR{constructor(m,g,w,M){var F;super(g.code,g.message),this.operationType=w,this.user=M,Object.setPrototypeOf(this,Nc.prototype),this.customData={appName:m.name,tenantId:null!==(F=m.tenantId)&&void 0!==F?F:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(m,g,w,M){return new Nc(m,g,w,M)}}function Jp(y,m,g,w){return("reauthenticate"===m?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(F=>{throw"auth/multi-factor-auth-required"===F.code?Nc._fromErrorAndOperation(y,F,m,w):F})}function kr(y){return new Set(y.map(({providerId:m})=>m).filter(m=>!!m))}function Es(){return Es=(0,s.Z)(function*(y,m){const g=(0,P.m9)(y);yield aa(!0,g,m);const{providerUserInfo:w}=yield function Ai(y,m){return Et.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[m]}),M=kr(w||[]);return g.providerData=g.providerData.filter(F=>M.has(F.providerId)),M.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),Es.apply(this,arguments)}function Za(y,m){return sa.apply(this,arguments)}function sa(){return(sa=(0,s.Z)(function*(y,m,g=!1){const w=yield Rn(y,m._linkToIdToken(y.auth,yield y.getIdToken()),g);return Vr._forOperation(y,"link",w)})).apply(this,arguments)}function aa(y,m,g){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,s.Z)(function*(y,m,g){yield pn(m);const M=!1===y?"provider-already-linked":"no-such-provider";Q(kr(m.providerData).has(g)===y,m.auth,M)})).apply(this,arguments)}function Lc(y,m){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,s.Z)(function*(y,m,g=!1){const{auth:w}=y,M="reauthenticate";try{const F=yield Rn(y,Jp(w,M,m,y),g);Q(F.idToken,w,"internal-error");const oe=Lt(F.idToken);Q(oe,w,"internal-error");const{sub:ke}=oe;return Q(y.uid===ke,w,"user-mismatch"),Vr._forOperation(y,M,F)}catch(F){throw"auth/user-not-found"===F?.code&&le(w,"user-mismatch"),F}})).apply(this,arguments)}function es(y,m){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,s.Z)(function*(y,m,g=!1){const w="signIn",M=yield Jp(y,w,m),F=yield Vr._fromIdTokenResponse(y,w,M);return g||(yield y._updateCurrentUser(F.user)),F})).apply(this,arguments)}function gn(y,m){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,s.Z)(function*(y,m){return es(Hn(y),m)})).apply(this,arguments)}function Qa(y,m){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,s.Z)(function*(y,m){const g=(0,P.m9)(y);return yield aa(!1,g,m.providerId),Za(g,m)})).apply(this,arguments)}function Vc(y,m){return yo.apply(this,arguments)}function yo(){return(yo=(0,s.Z)(function*(y,m){return Lc((0,P.m9)(y),m)})).apply(this,arguments)}function Xa(){return(Xa=(0,s.Z)(function*(y,m){return Bn(y,"POST","/v1/accounts:signInWithCustomToken",ft(y,m))})).apply(this,arguments)}function vo(){return vo=(0,s.Z)(function*(y,m){const g=Hn(y),w=yield function ir(y,m){return Xa.apply(this,arguments)}(g,{token:m,returnSecureToken:!0}),M=yield Vr._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(M.user),M}),vo.apply(this,arguments)}class Oi{constructor(m,g){this.factorId=m,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(m,g){return"phoneInfo"in g?Yl._fromServerResponse(m,g):le(m,"internal-error")}}class Yl extends Oi{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,g){return new Yl(g)}}function Cs(y,m,g){var w;Q((null===(w=g.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),Q(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),m.continueUrl=g.url,m.dynamicLinkDomain=g.dynamicLinkDomain,m.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Q(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),m.iOSBundleId=g.iOS.bundleId),g.android&&(Q(g.android.packageName.length>0,y,"missing-android-pkg-name"),m.androidInstallApp=g.android.installApp,m.androidMinimumVersionCode=g.android.minimumVersion,m.androidPackageName=g.android.packageName)}function Jr(){return Jr=(0,s.Z)(function*(y,m,g){const w=(0,P.m9)(y),M={requestType:"PASSWORD_RESET",email:m};g&&Cs(w,M,g),yield function fi(y,m){return vs.apply(this,arguments)}(w,M)}),Jr.apply(this,arguments)}function Ja(){return(Ja=(0,s.Z)(function*(y,m,g){yield ki((0,P.m9)(y),{oobCode:m,newPassword:g})})).apply(this,arguments)}function zc(){return zc=(0,s.Z)(function*(y,m){yield function ht(y,m){return Kt.apply(this,arguments)}((0,P.m9)(y),{oobCode:m})}),zc.apply(this,arguments)}function Ql(y,m){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,s.Z)(function*(y,m){const g=(0,P.m9)(y),w=yield ki(g,{oobCode:m}),M=w.requestType;switch(Q(M,g,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Q(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Q(w.mfaInfo,g,"internal-error");default:Q(w.email,g,"internal-error")}let F=null;return w.mfaInfo&&(F=Oi._fromServerResponse(Hn(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:F},operation:M}})).apply(this,arguments)}function ed(){return(ed=(0,s.Z)(function*(y,m){const{data:g}=yield Ql((0,P.m9)(y),m);return g.email})).apply(this,arguments)}function td(){return(td=(0,s.Z)(function*(y,m,g){const w=Hn(y),M=yield gi(w,{returnSecureToken:!0,email:m,password:g}),F=yield Vr._fromIdTokenResponse(w,"signIn",M);return yield w._updateCurrentUser(F.user),F})).apply(this,arguments)}function ln(){return ln=(0,s.Z)(function*(y,m,g){const w=(0,P.m9)(y),M={requestType:"EMAIL_SIGNIN",email:m};Q(g.handleCodeInApp,w,"argument-error"),g&&Cs(w,M,g),yield function Xt(y,m){return mo.apply(this,arguments)}(w,M)}),ln.apply(this,arguments)}function oi(){return(oi=(0,s.Z)(function*(y,m,g){const w=(0,P.m9)(y),M=qu.credentialWithLink(m,g||Me());return Q(M._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),gn(w,M)})).apply(this,arguments)}function ts(){return(ts=(0,s.Z)(function*(y,m){return Bt(y,"POST","/v1/accounts:createAuthUri",ft(y,m))})).apply(this,arguments)}function Hc(){return Hc=(0,s.Z)(function*(y,m){const w={identifier:m,continueUri:Le()?Me():"http://localhost"},{signinMethods:M}=yield function Kf(y,m){return ts.apply(this,arguments)}((0,P.m9)(y),w);return M||[]}),Hc.apply(this,arguments)}function Gc(){return Gc=(0,s.Z)(function*(y,m){const g=(0,P.m9)(y),M={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};m&&Cs(g.auth,M,m);const{email:F}=yield function Po(y,m){return Vn.apply(this,arguments)}(g.auth,M);F!==y.email&&(yield y.reload())}),Gc.apply(this,arguments)}function ec(){return ec=(0,s.Z)(function*(y,m,g){const w=(0,P.m9)(y),F={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:m};g&&Cs(w.auth,F,g);const{email:oe}=yield function po(y,m){return go.apply(this,arguments)}(w.auth,F);oe!==y.email&&(yield y.reload())}),ec.apply(this,arguments)}function rr(){return(rr=(0,s.Z)(function*(y,m){return Bt(y,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Is(){return Is=(0,s.Z)(function*(y,{displayName:m,photoURL:g}){if(void 0===m&&void 0===g)return;const w=(0,P.m9)(y),F={idToken:yield w.getIdToken(),displayName:m,photoUrl:g,returnSecureToken:!0},oe=yield Rn(w,function _i(y,m){return rr.apply(this,arguments)}(w.auth,F));w.displayName=oe.displayName||null,w.photoURL=oe.photoUrl||null;const ke=w.providerData.find(({providerId:nt})=>"password"===nt);ke&&(ke.displayName=w.displayName,ke.photoURL=w.photoURL),yield w._updateTokensIfNecessary(oe)}),Is.apply(this,arguments)}function id(y,m,g){return rd.apply(this,arguments)}function rd(){return(rd=(0,s.Z)(function*(y,m,g){const{auth:w}=y,F={idToken:yield y.getIdToken(),returnSecureToken:!0};m&&(F.email=m),g&&(F.password=g);const oe=yield Rn(y,Ro(w,F));yield y._updateTokensIfNecessary(oe,!0)})).apply(this,arguments)}class Lo{constructor(m,g,w={}){this.isNewUser=m,this.providerId=g,this.profile=w}}class od extends Lo{constructor(m,g,w,M){super(m,g,w),this.username=M}}class eh extends Lo{constructor(m,g){super(m,"facebook.com",g)}}class Wc extends od{constructor(m,g){super(m,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class eg extends Lo{constructor(m,g){super(m,"google.com",g)}}class sd extends od{constructor(m,g,w){super(m,"twitter.com",g,w)}}function th(y){const{user:m,_tokenResponse:g}=y;return m.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Zf(y){var m,g;if(!y)return null;const{providerId:w}=y,M=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},F=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&y?.idToken){const oe=null===(g=null===(m=Lt(y.idToken))||void 0===m?void 0:m.firebase)||void 0===g?void 0:g.sign_in_provider;if(oe)return new Lo(F,"anonymous"!==oe&&"custom"!==oe?oe:null)}if(!w)return null;switch(w){case"facebook.com":return new eh(F,M);case"github.com":return new Wc(F,M);case"google.com":return new eg(F,M);case"twitter.com":return new sd(F,M,y.screenName||null);case"custom":case"anonymous":return new Lo(F,null);default:return new Lo(F,w,M)}}(g)}class Cn{constructor(m,g,w){this.type=m,this.credential=g,this.auth=w}static _fromIdtoken(m,g){return new Cn("enroll",m,g)}static _fromMfaPendingCredential(m){return new Cn("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var g,w;if(m?.multiFactorSession){if(null!==(g=m.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Cn._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(w=m.multiFactorSession)&&void 0!==w&&w.idToken)return Cn._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Kc{constructor(m,g,w){this.session=m,this.hints=g,this.signInResolver=w}static _fromError(m,g){const w=Hn(m),M=g.customData._serverResponse,F=(M.mfaInfo||[]).map(ke=>Oi._fromServerResponse(w,ke));Q(M.mfaPendingCredential,w,"internal-error");const oe=Cn._fromMfaPendingCredential(M.mfaPendingCredential);return new Kc(oe,F,function(){var ke=(0,s.Z)(function*(nt){const _t=yield nt._process(w,oe);delete M.mfaInfo,delete M.mfaPendingCredential;const kt=Object.assign(Object.assign({},M),{idToken:_t.idToken,refreshToken:_t.refreshToken});switch(g.operationType){case"signIn":const xt=yield Vr._fromIdTokenResponse(w,g.operationType,kt);return yield w._updateCurrentUser(xt.user),xt;case"reauthenticate":return Q(g.user,w,"internal-error"),Vr._forOperation(g.user,g.operationType,kt);default:le(w,"internal-error")}});return function(nt){return ke.apply(this,arguments)}}())}resolveSignIn(m){var g=this;return(0,s.Z)(function*(){return g.signInResolver(m)})()}}class rh{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>Oi._fromServerResponse(m.auth,w)))})}static _fromUser(m){return new rh(m)}getSession(){var m=this;return(0,s.Z)(function*(){return Cn._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,g){var w=this;return(0,s.Z)(function*(){const M=m,F=yield w.getSession(),oe=yield Rn(w.user,M._process(w.user.auth,F,g));return yield w.user._updateTokensIfNecessary(oe),w.user.reload()})()}unenroll(m){var g=this;return(0,s.Z)(function*(){const w="string"==typeof m?m:m.uid,M=yield g.user.getIdToken();try{const F=yield Rn(g.user,function rg(y,m){return Bt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",ft(y,m))}(g.user.auth,{idToken:M,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:oe})=>oe!==w),yield g.user._updateTokensIfNecessary(F),yield g.user.reload()}catch(F){throw F}})()}}const Ss=new WeakMap,Bo="__sak";class ca{constructor(m,g){this.storageRetriever=m,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Bo,"1"),this.storage.removeItem(Bo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,g){return this.storage.setItem(m,JSON.stringify(g)),Promise.resolve()}_get(m){const g=this.storage.getItem(m);return Promise.resolve(g?JSON.parse(g):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const tc=(()=>{class y extends ca{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function la(){const y=(0,P.z$)();return ut(y)||Qt(y)}()&&function qa(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Hl(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const M=this.storage.getItem(w),F=this.localCache[w];M!==F&&g(w,F,M)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((ke,nt,_t)=>{this.notifyListeners(ke,_t)});const M=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ke=this.storage.getItem(M);if(g.newValue!==ke)null!==g.newValue?this.storage.setItem(M,g.newValue):this.storage.removeItem(M);else if(this.localCache[M]===g.newValue&&!w)return}const F=()=>{const ke=this.storage.getItem(M);!w&&this.localCache[M]===ke||this.notifyListeners(M,ke)},oe=this.storage.getItem(M);!function ia(){return(0,P.w1)()&&10===document.documentMode}()||oe===g.newValue||g.newValue===g.oldValue?F():setTimeout(F,10)}notifyListeners(g,w){this.localCache[g]=w;const M=this.listeners[g];if(M)for(const F of Array.from(M))F(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var M=()=>super._set,F=this;return(0,s.Z)(function*(){yield M().call(F,g,w),F.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,M=this;return(0,s.Z)(function*(){const F=yield w().call(M,g);return M.localCache[g]=JSON.stringify(F),F})()}_remove(g){var w=()=>super._remove,M=this;return(0,s.Z)(function*(){yield w().call(M,g),delete M.localCache[g]})()}}return y.type="LOCAL",y})(),wo=(()=>{class y extends ca{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return y.type="SESSION",y})();let Jf=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(F=>F.isListeningto(g));if(w)return w;const M=new y(g);return this.receivers.push(M),M}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,s.Z)(function*(){const M=g,{eventId:F,eventType:oe,data:ke}=M.data,nt=w.handlersMap[oe];if(!nt?.size)return;M.ports[0].postMessage({status:"ack",eventId:F,eventType:oe});const _t=Array.from(nt).map(function(){var xt=(0,s.Z)(function*(Jn){return Jn(M.origin,ke)});return function(Jn){return xt.apply(this,arguments)}}()),kt=yield function Xf(y){return Promise.all(y.map(function(){var m=(0,s.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return m.apply(this,arguments)}}()))}(_t);M.ports[0].postMessage({status:"done",eventId:F,eventType:oe,response:kt})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function is(y="",m=10){let g="";for(let w=0;w<m;w++)g+=Math.floor(10*Math.random());return y+g}class nc{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,g,w=50){var M=this;return(0,s.Z)(function*(){const F=typeof MessageChannel<"u"?new MessageChannel:null;if(!F)throw new Error("connection_unavailable");let oe,ke;return new Promise((nt,_t)=>{const kt=is("",20);F.port1.start();const xt=setTimeout(()=>{_t(new Error("unsupported_event"))},w);ke={messageChannel:F,onMessage(Jn){const zr=Jn;if(zr.data.eventId===kt)switch(zr.data.status){case"ack":clearTimeout(xt),oe=setTimeout(()=>{_t(new Error("timeout"))},3e3);break;case"done":clearTimeout(oe),nt(zr.data.response);break;default:clearTimeout(xt),clearTimeout(oe),_t(new Error("invalid_response"))}}},M.handlers.add(ke),F.port1.addEventListener("message",ke.onMessage),M.target.postMessage({eventType:m,eventId:kt,data:g},[F.port2])}).finally(()=>{ke&&M.removeMessageHandler(ke)})})()}}function yi(){return window}function Vo(){return typeof yi().WorkerGlobalScope<"u"&&"function"==typeof yi().importScripts}function jo(){return(jo=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ds="firebaseLocalStorageDb",em=1,zo="firebaseLocalStorage",ic="fbase_key";class xo{constructor(m){this.request=m}toPromise(){return new Promise((m,g)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function ud(y,m){return y.transaction([zo],m?"readwrite":"readonly").objectStore(zo)}function oc(){const y=indexedDB.open(Ds,em);return new Promise((m,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(zo,{keyPath:ic})}catch(M){g(M)}}),y.addEventListener("success",(0,s.Z)(function*(){const w=y.result;w.objectStoreNames.contains(zo)?m(w):(w.close(),yield function rc(){const y=indexedDB.deleteDatabase(Ds);return new xo(y).toPromise()}(),m(yield oc()))}))})}function Ts(y,m,g){return _r.apply(this,arguments)}function _r(){return(_r=(0,s.Z)(function*(y,m,g){const w=ud(y,!0).put({[ic]:m,value:g});return new xo(w).toPromise()})).apply(this,arguments)}function Ho(){return(Ho=(0,s.Z)(function*(y,m){const g=ud(y,!1).get(m),w=yield new xo(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function ha(y,m){const g=ud(y,!0).delete(m);return new xo(g).toPromise()}const fa=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,s.Z)(function*(){return g.db||(g.db=yield oc()),g.db})()}_withRetries(g){var w=this;return(0,s.Z)(function*(){let M=0;for(;;)try{const F=yield w._openDb();return yield g(F)}catch(F){if(M++>3)throw F;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,s.Z)(function*(){return Vo()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,s.Z)(function*(){g.receiver=Jf._getInstance(function dd(){return Vo()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,s.Z)(function*(M,F){return{keyProcessed:(yield g._poll()).includes(F.key)}});return function(M,F){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,s.Z)(function*(M,F){return["keyChanged"]});return function(M,F){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,s.Z)(function*(){var w,M;if(g.activeServiceWorker=yield function ua(){return jo.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new nc(g.activeServiceWorker);const F=yield g.sender._send("ping",{},800);F&&null!==(w=F[0])&&void 0!==w&&w.fulfilled&&null!==(M=F[0])&&void 0!==M&&M.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,s.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function ld(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const g=yield oc();return yield Ts(g,Bo,"1"),yield ha(g,Bo),!0}catch{}return!1})()}_withPendingWrite(g){var w=this;return(0,s.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var M=this;return(0,s.Z)(function*(){return M._withPendingWrite((0,s.Z)(function*(){return yield M._withRetries(F=>Ts(F,g,w)),M.localCache[g]=w,M.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,s.Z)(function*(){const M=yield w._withRetries(F=>function hd(y,m){return Ho.apply(this,arguments)}(F,g));return w.localCache[g]=M,M})()}_remove(g){var w=this;return(0,s.Z)(function*(){return w._withPendingWrite((0,s.Z)(function*(){return yield w._withRetries(M=>ha(M,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,s.Z)(function*(){const w=yield g._withRetries(oe=>{const ke=ud(oe,!1).getAll();return new xo(ke).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const M=[],F=new Set;for(const{fbase_key:oe,value:ke}of w)F.add(oe),JSON.stringify(g.localCache[oe])!==JSON.stringify(ke)&&(g.notifyListeners(oe,ke),M.push(oe));for(const oe of Object.keys(g.localCache))g.localCache[oe]&&!F.has(oe)&&(g.notifyListeners(oe,null),M.push(oe));return M})()}notifyListeners(g,w){this.localCache[g]=w;const M=this.listeners[g];if(M)for(const F of Array.from(M))F(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function lc(){return(lc=(0,s.Z)(function*(y){return(yield Bt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function As(y){return new Promise((m,g)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=m,w.onerror=M=>{const F=de("internal-error");F.customData=M,g(F)},w.type="text/javascript",w.charset="UTF-8",function Zc(){var y,m;return null!==(m=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==m?m:document}().appendChild(w)})}function rs(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Ms=1e12;class dc{constructor(m){this.auth=m,this.counter=Ms,this._widgets=new Map}render(m,g){const w=this.counter;return this._widgets.set(w,new tm(m,this.auth.name,g||{})),this.counter++,w}reset(m){var g;const w=m||Ms;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(m){var g;return(null===(g=this._widgets.get(m||Ms))||void 0===g?void 0:g.getResponse())||""}execute(m){var g=this;return(0,s.Z)(function*(){var w;return null===(w=g._widgets.get(m||Ms))||void 0===w||w.execute(),""})()}}class tm{constructor(m,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof m?document.getElementById(m):m;Q(M,"argument-error",{appName:g}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function pd(y){const m=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)m.push(g.charAt(Math.floor(Math.random()*g.length)));return m.join("")}(50);const{callback:m,"expired-callback":g}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Yc=rs("rcb"),sh=new dt(3e4,6e4);class ma{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=yi().grecaptcha)||void 0===m||!m.render)}load(m,g=""){return Q(function pa(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),m,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(yi().grecaptcha):new Promise((w,M)=>{const F=yi().setTimeout(()=>{M(de(m,"network-request-failed"))},sh.get());yi()[Yc]=()=>{yi().clearTimeout(F),delete yi()[Yc];const ke=yi().grecaptcha;if(!ke)return void M(de(m,"internal-error"));const nt=ke.render;ke.render=(_t,kt)=>{const xt=nt(_t,kt);return this.counter++,xt},this.hostLanguage=g,w(ke)},As(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:Yc,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(F),M(de(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var g;return!(null===(g=yi().grecaptcha)||void 0===g||!g.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Qc{load(m){return(0,s.Z)(function*(){return new dc(m)})()}clearedOneInstance(){}}const ga="recaptcha",og={theme:"light",type:"image"};class ah{constructor(m,g=Object.assign({},og),w){this.parameters=g,this.type=ga,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Hn(w),this.isInvisible="invisible"===this.parameters.size,Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof m?document.getElementById(m):m;Q(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Qc:new ma,this.validateStartingState()}verify(){var m=this;return(0,s.Z)(function*(){m.assertNotDestroyed();const g=yield m.render(),w=m.getAssertedRecaptcha();return w.getResponse(g)||new Promise(F=>{const oe=ke=>{ke&&(m.tokenChangeListeners.delete(oe),F(ke))};m.tokenChangeListeners.add(oe),m.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){Q(!this.parameters.sitekey,this.auth,"argument-error"),Q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof m)m(g);else if("string"==typeof m){const w=yi()[m];"function"==typeof w&&w(g)}}}assertNotDestroyed(){Q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,s.Z)(function*(){if(yield m.init(),!m.widgetId){let g=m.container;if(!m.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}m.widgetId=m.getAssertedRecaptcha().render(g,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,s.Z)(function*(){Q(Le()&&!Vo(),m.auth,"internal-error"),yield function ks(){let y=null;return new Promise(m=>{"complete"!==document.readyState?(y=()=>m(),window.addEventListener("load",y)):m()}).catch(m=>{throw y&&window.removeEventListener("load",y),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const g=yield function Eo(y){return lc.apply(this,arguments)}(m.auth);Q(g,m.auth,"internal-error"),m.parameters.sitekey=g})()}getAssertedRecaptcha(){return Q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ch{constructor(m,g){this.verificationId=m,this.onConfirmation=g}confirm(m){const g=Fo._fromVerification(this.verificationId,m);return this.onConfirmation(g)}}function wn(){return(wn=(0,s.Z)(function*(y,m,g){const w=Hn(y),M=yield dh(w,m,(0,P.m9)(g));return new ch(M,F=>gn(w,F))})).apply(this,arguments)}function Xc(){return(Xc=(0,s.Z)(function*(y,m,g){const w=(0,P.m9)(y);yield aa(!1,w,"phone");const M=yield dh(w.auth,m,(0,P.m9)(g));return new ch(M,F=>Qa(w,F))})).apply(this,arguments)}function lh(){return(lh=(0,s.Z)(function*(y,m,g){const w=(0,P.m9)(y),M=yield dh(w.auth,m,(0,P.m9)(g));return new ch(M,F=>Vc(w,F))})).apply(this,arguments)}function dh(y,m,g){return uh.apply(this,arguments)}function uh(){return uh=(0,s.Z)(function*(y,m,g){var w;const M=yield g.verify();try{let F;if(Q("string"==typeof M,y,"argument-error"),Q(g.type===ga,y,"argument-error"),F="string"==typeof m?{phoneNumber:m}:m,"session"in F){const oe=F.session;if("phoneNumber"in F)return Q("enroll"===oe.type,y,"internal-error"),(yield function ih(y,m){return Bt(y,"POST","/v2/accounts/mfaEnrollment:start",ft(y,m))}(y,{idToken:oe.credential,phoneEnrollmentInfo:{phoneNumber:F.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{Q("signin"===oe.type,y,"internal-error");const ke=(null===(w=F.multiFactorHint)||void 0===w?void 0:w.uid)||F.multiFactorUid;return Q(ke,y,"missing-multi-factor-info"),(yield function cc(y,m){return Bt(y,"POST","/v2/accounts/mfaSignIn:start",ft(y,m))}(y,{mfaPendingCredential:oe.credential,mfaEnrollmentId:ke,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:oe}=yield function Tn(y,m){return Fn.apply(this,arguments)}(y,{phoneNumber:F.phoneNumber,recaptchaToken:M});return oe}}finally{g._reset()}}),uh.apply(this,arguments)}function _a(){return(_a=(0,s.Z)(function*(y,m){yield Za((0,P.m9)(y),m)})).apply(this,arguments)}let uc=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=Hn(g)}verifyPhoneNumber(g,w){return dh(this.auth,g,(0,P.m9)(w))}static credential(g,w){return Fo._fromVerification(g,w)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:M}=g;return w&&M?Fo._fromTokenResponse(w,M):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Os(y,m){return m?gt(m):(Q(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Yn extends ii{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return ye(m,this._buildIdpRequest())}_linkToIdToken(m,g){return ye(m,this._buildIdpRequest(g))}_getReauthenticationResolver(m){return ye(m,this._buildIdpRequest())}_buildIdpRequest(m){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(g.idToken=m),g}}function Jc(y){return es(y.auth,new Yn(y),y.bypassAuthState)}function Rs(y){const{auth:m,user:g}=y;return Q(g,m,"internal-error"),Lc(g,new Yn(y),y.bypassAuthState)}function hh(y){return or.apply(this,arguments)}function or(){return(or=(0,s.Z)(function*(y){const{auth:m,user:g}=y;return Q(g,m,"internal-error"),Za(g,new Yn(y),y.bypassAuthState)})).apply(this,arguments)}class ya{constructor(m,g,w,M,F=!1){this.auth=m,this.resolver=w,this.user=M,this.bypassAuthState=F,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var m=this;return new Promise(function(){var g=(0,s.Z)(function*(w,M){m.pendingPromise={resolve:w,reject:M};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(F){m.reject(F)}});return function(w,M){return g.apply(this,arguments)}}())}onAuthEvent(m){var g=this;return(0,s.Z)(function*(){const{urlResponse:w,sessionId:M,postBody:F,tenantId:oe,error:ke,type:nt}=m;if(ke)return void g.reject(ke);const _t={auth:g.auth,requestUri:w,sessionId:M,tenantId:oe||void 0,postBody:F||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(nt)(_t))}catch(kt){g.reject(kt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Jc;case"linkViaPopup":case"linkViaRedirect":return hh;case"reauthViaPopup":case"reauthViaRedirect":return Rs;default:le(this.auth,"internal-error")}}resolve(m){qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ag=new dt(2e3,1e4);function va(){return(va=(0,s.Z)(function*(y,m,g){const w=Hn(y);Te(y,m,No);const M=Os(w,g);return new Ei(w,"signInViaPopup",m,M).executeNotNull()})).apply(this,arguments)}function Ps(){return(Ps=(0,s.Z)(function*(y,m,g){const w=(0,P.m9)(y);Te(w.auth,m,No);const M=Os(w.auth,g);return new Ei(w.auth,"reauthViaPopup",m,M,w).executeNotNull()})).apply(this,arguments)}function rm(){return(rm=(0,s.Z)(function*(y,m,g){const w=(0,P.m9)(y);Te(w.auth,m,No);const M=Os(w.auth,g);return new Ei(w.auth,"linkViaPopup",m,M,w).executeNotNull()})).apply(this,arguments)}let Ei=(()=>{class y extends ya{constructor(g,w,M,F,oe){super(g,w,F,oe),this.provider=M,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,s.Z)(function*(){const w=yield g.execute();return Q(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,s.Z)(function*(){qe(1===g.filter.length,"Popup operations only handle one event");const w=is();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(M=>{g.reject(M)}),g.resolver._isIframeWebStorageSupported(g.auth,M=>{M||g.reject(de(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(de(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,M;this.pollId=null!==(M=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(de(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,ag.get())};g()}}return y.currentPopupAction=null,y})();const An="pendingRedirect",tn=new Map;class it extends ya{constructor(m,g,w=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var m=()=>super.execute,g=this;return(0,s.Z)(function*(){let w=tn.get(g.auth._key());if(!w){try{const F=(yield function $n(y,m){return ba.apply(this,arguments)}(g.resolver,g.auth))?yield m().call(g):null;w=()=>Promise.resolve(F)}catch(M){w=()=>Promise.reject(M)}tn.set(g.auth._key(),w)}return g.bypassAuthState||tn.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(m){var g=()=>super.onAuthEvent,w=this;return(0,s.Z)(function*(){if("signInViaRedirect"===m.type)return g().call(w,m);if("unknown"!==m.type){if(m.eventId){const M=yield w.auth._redirectUserForId(m.eventId);if(M)return w.user=M,g().call(w,m);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function ba(){return(ba=(0,s.Z)(function*(y,m){const g=S(m),w=I(y);if(!(yield w._isAvailable()))return!1;const M="true"===(yield w._get(g));return yield w._remove(g),M})).apply(this,arguments)}function el(y,m){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,s.Z)(function*(y,m){return I(y)._set(S(m),"true")})).apply(this,arguments)}function Ri(y,m){tn.set(y._key(),m)}function I(y){return gt(y._redirectPersistence)}function S(y){return Z(An,y.config.apiKey,y.name)}function O(y,m,g){return function N(y,m,g){return se.apply(this,arguments)}(y,m,g)}function se(){return(se=(0,s.Z)(function*(y,m,g){const w=Hn(y);Te(y,m,No),yield w._initializationPromise;const M=Os(w,g);return yield el(M,w),M._openRedirect(w,m,"signInViaRedirect")})).apply(this,arguments)}function ge(y,m,g){return function Re(y,m,g){return at.apply(this,arguments)}(y,m,g)}function at(){return(at=(0,s.Z)(function*(y,m,g){const w=(0,P.m9)(y);Te(w.auth,m,No),yield w.auth._initializationPromise;const M=Os(w.auth,g);yield el(M,w.auth);const F=yield os(w);return M._openRedirect(w.auth,m,"reauthViaRedirect",F)})).apply(this,arguments)}function Dt(y,m,g){return function Tt(y,m,g){return ue.apply(this,arguments)}(y,m,g)}function ue(){return(ue=(0,s.Z)(function*(y,m,g){const w=(0,P.m9)(y);Te(w.auth,m,No),yield w.auth._initializationPromise;const M=Os(w.auth,g);yield aa(!1,w,m.providerId),yield el(M,w.auth);const F=yield os(w);return M._openRedirect(w.auth,m,"linkViaRedirect",F)})).apply(this,arguments)}function Pi(){return(Pi=(0,s.Z)(function*(y,m){return yield Hn(y)._initializationPromise,Mn(y,m,!1)})).apply(this,arguments)}function Mn(y,m){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,s.Z)(function*(y,m,g=!1){const w=Hn(y),M=Os(w,m),oe=yield new it(w,M,g).execute();return oe&&!g&&(delete oe.user._redirectEventId,yield w._persistUserIfCurrent(oe.user),yield w._setRedirectUser(null,m)),oe})).apply(this,arguments)}function os(y){return sr.apply(this,arguments)}function sr(){return(sr=(0,s.Z)(function*(y){const m=is(`${y.uid}:::`);return y._redirectEventId=m,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),m})).apply(this,arguments)}class jr{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(m,w)&&(g=!0,this.sendToConsumer(m,w),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function ph(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mh(y);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=m,g=!0)),g}sendToConsumer(m,g){var w;if(m.error&&!mh(m)){const M=(null===(w=m.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(de(this.auth,M))}else g.onAuthEvent(m)}isEventForConsumer(m,g){const w=null===g.eventId||!!m.eventId&&m.eventId===g.eventId;return g.filter.includes(m.type)&&w}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zt(m))}saveEventToCache(m){this.cachedEventUids.add(zt(m)),this.lastProcessedEventTime=Date.now()}}function zt(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(m=>m).join("-")}function mh({type:y,error:m}){return"unknown"===y&&"auth/no-auth-event"===m?.code}function tl(y){return om.apply(this,arguments)}function om(){return(om=(0,s.Z)(function*(y,m={}){return Bt(y,"GET","/v1/projects",m)})).apply(this,arguments)}const nl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cg=/^https?/;function gh(){return(gh=(0,s.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:m}=yield tl(y);for(const g of m)try{if(Or(g))return}catch{}le(y,"unauthorized-domain")})).apply(this,arguments)}function Or(y){const m=Me(),{protocol:g,hostname:w}=new URL(m);if(y.startsWith("chrome-extension://")){const oe=new URL(y);return""===oe.hostname&&""===w?"chrome-extension:"===g&&y.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===g&&oe.hostname===w}if(!cg.test(g))return!1;if(nl.test(y))return w===y;const M=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(w)}const vd=new dt(3e4,6e4);function ar(){const y=yi().___jsl;if(y?.H)for(const m of Object.keys(y.H))if(y.H[m].r=y.H[m].r||[],y.H[m].L=y.H[m].L||[],y.H[m].r=[...y.H[m].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let _h=null;const lg=new dt(5e3,15e3),rv="__/auth/iframe",Yi="emulator/auth/iframe",Tw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sm=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ov(y){const m=y.config;Q(m.authDomain,y,"auth-domain-config-required");const g=m.emulator?ot(m,Yi):`https://${y.config.authDomain}/${rv}`,w={apiKey:m.apiKey,appName:y.name,v:J.SDK_VERSION},M=sm.get(y.config.apiHost);M&&(w.eid=M);const F=y._getFrameworks();return F.length&&(w.fw=F.join(",")),`${g}?${(0,P.xO)(w).slice(1)}`}function bd(){return bd=(0,s.Z)(function*(y){const m=yield function yh(y){return _h=_h||function wa(y){return new Promise((m,g)=>{var w,M,F;function oe(){ar(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{ar(),g(de(y,"network-request-failed"))},timeout:vd.get()})}if(null!==(M=null===(w=yi().gapi)||void 0===w?void 0:w.iframes)&&void 0!==M&&M.Iframe)m(gapi.iframes.getContext());else{if(null===(F=yi().gapi)||void 0===F||!F.load){const ke=rs("iframefcb");return yi()[ke]=()=>{gapi.load?oe():g(de(y,"network-request-failed"))},As(`https://apis.google.com/js/api.js?onload=${ke}`).catch(nt=>g(nt))}oe()}}).catch(m=>{throw _h=null,m})}(y),_h}(y),g=yi().gapi;return Q(g,y,"internal-error"),m.open({where:document.body,url:ov(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tw,dontclear:!0},w=>new Promise(function(){var M=(0,s.Z)(function*(F,oe){yield w.restyle({setHideOnLeave:!1});const ke=de(y,"network-request-failed"),nt=yi().setTimeout(()=>{oe(ke)},lg.get());function _t(){yi().clearTimeout(nt),F(w)}w.ping(_t).then(_t,()=>{oe(ke)})});return function(F,oe){return M.apply(this,arguments)}}()))}),bd.apply(this,arguments)}const ss={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vh=500,am=600,ug="_blank",fc="http://localhost";class bh{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const sv="__/auth/handler",fg="emulator/auth/handler";function mc(y,m,g,w,M,F){Q(y.config.authDomain,y,"auth-domain-config-required"),Q(y.config.apiKey,y,"invalid-api-key");const oe={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:w,v:J.SDK_VERSION,eventId:M};if(m instanceof No){m.setDefaultLanguage(y.languageCode),oe.providerId=m.providerId||"",(0,P.xb)(m.getCustomParameters())||(oe.customParameters=JSON.stringify(m.getCustomParameters()));for(const[nt,_t]of Object.entries(F||{}))oe[nt]=_t}if(m instanceof ws){const nt=m.getScopes().filter(_t=>""!==_t);nt.length>0&&(oe.scopes=nt.join(","))}y.tenantId&&(oe.tid=y.tenantId);const ke=oe;for(const nt of Object.keys(ke))void 0===ke[nt]&&delete ke[nt];return`${function wd({config:y}){return y.emulator?ot(y,fg):`https://${y.authDomain}/${sv}`}(y)}?${(0,P.xO)(ke).slice(1)}`}const xd="webStorageSupport",mg=class cm{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wo,this._completeRedirectFn=Mn,this._overrideRedirectResult=Ri}_openPopup(m,g,w,M){var F=this;return(0,s.Z)(function*(){var oe;qe(null===(oe=F.eventManagers[m._key()])||void 0===oe?void 0:oe.manager,"_initialize() not called before _openPopup()");const ke=mc(m,g,w,Me(),M);return function Co(y,m,g,w=vh,M=am){const F=Math.max((window.screen.availHeight-M)/2,0).toString(),oe=Math.max((window.screen.availWidth-w)/2,0).toString();let ke="";const nt=Object.assign(Object.assign({},ss),{width:w.toString(),height:M.toString(),top:F,left:oe}),_t=(0,P.z$)().toLowerCase();g&&(ke=st(_t)?ug:g),me(_t)&&(m=m||fc,nt.scrollbars="yes");const kt=Object.entries(nt).reduce((Jn,[zr,qd])=>`${Jn}${zr}=${qd},`,"");if(function Ur(y=(0,P.z$)()){var m;return Qt(y)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(_t)&&"_self"!==ke)return function hg(y,m){const g=document.createElement("a");g.href=y,g.target=m;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(m||"",ke),new bh(null);const xt=window.open(m||"",ke,kt);Q(xt,y,"popup-blocked");try{xt.focus()}catch{}return new bh(xt)}(m,ke,is())})()}_openRedirect(m,g,w,M){var F=this;return(0,s.Z)(function*(){return yield F._originValidation(m),function da(y){yi().location.href=y}(mc(m,g,w,Me(),M)),new Promise(()=>{})})()}_initialize(m){const g=m._key();if(this.eventManagers[g]){const{manager:M,promise:F}=this.eventManagers[g];return M?Promise.resolve(M):(qe(F,"If manager is not set, promise should be"),F)}const w=this.initAndGetManager(m);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(m){var g=this;return(0,s.Z)(function*(){const w=yield function dg(y){return bd.apply(this,arguments)}(m),M=new jr(m);return w.register("authEvent",F=>(Q(F?.authEvent,m,"invalid-auth-event"),{status:M.onEvent(F.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[m._key()]={manager:M},g.iframes[m._key()]=w,M})()}_isIframeWebStorageSupported(m,g){this.iframes[m._key()].send(xd,{type:xd},M=>{var F;const oe=null===(F=M?.[0])||void 0===F?void 0:F[xd];void 0!==oe&&g(!!oe),le(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const g=m._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function iv(y){return gh.apply(this,arguments)}(m)),this.originValidationPromises[g]}get _shouldInitProactively(){return Hl()||ut()||Qt()}};class pg{constructor(m){this.factorId=m}_process(m,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(m,g.credential,w);case"signin":return this._finalizeSignIn(m,g.credential);default:return Oe("unexpected MultiFactorSessionType")}}}class Ed extends pg{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Ed(m)}_finalizeEnroll(m,g,w){return function ig(y,m){return Bt(y,"POST","/v2/accounts/mfaEnrollment:finalize",ft(y,m))}(m,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,g){return function oh(y,m){return Bt(y,"POST","/v2/accounts/mfaSignIn:finalize",ft(y,m))}(m,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let gg=(()=>{class y{constructor(){}static assertion(g){return Ed._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var Rr="@firebase/auth";class _g{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var g=this;return(0,s.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const g=this.auth.onIdTokenChanged(w=>{m(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,g),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const g=this.internalListeners.get(m);g&&(this.internalListeners.delete(m),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ea(){return window}(0,P.Pz)("authIdTokenMaxAge"),function yr(y){(0,J._registerComponent)(new te.wA("auth",(m,{options:g})=>{const w=m.getProvider("app").getImmediate(),M=m.getProvider("heartbeat"),{apiKey:F,authDomain:oe}=w.options;return((ke,nt)=>{Q(F&&!F.includes(":"),"invalid-api-key",{appName:ke.name}),Q(!oe?.includes(":"),"argument-error",{appName:ke.name});const _t={apiKey:F,authDomain:oe,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xo(y)},kt=new $l(ke,nt,_t);return function ve(y,m){const g=m?.persistence||[],w=(Array.isArray(g)?g:[g]).map(gt);m?.errorMap&&y._updateErrorMap(m.errorMap),y._initializeWithPersistence(w,m?.popupRedirectResolver)}(kt,g),kt})(w,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,g,w)=>{m.getProvider("auth-internal").initialize()})),(0,J._registerComponent)(new te.wA("auth-internal",m=>{const g=Hn(m.getProvider("auth").getImmediate());return new _g(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,J.registerVersion)(Rr,"0.21.5",function pc(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,J.registerVersion)(Rr,"0.21.5","esm2017")}("Browser");const Dd=2e3;function il(){return il=(0,s.Z)(function*(y,m,g){var w;const{BuildInfo:M}=Ea();qe(m.sessionId,"AuthEvent did not contain a session ID");const F=yield function bg(y){return Ad.apply(this,arguments)}(m.sessionId),oe={};return Qt()?oe.ibi=M.packageName:Un()?oe.apn=M.packageName:le(y,"operation-not-supported-in-this-environment"),M.displayName&&(oe.appDisplayName=M.displayName),oe.sessionId=F,mc(y,g,m.type,void 0,null!==(w=m.eventId)&&void 0!==w?w:void 0,oe)}),il.apply(this,arguments)}function Td(){return(Td=(0,s.Z)(function*(y){const{BuildInfo:m}=Ea(),g={};Qt()?g.iosBundleId=m.packageName:Un()?g.androidPackageName=m.packageName:le(y,"operation-not-supported-in-this-environment"),yield tl(y,g)})).apply(this,arguments)}function um(){return(um=(0,s.Z)(function*(y,m,g){const{cordova:w}=Ea();let M=()=>{};try{yield new Promise((F,oe)=>{let ke=null;function nt(){var xt;F();const Jn=null===(xt=w.plugins.browsertab)||void 0===xt?void 0:xt.close;"function"==typeof Jn&&Jn(),"function"==typeof g?.close&&g.close()}function _t(){ke||(ke=window.setTimeout(()=>{oe(de(y,"redirect-cancelled-by-user"))},Dd))}function kt(){"visible"===document?.visibilityState&&_t()}m.addPassiveListener(nt),document.addEventListener("resume",_t,!1),Un()&&document.addEventListener("visibilitychange",kt,!1),M=()=>{m.removePassiveListener(nt),document.removeEventListener("resume",_t,!1),document.removeEventListener("visibilitychange",kt,!1),ke&&window.clearTimeout(ke)}})}finally{M()}})).apply(this,arguments)}function Ad(){return(Ad=(0,s.Z)(function*(y){const m=function Eh(y){if(qe(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const m=new ArrayBuffer(y.length),g=new Uint8Array(m);for(let w=0;w<y.length;w++)g[w]=y.charCodeAt(w);return g}(y),g=yield crypto.subtle.digest("SHA-256",m);return Array.from(new Uint8Array(g)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const hm=20;class Ch extends jr{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(m=>{this.resolveInialized=m})}addPassiveListener(m){this.passiveListeners.add(m)}removePassiveListener(m){this.passiveListeners.delete(m)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(m){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(m)),super.onEvent(m)}initialized(){var m=this;return(0,s.Z)(function*(){yield m.initPromise})()}}function Ci(y){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,s.Z)(function*(y){const m=yield mm()._get(pm(y));return m&&(yield mm()._remove(pm(y))),m})).apply(this,arguments)}function fm(){const y=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<hm;g++){const w=Math.floor(Math.random()*m.length);y.push(m.charAt(w))}return y.join("")}function mm(){return gt(tc)}function pm(y){return Z("authEvent",y.config.apiKey,y.name)}function Ih(y){if(!y?.includes("?"))return{};const[m,...g]=y.split("?");return(0,P.zd)(g.join("?"))}const xg=class kd{constructor(){this._redirectPersistence=wo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Mn,this._overrideRedirectResult=Ri}_initialize(m){var g=this;return(0,s.Z)(function*(){const w=m._key();let M=g.eventManagers.get(w);return M||(M=new Ch(m),g.eventManagers.set(w,M),g.attachCallbackListeners(m,M)),M})()}_openPopup(m){le(m,"operation-not-supported-in-this-environment")}_openRedirect(m,g,w,M){var F=this;return(0,s.Z)(function*(){!function rl(y){var m,g,w,M,F,oe,ke,nt,_t,kt;const xt=Ea();Q("function"==typeof(null===(m=xt?.universalLinks)||void 0===m?void 0:m.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Q(typeof(null===(g=xt?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Q("function"==typeof(null===(F=null===(M=null===(w=xt?.cordova)||void 0===w?void 0:w.plugins)||void 0===M?void 0:M.browsertab)||void 0===F?void 0:F.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q("function"==typeof(null===(nt=null===(ke=null===(oe=xt?.cordova)||void 0===oe?void 0:oe.plugins)||void 0===ke?void 0:ke.browsertab)||void 0===nt?void 0:nt.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q("function"==typeof(null===(kt=null===(_t=xt?.cordova)||void 0===_t?void 0:_t.InAppBrowser)||void 0===kt?void 0:kt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(m);const oe=yield F._initialize(m);yield oe.initialized(),oe.resetRedirect(),function hc(){tn.clear()}(),yield F._originValidation(m);const ke=function Ca(y,m,g=null){return{type:m,eventId:g,urlResponse:null,sessionId:fm(),postBody:null,tenantId:y.tenantId,error:de(y,"no-auth-event")}}(m,w,M);yield function Md(y,m){return mm()._set(pm(y),m)}(m,ke);const nt=yield function lm(y,m,g){return il.apply(this,arguments)}(m,ke,g),_t=yield function wh(y){const{cordova:m}=Ea();return new Promise(g=>{m.plugins.browsertab.isAvailable(w=>{let M=null;w?m.plugins.browsertab.openUrl(y):M=m.InAppBrowser.open(y,function qi(y=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(M)})})}(nt);return function xh(y,m,g){return um.apply(this,arguments)}(m,oe,_t)})()}_isIframeWebStorageSupported(m,g){throw new Error("Method not implemented.")}_originValidation(m){const g=m._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function dm(y){return Td.apply(this,arguments)}(m)),this.originValidationPromises[g]}attachCallbackListeners(m,g){const{universalLinks:w,handleOpenURL:M,BuildInfo:F}=Ea(),oe=setTimeout((0,s.Z)(function*(){yield Ci(m),g.onEvent(sl())}),500),ke=function(){var kt=(0,s.Z)(function*(xt){clearTimeout(oe);const Jn=yield Ci(m);let zr=null;Jn&&xt?.url&&(zr=function ol(y,m){var g,w;const M=function av(y){const m=Ih(y),g=m.link?decodeURIComponent(m.link):void 0,w=Ih(g).link,M=m.deep_link_id?decodeURIComponent(m.deep_link_id):void 0;return Ih(M).link||M||w||g||y}(m);if(M.includes("/__/auth/callback")){const F=Ih(M),oe=F.firebaseError?function wg(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(F.firebaseError)):null,ke=null===(w=null===(g=oe?.code)||void 0===g?void 0:g.split("auth/"))||void 0===w?void 0:w[1],nt=ke?de(ke):null;return nt?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:nt,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:M,postBody:null}}return null}(Jn,xt.url)),g.onEvent(zr||sl())});return function(Jn){return kt.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,ke);const nt=M,_t=`${F.packageName.toLowerCase()}://`;Ea().handleOpenURL=function(){var kt=(0,s.Z)(function*(xt){if(xt.toLowerCase().startsWith(_t)&&ke({url:xt}),"function"==typeof nt)try{nt(xt)}catch(Jn){console.error(Jn)}});return function(xt){return kt.apply(this,arguments)}}()}};function sl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:de("no-auth-event")}}const Sh=1e3;function to(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function ym(y=(0,P.z$)()){return!("file:"!==to()&&"ionic:"!==to()&&"capacitor:"!==to()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function al(){try{const y=self.localStorage,m=is();if(y)return y.setItem(m,"1"),y.removeItem(m),!function Cg(y=(0,P.z$)()){return function lv(){return(0,P.w1)()&&11===document?.documentMode}()||function Pd(y=(0,P.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,P.hl)()}catch{return Dh()&&(0,P.hl)()}return!1}function Dh(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Th(){return(function _m(){return"http:"===to()||"https:"===to()}()||(0,P.ru)()||ym())&&!function Rd(){return(0,P.b$)()||(0,P.UG)()}()&&al()&&!Dh()}function Ns(){return ym()&&typeof document<"u"}function cl(){return(cl=(0,s.Z)(function*(){return!!Ns()&&new Promise(y=>{const m=setTimeout(()=>{y(!1)},Sh);document.addEventListener("deviceready",()=>{clearTimeout(m),y(!0)})})})).apply(this,arguments)}const Pr={LOCAL:"local",NONE:"none",SESSION:"session"},cs=Q,Fd="persistence";function Ia(y){return cr.apply(this,arguments)}function cr(){return(cr=(0,s.Z)(function*(y){yield y._initializationPromise;const m=ll(),g=Z(Fd,y.config.apiKey,y.name);m&&m.setItem(g,y._getPersistence())})).apply(this,arguments)}function ll(){var y;try{return(null===(y=function as(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const Ah=Q;class Ls{constructor(){this.browserResolver=gt(mg),this.cordovaResolver=gt(xg),this.underlyingResolver=null,this._redirectPersistence=wo,this._completeRedirectFn=Mn,this._overrideRedirectResult=Ri}_initialize(m){var g=this;return(0,s.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(m)})()}_openPopup(m,g,w,M){var F=this;return(0,s.Z)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._openPopup(m,g,w,M)})()}_openRedirect(m,g,w,M){var F=this;return(0,s.Z)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._openRedirect(m,g,w,M)})()}_isIframeWebStorageSupported(m,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(m,g)}_originValidation(m){return this.assertedUnderlyingResolver._originValidation(m)}get _shouldInitProactively(){return Ns()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ah(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var m=this;return(0,s.Z)(function*(){if(m.underlyingResolver)return;const g=yield function Ig(){return cl.apply(this,arguments)}();m.underlyingResolver=g?m.cordovaResolver:m.browserResolver})()}}function Nd(y){return y.unwrap()}function Ld(y){return Bs(y)}function Bs(y){const{_tokenResponse:m}=y instanceof P.ZR?y.customData:y;if(!m)return null;if(!(y instanceof P.ZR)&&"temporaryProof"in m&&"phoneNumber"in m)return uc.credentialFromResult(y);const g=m.providerId;if(!g||g===Y.PASSWORD)return null;let w;switch(g){case Y.GOOGLE:w=Gf;break;case Y.FACEBOOK:w=ql;break;case Y.GITHUB:w=qf;break;case Y.TWITTER:w=Xp;break;default:const{oauthIdToken:M,oauthAccessToken:F,oauthTokenSecret:oe,pendingToken:ke,nonce:nt}=m;return F||oe||M||ke?ke?g.startsWith("saml.")?oa._create(g,ke):Gt._fromParams({providerId:g,signInMethod:g,pendingToken:ke,idToken:M,accessToken:F}):new Ka(g).credential({idToken:M,accessToken:F,rawNonce:nt}):null}return y instanceof P.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function vr(y,m){return m.catch(g=>{throw g instanceof P.ZR&&function _c(y,m){var g;const w=null===(g=m.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===m?.code)m.resolver=new Vd(y,function Ki(y,m){var g;const w=(0,P.m9)(y),M=m;return Q(m.customData.operationType,w,"argument-error"),Q(null===(g=M.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),Kc._fromError(w,M)}(y,m));else if(w){const M=Bs(m),F=m;M&&(F.credential=M,F.tenantId=w.tenantId||void 0,F.email=w.email||void 0,F.phoneNumber=w.phoneNumber||void 0)}}(y,g),g}).then(g=>{const M=g.user;return{operationType:g.operationType,credential:Ld(g),additionalUserInfo:th(g),user:Io.getOrCreate(M)}})}function Bd(y,m){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,s.Z)(function*(y,m){const g=yield m;return{verificationId:g.verificationId,confirm:w=>vr(y,g.confirm(w))}})).apply(this,arguments)}class Vd{constructor(m,g){this.resolver=g,this.auth=function bm(y){return y.wrapped()}(m)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(m){return vr(Nd(this.auth),this.resolver.resolveSignIn(m))}}class Io{constructor(m){this._delegate=m,this.multiFactor=function cd(y){const m=(0,P.m9)(y);return Ss.has(m)||Ss.set(m,rh._fromUser(m)),Ss.get(m)}(m)}static getOrCreate(m){return Io.USER_MAP.has(m)||Io.USER_MAP.set(m,new Io(m)),Io.USER_MAP.get(m)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(m){return this._delegate.getIdTokenResult(m)}getIdToken(m){return this._delegate.getIdToken(m)}linkAndRetrieveDataWithCredential(m){return this.linkWithCredential(m)}linkWithCredential(m){var g=this;return(0,s.Z)(function*(){return vr(g.auth,Qa(g._delegate,m))})()}linkWithPhoneNumber(m,g){var w=this;return(0,s.Z)(function*(){return Bd(w.auth,function sg(y,m,g){return Xc.apply(this,arguments)}(w._delegate,m,g))})()}linkWithPopup(m){var g=this;return(0,s.Z)(function*(){return vr(g.auth,function yd(y,m,g){return rm.apply(this,arguments)}(g._delegate,m,Ls))})()}linkWithRedirect(m){var g=this;return(0,s.Z)(function*(){return yield Ia(Hn(g.auth)),Dt(g._delegate,m,Ls)})()}reauthenticateAndRetrieveDataWithCredential(m){return this.reauthenticateWithCredential(m)}reauthenticateWithCredential(m){var g=this;return(0,s.Z)(function*(){return vr(g.auth,Vc(g._delegate,m))})()}reauthenticateWithPhoneNumber(m,g){return Bd(this.auth,function nm(y,m,g){return lh.apply(this,arguments)}(this._delegate,m,g))}reauthenticateWithPopup(m){return vr(this.auth,function _d(y,m,g){return Ps.apply(this,arguments)}(this._delegate,m,Ls))}reauthenticateWithRedirect(m){var g=this;return(0,s.Z)(function*(){return yield Ia(Hn(g.auth)),ge(g._delegate,m,Ls)})()}sendEmailVerification(m){return function $c(y,m){return Gc.apply(this,arguments)}(this._delegate,m)}unlink(m){var g=this;return(0,s.Z)(function*(){return yield function Ku(y,m){return Es.apply(this,arguments)}(g._delegate,m),g})()}updateEmail(m){return function bo(y,m){return id((0,P.m9)(y),m,null)}(this._delegate,m)}updatePassword(m){return function qc(y,m){return id((0,P.m9)(y),null,m)}(this._delegate,m)}updatePhoneNumber(m){return function im(y,m){return _a.apply(this,arguments)}(this._delegate,m)}updateProfile(m){return function nd(y,m){return Is.apply(this,arguments)}(this._delegate,m)}verifyBeforeUpdateEmail(m,g){return function Ju(y,m,g){return ec.apply(this,arguments)}(this._delegate,m,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Io.USER_MAP=new WeakMap;const jd=Q;let zd=(()=>{class y{constructor(g,w){if(this.app=g,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=g.options;jd(M,"invalid-api-key",{appName:g.name}),jd(M,"invalid-api-key",{appName:g.name});const F=typeof window<"u"?Ls:void 0;this._delegate=w.initialize({options:{persistence:Hd(M,g.name),popupRedirectResolver:F}}),this._delegate._updateErrorMap(Ve),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Io.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,w){!function Wa(y,m,g){const w=Hn(y);Q(w._canInitEmulator,w,"emulator-config-failed"),Q(/^https?:\/\//.test(m),w,"invalid-emulator-scheme");const M=!!g?.disableWarnings,F=on(m),{host:oe,port:ke}=function Kn(y){const m=on(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(m.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(w);if(M){const F=M[1];return{host:F,port:hi(w.substr(F.length+1))}}{const[F,oe]=w.split(":");return{host:F,port:hi(oe)}}}(m);w.config.emulator={url:`${F}//${oe}${null===ke?"":`:${ke}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:oe,port:ke,protocol:F.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function fo(){function y(){const m=document.createElement("p"),g=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,w)}applyActionCode(g){return function qt(y,m){return zc.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Ql(this._delegate,g)}confirmPasswordReset(g,w){return function jc(y,m,g){return Ja.apply(this,arguments)}(this._delegate,g,w)}createUserWithEmailAndPassword(g,w){var M=this;return(0,s.Z)(function*(){return vr(M._delegate,function Qu(y,m,g){return td.apply(this,arguments)}(M._delegate,g,w))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function eo(y,m){return Hc.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Xu(y,m){return"EMAIL_SIGNIN"===nr.parseLink(m)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,s.Z)(function*(){jd(Th(),g._delegate,"operation-not-supported-in-this-environment");const w=yield function Rt(y,m){return Pi.apply(this,arguments)}(g._delegate,Ls);return w?vr(g._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Eg(y,m){Hn(y)._logFramework(m)}(this._delegate,g)}onAuthStateChanged(g,w,M){const{next:F,error:oe,complete:ke}=Sa(g,w,M);return this._delegate.onAuthStateChanged(F,oe,ke)}onIdTokenChanged(g,w,M){const{next:F,error:oe,complete:ke}=Sa(g,w,M);return this._delegate.onIdTokenChanged(F,oe,ke)}sendSignInLinkToEmail(g,w){return function He(y,m,g){return ln.apply(this,arguments)}(this._delegate,g,w)}sendPasswordResetEmail(g,w){return function Yu(y,m,g){return Jr.apply(this,arguments)}(this._delegate,g,w||void 0)}setPersistence(g){var w=this;return(0,s.Z)(function*(){let M;switch(function gc(y,m){cs(Object.values(Pr).includes(m),y,"invalid-persistence-type"),(0,P.b$)()?cs(m!==Pr.SESSION,y,"unsupported-persistence-type"):(0,P.UG)()?cs(m===Pr.NONE,y,"unsupported-persistence-type"):Dh()?cs(m===Pr.NONE||m===Pr.LOCAL&&(0,P.hl)(),y,"unsupported-persistence-type"):cs(m===Pr.NONE||al(),y,"unsupported-persistence-type")}(w._delegate,g),g){case Pr.SESSION:M=wo;break;case Pr.LOCAL:M=(yield gt(fa)._isAvailable())?fa:tc;break;case Pr.NONE:M=X;break;default:return le("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return vr(this._delegate,function Fc(y){return Wu.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return vr(this._delegate,gn(this._delegate,g))}signInWithCustomToken(g){return vr(this._delegate,function Zl(y,m){return vo.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,w){return vr(this._delegate,function Xn(y,m,g){return gn((0,P.m9)(y),qu.credential(m,g))}(this._delegate,g,w))}signInWithEmailLink(g,w){return vr(this._delegate,function Wf(y,m,g){return oi.apply(this,arguments)}(this._delegate,g,w))}signInWithPhoneNumber(g,w){return Bd(this._delegate,function Go(y,m,g){return wn.apply(this,arguments)}(this._delegate,g,w))}signInWithPopup(g){var w=this;return(0,s.Z)(function*(){return jd(Th(),w._delegate,"operation-not-supported-in-this-environment"),vr(w._delegate,function fh(y,m,g){return va.apply(this,arguments)}(w._delegate,g,Ls))})()}signInWithRedirect(g){var w=this;return(0,s.Z)(function*(){return jd(Th(),w._delegate,"operation-not-supported-in-this-environment"),yield Ia(w._delegate),O(w._delegate,g,Ls)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Jl(y,m){return ed.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Pr,y})();function Sa(y,m,g){let w=y;"function"!=typeof y&&({next:w,error:m,complete:g}=y);const M=w;return{next:oe=>M(oe&&Io.getOrCreate(oe)),error:m,complete:g}}function Hd(y,m){const g=function vm(y,m){const g=ll();if(!g)return[];const w=Z(Fd,y,m);switch(g.getItem(w)){case Pr.NONE:return[X];case Pr.LOCAL:return[fa,wo];case Pr.SESSION:return[wo];default:return[]}}(y,m);if(typeof self<"u"&&!g.includes(fa)&&g.push(fa),typeof window<"u")for(const w of[tc,wo])g.includes(w)||g.push(w);return g.includes(X)||g.push(X),g}class $d{constructor(){this.providerId="phone",this._delegate=new uc(Nd(H.Z.auth()))}static credential(m,g){return uc.credential(m,g)}verifyPhoneNumber(m,g){return this._delegate.verifyPhoneNumber(m,g)}unwrap(){return this._delegate}}$d.PHONE_SIGN_IN_METHOD=uc.PHONE_SIGN_IN_METHOD,$d.PROVIDER_ID=uc.PROVIDER_ID;const wm=Q;class xm{constructor(m,g,w=H.Z.app()){var M;wm(null===(M=w.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new ah(m,g,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Gd(y){y.INTERNAL.registerComponent(new te.wA("auth-compat",m=>{const g=m.getProvider("app-compat").getImmediate(),w=m.getProvider("auth");return new zd(g,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:G_EMAIL_SIGNIN,PASSWORD_RESET:G_PASSWORD_RESET,RECOVER_EMAIL:G_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:G_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:G_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:G_VERIFY_EMAIL}},EmailAuthProvider:qu,FacebookAuthProvider:ql,GithubAuthProvider:qf,GoogleAuthProvider:Gf,OAuthProvider:Ka,SAMLAuthProvider:_o,PhoneAuthProvider:$d,PhoneMultiFactorGenerator:gg,RecaptchaVerifier:xm,TwitterAuthProvider:Xp,Auth:zd,AuthCredential:ii,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.3.5")}(H.Z)},8766:(ne,W,D)=>{D.d(W,{Lj:()=>le,X3:()=>Fe});var s=D(5861);const H=(Q,Oe)=>Oe.some(qe=>Q instanceof qe);let P,J;const te=new WeakMap,ee=new WeakMap,Y=new WeakMap,U=new WeakMap,z=new WeakMap;let we={get(Q,Oe,qe){if(Q instanceof IDBTransaction){if("done"===Oe)return ee.get(Q);if("objectStoreNames"===Oe)return Q.objectStoreNames||Y.get(Q);if("store"===Oe)return qe.objectStoreNames[1]?void 0:qe.objectStore(qe.objectStoreNames[0])}return Ee(Q[Oe])},set:(Q,Oe,qe)=>(Q[Oe]=qe,!0),has:(Q,Oe)=>Q instanceof IDBTransaction&&("done"===Oe||"store"===Oe)||Oe in Q};function xe(Q){return"function"==typeof Q?function Ze(Q){return Q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function K(){return J||(J=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Q)?function(...Oe){return Q.apply(Ie(this),Oe),Ee(te.get(this))}:function(...Oe){return Ee(Q.apply(Ie(this),Oe))}:function(Oe,...qe){const Qe=Q.call(Ie(this),Oe,...qe);return Y.set(Qe,Oe.sort?Oe.sort():[Oe]),Ee(Qe)}}(Q):(Q instanceof IDBTransaction&&function pe(Q){if(ee.has(Q))return;const Oe=new Promise((qe,Qe)=>{const gt=()=>{Q.removeEventListener("complete",ct),Q.removeEventListener("error",ve),Q.removeEventListener("abort",ve)},ct=()=>{qe(),gt()},ve=()=>{Qe(Q.error||new DOMException("AbortError","AbortError")),gt()};Q.addEventListener("complete",ct),Q.addEventListener("error",ve),Q.addEventListener("abort",ve)});ee.set(Q,Oe)}(Q),H(Q,function q(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Q,we):Q)}function Ee(Q){if(Q instanceof IDBRequest)return function G(Q){const Oe=new Promise((qe,Qe)=>{const gt=()=>{Q.removeEventListener("success",ct),Q.removeEventListener("error",ve)},ct=()=>{qe(Ee(Q.result)),gt()},ve=()=>{Qe(Q.error),gt()};Q.addEventListener("success",ct),Q.addEventListener("error",ve)});return Oe.then(qe=>{qe instanceof IDBCursor&&te.set(qe,Q)}).catch(()=>{}),z.set(Oe,Q),Oe}(Q);if(U.has(Q))return U.get(Q);const Oe=xe(Q);return Oe!==Q&&(U.set(Q,Oe),z.set(Oe,Q)),Oe}const Ie=Q=>z.get(Q);function Fe(Q,Oe,{blocked:qe,upgrade:Qe,blocking:gt,terminated:ct}={}){const ve=indexedDB.open(Q,Oe),Me=Ee(ve);return Qe&&ve.addEventListener("upgradeneeded",Le=>{Qe(Ee(ve.result),Le.oldVersion,Le.newVersion,Ee(ve.transaction))}),qe&&ve.addEventListener("blocked",()=>qe()),Me.then(Le=>{ct&&Le.addEventListener("close",()=>ct()),gt&&Le.addEventListener("versionchange",()=>gt())}).catch(()=>{}),Me}function le(Q,{blocked:Oe}={}){const qe=indexedDB.deleteDatabase(Q);return Oe&&qe.addEventListener("blocked",()=>Oe()),Ee(qe).then(()=>{})}const de=["get","getKey","getAll","getAllKeys","count"],Ce=["put","add","delete","clear"],Te=new Map;function Pe(Q,Oe){if(!(Q instanceof IDBDatabase)||Oe in Q||"string"!=typeof Oe)return;if(Te.get(Oe))return Te.get(Oe);const qe=Oe.replace(/FromIndex$/,""),Qe=Oe!==qe,gt=Ce.includes(qe);if(!(qe in(Qe?IDBIndex:IDBObjectStore).prototype)||!gt&&!de.includes(qe))return;const ct=function(){var ve=(0,s.Z)(function*(Me,...Le){const ze=this.transaction(Me,gt?"readwrite":"readonly");let Ke=ze.store;return Qe&&(Ke=Ke.index(Le.shift())),(yield Promise.all([Ke[qe](...Le),gt&&ze.done]))[0]});return function(Le){return ve.apply(this,arguments)}}();return Te.set(Oe,ct),ct}!function Ve(Q){we=Q(we)}(Q=>({...Q,get:(Oe,qe,Qe)=>Pe(Oe,qe)||Q.get(Oe,qe,Qe),has:(Oe,qe)=>!!Pe(Oe,qe)||Q.has(Oe,qe)}))},5861:(ne,W,D)=>{function s(P,J,q,K,te,ee,Y){try{var U=P[ee](Y),z=U.value}catch(G){return void q(G)}U.done?J(z):Promise.resolve(z).then(K,te)}function H(P){return function(){var J=this,q=arguments;return new Promise(function(K,te){var ee=P.apply(J,q);function Y(z){s(ee,K,te,Y,U,"next",z)}function U(z){s(ee,K,te,Y,U,"throw",z)}Y(void 0)})}}D.d(W,{Z:()=>H})}},ne=>{ne(ne.s=7028)}]);